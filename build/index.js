var RI=Object.defineProperty;var OI=(i,t,e)=>t in i?RI(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var x=(i,t,e)=>OI(i,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function wl(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ay={exports:{}},th={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk;function II(){if(nk)return th;nk=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:i,type:n,key:o,ref:s!==void 0?s:null,props:r}}return th.Fragment=t,th.jsx=e,th.jsxs=e,th}var ik;function PI(){return ik||(ik=1,ay.exports=II()),ay.exports}var m=PI();const BI="integration-badges-ui-react",LI="1.7.0",jI="module",DI={dev:"vite",build:"vite build",lint:"eslint .",preview:"vite preview",preversion:"mkdir -p .git",version:"npm run build && git add -A ./build -f",postversion:"git push && git push --tags"},MI={"@ckeditor/ckeditor5-react":"^11.0.0","@redheadphone/react-json-grid":"^0.9.4",axios:"^1.8.2",bootstrap:"^5.3.3","bootstrap-icons":"^1.11.3",ckeditor5:"^47.2.0","html-react-parser":"^5.2.10","html-to-text":"^9.0.5",i18next:"^24.2.2",react:"^19.0.0","react-bootstrap":"^2.10.9","react-dom":"^19.0.0","react-dropzone":"^14.3.8","react-i18next":"^15.4.1","react-router-dom":"^7.3.0"},FI={"@eslint/js":"^9.21.0","@rollup/plugin-image":"^3.0.3","@types/react":"^19.0.10","@types/react-dom":"^19.0.4","@vitejs/plugin-react-swc":"^3.8.0",eslint:"^9.21.0","eslint-plugin-react-hooks":"^5.1.0","eslint-plugin-react-refresh":"^0.4.19",globals:"^15.15.0",sass:"^1.85.1","sass-loader":"^16.0.5",vite:"^6.2.0"},h3={name:BI,private:!0,version:LI,type:jI,scripts:DI,dependencies:MI,devDependencies:FI},VI={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_BASENAME:"/",VITE_DISABLE_DASHBOARD_AUTHENTICATION:"false",VITE_OPERATIONS_API_BASE_URL:"https://opsapi2.access-ci.org",VITE_OPERATIONS_API_INTEGRATION_BADGES_PATH:"/wh2/integration_badges/v1",VITE_OPERATIONS_API_ORGANIZATIONS_PATH:"/wh2/cider/v1"},sk=["APP_BASENAME","OPERATIONS_API_BASE_URL","OPERATIONS_API_INTEGRATION_BADGES_PATH","OPERATIONS_API_ORGANIZATIONS_PATH","DASHBOARD_BASE_URL","DISABLE_DASHBOARD_AUTHENTICATION"];window.SETTINGS||(window.SETTINGS={});for(let i=0;i<sk.length;i++){const t=sk[i];window.SETTINGS[t]||(window.SETTINGS[t]=VI[`VITE_${t}`])}window.SETTINGS.DISABLE_DASHBOARD_AUTHENTICATION=window.SETTINGS.DISABLE_DASHBOARD_AUTHENTICATION==="true";window.SETTINGS.WEBAPP_VERSION=h3.version;console.log("###### window.SETTINGS : ",window.SETTINGS);var ly={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk;function zI(){if(rk)return ht;rk=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function _(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,T={};function R(O,Q,ce){this.props=O,this.context=Q,this.refs=T,this.updater=ce||E}R.prototype.isReactComponent={},R.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},R.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function P(){}P.prototype=R.prototype;function B(O,Q,ce){this.props=O,this.context=Q,this.refs=T,this.updater=ce||E}var V=B.prototype=new P;V.constructor=B,C(V,R.prototype),V.isPureReactComponent=!0;var I=Array.isArray;function M(){}var D={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function H(O,Q,ce){var ve=ce.ref;return{$$typeof:i,type:O,key:Q,ref:ve!==void 0?ve:null,props:ce}}function $(O,Q){return H(O.type,Q,O.props)}function J(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function be(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return Q[ce]})}var _e=/\/+/g;function re(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?be(""+O.key):Q.toString(36)}function le(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(M,M):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function W(O,Q,ce,ve,Ne){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Ue=!1;if(O===null)Ue=!0;else switch(De){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(O.$$typeof){case i:case t:Ue=!0;break;case p:return Ue=O._init,W(Ue(O._payload),Q,ce,ve,Ne)}}if(Ue)return Ne=Ne(O),Ue=ve===""?"."+re(O,0):ve,I(Ne)?(ce="",Ue!=null&&(ce=Ue.replace(_e,"$&/")+"/"),W(Ne,Q,ce,"",function(ln){return ln})):Ne!=null&&(J(Ne)&&(Ne=$(Ne,ce+(Ne.key==null||O&&O.key===Ne.key?"":(""+Ne.key).replace(_e,"$&/")+"/")+Ue)),Q.push(Ne)),1;Ue=0;var kt=ve===""?".":ve+":";if(I(O))for(var Ee=0;Ee<O.length;Ee++)ve=O[Ee],De=kt+re(ve,Ee),Ue+=W(ve,Q,ce,De,Ne);else if(Ee=_(O),typeof Ee=="function")for(O=Ee.call(O),Ee=0;!(ve=O.next()).done;)ve=ve.value,De=kt+re(ve,Ee++),Ue+=W(ve,Q,ce,De,Ne);else if(De==="object"){if(typeof O.then=="function")return W(le(O),Q,ce,ve,Ne);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(O,Q,ce){if(O==null)return O;var ve=[],Ne=0;return W(O,ve,"","",function(De){return Q.call(ce,De,Ne++)}),ve}function fe(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Se=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Me={map:ae,forEach:function(O,Q,ce){ae(O,function(){Q.apply(this,arguments)},ce)},count:function(O){var Q=0;return ae(O,function(){Q++}),Q},toArray:function(O){return ae(O,function(Q){return Q})||[]},only:function(O){if(!J(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ht.Activity=g,ht.Children=Me,ht.Component=R,ht.Fragment=e,ht.Profiler=s,ht.PureComponent=B,ht.StrictMode=n,ht.Suspense=u,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ht.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},ht.cache=function(O){return function(){return O.apply(null,arguments)}},ht.cacheSignal=function(){return null},ht.cloneElement=function(O,Q,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ve=C({},O.props),Ne=O.key;if(Q!=null)for(De in Q.key!==void 0&&(Ne=""+Q.key),Q)!F.call(Q,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&Q.ref===void 0||(ve[De]=Q[De]);var De=arguments.length-2;if(De===1)ve.children=ce;else if(1<De){for(var Ue=Array(De),kt=0;kt<De;kt++)Ue[kt]=arguments[kt+2];ve.children=Ue}return H(O.type,Ne,ve)},ht.createContext=function(O){return O={$$typeof:o,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:r,_context:O},O},ht.createElement=function(O,Q,ce){var ve,Ne={},De=null;if(Q!=null)for(ve in Q.key!==void 0&&(De=""+Q.key),Q)F.call(Q,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ne[ve]=Q[ve]);var Ue=arguments.length-2;if(Ue===1)Ne.children=ce;else if(1<Ue){for(var kt=Array(Ue),Ee=0;Ee<Ue;Ee++)kt[Ee]=arguments[Ee+2];Ne.children=kt}if(O&&O.defaultProps)for(ve in Ue=O.defaultProps,Ue)Ne[ve]===void 0&&(Ne[ve]=Ue[ve]);return H(O,De,Ne)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(O){return{$$typeof:c,render:O}},ht.isValidElement=J,ht.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:fe}},ht.memo=function(O,Q){return{$$typeof:f,type:O,compare:Q===void 0?null:Q}},ht.startTransition=function(O){var Q=D.T,ce={};D.T=ce;try{var ve=O(),Ne=D.S;Ne!==null&&Ne(ce,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(M,Se)}catch(De){Se(De)}finally{Q!==null&&ce.types!==null&&(Q.types=ce.types),D.T=Q}},ht.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ht.use=function(O){return D.H.use(O)},ht.useActionState=function(O,Q,ce){return D.H.useActionState(O,Q,ce)},ht.useCallback=function(O,Q){return D.H.useCallback(O,Q)},ht.useContext=function(O){return D.H.useContext(O)},ht.useDebugValue=function(){},ht.useDeferredValue=function(O,Q){return D.H.useDeferredValue(O,Q)},ht.useEffect=function(O,Q){return D.H.useEffect(O,Q)},ht.useEffectEvent=function(O){return D.H.useEffectEvent(O)},ht.useId=function(){return D.H.useId()},ht.useImperativeHandle=function(O,Q,ce){return D.H.useImperativeHandle(O,Q,ce)},ht.useInsertionEffect=function(O,Q){return D.H.useInsertionEffect(O,Q)},ht.useLayoutEffect=function(O,Q){return D.H.useLayoutEffect(O,Q)},ht.useMemo=function(O,Q){return D.H.useMemo(O,Q)},ht.useOptimistic=function(O,Q){return D.H.useOptimistic(O,Q)},ht.useReducer=function(O,Q,ce){return D.H.useReducer(O,Q,ce)},ht.useRef=function(O){return D.H.useRef(O)},ht.useState=function(O){return D.H.useState(O)},ht.useSyncExternalStore=function(O,Q,ce){return D.H.useSyncExternalStore(O,Q,ce)},ht.useTransition=function(){return D.H.useTransition()},ht.version="19.2.0",ht}var ok;function gm(){return ok||(ok=1,ly.exports=zI()),ly.exports}var S=gm();const it=wl(S);var cy={exports:{}},nh={},uy={exports:{}},dy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ak;function qI(){return ak||(ak=1,(function(i){function t(W,ae){var fe=W.length;W.push(ae);e:for(;0<fe;){var Se=fe-1>>>1,Me=W[Se];if(0<s(Me,ae))W[Se]=ae,W[fe]=Me,fe=Se;else break e}}function e(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var ae=W[0],fe=W.pop();if(fe!==ae){W[0]=fe;e:for(var Se=0,Me=W.length,O=Me>>>1;Se<O;){var Q=2*(Se+1)-1,ce=W[Q],ve=Q+1,Ne=W[ve];if(0>s(ce,fe))ve<Me&&0>s(Ne,ce)?(W[Se]=Ne,W[ve]=fe,Se=ve):(W[Se]=ce,W[Q]=fe,Se=Q);else if(ve<Me&&0>s(Ne,fe))W[Se]=Ne,W[ve]=fe,Se=ve;else break e}}return ae}function s(W,ae){var fe=W.sortIndex-ae.sortIndex;return fe!==0?fe:W.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var u=[],f=[],p=1,g=null,v=3,_=!1,E=!1,C=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function V(W){for(var ae=e(f);ae!==null;){if(ae.callback===null)n(f);else if(ae.startTime<=W)n(f),ae.sortIndex=ae.expirationTime,t(u,ae);else break;ae=e(f)}}function I(W){if(C=!1,V(W),!E)if(e(u)!==null)E=!0,M||(M=!0,be());else{var ae=e(f);ae!==null&&le(I,ae.startTime-W)}}var M=!1,D=-1,F=5,H=-1;function $(){return T?!0:!(i.unstable_now()-H<F)}function J(){if(T=!1,M){var W=i.unstable_now();H=W;var ae=!0;try{e:{E=!1,C&&(C=!1,P(D),D=-1),_=!0;var fe=v;try{t:{for(V(W),g=e(u);g!==null&&!(g.expirationTime>W&&$());){var Se=g.callback;if(typeof Se=="function"){g.callback=null,v=g.priorityLevel;var Me=Se(g.expirationTime<=W);if(W=i.unstable_now(),typeof Me=="function"){g.callback=Me,V(W),ae=!0;break t}g===e(u)&&n(u),V(W)}else n(u);g=e(u)}if(g!==null)ae=!0;else{var O=e(f);O!==null&&le(I,O.startTime-W),ae=!1}}break e}finally{g=null,v=fe,_=!1}ae=void 0}}finally{ae?be():M=!1}}}var be;if(typeof B=="function")be=function(){B(J)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,re=_e.port2;_e.port1.onmessage=J,be=function(){re.postMessage(null)}}else be=function(){R(J,0)};function le(W,ae){D=R(function(){W(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(W){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var fe=v;v=ae;try{return W()}finally{v=fe}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var fe=v;v=W;try{return ae()}finally{v=fe}},i.unstable_scheduleCallback=function(W,ae,fe){var Se=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Se+fe:Se):fe=Se,W){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=fe+Me,W={id:p++,callback:ae,priorityLevel:W,startTime:fe,expirationTime:Me,sortIndex:-1},fe>Se?(W.sortIndex=fe,t(f,W),e(u)===null&&W===e(f)&&(C?(P(D),D=-1):C=!0,le(I,fe-Se))):(W.sortIndex=Me,t(u,W),E||_||(E=!0,M||(M=!0,be()))),W},i.unstable_shouldYield=$,i.unstable_wrapCallback=function(W){var ae=v;return function(){var fe=v;v=ae;try{return W.apply(this,arguments)}finally{v=fe}}}})(dy)),dy}var lk;function HI(){return lk||(lk=1,uy.exports=qI()),uy.exports}var fy={exports:{}},Mi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ck;function UI(){if(ck)return Mi;ck=1;var i=gm();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(u,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:u,containerInfo:f,implementation:p}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Mi.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return r(u,f,null,p)},Mi.flushSync=function(u){var f=o.T,p=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=f,n.p=p,n.d.f()}},Mi.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},Mi.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Mi.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):p==="script"&&n.d.X(u,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Mi.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},Mi.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin);n.d.L(u,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Mi.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=c(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},Mi.requestFormReset=function(u){n.d.r(u)},Mi.unstable_batchedUpdates=function(u,f){return u(f)},Mi.useFormState=function(u,f,p){return o.H.useFormState(u,f,p)},Mi.useFormStatus=function(){return o.H.useHostTransitionStatus()},Mi.version="19.2.0",Mi}var uk;function m3(){if(uk)return fy.exports;uk=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),fy.exports=UI(),fy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk;function WI(){if(dk)return nh;dk=1;var i=HI(),t=gm(),e=m3();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(r(a)!==a)throw Error(n(188))}function f(a){var l=a.alternate;if(!l){if(l=r(a),l===null)throw Error(n(188));return l!==a?null:a}for(var d=a,h=l;;){var b=d.return;if(b===null)break;var w=b.alternate;if(w===null){if(h=b.return,h!==null){d=h;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===d)return u(b),a;if(w===h)return u(b),l;w=w.sibling}throw Error(n(188))}if(d.return!==h.return)d=b,h=w;else{for(var A=!1,L=b.child;L;){if(L===d){A=!0,d=b,h=w;break}if(L===h){A=!0,h=b,d=w;break}L=L.sibling}if(!A){for(L=w.child;L;){if(L===d){A=!0,d=w,h=b;break}if(L===h){A=!0,h=w,d=b;break}L=L.sibling}if(!A)throw Error(n(189))}}if(d.alternate!==h)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:l}function p(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=p(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),B=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function be(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var _e=Symbol.for("react.client.reference");function re(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===_e?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case R:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case M:return"SuspenseList";case H:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case B:return a.displayName||"Context";case P:return(a._context.displayName||"Context")+".Consumer";case V:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return l=a.displayName||null,l!==null?l:re(a.type)||"Memo";case F:l=a._payload,a=a._init;try{return re(a(l))}catch{}}return null}var le=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Se=[],Me=-1;function O(a){return{current:a}}function Q(a){0>Me||(a.current=Se[Me],Se[Me]=null,Me--)}function ce(a,l){Me++,Se[Me]=a.current,a.current=l}var ve=O(null),Ne=O(null),De=O(null),Ue=O(null);function kt(a,l){switch(ce(De,l),ce(Ne,a),ce(ve,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?CE(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=CE(l),a=SE(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Q(ve),ce(ve,a)}function Ee(){Q(ve),Q(Ne),Q(De)}function ln(a){a.memoizedState!==null&&ce(Ue,a);var l=ve.current,d=SE(l,a.type);l!==d&&(ce(Ne,a),ce(ve,d))}function Nn(a){Ne.current===a&&(Q(ve),Q(Ne)),Ue.current===a&&(Q(Ue),Xf._currentValue=fe)}var Rn,li;function we(a){if(Rn===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Rn=l&&l[1]||"",li=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rn+a+li}var ye=!1;function Ie(a,l){if(!a||ye)return"";ye=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ie){var ee=ie}Reflect.construct(a,[],de)}else{try{de.call()}catch(ie){ee=ie}a.call(de.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(de=a())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),A=w[0],L=w[1];if(A&&L){var z=A.split(`
`),Z=L.split(`
`);for(b=h=0;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;for(;b<Z.length&&!Z[b].includes("DetermineComponentFrameRoot");)b++;if(h===z.length||b===Z.length)for(h=z.length-1,b=Z.length-1;1<=h&&0<=b&&z[h]!==Z[b];)b--;for(;1<=h&&0<=b;h--,b--)if(z[h]!==Z[b]){if(h!==1||b!==1)do if(h--,b--,0>b||z[h]!==Z[b]){var oe=`
`+z[h].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=h&&0<=b);break}}}finally{ye=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?we(d):""}function xe(a,l){switch(a.tag){case 26:case 27:case 5:return we(a.type);case 16:return we("Lazy");case 13:return a.child!==l&&l!==null?we("Suspense Fallback"):we("Suspense");case 19:return we("SuspenseList");case 0:case 15:return Ie(a.type,!1);case 11:return Ie(a.type.render,!1);case 1:return Ie(a.type,!0);case 31:return we("Activity");default:return""}}function qe(a){try{var l="",d=null;do l+=xe(a,d),d=a,a=a.return;while(a);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var $e=Object.prototype.hasOwnProperty,ot=i.unstable_scheduleCallback,Ct=i.unstable_cancelCallback,Kt=i.unstable_shouldYield,Xt=i.unstable_requestPaint,pe=i.unstable_now,Re=i.unstable_getCurrentPriorityLevel,Ae=i.unstable_ImmediatePriority,xt=i.unstable_UserBlockingPriority,cn=i.unstable_NormalPriority,Eo=i.unstable_LowPriority,Hi=i.unstable_IdlePriority,qs=i.log,Hs=i.unstable_setDisableYieldValue,is=null,Un=null;function Ii(a){if(typeof qs=="function"&&Hs(a),Un&&typeof Un.setStrictMode=="function")try{Un.setStrictMode(is,a)}catch{}}var ei=Math.clz32?Math.clz32:Md,Cl=Math.log,Sl=Math.LN2;function Md(a){return a>>>=0,a===0?32:31-(Cl(a)/Sl|0)|0}var Fc=256,Vc=262144,Al=4194304;function Us(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Tl(a,l,d){var h=a.pendingLanes;if(h===0)return 0;var b=0,w=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var L=h&134217727;return L!==0?(h=L&~w,h!==0?b=Us(h):(A&=L,A!==0?b=Us(A):d||(d=L&~a,d!==0&&(b=Us(d))))):(L=h&~w,L!==0?b=Us(L):A!==0?b=Us(A):d||(d=h&~a,d!==0&&(b=Us(d)))),b===0?0:l!==0&&l!==b&&(l&w)===0&&(w=b&-b,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:b}function ya(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Nb(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zm(){var a=Al;return Al<<=1,(Al&62914560)===0&&(Al=4194304),a}function Fd(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Nl(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function wa(a,l,d,h,b,w){var A=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var L=a.entanglements,z=a.expirationTimes,Z=a.hiddenUpdates;for(d=A&~d;0<d;){var oe=31-ei(d),de=1<<oe;L[oe]=0,z[oe]=-1;var ee=Z[oe];if(ee!==null)for(Z[oe]=null,oe=0;oe<ee.length;oe++){var ie=ee[oe];ie!==null&&(ie.lane&=-536870913)}d&=~de}h!==0&&xa(a,h,0),w!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=w&~(A&~l))}function xa(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var h=31-ei(l);a.entangledLanes|=l,a.entanglements[h]=a.entanglements[h]|1073741824|d&261930}function qm(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var h=31-ei(d),b=1<<h;b&l|a[h]&l&&(a[h]|=l),d&=~b}}function Hm(a,l){var d=l&-l;return d=(d&42)!==0?1:Vd(d),(d&(a.suspendedLanes|l))!==0?0:d}function Vd(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function zd(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Um(){var a=ae.p;return a!==0?a:(a=window.event,a===void 0?32:YE(a.type))}function zc(a,l){var d=ae.p;try{return ae.p=a,l()}finally{ae.p=d}}var Ui=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Ui,Pi="__reactProps$"+Ui,Hr="__reactContainer$"+Ui,qd="__reactEvents$"+Ui,Rb="__reactListeners$"+Ui,_a="__reactHandles$"+Ui,ci="__reactResources$"+Ui,ti="__reactMarker$"+Ui;function _i(a){delete a[Pn],delete a[Pi],delete a[qd],delete a[Rb],delete a[_a]}function Bn(a){var l=a[Pn];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Hr]||d[Pn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=PE(a);a!==null;){if(d=a[Pn])return d;a=PE(a)}return l}a=d,d=a.parentNode}return null}function mr(a){if(a=a[Pn]||a[Hr]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Ws(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function ss(a){var l=a[ci];return l||(l=a[ci]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function pn(a){a[ti]=!0}var Hd=new Set,qc={};function rs(a,l){ko(a,l),ko(a+"Capture",l)}function ko(a,l){for(qc[a]=l,a=0;a<l.length;a++)Hd.add(l[a])}var Ud=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hc={},Wd={};function Wm(a){return $e.call(Wd,a)?!0:$e.call(Hc,a)?!1:Ud.test(a)?Wd[a]=!0:(Hc[a]=!0,!1)}function Rl(a,l,d){if(Wm(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function Ol(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function Gs(a,l,d,h){if(h===null)a.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+h)}}function Wi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Gd(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Gm(a,l,d){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,w=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function(A){d=""+A,w.call(this,A)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Uc(a){if(!a._valueTracker){var l=Gd(a)?"checked":"value";a._valueTracker=Gm(a,l,""+a[l])}}function Kd(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),h="";return a&&(h=Gd(a)?a.checked?"true":"false":a.value),a=h,a!==d?(l.setValue(a),!0):!1}function Gi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ki=/[\n"\\]/g;function Wn(a){return a.replace(Ki,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Bi(a,l,d,h,b,w,A,L){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),l!=null?A==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Wi(l)):a.value!==""+Wi(l)&&(a.value=""+Wi(l)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),l!=null?Il(a,A,Wi(l)):d!=null?Il(a,A,Wi(d)):h!=null&&a.removeAttribute("value"),b==null&&w!=null&&(a.defaultChecked=!!w),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.name=""+Wi(L):a.removeAttribute("name")}function Wc(a,l,d,h,b,w,A,L){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null)){Uc(a);return}d=d!=null?""+Wi(d):"",l=l!=null?""+Wi(l):d,L||l===a.value||(a.value=l),a.defaultValue=l}h=h??b,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=L?a.checked:!!h,a.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A),Uc(a)}function Il(a,l,d){l==="number"&&Gi(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Ei(a,l,d,h){if(a=a.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<a.length;d++)b=l.hasOwnProperty("$"+a[d].value),a[d].selected!==b&&(a[d].selected=b),b&&h&&(a[d].defaultSelected=!0)}else{for(d=""+Wi(d),l=null,b=0;b<a.length;b++){if(a[b].value===d){a[b].selected=!0,h&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function Ur(a,l,d){if(l!=null&&(l=""+Wi(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+Wi(d):""}function Pl(a,l,d,h){if(l==null){if(h!=null){if(d!=null)throw Error(n(92));if(le(h)){if(1<h.length)throw Error(n(93));h=h[0]}d=h}d==null&&(d=""),l=d}d=Wi(l),a.defaultValue=d,h=a.textContent,h===d&&h!==""&&h!==null&&(a.value=h),Uc(a)}function As(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Qd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yd(a,l,d){var h=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":h?a.setProperty(l,d):typeof d!="number"||d===0||Qd.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Co(a,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var b in l)h=l[b],l.hasOwnProperty(b)&&d[b]!==h&&Yd(a,b,h)}else for(var w in l)l.hasOwnProperty(w)&&Yd(a,w,l[w])}function Bl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Km=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gc(a){return pr.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ui(){}var Ea=null;function Kc(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ks=null,Wr=null;function ka(a){var l=mr(a);if(l&&(a=l.stateNode)){var d=a[Pi]||null;e:switch(a=l.stateNode,l.type){case"input":if(Bi(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Wn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var h=d[l];if(h!==a&&h.form===a.form){var b=h[Pi]||null;if(!b)throw Error(n(90));Bi(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)h=d[l],h.form===a.form&&Kd(h)}break e;case"textarea":Ur(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Ei(a,!!d.multiple,l,!1)}}}var Qc=!1;function $d(a,l,d){if(Qc)return a(l,d);Qc=!0;try{var h=a(l);return h}finally{if(Qc=!1,(Ks!==null||Wr!==null)&&(Qp(),Ks&&(l=Ks,a=Wr,Wr=Ks=null,ka(l),a)))for(l=0;l<a.length;l++)ka(a[l])}}function Ca(a,l){var d=a.stateNode;if(d===null)return null;var h=d[Pi]||null;if(h===null)return null;d=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xd=!1;if(Li)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Xd=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Xd=!1}var Qs=null,Aa=null,Ta=null;function Qm(){if(Ta)return Ta;var a,l=Aa,d=l.length,h,b="value"in Qs?Qs.value:Qs.textContent,w=b.length;for(a=0;a<d&&l[a]===b[a];a++);var A=d-a;for(h=1;h<=A&&l[d-h]===b[w-h];h++);return Ta=b.slice(a,1<h?1-h:void 0)}function So(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Yc(){return!0}function Zd(){return!1}function di(a){function l(d,h,b,w,A){this._reactName=d,this._targetInst=b,this.type=h,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(d=a[L],this[L]=d?d(w):w[L]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Yc:Zd,this.isPropagationStopped=Zd,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),l}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=di(gr),Ra=g({},gr,{view:0,detail:0}),Ll=di(Ra),jl,$c,Oa,br=g({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Oa&&(Oa&&a.type==="mousemove"?(jl=a.screenX-Oa.screenX,$c=a.screenY-Oa.screenY):$c=jl=0,Oa=a),jl)},movementY:function(a){return"movementY"in a?a.movementY:$c}}),Ym=di(br),$m=g({},br,{dataTransfer:0}),Xm=di($m),Zm=g({},Ra,{relatedTarget:0}),Xc=di(Zm),Jm=g({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jd=di(Jm),ep=g({},gr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ob=di(ep),Ib=g({},gr,{data:0}),ef=di(Ib),tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bb(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Pb[a])?!!l[a]:!1}function Dl(){return Bb}var np=g({},Ra,{key:function(a){if(a.key){var l=tp[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=So(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Zc[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(a){return a.type==="keypress"?So(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?So(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ip=di(np),Ao=g({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jc=di(Ao),Lb=g({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),sp=di(Lb),jb=g({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Db=di(jb),Mb=g({},br,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Fb=di(Mb),rp=g({},gr,{newState:0,oldState:0}),op=di(rp),Vb=[9,13,27,32],Gr=Li&&"CompositionEvent"in window,Ts=null;Li&&"documentMode"in document&&(Ts=document.documentMode);var zb=Li&&"TextEvent"in window&&!Ts,Ml=Li&&(!Gr||Ts&&8<Ts&&11>=Ts),ap=" ",lp=!1;function cp(a,l){switch(a){case"keyup":return Vb.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function up(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ia=!1;function qb(a,l){switch(a){case"compositionend":return up(l);case"keypress":return l.which!==32?null:(lp=!0,ap);case"textInput":return a=l.data,a===ap&&lp?null:a;default:return null}}function Hb(a,l){if(Ia)return a==="compositionend"||!Gr&&cp(a,l)?(a=Qm(),Ta=Aa=Qs=null,Ia=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ml&&l.locale!=="ko"?null:l.data;default:return null}}var Ub={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function os(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Ub[a.type]:l==="textarea"}function tf(a,l,d,h){Ks?Wr?Wr.push(h):Wr=[h]:Ks=h,l=tg(l,"onChange"),0<l.length&&(d=new Na("onChange","change",null,d,h),a.push({event:d,listeners:l}))}var Pa=null,Ba=null;function Wb(a){yE(a,0)}function eu(a){var l=Ws(a);if(Kd(l))return a}function nf(a,l){if(a==="change")return l}var Fl=!1;if(Li){var sf;if(Li){var rf="oninput"in document;if(!rf){var of=document.createElement("div");of.setAttribute("oninput","return;"),rf=typeof of.oninput=="function"}sf=rf}else sf=!1;Fl=sf&&(!document.documentMode||9<document.documentMode)}function dp(){Pa&&(Pa.detachEvent("onpropertychange",fp),Ba=Pa=null)}function fp(a){if(a.propertyName==="value"&&eu(Ba)){var l=[];tf(l,Ba,a,Kc(a)),$d(Wb,l)}}function hp(a,l,d){a==="focusin"?(dp(),Pa=l,Ba=d,Pa.attachEvent("onpropertychange",fp)):a==="focusout"&&dp()}function mp(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return eu(Ba)}function pp(a,l){if(a==="click")return eu(l)}function tu(a,l){if(a==="input"||a==="change")return eu(l)}function gp(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var ki=typeof Object.is=="function"?Object.is:gp;function fi(a,l){if(ki(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),h=Object.keys(l);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var b=d[h];if(!$e.call(l,b)||!ki(a[b],l[b]))return!1}return!0}function bp(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function vp(a,l){var d=bp(a);a=0;for(var h;d;){if(d.nodeType===3){if(h=a+d.textContent.length,a<=l&&h>=l)return{node:d,offset:l-a};a=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=bp(d)}}function af(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?af(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function lf(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Gi(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Gi(a.document)}return l}function cf(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var Gb=Li&&"documentMode"in document&&11>=document.documentMode,La=null,uf=null,Vl=null,df=!1;function ff(a,l,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;df||La==null||La!==Gi(h)||(h=La,"selectionStart"in h&&cf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Vl&&fi(Vl,h)||(Vl=h,h=tg(uf,"onSelect"),0<h.length&&(l=new Na("onSelect","select",null,l,d),a.push({event:l,listeners:h}),l.target=La)))}function Kr(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Qr={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},hf={},yp={};Li&&(yp=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function Qi(a){if(hf[a])return hf[a];if(!Qr[a])return a;var l=Qr[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in yp)return hf[a]=l[d];return a}var Ys=Qi("animationend"),mf=Qi("animationiteration"),wp=Qi("animationstart"),xp=Qi("transitionrun"),_p=Qi("transitionstart"),Ep=Qi("transitioncancel"),pf=Qi("transitionend"),kp=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function Ns(a,l){kp.set(a,l),rs(l,[a])}var zl=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Yi=[],ja=0,bf=0;function nu(){for(var a=ja,l=bf=ja=0;l<a;){var d=Yi[l];Yi[l++]=null;var h=Yi[l];Yi[l++]=null;var b=Yi[l];Yi[l++]=null;var w=Yi[l];if(Yi[l++]=null,h!==null&&b!==null){var A=h.pending;A===null?b.next=b:(b.next=A.next,A.next=b),h.pending=b}w!==0&&yf(d,b,w)}}function iu(a,l,d,h){Yi[ja++]=a,Yi[ja++]=l,Yi[ja++]=d,Yi[ja++]=h,bf|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function vf(a,l,d,h){return iu(a,l,d,h),su(a)}function Ci(a,l){return iu(a,null,null,l),su(a)}function yf(a,l,d){a.lanes|=d;var h=a.alternate;h!==null&&(h.lanes|=d);for(var b=!1,w=a.return;w!==null;)w.childLanes|=d,h=w.alternate,h!==null&&(h.childLanes|=d),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(b=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,b&&l!==null&&(b=31-ei(d),a=w.hiddenUpdates,h=a[b],h===null?a[b]=[l]:h.push(l),l.lane=d|536870912),w):null}function su(a){if(50<Uf)throw Uf=0,Ov=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Da={};function Kb(a,l,d,h){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(a,l,d,h){return new Kb(a,l,d,h)}function wf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function vr(a,l){var d=a.alternate;return d===null?(d=$i(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Cp(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function ru(a,l,d,h,b,w){var A=0;if(h=a,typeof a=="function")wf(a)&&(A=1);else if(typeof a=="string")A=vI(a,d,ve.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case H:return a=$i(31,d,l,b),a.elementType=H,a.lanes=w,a;case C:return yr(d.children,b,w,l);case T:A=8,b|=24;break;case R:return a=$i(12,d,l,b|2),a.elementType=R,a.lanes=w,a;case I:return a=$i(13,d,l,b),a.elementType=I,a.lanes=w,a;case M:return a=$i(19,d,l,b),a.elementType=M,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:A=10;break e;case P:A=9;break e;case V:A=11;break e;case D:A=14;break e;case F:A=16,h=null;break e}A=29,d=Error(n(130,a===null?"null":typeof a,"")),h=null}return l=$i(A,d,l,b),l.elementType=a,l.type=h,l.lanes=w,l}function yr(a,l,d,h){return a=$i(7,a,h,l),a.lanes=d,a}function Ma(a,l,d){return a=$i(6,a,null,l),a.lanes=d,a}function Sp(a){var l=$i(18,null,null,0);return l.stateNode=a,l}function ou(a,l,d){return l=$i(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var xf=new WeakMap;function hi(a,l){if(typeof a=="object"&&a!==null){var d=xf.get(a);return d!==void 0?d:(l={value:a,source:l,stack:qe(l)},xf.set(a,l),l)}return{value:a,source:l,stack:qe(l)}}var Yr=[],$r=0,au=null,ql=0,as=[],Gn=0,Xr=null,$s=1,Xs="";function wr(a,l){Yr[$r++]=ql,Yr[$r++]=au,au=a,ql=l}function Hl(a,l,d){as[Gn++]=$s,as[Gn++]=Xs,as[Gn++]=Xr,Xr=a;var h=$s;a=Xs;var b=32-ei(h)-1;h&=~(1<<b),d+=1;var w=32-ei(l)+b;if(30<w){var A=b-b%5;w=(h&(1<<A)-1).toString(32),h>>=A,b-=A,$s=1<<32-ei(l)+b|d<<b|h,Xs=w+a}else $s=1<<w|d<<b|h,Xs=a}function Ul(a){a.return!==null&&(wr(a,1),Hl(a,1,0))}function _f(a){for(;a===au;)au=Yr[--$r],Yr[$r]=null,ql=Yr[--$r],Yr[$r]=null;for(;a===Xr;)Xr=as[--Gn],as[Gn]=null,Xs=as[--Gn],as[Gn]=null,$s=as[--Gn],as[Gn]=null}function Ef(a,l){as[Gn++]=$s,as[Gn++]=Xs,as[Gn++]=Xr,$s=l.id,Xs=l.overflow,Xr=a}var ni=null,jt=null,_t=!1,xr=null,ls=!1,kf=Error(n(519));function Zr(a){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(hi(l,a)),kf}function Fa(a){var l=a.stateNode,d=a.type,h=a.memoizedProps;switch(l[Pn]=a,l[Pi]=h,d){case"dialog":At("cancel",l),At("close",l);break;case"iframe":case"object":case"embed":At("load",l);break;case"video":case"audio":for(d=0;d<Gf.length;d++)At(Gf[d],l);break;case"source":At("error",l);break;case"img":case"image":case"link":At("error",l),At("load",l);break;case"details":At("toggle",l);break;case"input":At("invalid",l),Wc(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":At("invalid",l);break;case"textarea":At("invalid",l),Pl(l,h.value,h.defaultValue,h.children)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||h.suppressHydrationWarning===!0||EE(l.textContent,d)?(h.popover!=null&&(At("beforetoggle",l),At("toggle",l)),h.onScroll!=null&&At("scroll",l),h.onScrollEnd!=null&&At("scrollend",l),h.onClick!=null&&(l.onclick=ui),l=!0):l=!1,l||Zr(a,!0)}function Jr(a){for(ni=a.return;ni;)switch(ni.tag){case 5:case 31:case 13:ls=!1;return;case 27:case 3:ls=!0;return;default:ni=ni.return}}function Va(a){if(a!==ni)return!1;if(!_t)return Jr(a),_t=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Gv(a.type,a.memoizedProps)),d=!d),d&&jt&&Zr(a),Jr(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));jt=IE(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));jt=IE(a)}else l===27?(l=jt,el(a.type)?(a=Xv,Xv=null,jt=a):jt=l):jt=ni?er(a.stateNode.nextSibling):null;return!0}function To(){jt=ni=null,_t=!1}function Cf(){var a=xr;return a!==null&&(hs===null?hs=a:hs.push.apply(hs,a),xr=null),a}function Wl(a){xr===null?xr=[a]:xr.push(a)}var Sf=O(null),No=null,_r=null;function eo(a,l,d){ce(Sf,l._currentValue),l._currentValue=d}function Zs(a){a._currentValue=Sf.current,Q(Sf)}function Af(a,l,d){for(;a!==null;){var h=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),a===d)break;a=a.return}}function lu(a,l,d,h){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var w=b.dependencies;if(w!==null){var A=b.child;w=w.firstContext;e:for(;w!==null;){var L=w;w=b;for(var z=0;z<l.length;z++)if(L.context===l[z]){w.lanes|=d,L=w.alternate,L!==null&&(L.lanes|=d),Af(w.return,d,a),h||(A=null);break e}w=L.next}}else if(b.tag===18){if(A=b.return,A===null)throw Error(n(341));A.lanes|=d,w=A.alternate,w!==null&&(w.lanes|=d),Af(A,d,a),A=null}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===a){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}}function to(a,l,d,h){a=null;for(var b=l,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var A=b.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var L=b.type;ki(b.pendingProps.value,A.value)||(a!==null?a.push(L):a=[L])}}else if(b===Ue.current){if(A=b.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Xf):a=[Xf])}b=b.return}a!==null&&lu(l,a,d,h),l.flags|=262144}function Gl(a){for(a=a.firstContext;a!==null;){if(!ki(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Xi(a){No=a,_r=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Kn(a){return Tf(No,a)}function za(a,l){return No===null&&Xi(a),Tf(a,l)}function Tf(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},_r===null){if(a===null)throw Error(n(308));_r=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else _r=_r.next=l;return d}var Nf=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,h){a.push(h)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},Ap=i.unstable_scheduleCallback,Rf=i.unstable_NormalPriority,Ln={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Er(){return{controller:new Nf,data:new Map,refCount:0}}function cs(a){a.refCount--,a.refCount===0&&Ap(Rf,function(){a.controller.abort()})}var Kl=null,Of=0,qa=0,Ha=null;function Qb(a,l){if(Kl===null){var d=Kl=[];Of=0,qa=Dv(),Ha={status:"pending",value:void 0,then:function(h){d.push(h)}}}return Of++,l.then(Tp,Tp),l}function Tp(){if(--Of===0&&Kl!==null){Ha!==null&&(Ha.status="fulfilled");var a=Kl;Kl=null,qa=0,Ha=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function Yb(a,l){var d=[],h={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return a.then(function(){h.status="fulfilled",h.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(h.status="rejected",h.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),h}var Np=W.S;W.S=function(a,l){K2=pe(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Qb(a,l),Np!==null&&Np(a,l)};var no=O(null);function Ua(){var a=no.current;return a!==null?a:rn.pooledCache}function Ro(a,l){l===null?ce(no,no.current):ce(no,l.pool)}function Rp(){var a=Ua();return a===null?null:{parent:Ln._currentValue,pool:a}}var Wa=Error(n(460)),Oo=Error(n(474)),N=Error(n(542)),y={then:function(){}};function k(a){return a=a.status,a==="fulfilled"||a==="rejected"}function j(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(ui,ui),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,ge(a),a;default:if(typeof l.status=="string")l.then(ui,ui);else{if(a=rn,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(h){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=h}},function(h){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,ge(a),a}throw K=l,Wa}}function G(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(K=d,Wa):d}}var K=null;function se(){if(K===null)throw Error(n(459));var a=K;return K=null,a}function ge(a){if(a===Wa||a===N)throw Error(n(483))}var ke=null,Pe=0;function Le(a){var l=Pe;return Pe+=1,ke===null&&(ke=[]),j(ke,a,l)}function Te(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function lt(a,l){throw l.$$typeof===v?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Ze(a){function l(Y,U){if(a){var X=Y.deletions;X===null?(Y.deletions=[U],Y.flags|=16):X.push(U)}}function d(Y,U){if(!a)return null;for(;U!==null;)l(Y,U),U=U.sibling;return null}function h(Y){for(var U=new Map;Y!==null;)Y.key!==null?U.set(Y.key,Y):U.set(Y.index,Y),Y=Y.sibling;return U}function b(Y,U){return Y=vr(Y,U),Y.index=0,Y.sibling=null,Y}function w(Y,U,X){return Y.index=X,a?(X=Y.alternate,X!==null?(X=X.index,X<U?(Y.flags|=67108866,U):X):(Y.flags|=67108866,U)):(Y.flags|=1048576,U)}function A(Y){return a&&Y.alternate===null&&(Y.flags|=67108866),Y}function L(Y,U,X,ue){return U===null||U.tag!==6?(U=Ma(X,Y.mode,ue),U.return=Y,U):(U=b(U,X),U.return=Y,U)}function z(Y,U,X,ue){var Ke=X.type;return Ke===C?oe(Y,U,X.props.children,ue,X.key):U!==null&&(U.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===F&&G(Ke)===U.type)?(U=b(U,X.props),Te(U,X),U.return=Y,U):(U=ru(X.type,X.key,X.props,null,Y.mode,ue),Te(U,X),U.return=Y,U)}function Z(Y,U,X,ue){return U===null||U.tag!==4||U.stateNode.containerInfo!==X.containerInfo||U.stateNode.implementation!==X.implementation?(U=ou(X,Y.mode,ue),U.return=Y,U):(U=b(U,X.children||[]),U.return=Y,U)}function oe(Y,U,X,ue,Ke){return U===null||U.tag!==7?(U=yr(X,Y.mode,ue,Ke),U.return=Y,U):(U=b(U,X),U.return=Y,U)}function de(Y,U,X){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Ma(""+U,Y.mode,X),U.return=Y,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return X=ru(U.type,U.key,U.props,null,Y.mode,X),Te(X,U),X.return=Y,X;case E:return U=ou(U,Y.mode,X),U.return=Y,U;case F:return U=G(U),de(Y,U,X)}if(le(U)||be(U))return U=yr(U,Y.mode,X,null),U.return=Y,U;if(typeof U.then=="function")return de(Y,Le(U),X);if(U.$$typeof===B)return de(Y,za(Y,U),X);lt(Y,U)}return null}function ee(Y,U,X,ue){var Ke=U!==null?U.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ke!==null?null:L(Y,U,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return X.key===Ke?z(Y,U,X,ue):null;case E:return X.key===Ke?Z(Y,U,X,ue):null;case F:return X=G(X),ee(Y,U,X,ue)}if(le(X)||be(X))return Ke!==null?null:oe(Y,U,X,ue,null);if(typeof X.then=="function")return ee(Y,U,Le(X),ue);if(X.$$typeof===B)return ee(Y,U,za(Y,X),ue);lt(Y,X)}return null}function ie(Y,U,X,ue,Ke){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(X)||null,L(U,Y,""+ue,Ke);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:return Y=Y.get(ue.key===null?X:ue.key)||null,z(U,Y,ue,Ke);case E:return Y=Y.get(ue.key===null?X:ue.key)||null,Z(U,Y,ue,Ke);case F:return ue=G(ue),ie(Y,U,X,ue,Ke)}if(le(ue)||be(ue))return Y=Y.get(X)||null,oe(U,Y,ue,Ke,null);if(typeof ue.then=="function")return ie(Y,U,X,Le(ue),Ke);if(ue.$$typeof===B)return ie(Y,U,X,za(U,ue),Ke);lt(U,ue)}return null}function Ve(Y,U,X,ue){for(var Ke=null,Mt=null,ze=U,gt=U=0,Nt=null;ze!==null&&gt<X.length;gt++){ze.index>gt?(Nt=ze,ze=null):Nt=ze.sibling;var Ft=ee(Y,ze,X[gt],ue);if(Ft===null){ze===null&&(ze=Nt);break}a&&ze&&Ft.alternate===null&&l(Y,ze),U=w(Ft,U,gt),Mt===null?Ke=Ft:Mt.sibling=Ft,Mt=Ft,ze=Nt}if(gt===X.length)return d(Y,ze),_t&&wr(Y,gt),Ke;if(ze===null){for(;gt<X.length;gt++)ze=de(Y,X[gt],ue),ze!==null&&(U=w(ze,U,gt),Mt===null?Ke=ze:Mt.sibling=ze,Mt=ze);return _t&&wr(Y,gt),Ke}for(ze=h(ze);gt<X.length;gt++)Nt=ie(ze,Y,gt,X[gt],ue),Nt!==null&&(a&&Nt.alternate!==null&&ze.delete(Nt.key===null?gt:Nt.key),U=w(Nt,U,gt),Mt===null?Ke=Nt:Mt.sibling=Nt,Mt=Nt);return a&&ze.forEach(function(rl){return l(Y,rl)}),_t&&wr(Y,gt),Ke}function tt(Y,U,X,ue){if(X==null)throw Error(n(151));for(var Ke=null,Mt=null,ze=U,gt=U=0,Nt=null,Ft=X.next();ze!==null&&!Ft.done;gt++,Ft=X.next()){ze.index>gt?(Nt=ze,ze=null):Nt=ze.sibling;var rl=ee(Y,ze,Ft.value,ue);if(rl===null){ze===null&&(ze=Nt);break}a&&ze&&rl.alternate===null&&l(Y,ze),U=w(rl,U,gt),Mt===null?Ke=rl:Mt.sibling=rl,Mt=rl,ze=Nt}if(Ft.done)return d(Y,ze),_t&&wr(Y,gt),Ke;if(ze===null){for(;!Ft.done;gt++,Ft=X.next())Ft=de(Y,Ft.value,ue),Ft!==null&&(U=w(Ft,U,gt),Mt===null?Ke=Ft:Mt.sibling=Ft,Mt=Ft);return _t&&wr(Y,gt),Ke}for(ze=h(ze);!Ft.done;gt++,Ft=X.next())Ft=ie(ze,Y,gt,Ft.value,ue),Ft!==null&&(a&&Ft.alternate!==null&&ze.delete(Ft.key===null?gt:Ft.key),U=w(Ft,U,gt),Mt===null?Ke=Ft:Mt.sibling=Ft,Mt=Ft);return a&&ze.forEach(function(NI){return l(Y,NI)}),_t&&wr(Y,gt),Ke}function Jt(Y,U,X,ue){if(typeof X=="object"&&X!==null&&X.type===C&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case _:e:{for(var Ke=X.key;U!==null;){if(U.key===Ke){if(Ke=X.type,Ke===C){if(U.tag===7){d(Y,U.sibling),ue=b(U,X.props.children),ue.return=Y,Y=ue;break e}}else if(U.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===F&&G(Ke)===U.type){d(Y,U.sibling),ue=b(U,X.props),Te(ue,X),ue.return=Y,Y=ue;break e}d(Y,U);break}else l(Y,U);U=U.sibling}X.type===C?(ue=yr(X.props.children,Y.mode,ue,X.key),ue.return=Y,Y=ue):(ue=ru(X.type,X.key,X.props,null,Y.mode,ue),Te(ue,X),ue.return=Y,Y=ue)}return A(Y);case E:e:{for(Ke=X.key;U!==null;){if(U.key===Ke)if(U.tag===4&&U.stateNode.containerInfo===X.containerInfo&&U.stateNode.implementation===X.implementation){d(Y,U.sibling),ue=b(U,X.children||[]),ue.return=Y,Y=ue;break e}else{d(Y,U);break}else l(Y,U);U=U.sibling}ue=ou(X,Y.mode,ue),ue.return=Y,Y=ue}return A(Y);case F:return X=G(X),Jt(Y,U,X,ue)}if(le(X))return Ve(Y,U,X,ue);if(be(X)){if(Ke=be(X),typeof Ke!="function")throw Error(n(150));return X=Ke.call(X),tt(Y,U,X,ue)}if(typeof X.then=="function")return Jt(Y,U,Le(X),ue);if(X.$$typeof===B)return Jt(Y,U,za(Y,X),ue);lt(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,U!==null&&U.tag===6?(d(Y,U.sibling),ue=b(U,X),ue.return=Y,Y=ue):(d(Y,U),ue=Ma(X,Y.mode,ue),ue.return=Y,Y=ue),A(Y)):d(Y,U)}return function(Y,U,X,ue){try{Pe=0;var Ke=Jt(Y,U,X,ue);return ke=null,Ke}catch(ze){if(ze===Wa||ze===N)throw ze;var Mt=$i(29,ze,null,Y.mode);return Mt.lanes=ue,Mt.return=Y,Mt}finally{}}}var Je=Ze(!0),rt=Ze(!1),Xe=!1;function Dt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ht(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function at(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function yt(a,l,d){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(qt&2)!==0){var b=h.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),h.pending=l,l=su(a),yf(a,null,d),l}return iu(a,h,l,d),su(a)}function ct(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var h=l.lanes;h&=a.pendingLanes,d|=h,l.lanes=d,qm(a,d)}}function Et(a,l){var d=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var b=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var A={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?b=w=A:w=w.next=A,d=d.next}while(d!==null);w===null?b=w=l:w=w.next=l}else b=w=l;d={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var Bt=!1;function It(){if(Bt){var a=Ha;if(a!==null)throw a}}function Ot(a,l,d,h){Bt=!1;var b=a.updateQueue;Xe=!1;var w=b.firstBaseUpdate,A=b.lastBaseUpdate,L=b.shared.pending;if(L!==null){b.shared.pending=null;var z=L,Z=z.next;z.next=null,A===null?w=Z:A.next=Z,A=z;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,L=oe.lastBaseUpdate,L!==A&&(L===null?oe.firstBaseUpdate=Z:L.next=Z,oe.lastBaseUpdate=z))}if(w!==null){var de=b.baseState;A=0,oe=Z=z=null,L=w;do{var ee=L.lane&-536870913,ie=ee!==L.lane;if(ie?(Tt&ee)===ee:(h&ee)===ee){ee!==0&&ee===qa&&(Bt=!0),oe!==null&&(oe=oe.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Ve=a,tt=L;ee=l;var Jt=d;switch(tt.tag){case 1:if(Ve=tt.payload,typeof Ve=="function"){de=Ve.call(Jt,de,ee);break e}de=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=tt.payload,ee=typeof Ve=="function"?Ve.call(Jt,de,ee):Ve,ee==null)break e;de=g({},de,ee);break e;case 2:Xe=!0}}ee=L.callback,ee!==null&&(a.flags|=64,ie&&(a.flags|=8192),ie=b.callbacks,ie===null?b.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:L.tag,payload:L.payload,callback:L.callback,next:null},oe===null?(Z=oe=ie,z=de):oe=oe.next=ie,A|=ee;if(L=L.next,L===null){if(L=b.shared.pending,L===null)break;ie=L,L=ie.next,ie.next=null,b.lastBaseUpdate=ie,b.shared.pending=null}}while(!0);oe===null&&(z=de),b.baseState=z,b.firstBaseUpdate=Z,b.lastBaseUpdate=oe,w===null&&(b.shared.lanes=0),Ya|=A,a.lanes=A,a.memoizedState=de}}function vn(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function ji(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)vn(d[a],l)}var mi=O(null),Qn=O(0);function Zi(a,l){a=qo,ce(Qn,a),ce(mi,l),qo=a|l.baseLanes}function Di(){ce(Qn,qo),ce(mi,mi.current)}function un(){qo=Qn.current,Q(mi),Q(Qn)}var yn=O(null),On=null;function Ji(a){var l=a.alternate;ce(Wt,Wt.current&1),ce(yn,a),On===null&&(l===null||mi.current!==null||l.memoizedState!==null)&&(On=a)}function jn(a){ce(Wt,Wt.current),ce(yn,a),On===null&&(On=a)}function Ut(a){a.tag===22?(ce(Wt,Wt.current),ce(yn,a),On===null&&(On=a)):wn()}function wn(){ce(Wt,Wt.current),ce(yn,yn.current)}function dn(a){Q(yn),On===a&&(On=null),Q(Wt)}var Wt=O(0);function Io(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Yv(d)||$v(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Js=0,dt=null,Lt=null,Dn=null,cu=!1,io=!1,Po=!1,Ql=0,Yl=0,Bo=null,Op=0;function xn(){throw Error(n(321))}function If(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!ki(a[d],l[d]))return!1;return!0}function kr(a,l,d,h,b,w){return Js=w,dt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,W.H=a===null||a.memoizedState===null?s2:ov,Po=!1,w=d(h,b),Po=!1,io&&(w=Pf(l,d,h,b)),$l(a),w}function $l(a){W.H=Lf;var l=Lt!==null&&Lt.next!==null;if(Js=0,Dn=Lt=dt=null,cu=!1,Yl=0,Bo=null,l)throw Error(n(300));a===null||Yn||(a=a.dependencies,a!==null&&Gl(a)&&(Yn=!0))}function Pf(a,l,d,h){dt=a;var b=0;do{if(io&&(Bo=null),Yl=0,io=!1,25<=b)throw Error(n(301));if(b+=1,Dn=Lt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}W.H=r2,w=l(d,h)}while(io);return w}function Ip(){var a=W.H,l=a.useState()[0];return l=typeof l.then=="function"?Zl(l):l,a=a.useState()[0],(Lt!==null?Lt.memoizedState:null)!==a&&(dt.flags|=1024),l}function Xl(){var a=Ql!==0;return Ql=0,a}function uu(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function du(a){if(cu){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}cu=!1}Js=0,Dn=Lt=dt=null,io=!1,Yl=Ql=0,Bo=null}function pi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?dt.memoizedState=Dn=a:Dn=Dn.next=a,Dn}function _n(){if(Lt===null){var a=dt.alternate;a=a!==null?a.memoizedState:null}else a=Lt.next;var l=Dn===null?dt.memoizedState:Dn.next;if(l!==null)Dn=l,Lt=a;else{if(a===null)throw dt.alternate===null?Error(n(467)):Error(n(310));Lt=a,a={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Dn===null?dt.memoizedState=Dn=a:Dn=Dn.next=a}return Dn}function fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(a){var l=Yl;return Yl+=1,Bo===null&&(Bo=[]),a=j(Bo,a,l),l=dt,(Dn===null?l.memoizedState:Dn.next)===null&&(l=l.alternate,W.H=l===null||l.memoizedState===null?s2:ov),a}function Ga(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Zl(a);if(a.$$typeof===B)return Kn(a)}throw Error(n(438,String(a)))}function hu(a){var l=null,d=dt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var h=dt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=fu(),dt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),h=0;h<a;h++)d[h]=$;return l.index++,d}function Lo(a,l){return typeof l=="function"?l(a):l}function Pp(a){var l=_n();return $b(l,Lt,a)}function $b(a,l,d){var h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=d;var b=a.baseQueue,w=h.pending;if(w!==null){if(b!==null){var A=b.next;b.next=w.next,w.next=A}l.baseQueue=b=w,h.pending=null}if(w=a.baseState,b===null)a.memoizedState=w;else{l=b.next;var L=A=null,z=null,Z=l,oe=!1;do{var de=Z.lane&-536870913;if(de!==Z.lane?(Tt&de)===de:(Js&de)===de){var ee=Z.revertLane;if(ee===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),de===qa&&(oe=!0);else if((Js&ee)===ee){Z=Z.next,ee===qa&&(oe=!0);continue}else de={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(L=z=de,A=w):z=z.next=de,dt.lanes|=ee,Ya|=ee;de=Z.action,Po&&d(w,de),w=Z.hasEagerState?Z.eagerState:d(w,de)}else ee={lane:de,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(L=z=ee,A=w):z=z.next=ee,dt.lanes|=de,Ya|=de;Z=Z.next}while(Z!==null&&Z!==l);if(z===null?A=w:z.next=L,!ki(w,a.memoizedState)&&(Yn=!0,oe&&(d=Ha,d!==null)))throw d;a.memoizedState=w,a.baseState=A,a.baseQueue=z,h.lastRenderedState=w}return b===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Xb(a){var l=_n(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var h=d.dispatch,b=d.pending,w=l.memoizedState;if(b!==null){d.pending=null;var A=b=b.next;do w=a(w,A.action),A=A.next;while(A!==b);ki(w,l.memoizedState)||(Yn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,h]}function k_(a,l,d){var h=dt,b=_n(),w=_t;if(w){if(d===void 0)throw Error(n(407));d=d()}else d=l();var A=!ki((Lt||b).memoizedState,d);if(A&&(b.memoizedState=d,Yn=!0),b=b.queue,ev(A_.bind(null,h,b,a),[a]),b.getSnapshot!==l||A||Dn!==null&&Dn.memoizedState.tag&1){if(h.flags|=2048,mu(9,{destroy:void 0},S_.bind(null,h,b,d,l),null),rn===null)throw Error(n(349));w||(Js&127)!==0||C_(h,l,d)}return d}function C_(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=dt.updateQueue,l===null?(l=fu(),dt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function S_(a,l,d,h){l.value=d,l.getSnapshot=h,T_(l)&&N_(a)}function A_(a,l,d){return d(function(){T_(l)&&N_(a)})}function T_(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!ki(a,d)}catch{return!0}}function N_(a){var l=Ci(a,2);l!==null&&ms(l,a,2)}function Zb(a){var l=pi();if(typeof a=="function"){var d=a;if(a=d(),Po){Ii(!0);try{d()}finally{Ii(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:a},l}function R_(a,l,d,h){return a.baseState=d,$b(a,Lt,typeof h=="function"?h:Lo)}function x4(a,l,d,h,b){if(jp(a))throw Error(n(485));if(a=l.action,a!==null){var w={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){w.listeners.push(A)}};W.T!==null?d(!0):w.isTransition=!1,h(w),d=l.pending,d===null?(w.next=l.pending=w,O_(l,w)):(w.next=d.next,l.pending=d.next=w)}}function O_(a,l){var d=l.action,h=l.payload,b=a.state;if(l.isTransition){var w=W.T,A={};W.T=A;try{var L=d(b,h),z=W.S;z!==null&&z(A,L),I_(a,l,L)}catch(Z){Jb(a,l,Z)}finally{w!==null&&A.types!==null&&(w.types=A.types),W.T=w}}else try{w=d(b,h),I_(a,l,w)}catch(Z){Jb(a,l,Z)}}function I_(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){P_(a,l,h)},function(h){return Jb(a,l,h)}):P_(a,l,d)}function P_(a,l,d){l.status="fulfilled",l.value=d,B_(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,O_(a,d)))}function Jb(a,l,d){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=d,B_(l),l=l.next;while(l!==h)}a.action=null}function B_(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function L_(a,l){return l}function j_(a,l){if(_t){var d=rn.formState;if(d!==null){e:{var h=dt;if(_t){if(jt){t:{for(var b=jt,w=ls;b.nodeType!==8;){if(!w){b=null;break t}if(b=er(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){jt=er(b.nextSibling),h=b.data==="F!";break e}}Zr(h)}h=!1}h&&(l=d[0])}}return d=pi(),d.memoizedState=d.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:L_,lastRenderedState:l},d.queue=h,d=t2.bind(null,dt,h),h.dispatch=d,h=Zb(!1),w=rv.bind(null,dt,!1,h.queue),h=pi(),b={state:l,dispatch:null,action:a,pending:null},h.queue=b,d=x4.bind(null,dt,b,w,d),b.dispatch=d,h.memoizedState=a,[l,d,!1]}function D_(a){var l=_n();return M_(l,Lt,a)}function M_(a,l,d){if(l=$b(a,l,L_)[0],a=Pp(Lo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=Zl(l)}catch(A){throw A===Wa?N:A}else h=l;l=_n();var b=l.queue,w=b.dispatch;return d!==l.memoizedState&&(dt.flags|=2048,mu(9,{destroy:void 0},_4.bind(null,b,d),null)),[h,w,a]}function _4(a,l){a.action=l}function F_(a){var l=_n(),d=Lt;if(d!==null)return M_(l,d,a);_n(),l=l.memoizedState,d=_n();var h=d.queue.dispatch;return d.memoizedState=a,[l,h,!1]}function mu(a,l,d,h){return a={tag:a,create:d,deps:h,inst:l,next:null},l=dt.updateQueue,l===null&&(l=fu(),dt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(h=d.next,d.next=a,a.next=h,l.lastEffect=a),a}function V_(){return _n().memoizedState}function Bp(a,l,d,h){var b=pi();dt.flags|=a,b.memoizedState=mu(1|l,{destroy:void 0},d,h===void 0?null:h)}function Lp(a,l,d,h){var b=_n();h=h===void 0?null:h;var w=b.memoizedState.inst;Lt!==null&&h!==null&&If(h,Lt.memoizedState.deps)?b.memoizedState=mu(l,w,d,h):(dt.flags|=a,b.memoizedState=mu(1|l,w,d,h))}function z_(a,l){Bp(8390656,8,a,l)}function ev(a,l){Lp(2048,8,a,l)}function E4(a){dt.flags|=4;var l=dt.updateQueue;if(l===null)l=fu(),dt.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function q_(a){var l=_n().memoizedState;return E4({ref:l,nextImpl:a}),function(){if((qt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function H_(a,l){return Lp(4,2,a,l)}function U_(a,l){return Lp(4,4,a,l)}function W_(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function G_(a,l,d){d=d!=null?d.concat([a]):null,Lp(4,4,W_.bind(null,l,a),d)}function tv(){}function K_(a,l){var d=_n();l=l===void 0?null:l;var h=d.memoizedState;return l!==null&&If(l,h[1])?h[0]:(d.memoizedState=[a,l],a)}function Q_(a,l){var d=_n();l=l===void 0?null:l;var h=d.memoizedState;if(l!==null&&If(l,h[1]))return h[0];if(h=a(),Po){Ii(!0);try{a()}finally{Ii(!1)}}return d.memoizedState=[h,l],h}function nv(a,l,d){return d===void 0||(Js&1073741824)!==0&&(Tt&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=Y2(),dt.lanes|=a,Ya|=a,d)}function Y_(a,l,d,h){return ki(d,l)?d:mi.current!==null?(a=nv(a,d,h),ki(a,l)||(Yn=!0),a):(Js&42)===0||(Js&1073741824)!==0&&(Tt&261930)===0?(Yn=!0,a.memoizedState=d):(a=Y2(),dt.lanes|=a,Ya|=a,l)}function $_(a,l,d,h,b){var w=ae.p;ae.p=w!==0&&8>w?w:8;var A=W.T,L={};W.T=L,rv(a,!1,l,d);try{var z=b(),Z=W.S;if(Z!==null&&Z(L,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var oe=Yb(z,h);Bf(a,l,oe,Is(a))}else Bf(a,l,h,Is(a))}catch(de){Bf(a,l,{then:function(){},status:"rejected",reason:de},Is())}finally{ae.p=w,A!==null&&L.types!==null&&(A.types=L.types),W.T=A}}function k4(){}function iv(a,l,d,h){if(a.tag!==5)throw Error(n(476));var b=X_(a).queue;$_(a,b,l,fe,d===null?k4:function(){return Z_(a),d(h)})}function X_(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:fe},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Z_(a){var l=X_(a);l.next===null&&(l=a.alternate.memoizedState),Bf(a,l.next.queue,{},Is())}function sv(){return Kn(Xf)}function J_(){return _n().memoizedState}function e2(){return _n().memoizedState}function C4(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=Is();a=at(d);var h=yt(l,a,d);h!==null&&(ms(h,l,d),ct(h,l,d)),l={cache:Er()},a.payload=l;return}l=l.return}}function S4(a,l,d){var h=Is();d={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},jp(a)?n2(l,d):(d=vf(a,l,d,h),d!==null&&(ms(d,a,h),i2(d,l,h)))}function t2(a,l,d){var h=Is();Bf(a,l,d,h)}function Bf(a,l,d,h){var b={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(jp(a))n2(l,b);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var A=l.lastRenderedState,L=w(A,d);if(b.hasEagerState=!0,b.eagerState=L,ki(L,A))return iu(a,l,b,0),rn===null&&nu(),!1}catch{}finally{}if(d=vf(a,l,b,h),d!==null)return ms(d,a,h),i2(d,l,h),!0}return!1}function rv(a,l,d,h){if(h={lane:2,revertLane:Dv(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},jp(a)){if(l)throw Error(n(479))}else l=vf(a,d,h,2),l!==null&&ms(l,a,2)}function jp(a){var l=a.alternate;return a===dt||l!==null&&l===dt}function n2(a,l){io=cu=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function i2(a,l,d){if((d&4194048)!==0){var h=l.lanes;h&=a.pendingLanes,d|=h,l.lanes=d,qm(a,d)}}var Lf={readContext:Kn,use:Ga,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn};Lf.useEffectEvent=xn;var s2={readContext:Kn,use:Ga,useCallback:function(a,l){return pi().memoizedState=[a,l===void 0?null:l],a},useContext:Kn,useEffect:z_,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Bp(4194308,4,W_.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Bp(4194308,4,a,l)},useInsertionEffect:function(a,l){Bp(4,2,a,l)},useMemo:function(a,l){var d=pi();l=l===void 0?null:l;var h=a();if(Po){Ii(!0);try{a()}finally{Ii(!1)}}return d.memoizedState=[h,l],h},useReducer:function(a,l,d){var h=pi();if(d!==void 0){var b=d(l);if(Po){Ii(!0);try{d(l)}finally{Ii(!1)}}}else b=l;return h.memoizedState=h.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},h.queue=a,a=a.dispatch=S4.bind(null,dt,a),[h.memoizedState,a]},useRef:function(a){var l=pi();return a={current:a},l.memoizedState=a},useState:function(a){a=Zb(a);var l=a.queue,d=t2.bind(null,dt,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:tv,useDeferredValue:function(a,l){var d=pi();return nv(d,a,l)},useTransition:function(){var a=Zb(!1);return a=$_.bind(null,dt,a.queue,!0,!1),pi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var h=dt,b=pi();if(_t){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),rn===null)throw Error(n(349));(Tt&127)!==0||C_(h,l,d)}b.memoizedState=d;var w={value:d,getSnapshot:l};return b.queue=w,z_(A_.bind(null,h,w,a),[a]),h.flags|=2048,mu(9,{destroy:void 0},S_.bind(null,h,w,d,l),null),d},useId:function(){var a=pi(),l=rn.identifierPrefix;if(_t){var d=Xs,h=$s;d=(h&~(1<<32-ei(h)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Ql++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=Op++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:sv,useFormState:j_,useActionState:j_,useOptimistic:function(a){var l=pi();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=rv.bind(null,dt,!0,d),d.dispatch=l,[a,l]},useMemoCache:hu,useCacheRefresh:function(){return pi().memoizedState=C4.bind(null,dt)},useEffectEvent:function(a){var l=pi(),d={impl:a};return l.memoizedState=d,function(){if((qt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},ov={readContext:Kn,use:Ga,useCallback:K_,useContext:Kn,useEffect:ev,useImperativeHandle:G_,useInsertionEffect:H_,useLayoutEffect:U_,useMemo:Q_,useReducer:Pp,useRef:V_,useState:function(){return Pp(Lo)},useDebugValue:tv,useDeferredValue:function(a,l){var d=_n();return Y_(d,Lt.memoizedState,a,l)},useTransition:function(){var a=Pp(Lo)[0],l=_n().memoizedState;return[typeof a=="boolean"?a:Zl(a),l]},useSyncExternalStore:k_,useId:J_,useHostTransitionStatus:sv,useFormState:D_,useActionState:D_,useOptimistic:function(a,l){var d=_n();return R_(d,Lt,a,l)},useMemoCache:hu,useCacheRefresh:e2};ov.useEffectEvent=q_;var r2={readContext:Kn,use:Ga,useCallback:K_,useContext:Kn,useEffect:ev,useImperativeHandle:G_,useInsertionEffect:H_,useLayoutEffect:U_,useMemo:Q_,useReducer:Xb,useRef:V_,useState:function(){return Xb(Lo)},useDebugValue:tv,useDeferredValue:function(a,l){var d=_n();return Lt===null?nv(d,a,l):Y_(d,Lt.memoizedState,a,l)},useTransition:function(){var a=Xb(Lo)[0],l=_n().memoizedState;return[typeof a=="boolean"?a:Zl(a),l]},useSyncExternalStore:k_,useId:J_,useHostTransitionStatus:sv,useFormState:F_,useActionState:F_,useOptimistic:function(a,l){var d=_n();return Lt!==null?R_(d,Lt,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:hu,useCacheRefresh:e2};r2.useEffectEvent=q_;function av(a,l,d,h){l=a.memoizedState,d=d(h,l),d=d==null?l:g({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var lv={enqueueSetState:function(a,l,d){a=a._reactInternals;var h=Is(),b=at(h);b.payload=l,d!=null&&(b.callback=d),l=yt(a,b,h),l!==null&&(ms(l,a,h),ct(l,a,h))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var h=Is(),b=at(h);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=yt(a,b,h),l!==null&&(ms(l,a,h),ct(l,a,h))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Is(),h=at(d);h.tag=2,l!=null&&(h.callback=l),l=yt(a,h,d),l!==null&&(ms(l,a,d),ct(l,a,d))}};function o2(a,l,d,h,b,w,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,w,A):l.prototype&&l.prototype.isPureReactComponent?!fi(d,h)||!fi(b,w):!0}function a2(a,l,d,h){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,h),l.state!==a&&lv.enqueueReplaceState(l,l.state,null)}function Jl(a,l){var d=l;if("ref"in l){d={};for(var h in l)h!=="ref"&&(d[h]=l[h])}if(a=a.defaultProps){d===l&&(d=g({},d));for(var b in a)d[b]===void 0&&(d[b]=a[b])}return d}function l2(a){zl(a)}function c2(a){console.error(a)}function u2(a){zl(a)}function Dp(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function d2(a,l,d){try{var h=a.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function cv(a,l,d){return d=at(d),d.tag=3,d.payload={element:null},d.callback=function(){Dp(a,l)},d}function f2(a){return a=at(a),a.tag=3,a}function h2(a,l,d,h){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var w=h.value;a.payload=function(){return b(w)},a.callback=function(){d2(l,d,h)}}var A=d.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){d2(l,d,h),typeof b!="function"&&($a===null?$a=new Set([this]):$a.add(this));var L=h.stack;this.componentDidCatch(h.value,{componentStack:L!==null?L:""})})}function A4(a,l,d,h,b){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=d.alternate,l!==null&&to(l,d,b,!0),d=yn.current,d!==null){switch(d.tag){case 31:case 13:return On===null?Yp():d.alternate===null&&Mn===0&&(Mn=3),d.flags&=-257,d.flags|=65536,d.lanes=b,h===y?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([h]):l.add(h),Bv(a,h,b)),!1;case 22:return d.flags|=65536,h===y?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([h]):d.add(h)),Bv(a,h,b)),!1}throw Error(n(435,d.tag))}return Bv(a,h,b),Yp(),!1}if(_t)return l=yn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,h!==kf&&(a=Error(n(422),{cause:h}),Wl(hi(a,d)))):(h!==kf&&(l=Error(n(423),{cause:h}),Wl(hi(l,d))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,h=hi(h,d),b=cv(a.stateNode,h,b),Et(a,b),Mn!==4&&(Mn=2)),!1;var w=Error(n(520),{cause:h});if(w=hi(w,d),Hf===null?Hf=[w]:Hf.push(w),Mn!==4&&(Mn=2),l===null)return!0;h=hi(h,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=b&-b,d.lanes|=a,a=cv(d.stateNode,h,a),Et(d,a),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($a===null||!$a.has(w))))return d.flags|=65536,b&=-b,d.lanes|=b,b=f2(b),h2(b,a,d,h),Et(d,b),!1}d=d.return}while(d!==null);return!1}var uv=Error(n(461)),Yn=!1;function Si(a,l,d,h){l.child=a===null?rt(l,null,d,h):Je(l,a.child,d,h)}function m2(a,l,d,h,b){d=d.render;var w=l.ref;if("ref"in h){var A={};for(var L in h)L!=="ref"&&(A[L]=h[L])}else A=h;return Xi(l),h=kr(a,l,d,A,w,b),L=Xl(),a!==null&&!Yn?(uu(a,l,b),jo(a,l,b)):(_t&&L&&Ul(l),l.flags|=1,Si(a,l,h,b),l.child)}function p2(a,l,d,h,b){if(a===null){var w=d.type;return typeof w=="function"&&!wf(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,g2(a,l,w,h,b)):(a=ru(d.type,null,h,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,!vv(a,b)){var A=w.memoizedProps;if(d=d.compare,d=d!==null?d:fi,d(A,h)&&a.ref===l.ref)return jo(a,l,b)}return l.flags|=1,a=vr(w,h),a.ref=l.ref,a.return=l,l.child=a}function g2(a,l,d,h,b){if(a!==null){var w=a.memoizedProps;if(fi(w,h)&&a.ref===l.ref)if(Yn=!1,l.pendingProps=h=w,vv(a,b))(a.flags&131072)!==0&&(Yn=!0);else return l.lanes=a.lanes,jo(a,l,b)}return dv(a,l,d,h,b)}function b2(a,l,d,h){var b=h.children,w=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((l.flags&128)!==0){if(w=w!==null?w.baseLanes|d:d,a!==null){for(h=l.child=a.child,b=0;h!==null;)b=b|h.lanes|h.childLanes,h=h.sibling;h=b&~w}else h=0,l.child=null;return v2(a,l,w,d,h)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ro(l,w!==null?w.cachePool:null),w!==null?Zi(l,w):Di(),Ut(l);else return h=l.lanes=536870912,v2(a,l,w!==null?w.baseLanes|d:d,d,h)}else w!==null?(Ro(l,w.cachePool),Zi(l,w),wn(),l.memoizedState=null):(a!==null&&Ro(l,null),Di(),wn());return Si(a,l,b,d),l.child}function jf(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function v2(a,l,d,h,b){var w=Ua();return w=w===null?null:{parent:Ln._currentValue,pool:w},l.memoizedState={baseLanes:d,cachePool:w},a!==null&&Ro(l,null),Di(),Ut(l),a!==null&&to(a,l,h,!0),l.childLanes=b,null}function Mp(a,l){return l=Vp({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function y2(a,l,d){return Je(l,a.child,null,d),a=Mp(l,l.pendingProps),a.flags|=2,dn(l),l.memoizedState=null,a}function T4(a,l,d){var h=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(_t){if(h.mode==="hidden")return a=Mp(l,h),l.lanes=536870912,jf(null,a);if(jn(l),(a=jt)?(a=OE(a,ls),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Xr!==null?{id:$s,overflow:Xs}:null,retryLane:536870912,hydrationErrors:null},d=Sp(a),d.return=l,l.child=d,ni=l,jt=null)):a=null,a===null)throw Zr(l);return l.lanes=536870912,null}return Mp(l,h)}var w=a.memoizedState;if(w!==null){var A=w.dehydrated;if(jn(l),b)if(l.flags&256)l.flags&=-257,l=y2(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(n(558));else if(Yn||to(a,l,d,!1),b=(d&a.childLanes)!==0,Yn||b){if(h=rn,h!==null&&(A=Hm(h,d),A!==0&&A!==w.retryLane))throw w.retryLane=A,Ci(a,A),ms(h,a,A),uv;Yp(),l=y2(a,l,d)}else a=w.treeContext,jt=er(A.nextSibling),ni=l,_t=!0,xr=null,ls=!1,a!==null&&Ef(l,a),l=Mp(l,h),l.flags|=4096;return l}return a=vr(a.child,{mode:h.mode,children:h.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Fp(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function dv(a,l,d,h,b){return Xi(l),d=kr(a,l,d,h,void 0,b),h=Xl(),a!==null&&!Yn?(uu(a,l,b),jo(a,l,b)):(_t&&h&&Ul(l),l.flags|=1,Si(a,l,d,b),l.child)}function w2(a,l,d,h,b,w){return Xi(l),l.updateQueue=null,d=Pf(l,h,d,b),$l(a),h=Xl(),a!==null&&!Yn?(uu(a,l,w),jo(a,l,w)):(_t&&h&&Ul(l),l.flags|=1,Si(a,l,d,w),l.child)}function x2(a,l,d,h,b){if(Xi(l),l.stateNode===null){var w=Da,A=d.contextType;typeof A=="object"&&A!==null&&(w=Kn(A)),w=new d(h,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=lv,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=h,w.state=l.memoizedState,w.refs={},Dt(l),A=d.contextType,w.context=typeof A=="object"&&A!==null?Kn(A):Da,w.state=l.memoizedState,A=d.getDerivedStateFromProps,typeof A=="function"&&(av(l,d,A,h),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(A=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),A!==w.state&&lv.enqueueReplaceState(w,w.state,null),Ot(l,h,w,b),It(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(a===null){w=l.stateNode;var L=l.memoizedProps,z=Jl(d,L);w.props=z;var Z=w.context,oe=d.contextType;A=Da,typeof oe=="object"&&oe!==null&&(A=Kn(oe));var de=d.getDerivedStateFromProps;oe=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function",L=l.pendingProps!==L,oe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L||Z!==A)&&a2(l,w,h,A),Xe=!1;var ee=l.memoizedState;w.state=ee,Ot(l,h,w,b),It(),Z=l.memoizedState,L||ee!==Z||Xe?(typeof de=="function"&&(av(l,d,de,h),Z=l.memoizedState),(z=Xe||o2(l,d,z,h,ee,Z,A))?(oe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=Z),w.props=h,w.state=Z,w.context=A,h=z):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{w=l.stateNode,Ht(a,l),A=l.memoizedProps,oe=Jl(d,A),w.props=oe,de=l.pendingProps,ee=w.context,Z=d.contextType,z=Da,typeof Z=="object"&&Z!==null&&(z=Kn(Z)),L=d.getDerivedStateFromProps,(Z=typeof L=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==de||ee!==z)&&a2(l,w,h,z),Xe=!1,ee=l.memoizedState,w.state=ee,Ot(l,h,w,b),It();var ie=l.memoizedState;A!==de||ee!==ie||Xe||a!==null&&a.dependencies!==null&&Gl(a.dependencies)?(typeof L=="function"&&(av(l,d,L,h),ie=l.memoizedState),(oe=Xe||o2(l,d,oe,h,ee,ie,z)||a!==null&&a.dependencies!==null&&Gl(a.dependencies))?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ie,z),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ie,z)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=ie),w.props=h,w.state=ie,w.context=z,h=oe):(typeof w.componentDidUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(l.flags|=1024),h=!1)}return w=h,Fp(a,l),h=(l.flags&128)!==0,w||h?(w=l.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,a!==null&&h?(l.child=Je(l,a.child,null,b),l.child=Je(l,null,d,b)):Si(a,l,d,b),l.memoizedState=w.state,a=l.child):a=jo(a,l,b),a}function _2(a,l,d,h){return To(),l.flags|=256,Si(a,l,d,h),l.child}var fv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hv(a){return{baseLanes:a,cachePool:Rp()}}function mv(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=Os),a}function E2(a,l,d){var h=l.pendingProps,b=!1,w=(l.flags&128)!==0,A;if((A=w)||(A=a!==null&&a.memoizedState===null?!1:(Wt.current&2)!==0),A&&(b=!0,l.flags&=-129),A=(l.flags&32)!==0,l.flags&=-33,a===null){if(_t){if(b?Ji(l):wn(),(a=jt)?(a=OE(a,ls),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Xr!==null?{id:$s,overflow:Xs}:null,retryLane:536870912,hydrationErrors:null},d=Sp(a),d.return=l,l.child=d,ni=l,jt=null)):a=null,a===null)throw Zr(l);return $v(a)?l.lanes=32:l.lanes=536870912,null}var L=h.children;return h=h.fallback,b?(wn(),b=l.mode,L=Vp({mode:"hidden",children:L},b),h=yr(h,b,d,null),L.return=l,h.return=l,L.sibling=h,l.child=L,h=l.child,h.memoizedState=hv(d),h.childLanes=mv(a,A,d),l.memoizedState=fv,jf(null,h)):(Ji(l),pv(l,L))}var z=a.memoizedState;if(z!==null&&(L=z.dehydrated,L!==null)){if(w)l.flags&256?(Ji(l),l.flags&=-257,l=gv(a,l,d)):l.memoizedState!==null?(wn(),l.child=a.child,l.flags|=128,l=null):(wn(),L=h.fallback,b=l.mode,h=Vp({mode:"visible",children:h.children},b),L=yr(L,b,d,null),L.flags|=2,h.return=l,L.return=l,h.sibling=L,l.child=h,Je(l,a.child,null,d),h=l.child,h.memoizedState=hv(d),h.childLanes=mv(a,A,d),l.memoizedState=fv,l=jf(null,h));else if(Ji(l),$v(L)){if(A=L.nextSibling&&L.nextSibling.dataset,A)var Z=A.dgst;A=Z,h=Error(n(419)),h.stack="",h.digest=A,Wl({value:h,source:null,stack:null}),l=gv(a,l,d)}else if(Yn||to(a,l,d,!1),A=(d&a.childLanes)!==0,Yn||A){if(A=rn,A!==null&&(h=Hm(A,d),h!==0&&h!==z.retryLane))throw z.retryLane=h,Ci(a,h),ms(A,a,h),uv;Yv(L)||Yp(),l=gv(a,l,d)}else Yv(L)?(l.flags|=192,l.child=a.child,l=null):(a=z.treeContext,jt=er(L.nextSibling),ni=l,_t=!0,xr=null,ls=!1,a!==null&&Ef(l,a),l=pv(l,h.children),l.flags|=4096);return l}return b?(wn(),L=h.fallback,b=l.mode,z=a.child,Z=z.sibling,h=vr(z,{mode:"hidden",children:h.children}),h.subtreeFlags=z.subtreeFlags&65011712,Z!==null?L=vr(Z,L):(L=yr(L,b,d,null),L.flags|=2),L.return=l,h.return=l,h.sibling=L,l.child=h,jf(null,h),h=l.child,L=a.child.memoizedState,L===null?L=hv(d):(b=L.cachePool,b!==null?(z=Ln._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=Rp(),L={baseLanes:L.baseLanes|d,cachePool:b}),h.memoizedState=L,h.childLanes=mv(a,A,d),l.memoizedState=fv,jf(a.child,h)):(Ji(l),d=a.child,a=d.sibling,d=vr(d,{mode:"visible",children:h.children}),d.return=l,d.sibling=null,a!==null&&(A=l.deletions,A===null?(l.deletions=[a],l.flags|=16):A.push(a)),l.child=d,l.memoizedState=null,d)}function pv(a,l){return l=Vp({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Vp(a,l){return a=$i(22,a,null,l),a.lanes=0,a}function gv(a,l,d){return Je(l,a.child,null,d),a=pv(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function k2(a,l,d){a.lanes|=l;var h=a.alternate;h!==null&&(h.lanes|=l),Af(a.return,l,d)}function bv(a,l,d,h,b,w){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:b,treeForkCount:w}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=d,A.tailMode=b,A.treeForkCount=w)}function C2(a,l,d){var h=l.pendingProps,b=h.revealOrder,w=h.tail;h=h.children;var A=Wt.current,L=(A&2)!==0;if(L?(A=A&1|2,l.flags|=128):A&=1,ce(Wt,A),Si(a,l,h,d),h=_t?ql:0,!L&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&k2(a,d,l);else if(a.tag===19)k2(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(d=l.child,b=null;d!==null;)a=d.alternate,a!==null&&Io(a)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),bv(l,!1,b,d,w,h);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&Io(a)===null){l.child=b;break}a=b.sibling,b.sibling=d,d=b,b=a}bv(l,!0,d,null,w,h);break;case"together":bv(l,!1,null,null,void 0,h);break;default:l.memoizedState=null}return l.child}function jo(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Ya|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(to(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,d=vr(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=vr(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function vv(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Gl(a)))}function N4(a,l,d){switch(l.tag){case 3:kt(l,l.stateNode.containerInfo),eo(l,Ln,a.memoizedState.cache),To();break;case 27:case 5:ln(l);break;case 4:kt(l,l.stateNode.containerInfo);break;case 10:eo(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,jn(l),null;break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(Ji(l),l.flags|=128,null):(d&l.child.childLanes)!==0?E2(a,l,d):(Ji(l),a=jo(a,l,d),a!==null?a.sibling:null);Ji(l);break;case 19:var b=(a.flags&128)!==0;if(h=(d&l.childLanes)!==0,h||(to(a,l,d,!1),h=(d&l.childLanes)!==0),b){if(h)return C2(a,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ce(Wt,Wt.current),h)break;return null;case 22:return l.lanes=0,b2(a,l,d,l.pendingProps);case 24:eo(l,Ln,a.memoizedState.cache)}return jo(a,l,d)}function S2(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Yn=!0;else{if(!vv(a,d)&&(l.flags&128)===0)return Yn=!1,N4(a,l,d);Yn=(a.flags&131072)!==0}else Yn=!1,_t&&(l.flags&1048576)!==0&&Hl(l,ql,l.index);switch(l.lanes=0,l.tag){case 16:e:{var h=l.pendingProps;if(a=G(l.elementType),l.type=a,typeof a=="function")wf(a)?(h=Jl(a,h),l.tag=1,l=x2(null,l,a,h,d)):(l.tag=0,l=dv(null,l,a,h,d));else{if(a!=null){var b=a.$$typeof;if(b===V){l.tag=11,l=m2(null,l,a,h,d);break e}else if(b===D){l.tag=14,l=p2(null,l,a,h,d);break e}}throw l=re(a)||a,Error(n(306,l,""))}}return l;case 0:return dv(a,l,l.type,l.pendingProps,d);case 1:return h=l.type,b=Jl(h,l.pendingProps),x2(a,l,h,b,d);case 3:e:{if(kt(l,l.stateNode.containerInfo),a===null)throw Error(n(387));h=l.pendingProps;var w=l.memoizedState;b=w.element,Ht(a,l),Ot(l,h,null,d);var A=l.memoizedState;if(h=A.cache,eo(l,Ln,h),h!==w.cache&&lu(l,[Ln],d,!0),It(),h=A.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:A.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=_2(a,l,h,d);break e}else if(h!==b){b=hi(Error(n(424)),l),Wl(b),l=_2(a,l,h,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(jt=er(a.firstChild),ni=l,_t=!0,xr=null,ls=!0,d=rt(l,null,h,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(To(),h===b){l=jo(a,l,d);break e}Si(a,l,h,d)}l=l.child}return l;case 26:return Fp(a,l),a===null?(d=DE(l.type,null,l.pendingProps,null))?l.memoizedState=d:_t||(d=l.type,a=l.pendingProps,h=ng(De.current).createElement(d),h[Pn]=l,h[Pi]=a,Ai(h,d,a),pn(h),l.stateNode=h):l.memoizedState=DE(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return ln(l),a===null&&_t&&(h=l.stateNode=BE(l.type,l.pendingProps,De.current),ni=l,ls=!0,b=jt,el(l.type)?(Xv=b,jt=er(h.firstChild)):jt=b),Si(a,l,l.pendingProps.children,d),Fp(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&_t&&((b=h=jt)&&(h=rI(h,l.type,l.pendingProps,ls),h!==null?(l.stateNode=h,ni=l,jt=er(h.firstChild),ls=!1,b=!0):b=!1),b||Zr(l)),ln(l),b=l.type,w=l.pendingProps,A=a!==null?a.memoizedProps:null,h=w.children,Gv(b,w)?h=null:A!==null&&Gv(b,A)&&(l.flags|=32),l.memoizedState!==null&&(b=kr(a,l,Ip,null,null,d),Xf._currentValue=b),Fp(a,l),Si(a,l,h,d),l.child;case 6:return a===null&&_t&&((a=d=jt)&&(d=oI(d,l.pendingProps,ls),d!==null?(l.stateNode=d,ni=l,jt=null,a=!0):a=!1),a||Zr(l)),null;case 13:return E2(a,l,d);case 4:return kt(l,l.stateNode.containerInfo),h=l.pendingProps,a===null?l.child=Je(l,null,h,d):Si(a,l,h,d),l.child;case 11:return m2(a,l,l.type,l.pendingProps,d);case 7:return Si(a,l,l.pendingProps,d),l.child;case 8:return Si(a,l,l.pendingProps.children,d),l.child;case 12:return Si(a,l,l.pendingProps.children,d),l.child;case 10:return h=l.pendingProps,eo(l,l.type,h.value),Si(a,l,h.children,d),l.child;case 9:return b=l.type._context,h=l.pendingProps.children,Xi(l),b=Kn(b),h=h(b),l.flags|=1,Si(a,l,h,d),l.child;case 14:return p2(a,l,l.type,l.pendingProps,d);case 15:return g2(a,l,l.type,l.pendingProps,d);case 19:return C2(a,l,d);case 31:return T4(a,l,d);case 22:return b2(a,l,d,l.pendingProps);case 24:return Xi(l),h=Kn(Ln),a===null?(b=Ua(),b===null&&(b=rn,w=Er(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=d),b=w),l.memoizedState={parent:h,cache:b},Dt(l),eo(l,Ln,b)):((a.lanes&d)!==0&&(Ht(a,l),Ot(l,null,null,d),It()),b=a.memoizedState,w=l.memoizedState,b.parent!==h?(b={parent:h,cache:h},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),eo(l,Ln,h)):(h=w.cache,eo(l,Ln,h),h!==b.cache&&lu(l,[Ln],d,!0))),Si(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Do(a){a.flags|=4}function yv(a,l,d,h,b){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(J2())a.flags|=8192;else throw K=y,Oo}else a.flags&=-16777217}function A2(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!qE(l))if(J2())a.flags|=8192;else throw K=y,Oo}function zp(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?zm():536870912,a.lanes|=l,vu|=l)}function Df(a,l){if(!_t)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function gn(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,h=0;if(l)for(var b=a.child;b!==null;)d|=b.lanes|b.childLanes,h|=b.subtreeFlags&65011712,h|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)d|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=h,a.childLanes=d,l}function R4(a,l,d){var h=l.pendingProps;switch(_f(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(l),null;case 1:return gn(l),null;case 3:return d=l.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Zs(Ln),Ee(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Va(l)?Do(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Cf())),gn(l),null;case 26:var b=l.type,w=l.memoizedState;return a===null?(Do(l),w!==null?(gn(l),A2(l,w)):(gn(l),yv(l,b,null,h,d))):w?w!==a.memoizedState?(Do(l),gn(l),A2(l,w)):(gn(l),l.flags&=-16777217):(a=a.memoizedProps,a!==h&&Do(l),gn(l),yv(l,b,a,h,d)),null;case 27:if(Nn(l),d=De.current,b=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==h&&Do(l);else{if(!h){if(l.stateNode===null)throw Error(n(166));return gn(l),null}a=ve.current,Va(l)?Fa(l):(a=BE(b,h,d),l.stateNode=a,Do(l))}return gn(l),null;case 5:if(Nn(l),b=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==h&&Do(l);else{if(!h){if(l.stateNode===null)throw Error(n(166));return gn(l),null}if(w=ve.current,Va(l))Fa(l);else{var A=ng(De.current);switch(w){case 1:w=A.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=A.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=A.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?A.createElement(b,{is:h.is}):A.createElement(b)}}w[Pn]=l,w[Pi]=h;e:for(A=l.child;A!==null;){if(A.tag===5||A.tag===6)w.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===l)break e;for(;A.sibling===null;){if(A.return===null||A.return===l)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}l.stateNode=w;e:switch(Ai(w,b,h),b){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Do(l)}}return gn(l),yv(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==h&&Do(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(n(166));if(a=De.current,Va(l)){if(a=l.stateNode,d=l.memoizedProps,h=null,b=ni,b!==null)switch(b.tag){case 27:case 5:h=b.memoizedProps}a[Pn]=l,a=!!(a.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||EE(a.nodeValue,d)),a||Zr(l,!0)}else a=ng(a).createTextNode(h),a[Pn]=l,l.stateNode=a}return gn(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(h=Va(l),d!==null){if(a===null){if(!h)throw Error(n(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Pn]=l}else To(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gn(l),a=!1}else d=Cf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(dn(l),l):(dn(l),null);if((l.flags&128)!==0)throw Error(n(558))}return gn(l),null;case 13:if(h=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Va(l),h!==null&&h.dehydrated!==null){if(a===null){if(!b)throw Error(n(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Pn]=l}else To(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gn(l),b=!1}else b=Cf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(dn(l),l):(dn(l),null)}return dn(l),(l.flags&128)!==0?(l.lanes=d,l):(d=h!==null,a=a!==null&&a.memoizedState!==null,d&&(h=l.child,b=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(b=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==b&&(h.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),zp(l,l.updateQueue),gn(l),null);case 4:return Ee(),a===null&&zv(l.stateNode.containerInfo),gn(l),null;case 10:return Zs(l.type),gn(l),null;case 19:if(Q(Wt),h=l.memoizedState,h===null)return gn(l),null;if(b=(l.flags&128)!==0,w=h.rendering,w===null)if(b)Df(h,!1);else{if(Mn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(w=Io(a),w!==null){for(l.flags|=128,Df(h,!1),a=w.updateQueue,l.updateQueue=a,zp(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)Cp(d,a),d=d.sibling;return ce(Wt,Wt.current&1|2),_t&&wr(l,h.treeForkCount),l.child}a=a.sibling}h.tail!==null&&pe()>Gp&&(l.flags|=128,b=!0,Df(h,!1),l.lanes=4194304)}else{if(!b)if(a=Io(w),a!==null){if(l.flags|=128,b=!0,a=a.updateQueue,l.updateQueue=a,zp(l,a),Df(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!_t)return gn(l),null}else 2*pe()-h.renderingStartTime>Gp&&d!==536870912&&(l.flags|=128,b=!0,Df(h,!1),l.lanes=4194304);h.isBackwards?(w.sibling=l.child,l.child=w):(a=h.last,a!==null?a.sibling=w:l.child=w,h.last=w)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=pe(),a.sibling=null,d=Wt.current,ce(Wt,b?d&1|2:d&1),_t&&wr(l,h.treeForkCount),a):(gn(l),null);case 22:case 23:return dn(l),un(),h=l.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(d&536870912)!==0&&(l.flags&128)===0&&(gn(l),l.subtreeFlags&6&&(l.flags|=8192)):gn(l),d=l.updateQueue,d!==null&&zp(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==d&&(l.flags|=2048),a!==null&&Q(no),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Zs(Ln),gn(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function O4(a,l){switch(_f(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Zs(Ln),Ee(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Nn(l),null;case 31:if(l.memoizedState!==null){if(dn(l),l.alternate===null)throw Error(n(340));To()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(dn(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));To()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Q(Wt),null;case 4:return Ee(),null;case 10:return Zs(l.type),null;case 22:case 23:return dn(l),un(),a!==null&&Q(no),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Zs(Ln),null;case 25:return null;default:return null}}function T2(a,l){switch(_f(l),l.tag){case 3:Zs(Ln),Ee();break;case 26:case 27:case 5:Nn(l);break;case 4:Ee();break;case 31:l.memoizedState!==null&&dn(l);break;case 13:dn(l);break;case 19:Q(Wt);break;case 10:Zs(l.type);break;case 22:case 23:dn(l),un(),a!==null&&Q(no);break;case 24:Zs(Ln)}}function Mf(a,l){try{var d=l.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var b=h.next;d=b;do{if((d.tag&a)===a){h=void 0;var w=d.create,A=d.inst;h=w(),A.destroy=h}d=d.next}while(d!==b)}}catch(L){Yt(l,l.return,L)}}function Ka(a,l,d){try{var h=l.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var w=b.next;h=w;do{if((h.tag&a)===a){var A=h.inst,L=A.destroy;if(L!==void 0){A.destroy=void 0,b=l;var z=d,Z=L;try{Z()}catch(oe){Yt(b,z,oe)}}}h=h.next}while(h!==w)}}catch(oe){Yt(l,l.return,oe)}}function N2(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{ji(l,d)}catch(h){Yt(a,a.return,h)}}}function R2(a,l,d){d.props=Jl(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(h){Yt(a,l,h)}}function Ff(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof d=="function"?a.refCleanup=d(h):d.current=h}}catch(b){Yt(a,l,b)}}function so(a,l){var d=a.ref,h=a.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(b){Yt(a,l,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Yt(a,l,b)}else d.current=null}function O2(a){var l=a.type,d=a.memoizedProps,h=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(b){Yt(a,a.return,b)}}function wv(a,l,d){try{var h=a.stateNode;J4(h,a.type,d,l),h[Pi]=l}catch(b){Yt(a,a.return,b)}}function I2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&el(a.type)||a.tag===4}function xv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||I2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&el(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function _v(a,l,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=ui));else if(h!==4&&(h===27&&el(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(_v(a,l,d),a=a.sibling;a!==null;)_v(a,l,d),a=a.sibling}function qp(a,l,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(h!==4&&(h===27&&el(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(qp(a,l,d),a=a.sibling;a!==null;)qp(a,l,d),a=a.sibling}function P2(a){var l=a.stateNode,d=a.memoizedProps;try{for(var h=a.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Ai(l,h,d),l[Pn]=a,l[Pi]=d}catch(w){Yt(a,a.return,w)}}var Mo=!1,$n=!1,Ev=!1,B2=typeof WeakSet=="function"?WeakSet:Set,gi=null;function I4(a,l){if(a=a.containerInfo,Uv=cg,a=lf(a),cf(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var b=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var A=0,L=-1,z=-1,Z=0,oe=0,de=a,ee=null;t:for(;;){for(var ie;de!==d||b!==0&&de.nodeType!==3||(L=A+b),de!==w||h!==0&&de.nodeType!==3||(z=A+h),de.nodeType===3&&(A+=de.nodeValue.length),(ie=de.firstChild)!==null;)ee=de,de=ie;for(;;){if(de===a)break t;if(ee===d&&++Z===b&&(L=A),ee===w&&++oe===h&&(z=A),(ie=de.nextSibling)!==null)break;de=ee,ee=de.parentNode}de=ie}d=L===-1||z===-1?null:{start:L,end:z}}else d=null}d=d||{start:0,end:0}}else d=null;for(Wv={focusedElem:a,selectionRange:d},cg=!1,gi=l;gi!==null;)if(l=gi,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,gi=a;else for(;gi!==null;){switch(l=gi,w=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)b=a[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,d=l,b=w.memoizedProps,w=w.memoizedState,h=d.stateNode;try{var Ve=Jl(d.type,b);a=h.getSnapshotBeforeUpdate(Ve,w),h.__reactInternalSnapshotBeforeUpdate=a}catch(tt){Yt(d,d.return,tt)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)Qv(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Qv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,gi=a;break}gi=l.return}}function L2(a,l,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:Vo(a,d),h&4&&Mf(5,d);break;case 1:if(Vo(a,d),h&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(A){Yt(d,d.return,A)}else{var b=Jl(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(b,l,a.__reactInternalSnapshotBeforeUpdate)}catch(A){Yt(d,d.return,A)}}h&64&&N2(d),h&512&&Ff(d,d.return);break;case 3:if(Vo(a,d),h&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{ji(a,l)}catch(A){Yt(d,d.return,A)}}break;case 27:l===null&&h&4&&P2(d);case 26:case 5:Vo(a,d),l===null&&h&4&&O2(d),h&512&&Ff(d,d.return);break;case 12:Vo(a,d);break;case 31:Vo(a,d),h&4&&M2(a,d);break;case 13:Vo(a,d),h&4&&F2(a,d),h&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=z4.bind(null,d),aI(a,d))));break;case 22:if(h=d.memoizedState!==null||Mo,!h){l=l!==null&&l.memoizedState!==null||$n,b=Mo;var w=$n;Mo=h,($n=l)&&!w?zo(a,d,(d.subtreeFlags&8772)!==0):Vo(a,d),Mo=b,$n=w}break;case 30:break;default:Vo(a,d)}}function j2(a){var l=a.alternate;l!==null&&(a.alternate=null,j2(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&_i(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var En=null,us=!1;function Fo(a,l,d){for(d=d.child;d!==null;)D2(a,l,d),d=d.sibling}function D2(a,l,d){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(is,d)}catch{}switch(d.tag){case 26:$n||so(d,l),Fo(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:$n||so(d,l);var h=En,b=us;el(d.type)&&(En=d.stateNode,us=!1),Fo(a,l,d),Qf(d.stateNode),En=h,us=b;break;case 5:$n||so(d,l);case 6:if(h=En,b=us,En=null,Fo(a,l,d),En=h,us=b,En!==null)if(us)try{(En.nodeType===9?En.body:En.nodeName==="HTML"?En.ownerDocument.body:En).removeChild(d.stateNode)}catch(w){Yt(d,l,w)}else try{En.removeChild(d.stateNode)}catch(w){Yt(d,l,w)}break;case 18:En!==null&&(us?(a=En,NE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Su(a)):NE(En,d.stateNode));break;case 4:h=En,b=us,En=d.stateNode.containerInfo,us=!0,Fo(a,l,d),En=h,us=b;break;case 0:case 11:case 14:case 15:Ka(2,d,l),$n||Ka(4,d,l),Fo(a,l,d);break;case 1:$n||(so(d,l),h=d.stateNode,typeof h.componentWillUnmount=="function"&&R2(d,l,h)),Fo(a,l,d);break;case 21:Fo(a,l,d);break;case 22:$n=(h=$n)||d.memoizedState!==null,Fo(a,l,d),$n=h;break;default:Fo(a,l,d)}}function M2(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Su(a)}catch(d){Yt(l,l.return,d)}}}function F2(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Su(a)}catch(d){Yt(l,l.return,d)}}function P4(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new B2),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new B2),l;default:throw Error(n(435,a.tag))}}function Hp(a,l){var d=P4(a);l.forEach(function(h){if(!d.has(h)){d.add(h);var b=q4.bind(null,a,h);h.then(b,b)}})}function ds(a,l){var d=l.deletions;if(d!==null)for(var h=0;h<d.length;h++){var b=d[h],w=a,A=l,L=A;e:for(;L!==null;){switch(L.tag){case 27:if(el(L.type)){En=L.stateNode,us=!1;break e}break;case 5:En=L.stateNode,us=!1;break e;case 3:case 4:En=L.stateNode.containerInfo,us=!0;break e}L=L.return}if(En===null)throw Error(n(160));D2(w,A,b),En=null,us=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)V2(l,a),l=l.sibling}var Cr=null;function V2(a,l){var d=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ds(l,a),fs(a),h&4&&(Ka(3,a,a.return),Mf(3,a),Ka(5,a,a.return));break;case 1:ds(l,a),fs(a),h&512&&($n||d===null||so(d,d.return)),h&64&&Mo&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var b=Cr;if(ds(l,a),fs(a),h&512&&($n||d===null||so(d,d.return)),h&4){var w=d!==null?d.memoizedState:null;if(h=a.memoizedState,d===null)if(h===null)if(a.stateNode===null){e:{h=a.type,d=a.memoizedProps,b=b.ownerDocument||b;t:switch(h){case"title":w=b.getElementsByTagName("title")[0],(!w||w[ti]||w[Pn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(h),b.head.insertBefore(w,b.querySelector("head > title"))),Ai(w,h,d),w[Pn]=a,pn(w),h=w;break e;case"link":var A=VE("link","href",b).get(h+(d.href||""));if(A){for(var L=0;L<A.length;L++)if(w=A[L],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){A.splice(L,1);break t}}w=b.createElement(h),Ai(w,h,d),b.head.appendChild(w);break;case"meta":if(A=VE("meta","content",b).get(h+(d.content||""))){for(L=0;L<A.length;L++)if(w=A[L],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){A.splice(L,1);break t}}w=b.createElement(h),Ai(w,h,d),b.head.appendChild(w);break;default:throw Error(n(468,h))}w[Pn]=a,pn(w),h=w}a.stateNode=h}else zE(b,a.type,a.stateNode);else a.stateNode=FE(b,h,a.memoizedProps);else w!==h?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,h===null?zE(b,a.type,a.stateNode):FE(b,h,a.memoizedProps)):h===null&&a.stateNode!==null&&wv(a,a.memoizedProps,d.memoizedProps)}break;case 27:ds(l,a),fs(a),h&512&&($n||d===null||so(d,d.return)),d!==null&&h&4&&wv(a,a.memoizedProps,d.memoizedProps);break;case 5:if(ds(l,a),fs(a),h&512&&($n||d===null||so(d,d.return)),a.flags&32){b=a.stateNode;try{As(b,"")}catch(Ve){Yt(a,a.return,Ve)}}h&4&&a.stateNode!=null&&(b=a.memoizedProps,wv(a,b,d!==null?d.memoizedProps:b)),h&1024&&(Ev=!0);break;case 6:if(ds(l,a),fs(a),h&4){if(a.stateNode===null)throw Error(n(162));h=a.memoizedProps,d=a.stateNode;try{d.nodeValue=h}catch(Ve){Yt(a,a.return,Ve)}}break;case 3:if(rg=null,b=Cr,Cr=ig(l.containerInfo),ds(l,a),Cr=b,fs(a),h&4&&d!==null&&d.memoizedState.isDehydrated)try{Su(l.containerInfo)}catch(Ve){Yt(a,a.return,Ve)}Ev&&(Ev=!1,z2(a));break;case 4:h=Cr,Cr=ig(a.stateNode.containerInfo),ds(l,a),fs(a),Cr=h;break;case 12:ds(l,a),fs(a);break;case 31:ds(l,a),fs(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Hp(a,h)));break;case 13:ds(l,a),fs(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Wp=pe()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Hp(a,h)));break;case 22:b=a.memoizedState!==null;var z=d!==null&&d.memoizedState!==null,Z=Mo,oe=$n;if(Mo=Z||b,$n=oe||z,ds(l,a),$n=oe,Mo=Z,fs(a),h&8192)e:for(l=a.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||z||Mo||$n||ec(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){z=d=l;try{if(w=z.stateNode,b)A=w.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{L=z.stateNode;var de=z.memoizedProps.style,ee=de!=null&&de.hasOwnProperty("display")?de.display:null;L.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ve){Yt(z,z.return,Ve)}}}else if(l.tag===6){if(d===null){z=l;try{z.stateNode.nodeValue=b?"":z.memoizedProps}catch(Ve){Yt(z,z.return,Ve)}}}else if(l.tag===18){if(d===null){z=l;try{var ie=z.stateNode;b?RE(ie,!0):RE(z.stateNode,!1)}catch(Ve){Yt(z,z.return,Ve)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=a.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,Hp(a,d))));break;case 19:ds(l,a),fs(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Hp(a,h)));break;case 30:break;case 21:break;default:ds(l,a),fs(a)}}function fs(a){var l=a.flags;if(l&2){try{for(var d,h=a.return;h!==null;){if(I2(h)){d=h;break}h=h.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var b=d.stateNode,w=xv(a);qp(a,w,b);break;case 5:var A=d.stateNode;d.flags&32&&(As(A,""),d.flags&=-33);var L=xv(a);qp(a,L,A);break;case 3:case 4:var z=d.stateNode.containerInfo,Z=xv(a);_v(a,Z,z);break;default:throw Error(n(161))}}catch(oe){Yt(a,a.return,oe)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function z2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;z2(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Vo(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)L2(a,l.alternate,l),l=l.sibling}function ec(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Ka(4,l,l.return),ec(l);break;case 1:so(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&R2(l,l.return,d),ec(l);break;case 27:Qf(l.stateNode);case 26:case 5:so(l,l.return),ec(l);break;case 22:l.memoizedState===null&&ec(l);break;case 30:ec(l);break;default:ec(l)}a=a.sibling}}function zo(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,b=a,w=l,A=w.flags;switch(w.tag){case 0:case 11:case 15:zo(b,w,d),Mf(4,w);break;case 1:if(zo(b,w,d),h=w,b=h.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Z){Yt(h,h.return,Z)}if(h=w,b=h.updateQueue,b!==null){var L=h.stateNode;try{var z=b.shared.hiddenCallbacks;if(z!==null)for(b.shared.hiddenCallbacks=null,b=0;b<z.length;b++)vn(z[b],L)}catch(Z){Yt(h,h.return,Z)}}d&&A&64&&N2(w),Ff(w,w.return);break;case 27:P2(w);case 26:case 5:zo(b,w,d),d&&h===null&&A&4&&O2(w),Ff(w,w.return);break;case 12:zo(b,w,d);break;case 31:zo(b,w,d),d&&A&4&&M2(b,w);break;case 13:zo(b,w,d),d&&A&4&&F2(b,w);break;case 22:w.memoizedState===null&&zo(b,w,d),Ff(w,w.return);break;case 30:break;default:zo(b,w,d)}l=l.sibling}}function kv(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&cs(d))}function Cv(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&cs(a))}function Sr(a,l,d,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)q2(a,l,d,h),l=l.sibling}function q2(a,l,d,h){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Sr(a,l,d,h),b&2048&&Mf(9,l);break;case 1:Sr(a,l,d,h);break;case 3:Sr(a,l,d,h),b&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&cs(a)));break;case 12:if(b&2048){Sr(a,l,d,h),a=l.stateNode;try{var w=l.memoizedProps,A=w.id,L=w.onPostCommit;typeof L=="function"&&L(A,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(z){Yt(l,l.return,z)}}else Sr(a,l,d,h);break;case 31:Sr(a,l,d,h);break;case 13:Sr(a,l,d,h);break;case 23:break;case 22:w=l.stateNode,A=l.alternate,l.memoizedState!==null?w._visibility&2?Sr(a,l,d,h):Vf(a,l):w._visibility&2?Sr(a,l,d,h):(w._visibility|=2,pu(a,l,d,h,(l.subtreeFlags&10256)!==0||!1)),b&2048&&kv(A,l);break;case 24:Sr(a,l,d,h),b&2048&&Cv(l.alternate,l);break;default:Sr(a,l,d,h)}}function pu(a,l,d,h,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var w=a,A=l,L=d,z=h,Z=A.flags;switch(A.tag){case 0:case 11:case 15:pu(w,A,L,z,b),Mf(8,A);break;case 23:break;case 22:var oe=A.stateNode;A.memoizedState!==null?oe._visibility&2?pu(w,A,L,z,b):Vf(w,A):(oe._visibility|=2,pu(w,A,L,z,b)),b&&Z&2048&&kv(A.alternate,A);break;case 24:pu(w,A,L,z,b),b&&Z&2048&&Cv(A.alternate,A);break;default:pu(w,A,L,z,b)}l=l.sibling}}function Vf(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,h=l,b=h.flags;switch(h.tag){case 22:Vf(d,h),b&2048&&kv(h.alternate,h);break;case 24:Vf(d,h),b&2048&&Cv(h.alternate,h);break;default:Vf(d,h)}l=l.sibling}}var zf=8192;function gu(a,l,d){if(a.subtreeFlags&zf)for(a=a.child;a!==null;)H2(a,l,d),a=a.sibling}function H2(a,l,d){switch(a.tag){case 26:gu(a,l,d),a.flags&zf&&a.memoizedState!==null&&yI(d,Cr,a.memoizedState,a.memoizedProps);break;case 5:gu(a,l,d);break;case 3:case 4:var h=Cr;Cr=ig(a.stateNode.containerInfo),gu(a,l,d),Cr=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=zf,zf=16777216,gu(a,l,d),zf=h):gu(a,l,d));break;default:gu(a,l,d)}}function U2(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function qf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var h=l[d];gi=h,G2(h,a)}U2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)W2(a),a=a.sibling}function W2(a){switch(a.tag){case 0:case 11:case 15:qf(a),a.flags&2048&&Ka(9,a,a.return);break;case 3:qf(a);break;case 12:qf(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Up(a)):qf(a);break;default:qf(a)}}function Up(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var h=l[d];gi=h,G2(h,a)}U2(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Ka(8,l,l.return),Up(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Up(l));break;default:Up(l)}a=a.sibling}}function G2(a,l){for(;gi!==null;){var d=gi;switch(d.tag){case 0:case 11:case 15:Ka(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:cs(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,gi=h;else e:for(d=a;gi!==null;){h=gi;var b=h.sibling,w=h.return;if(j2(h),h===d){gi=null;break e}if(b!==null){b.return=w,gi=b;break e}gi=w}}}var B4={getCacheForType:function(a){var l=Kn(Ln),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return Kn(Ln).controller.signal}},L4=typeof WeakMap=="function"?WeakMap:Map,qt=0,rn=null,St=null,Tt=0,Qt=0,Rs=null,Qa=!1,bu=!1,Sv=!1,qo=0,Mn=0,Ya=0,tc=0,Av=0,Os=0,vu=0,Hf=null,hs=null,Tv=!1,Wp=0,K2=0,Gp=1/0,Kp=null,$a=null,ii=0,Xa=null,yu=null,Ho=0,Nv=0,Rv=null,Q2=null,Uf=0,Ov=null;function Is(){return(qt&2)!==0&&Tt!==0?Tt&-Tt:W.T!==null?Dv():Um()}function Y2(){if(Os===0)if((Tt&536870912)===0||_t){var a=Vc;Vc<<=1,(Vc&3932160)===0&&(Vc=262144),Os=a}else Os=536870912;return a=yn.current,a!==null&&(a.flags|=32),Os}function ms(a,l,d){(a===rn&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)&&(wu(a,0),Za(a,Tt,Os,!1)),Nl(a,d),((qt&2)===0||a!==rn)&&(a===rn&&((qt&2)===0&&(tc|=d),Mn===4&&Za(a,Tt,Os,!1)),ro(a))}function $2(a,l,d){if((qt&6)!==0)throw Error(n(327));var h=!d&&(l&127)===0&&(l&a.expiredLanes)===0||ya(a,l),b=h?M4(a,l):Pv(a,l,!0),w=h;do{if(b===0){bu&&!h&&Za(a,l,0,!1);break}else{if(d=a.current.alternate,w&&!j4(d)){b=Pv(a,l,!1),w=!1;continue}if(b===2){if(w=l,a.errorRecoveryDisabledLanes&w)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){l=A;e:{var L=a;b=Hf;var z=L.current.memoizedState.isDehydrated;if(z&&(wu(L,A).flags|=256),A=Pv(L,A,!1),A!==2){if(Sv&&!z){L.errorRecoveryDisabledLanes|=w,tc|=w,b=4;break e}w=hs,hs=b,w!==null&&(hs===null?hs=w:hs.push.apply(hs,w))}b=A}if(w=!1,b!==2)continue}}if(b===1){wu(a,0),Za(a,l,0,!0);break}e:{switch(h=a,w=b,w){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Za(h,l,Os,!Qa);break e;case 2:hs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(b=Wp+300-pe(),10<b)){if(Za(h,l,Os,!Qa),Tl(h,0,!0)!==0)break e;Ho=l,h.timeoutHandle=AE(X2.bind(null,h,d,hs,Kp,Tv,l,Os,tc,vu,Qa,w,"Throttled",-0,0),b);break e}X2(h,d,hs,Kp,Tv,l,Os,tc,vu,Qa,w,null,-0,0)}}break}while(!0);ro(a)}function X2(a,l,d,h,b,w,A,L,z,Z,oe,de,ee,ie){if(a.timeoutHandle=-1,de=l.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},H2(l,w,de);var Ve=(w&62914560)===w?Wp-pe():(w&4194048)===w?K2-pe():0;if(Ve=wI(de,Ve),Ve!==null){Ho=w,a.cancelPendingCommit=Ve(rE.bind(null,a,l,w,d,h,b,A,L,z,oe,de,null,ee,ie)),Za(a,w,A,!Z);return}}rE(a,l,w,d,h,b,A,L,z)}function j4(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var b=d[h],w=b.getSnapshot;b=b.value;try{if(!ki(w(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Za(a,l,d,h){l&=~Av,l&=~tc,a.suspendedLanes|=l,a.pingedLanes&=~l,h&&(a.warmLanes|=l),h=a.expirationTimes;for(var b=l;0<b;){var w=31-ei(b),A=1<<w;h[w]=-1,b&=~A}d!==0&&xa(a,d,l)}function Qp(){return(qt&6)===0?(Wf(0),!1):!0}function Iv(){if(St!==null){if(Qt===0)var a=St.return;else a=St,_r=No=null,du(a),ke=null,Pe=0,a=St;for(;a!==null;)T2(a.alternate,a),a=a.return;St=null}}function wu(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,nI(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Ho=0,Iv(),rn=a,St=d=vr(a.current,null),Tt=l,Qt=0,Rs=null,Qa=!1,bu=ya(a,l),Sv=!1,vu=Os=Av=tc=Ya=Mn=0,hs=Hf=null,Tv=!1,(l&8)!==0&&(l|=l&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=l;0<h;){var b=31-ei(h),w=1<<b;l|=a[b],h&=~w}return qo=l,nu(),d}function Z2(a,l){dt=null,W.H=Lf,l===Wa||l===N?(l=se(),Qt=3):l===Oo?(l=se(),Qt=4):Qt=l===uv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Rs=l,St===null&&(Mn=1,Dp(a,hi(l,a.current)))}function J2(){var a=yn.current;return a===null?!0:(Tt&4194048)===Tt?On===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?a===On:!1}function eE(){var a=W.H;return W.H=Lf,a===null?Lf:a}function tE(){var a=W.A;return W.A=B4,a}function Yp(){Mn=4,Qa||(Tt&4194048)!==Tt&&yn.current!==null||(bu=!0),(Ya&134217727)===0&&(tc&134217727)===0||rn===null||Za(rn,Tt,Os,!1)}function Pv(a,l,d){var h=qt;qt|=2;var b=eE(),w=tE();(rn!==a||Tt!==l)&&(Kp=null,wu(a,l)),l=!1;var A=Mn;e:do try{if(Qt!==0&&St!==null){var L=St,z=Rs;switch(Qt){case 8:Iv(),A=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(l=!0);var Z=Qt;if(Qt=0,Rs=null,xu(a,L,z,Z),d&&bu){A=0;break e}break;default:Z=Qt,Qt=0,Rs=null,xu(a,L,z,Z)}}D4(),A=Mn;break}catch(oe){Z2(a,oe)}while(!0);return l&&a.shellSuspendCounter++,_r=No=null,qt=h,W.H=b,W.A=w,St===null&&(rn=null,Tt=0,nu()),A}function D4(){for(;St!==null;)nE(St)}function M4(a,l){var d=qt;qt|=2;var h=eE(),b=tE();rn!==a||Tt!==l?(Kp=null,Gp=pe()+500,wu(a,l)):bu=ya(a,l);e:do try{if(Qt!==0&&St!==null){l=St;var w=Rs;t:switch(Qt){case 1:Qt=0,Rs=null,xu(a,l,w,1);break;case 2:case 9:if(k(w)){Qt=0,Rs=null,iE(l);break}l=function(){Qt!==2&&Qt!==9||rn!==a||(Qt=7),ro(a)},w.then(l,l);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:k(w)?(Qt=0,Rs=null,iE(l)):(Qt=0,Rs=null,xu(a,l,w,7));break;case 5:var A=null;switch(St.tag){case 26:A=St.memoizedState;case 5:case 27:var L=St;if(A?qE(A):L.stateNode.complete){Qt=0,Rs=null;var z=L.sibling;if(z!==null)St=z;else{var Z=L.return;Z!==null?(St=Z,$p(Z)):St=null}break t}}Qt=0,Rs=null,xu(a,l,w,5);break;case 6:Qt=0,Rs=null,xu(a,l,w,6);break;case 8:Iv(),Mn=6;break e;default:throw Error(n(462))}}F4();break}catch(oe){Z2(a,oe)}while(!0);return _r=No=null,W.H=h,W.A=b,qt=d,St!==null?0:(rn=null,Tt=0,nu(),Mn)}function F4(){for(;St!==null&&!Kt();)nE(St)}function nE(a){var l=S2(a.alternate,a,qo);a.memoizedProps=a.pendingProps,l===null?$p(a):St=l}function iE(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=w2(d,l,l.pendingProps,l.type,void 0,Tt);break;case 11:l=w2(d,l,l.pendingProps,l.type.render,l.ref,Tt);break;case 5:du(l);default:T2(d,l),l=St=Cp(l,qo),l=S2(d,l,qo)}a.memoizedProps=a.pendingProps,l===null?$p(a):St=l}function xu(a,l,d,h){_r=No=null,du(l),ke=null,Pe=0;var b=l.return;try{if(A4(a,b,l,d,Tt)){Mn=1,Dp(a,hi(d,a.current)),St=null;return}}catch(w){if(b!==null)throw St=b,w;Mn=1,Dp(a,hi(d,a.current)),St=null;return}l.flags&32768?(_t||h===1?a=!0:bu||(Tt&536870912)!==0?a=!1:(Qa=a=!0,(h===2||h===9||h===3||h===6)&&(h=yn.current,h!==null&&h.tag===13&&(h.flags|=16384))),sE(l,a)):$p(l)}function $p(a){var l=a;do{if((l.flags&32768)!==0){sE(l,Qa);return}a=l.return;var d=R4(l.alternate,l,qo);if(d!==null){St=d;return}if(l=l.sibling,l!==null){St=l;return}St=l=a}while(l!==null);Mn===0&&(Mn=5)}function sE(a,l){do{var d=O4(a.alternate,a);if(d!==null){d.flags&=32767,St=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){St=a;return}St=a=d}while(a!==null);Mn=6,St=null}function rE(a,l,d,h,b,w,A,L,z){a.cancelPendingCommit=null;do Xp();while(ii!==0);if((qt&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(w=l.lanes|l.childLanes,w|=bf,wa(a,d,w,A,L,z),a===rn&&(St=rn=null,Tt=0),yu=l,Xa=a,Ho=d,Nv=w,Rv=b,Q2=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,H4(cn,function(){return uE(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,b=ae.p,ae.p=2,A=qt,qt|=4;try{I4(a,l,d)}finally{qt=A,ae.p=b,W.T=h}}ii=1,oE(),aE(),lE()}}function oE(){if(ii===1){ii=0;var a=Xa,l=yu,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=W.T,W.T=null;var h=ae.p;ae.p=2;var b=qt;qt|=4;try{V2(l,a);var w=Wv,A=lf(a.containerInfo),L=w.focusedElem,z=w.selectionRange;if(A!==L&&L&&L.ownerDocument&&af(L.ownerDocument.documentElement,L)){if(z!==null&&cf(L)){var Z=z.start,oe=z.end;if(oe===void 0&&(oe=Z),"selectionStart"in L)L.selectionStart=Z,L.selectionEnd=Math.min(oe,L.value.length);else{var de=L.ownerDocument||document,ee=de&&de.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),Ve=L.textContent.length,tt=Math.min(z.start,Ve),Jt=z.end===void 0?tt:Math.min(z.end,Ve);!ie.extend&&tt>Jt&&(A=Jt,Jt=tt,tt=A);var Y=vp(L,tt),U=vp(L,Jt);if(Y&&U&&(ie.rangeCount!==1||ie.anchorNode!==Y.node||ie.anchorOffset!==Y.offset||ie.focusNode!==U.node||ie.focusOffset!==U.offset)){var X=de.createRange();X.setStart(Y.node,Y.offset),ie.removeAllRanges(),tt>Jt?(ie.addRange(X),ie.extend(U.node,U.offset)):(X.setEnd(U.node,U.offset),ie.addRange(X))}}}}for(de=[],ie=L;ie=ie.parentNode;)ie.nodeType===1&&de.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<de.length;L++){var ue=de[L];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}cg=!!Uv,Wv=Uv=null}finally{qt=b,ae.p=h,W.T=d}}a.current=l,ii=2}}function aE(){if(ii===2){ii=0;var a=Xa,l=yu,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=W.T,W.T=null;var h=ae.p;ae.p=2;var b=qt;qt|=4;try{L2(a,l.alternate,l)}finally{qt=b,ae.p=h,W.T=d}}ii=3}}function lE(){if(ii===4||ii===3){ii=0,Xt();var a=Xa,l=yu,d=Ho,h=Q2;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ii=5:(ii=0,yu=Xa=null,cE(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&($a=null),zd(d),l=l.stateNode,Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(is,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=W.T,b=ae.p,ae.p=2,W.T=null;try{for(var w=a.onRecoverableError,A=0;A<h.length;A++){var L=h[A];w(L.value,{componentStack:L.stack})}}finally{W.T=l,ae.p=b}}(Ho&3)!==0&&Xp(),ro(a),b=a.pendingLanes,(d&261930)!==0&&(b&42)!==0?a===Ov?Uf++:(Uf=0,Ov=a):Uf=0,Wf(0)}}function cE(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,cs(l)))}function Xp(){return oE(),aE(),lE(),uE()}function uE(){if(ii!==5)return!1;var a=Xa,l=Nv;Nv=0;var d=zd(Ho),h=W.T,b=ae.p;try{ae.p=32>d?32:d,W.T=null,d=Rv,Rv=null;var w=Xa,A=Ho;if(ii=0,yu=Xa=null,Ho=0,(qt&6)!==0)throw Error(n(331));var L=qt;if(qt|=4,W2(w.current),q2(w,w.current,A,d),qt=L,Wf(0,!1),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(is,w)}catch{}return!0}finally{ae.p=b,W.T=h,cE(a,l)}}function dE(a,l,d){l=hi(d,l),l=cv(a.stateNode,l,2),a=yt(a,l,2),a!==null&&(Nl(a,2),ro(a))}function Yt(a,l,d){if(a.tag===3)dE(a,a,d);else for(;l!==null;){if(l.tag===3){dE(l,a,d);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&($a===null||!$a.has(h))){a=hi(d,a),d=f2(2),h=yt(l,d,2),h!==null&&(h2(d,h,l,a),Nl(h,2),ro(h));break}}l=l.return}}function Bv(a,l,d){var h=a.pingCache;if(h===null){h=a.pingCache=new L4;var b=new Set;h.set(l,b)}else b=h.get(l),b===void 0&&(b=new Set,h.set(l,b));b.has(d)||(Sv=!0,b.add(d),a=V4.bind(null,a,l,d),l.then(a,a))}function V4(a,l,d){var h=a.pingCache;h!==null&&h.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,rn===a&&(Tt&d)===d&&(Mn===4||Mn===3&&(Tt&62914560)===Tt&&300>pe()-Wp?(qt&2)===0&&wu(a,0):Av|=d,vu===Tt&&(vu=0)),ro(a)}function fE(a,l){l===0&&(l=zm()),a=Ci(a,l),a!==null&&(Nl(a,l),ro(a))}function z4(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),fE(a,d)}function q4(a,l){var d=0;switch(a.tag){case 31:case 13:var h=a.stateNode,b=a.memoizedState;b!==null&&(d=b.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(l),fE(a,d)}function H4(a,l){return ot(a,l)}var Zp=null,_u=null,Lv=!1,Jp=!1,jv=!1,Ja=0;function ro(a){a!==_u&&a.next===null&&(_u===null?Zp=_u=a:_u=_u.next=a),Jp=!0,Lv||(Lv=!0,W4())}function Wf(a,l){if(!jv&&Jp){jv=!0;do for(var d=!1,h=Zp;h!==null;){if(a!==0){var b=h.pendingLanes;if(b===0)var w=0;else{var A=h.suspendedLanes,L=h.pingedLanes;w=(1<<31-ei(42|a)+1)-1,w&=b&~(A&~L),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,gE(h,w))}else w=Tt,w=Tl(h,h===rn?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||ya(h,w)||(d=!0,gE(h,w));h=h.next}while(d);jv=!1}}function U4(){hE()}function hE(){Jp=Lv=!1;var a=0;Ja!==0&&tI()&&(a=Ja);for(var l=pe(),d=null,h=Zp;h!==null;){var b=h.next,w=mE(h,l);w===0?(h.next=null,d===null?Zp=b:d.next=b,b===null&&(_u=d)):(d=h,(a!==0||(w&3)!==0)&&(Jp=!0)),h=b}ii!==0&&ii!==5||Wf(a),Ja!==0&&(Ja=0)}function mE(a,l){for(var d=a.suspendedLanes,h=a.pingedLanes,b=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var A=31-ei(w),L=1<<A,z=b[A];z===-1?((L&d)===0||(L&h)!==0)&&(b[A]=Nb(L,l)):z<=l&&(a.expiredLanes|=L),w&=~L}if(l=rn,d=Tt,d=Tl(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,d===0||a===l&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Ct(h),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ya(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(h!==null&&Ct(h),zd(d)){case 2:case 8:d=xt;break;case 32:d=cn;break;case 268435456:d=Hi;break;default:d=cn}return h=pE.bind(null,a),d=ot(d,h),a.callbackPriority=l,a.callbackNode=d,l}return h!==null&&h!==null&&Ct(h),a.callbackPriority=2,a.callbackNode=null,2}function pE(a,l){if(ii!==0&&ii!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Xp()&&a.callbackNode!==d)return null;var h=Tt;return h=Tl(a,a===rn?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:($2(a,h,l),mE(a,pe()),a.callbackNode!=null&&a.callbackNode===d?pE.bind(null,a):null)}function gE(a,l){if(Xp())return null;$2(a,l,!0)}function W4(){iI(function(){(qt&6)!==0?ot(Ae,U4):hE()})}function Dv(){if(Ja===0){var a=qa;a===0&&(a=Fc,Fc<<=1,(Fc&261888)===0&&(Fc=256)),Ja=a}return Ja}function bE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Gc(""+a)}function vE(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function G4(a,l,d,h,b){if(l==="submit"&&d&&d.stateNode===b){var w=bE((b[Pi]||null).action),A=h.submitter;A&&(l=(l=A[Pi]||null)?bE(l.formAction):A.getAttribute("formAction"),l!==null&&(w=l,A=null));var L=new Na("action","action",null,h,b);a.push({event:L,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ja!==0){var z=A?vE(b,A):new FormData(b);iv(d,{pending:!0,data:z,method:b.method,action:w},null,z)}}else typeof w=="function"&&(L.preventDefault(),z=A?vE(b,A):new FormData(b),iv(d,{pending:!0,data:z,method:b.method,action:w},w,z))},currentTarget:b}]})}}for(var Mv=0;Mv<gf.length;Mv++){var Fv=gf[Mv],K4=Fv.toLowerCase(),Q4=Fv[0].toUpperCase()+Fv.slice(1);Ns(K4,"on"+Q4)}Ns(Ys,"onAnimationEnd"),Ns(mf,"onAnimationIteration"),Ns(wp,"onAnimationStart"),Ns("dblclick","onDoubleClick"),Ns("focusin","onFocus"),Ns("focusout","onBlur"),Ns(xp,"onTransitionRun"),Ns(_p,"onTransitionStart"),Ns(Ep,"onTransitionCancel"),Ns(pf,"onTransitionEnd"),ko("onMouseEnter",["mouseout","mouseover"]),ko("onMouseLeave",["mouseout","mouseover"]),ko("onPointerEnter",["pointerout","pointerover"]),ko("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gf));function yE(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var h=a[d],b=h.event;h=h.listeners;e:{var w=void 0;if(l)for(var A=h.length-1;0<=A;A--){var L=h[A],z=L.instance,Z=L.currentTarget;if(L=L.listener,z!==w&&b.isPropagationStopped())break e;w=L,b.currentTarget=Z;try{w(b)}catch(oe){zl(oe)}b.currentTarget=null,w=z}else for(A=0;A<h.length;A++){if(L=h[A],z=L.instance,Z=L.currentTarget,L=L.listener,z!==w&&b.isPropagationStopped())break e;w=L,b.currentTarget=Z;try{w(b)}catch(oe){zl(oe)}b.currentTarget=null,w=z}}}}function At(a,l){var d=l[qd];d===void 0&&(d=l[qd]=new Set);var h=a+"__bubble";d.has(h)||(wE(l,a,2,!1),d.add(h))}function Vv(a,l,d){var h=0;l&&(h|=4),wE(d,a,h,l)}var eg="_reactListening"+Math.random().toString(36).slice(2);function zv(a){if(!a[eg]){a[eg]=!0,Hd.forEach(function(d){d!=="selectionchange"&&(Y4.has(d)||Vv(d,!1,a),Vv(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[eg]||(l[eg]=!0,Vv("selectionchange",!1,l))}}function wE(a,l,d,h){switch(YE(l)){case 2:var b=EI;break;case 8:b=kI;break;default:b=ny}d=b.bind(null,l,d,a),b=void 0,!Xd||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),h?b!==void 0?a.addEventListener(l,d,{capture:!0,passive:b}):a.addEventListener(l,d,!0):b!==void 0?a.addEventListener(l,d,{passive:b}):a.addEventListener(l,d,!1)}function qv(a,l,d,h,b){var w=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var L=h.stateNode.containerInfo;if(L===b)break;if(A===4)for(A=h.return;A!==null;){var z=A.tag;if((z===3||z===4)&&A.stateNode.containerInfo===b)return;A=A.return}for(;L!==null;){if(A=Bn(L),A===null)return;if(z=A.tag,z===5||z===6||z===26||z===27){h=w=A;continue e}L=L.parentNode}}h=h.return}$d(function(){var Z=w,oe=Kc(d),de=[];e:{var ee=kp.get(a);if(ee!==void 0){var ie=Na,Ve=a;switch(a){case"keypress":if(So(d)===0)break e;case"keydown":case"keyup":ie=ip;break;case"focusin":Ve="focus",ie=Xc;break;case"focusout":Ve="blur",ie=Xc;break;case"beforeblur":case"afterblur":ie=Xc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=sp;break;case Ys:case mf:case wp:ie=Jd;break;case pf:ie=Db;break;case"scroll":case"scrollend":ie=Ll;break;case"wheel":ie=Fb;break;case"copy":case"cut":case"paste":ie=Ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Jc;break;case"toggle":case"beforetoggle":ie=op}var tt=(l&4)!==0,Jt=!tt&&(a==="scroll"||a==="scrollend"),Y=tt?ee!==null?ee+"Capture":null:ee;tt=[];for(var U=Z,X;U!==null;){var ue=U;if(X=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||X===null||Y===null||(ue=Ca(U,Y),ue!=null&&tt.push(Kf(U,ue,X))),Jt)break;U=U.return}0<tt.length&&(ee=new ie(ee,Ve,null,d,oe),de.push({event:ee,listeners:tt}))}}if((l&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",ie=a==="mouseout"||a==="pointerout",ee&&d!==Ea&&(Ve=d.relatedTarget||d.fromElement)&&(Bn(Ve)||Ve[Hr]))break e;if((ie||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(Ve=d.relatedTarget||d.toElement,ie=Z,Ve=Ve?Bn(Ve):null,Ve!==null&&(Jt=r(Ve),tt=Ve.tag,Ve!==Jt||tt!==5&&tt!==27&&tt!==6)&&(Ve=null)):(ie=null,Ve=Z),ie!==Ve)){if(tt=Ym,ue="onMouseLeave",Y="onMouseEnter",U="mouse",(a==="pointerout"||a==="pointerover")&&(tt=Jc,ue="onPointerLeave",Y="onPointerEnter",U="pointer"),Jt=ie==null?ee:Ws(ie),X=Ve==null?ee:Ws(Ve),ee=new tt(ue,U+"leave",ie,d,oe),ee.target=Jt,ee.relatedTarget=X,ue=null,Bn(oe)===Z&&(tt=new tt(Y,U+"enter",Ve,d,oe),tt.target=X,tt.relatedTarget=Jt,ue=tt),Jt=ue,ie&&Ve)t:{for(tt=$4,Y=ie,U=Ve,X=0,ue=Y;ue;ue=tt(ue))X++;ue=0;for(var Ke=U;Ke;Ke=tt(Ke))ue++;for(;0<X-ue;)Y=tt(Y),X--;for(;0<ue-X;)U=tt(U),ue--;for(;X--;){if(Y===U||U!==null&&Y===U.alternate){tt=Y;break t}Y=tt(Y),U=tt(U)}tt=null}else tt=null;ie!==null&&xE(de,ee,ie,tt,!1),Ve!==null&&Jt!==null&&xE(de,Jt,Ve,tt,!0)}}e:{if(ee=Z?Ws(Z):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var Mt=nf;else if(os(ee))if(Fl)Mt=tu;else{Mt=mp;var ze=hp}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Bl(Z.elementType)&&(Mt=nf):Mt=pp;if(Mt&&(Mt=Mt(a,Z))){tf(de,Mt,d,oe);break e}ze&&ze(a,ee,Z),a==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Il(ee,"number",ee.value)}switch(ze=Z?Ws(Z):window,a){case"focusin":(os(ze)||ze.contentEditable==="true")&&(La=ze,uf=Z,Vl=null);break;case"focusout":Vl=uf=La=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,ff(de,d,oe);break;case"selectionchange":if(Gb)break;case"keydown":case"keyup":ff(de,d,oe)}var gt;if(Gr)e:{switch(a){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else Ia?cp(a,d)&&(Nt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Nt="onCompositionStart");Nt&&(Ml&&d.locale!=="ko"&&(Ia||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Ia&&(gt=Qm()):(Qs=oe,Aa="value"in Qs?Qs.value:Qs.textContent,Ia=!0)),ze=tg(Z,Nt),0<ze.length&&(Nt=new ef(Nt,a,null,d,oe),de.push({event:Nt,listeners:ze}),gt?Nt.data=gt:(gt=up(d),gt!==null&&(Nt.data=gt)))),(gt=zb?qb(a,d):Hb(a,d))&&(Nt=tg(Z,"onBeforeInput"),0<Nt.length&&(ze=new ef("onBeforeInput","beforeinput",null,d,oe),de.push({event:ze,listeners:Nt}),ze.data=gt)),G4(de,a,Z,d,oe)}yE(de,l)})}function Kf(a,l,d){return{instance:a,listener:l,currentTarget:d}}function tg(a,l){for(var d=l+"Capture",h=[];a!==null;){var b=a,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=Ca(a,d),b!=null&&h.unshift(Kf(a,b,w)),b=Ca(a,l),b!=null&&h.push(Kf(a,b,w))),a.tag===3)return h;a=a.return}return[]}function $4(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function xE(a,l,d,h,b){for(var w=l._reactName,A=[];d!==null&&d!==h;){var L=d,z=L.alternate,Z=L.stateNode;if(L=L.tag,z!==null&&z===h)break;L!==5&&L!==26&&L!==27||Z===null||(z=Z,b?(Z=Ca(d,w),Z!=null&&A.unshift(Kf(d,Z,z))):b||(Z=Ca(d,w),Z!=null&&A.push(Kf(d,Z,z)))),d=d.return}A.length!==0&&a.push({event:l,listeners:A})}var X4=/\r\n?/g,Z4=/\u0000|\uFFFD/g;function _E(a){return(typeof a=="string"?a:""+a).replace(X4,`
`).replace(Z4,"")}function EE(a,l){return l=_E(l),_E(a)===l}function Zt(a,l,d,h,b,w){switch(d){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||As(a,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&As(a,""+h);break;case"className":Ol(a,"class",h);break;case"tabIndex":Ol(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(a,d,h);break;case"style":Co(a,h,w);break;case"data":if(l!=="object"){Ol(a,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(d);break}h=Gc(""+h),a.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&Zt(a,l,"name",b.name,b,null),Zt(a,l,"formEncType",b.formEncType,b,null),Zt(a,l,"formMethod",b.formMethod,b,null),Zt(a,l,"formTarget",b.formTarget,b,null)):(Zt(a,l,"encType",b.encType,b,null),Zt(a,l,"method",b.method,b,null),Zt(a,l,"target",b.target,b,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(d);break}h=Gc(""+h),a.setAttribute(d,h);break;case"onClick":h!=null&&(a.onclick=ui);break;case"onScroll":h!=null&&At("scroll",a);break;case"onScrollEnd":h!=null&&At("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(d=h.__html,d!=null){if(b.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}d=Gc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,""+h):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":h===!0?a.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,h):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(d,h):a.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(d):a.setAttribute(d,h);break;case"popover":At("beforetoggle",a),At("toggle",a),Rl(a,"popover",h);break;case"xlinkActuate":Gs(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Gs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Gs(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Gs(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Gs(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Gs(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Gs(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Gs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Gs(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Rl(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Km.get(d)||d,Rl(a,d,h))}}function Hv(a,l,d,h,b,w){switch(d){case"style":Co(a,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(d=h.__html,d!=null){if(b.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"children":typeof h=="string"?As(a,h):(typeof h=="number"||typeof h=="bigint")&&As(a,""+h);break;case"onScroll":h!=null&&At("scroll",a);break;case"onScrollEnd":h!=null&&At("scrollend",a);break;case"onClick":h!=null&&(a.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qc.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),w=a[Pi]||null,w=w!=null?w[d]:null,typeof w=="function"&&a.removeEventListener(l,w,b),typeof h=="function")){typeof w!="function"&&w!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,h,b);break e}d in a?a[d]=h:h===!0?a.setAttribute(d,""):Rl(a,d,h)}}}function Ai(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",a),At("load",a);var h=!1,b=!1,w;for(w in d)if(d.hasOwnProperty(w)){var A=d[w];if(A!=null)switch(w){case"src":h=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Zt(a,l,w,A,d,null)}}b&&Zt(a,l,"srcSet",d.srcSet,d,null),h&&Zt(a,l,"src",d.src,d,null);return;case"input":At("invalid",a);var L=w=A=b=null,z=null,Z=null;for(h in d)if(d.hasOwnProperty(h)){var oe=d[h];if(oe!=null)switch(h){case"name":b=oe;break;case"type":A=oe;break;case"checked":z=oe;break;case"defaultChecked":Z=oe;break;case"value":w=oe;break;case"defaultValue":L=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,l));break;default:Zt(a,l,h,oe,d,null)}}Wc(a,w,L,z,Z,A,b,!1);return;case"select":At("invalid",a),h=A=w=null;for(b in d)if(d.hasOwnProperty(b)&&(L=d[b],L!=null))switch(b){case"value":w=L;break;case"defaultValue":A=L;break;case"multiple":h=L;default:Zt(a,l,b,L,d,null)}l=w,d=A,a.multiple=!!h,l!=null?Ei(a,!!h,l,!1):d!=null&&Ei(a,!!h,d,!0);return;case"textarea":At("invalid",a),w=b=h=null;for(A in d)if(d.hasOwnProperty(A)&&(L=d[A],L!=null))switch(A){case"value":h=L;break;case"defaultValue":b=L;break;case"children":w=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(n(91));break;default:Zt(a,l,A,L,d,null)}Pl(a,h,b,w);return;case"option":for(z in d)if(d.hasOwnProperty(z)&&(h=d[z],h!=null))switch(z){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Zt(a,l,z,h,d,null)}return;case"dialog":At("beforetoggle",a),At("toggle",a),At("cancel",a),At("close",a);break;case"iframe":case"object":At("load",a);break;case"video":case"audio":for(h=0;h<Gf.length;h++)At(Gf[h],a);break;case"image":At("error",a),At("load",a);break;case"details":At("toggle",a);break;case"embed":case"source":case"link":At("error",a),At("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in d)if(d.hasOwnProperty(Z)&&(h=d[Z],h!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Zt(a,l,Z,h,d,null)}return;default:if(Bl(l)){for(oe in d)d.hasOwnProperty(oe)&&(h=d[oe],h!==void 0&&Hv(a,l,oe,h,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(h=d[L],h!=null&&Zt(a,l,L,h,d,null))}function J4(a,l,d,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,A=null,L=null,z=null,Z=null,oe=null;for(ie in d){var de=d[ie];if(d.hasOwnProperty(ie)&&de!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":z=de;default:h.hasOwnProperty(ie)||Zt(a,l,ie,null,h,de)}}for(var ee in h){var ie=h[ee];if(de=d[ee],h.hasOwnProperty(ee)&&(ie!=null||de!=null))switch(ee){case"type":w=ie;break;case"name":b=ie;break;case"checked":Z=ie;break;case"defaultChecked":oe=ie;break;case"value":A=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,l));break;default:ie!==de&&Zt(a,l,ee,ie,h,de)}}Bi(a,A,L,z,Z,oe,w,b);return;case"select":ie=A=L=ee=null;for(w in d)if(z=d[w],d.hasOwnProperty(w)&&z!=null)switch(w){case"value":break;case"multiple":ie=z;default:h.hasOwnProperty(w)||Zt(a,l,w,null,h,z)}for(b in h)if(w=h[b],z=d[b],h.hasOwnProperty(b)&&(w!=null||z!=null))switch(b){case"value":ee=w;break;case"defaultValue":L=w;break;case"multiple":A=w;default:w!==z&&Zt(a,l,b,w,h,z)}l=L,d=A,h=ie,ee!=null?Ei(a,!!d,ee,!1):!!h!=!!d&&(l!=null?Ei(a,!!d,l,!0):Ei(a,!!d,d?[]:"",!1));return;case"textarea":ie=ee=null;for(L in d)if(b=d[L],d.hasOwnProperty(L)&&b!=null&&!h.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Zt(a,l,L,null,h,b)}for(A in h)if(b=h[A],w=d[A],h.hasOwnProperty(A)&&(b!=null||w!=null))switch(A){case"value":ee=b;break;case"defaultValue":ie=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==w&&Zt(a,l,A,b,h,w)}Ur(a,ee,ie);return;case"option":for(var Ve in d)if(ee=d[Ve],d.hasOwnProperty(Ve)&&ee!=null&&!h.hasOwnProperty(Ve))switch(Ve){case"selected":a.selected=!1;break;default:Zt(a,l,Ve,null,h,ee)}for(z in h)if(ee=h[z],ie=d[z],h.hasOwnProperty(z)&&ee!==ie&&(ee!=null||ie!=null))switch(z){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Zt(a,l,z,ee,h,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in d)ee=d[tt],d.hasOwnProperty(tt)&&ee!=null&&!h.hasOwnProperty(tt)&&Zt(a,l,tt,null,h,ee);for(Z in h)if(ee=h[Z],ie=d[Z],h.hasOwnProperty(Z)&&ee!==ie&&(ee!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(137,l));break;default:Zt(a,l,Z,ee,h,ie)}return;default:if(Bl(l)){for(var Jt in d)ee=d[Jt],d.hasOwnProperty(Jt)&&ee!==void 0&&!h.hasOwnProperty(Jt)&&Hv(a,l,Jt,void 0,h,ee);for(oe in h)ee=h[oe],ie=d[oe],!h.hasOwnProperty(oe)||ee===ie||ee===void 0&&ie===void 0||Hv(a,l,oe,ee,h,ie);return}}for(var Y in d)ee=d[Y],d.hasOwnProperty(Y)&&ee!=null&&!h.hasOwnProperty(Y)&&Zt(a,l,Y,null,h,ee);for(de in h)ee=h[de],ie=d[de],!h.hasOwnProperty(de)||ee===ie||ee==null&&ie==null||Zt(a,l,de,ee,h,ie)}function kE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eI(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),h=0;h<d.length;h++){var b=d[h],w=b.transferSize,A=b.initiatorType,L=b.duration;if(w&&L&&kE(A)){for(A=0,L=b.responseEnd,h+=1;h<d.length;h++){var z=d[h],Z=z.startTime;if(Z>L)break;var oe=z.transferSize,de=z.initiatorType;oe&&kE(de)&&(z=z.responseEnd,A+=oe*(z<L?1:(L-Z)/(z-Z)))}if(--h,l+=8*(w+A)/(b.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Uv=null,Wv=null;function ng(a){return a.nodeType===9?a:a.ownerDocument}function CE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SE(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Gv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Kv=null;function tI(){var a=window.event;return a&&a.type==="popstate"?a===Kv?!1:(Kv=a,!0):(Kv=null,!1)}var AE=typeof setTimeout=="function"?setTimeout:void 0,nI=typeof clearTimeout=="function"?clearTimeout:void 0,TE=typeof Promise=="function"?Promise:void 0,iI=typeof queueMicrotask=="function"?queueMicrotask:typeof TE<"u"?function(a){return TE.resolve(null).then(a).catch(sI)}:AE;function sI(a){setTimeout(function(){throw a})}function el(a){return a==="head"}function NE(a,l){var d=l,h=0;do{var b=d.nextSibling;if(a.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(h===0){a.removeChild(b),Su(l);return}h--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")h++;else if(d==="html")Qf(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Qf(d);for(var w=d.firstChild;w;){var A=w.nextSibling,L=w.nodeName;w[ti]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=A}}else d==="body"&&Qf(a.ownerDocument.body);d=b}while(d);Su(l)}function RE(a,l){var d=a;a=0;do{var h=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),h&&h.nodeType===8)if(d=h.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=h}while(d)}function Qv(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Qv(d),_i(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function rI(a,l,d,h){for(;a.nodeType===1;){var b=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[ti])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=er(a.nextSibling),a===null)break}return null}function oI(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=er(a.nextSibling),a===null))return null;return a}function OE(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=er(a.nextSibling),a===null))return null;return a}function Yv(a){return a.data==="$?"||a.data==="$~"}function $v(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function aI(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var h=function(){l(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function er(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var Xv=null;function IE(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return er(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function PE(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function BE(a,l,d){switch(l=ng(d),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Qf(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);_i(a)}var tr=new Map,LE=new Set;function ig(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Uo=ae.d;ae.d={f:lI,r:cI,D:uI,C:dI,L:fI,m:hI,X:pI,S:mI,M:gI};function lI(){var a=Uo.f(),l=Qp();return a||l}function cI(a){var l=mr(a);l!==null&&l.tag===5&&l.type==="form"?Z_(l):Uo.r(a)}var Eu=typeof document>"u"?null:document;function jE(a,l,d){var h=Eu;if(h&&typeof l=="string"&&l){var b=Wn(l);b='link[rel="'+a+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),LE.has(b)||(LE.add(b),a={rel:a,crossOrigin:d,href:l},h.querySelector(b)===null&&(l=h.createElement("link"),Ai(l,"link",a),pn(l),h.head.appendChild(l)))}}function uI(a){Uo.D(a),jE("dns-prefetch",a,null)}function dI(a,l){Uo.C(a,l),jE("preconnect",a,l)}function fI(a,l,d){Uo.L(a,l,d);var h=Eu;if(h&&a&&l){var b='link[rel="preload"][as="'+Wn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Wn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Wn(d.imageSizes)+'"]')):b+='[href="'+Wn(a)+'"]';var w=b;switch(l){case"style":w=ku(a);break;case"script":w=Cu(a)}tr.has(w)||(a=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),tr.set(w,a),h.querySelector(b)!==null||l==="style"&&h.querySelector(Yf(w))||l==="script"&&h.querySelector($f(w))||(l=h.createElement("link"),Ai(l,"link",a),pn(l),h.head.appendChild(l)))}}function hI(a,l){Uo.m(a,l);var d=Eu;if(d&&a){var h=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Wn(h)+'"][href="'+Wn(a)+'"]',w=b;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Cu(a)}if(!tr.has(w)&&(a=g({rel:"modulepreload",href:a},l),tr.set(w,a),d.querySelector(b)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector($f(w)))return}h=d.createElement("link"),Ai(h,"link",a),pn(h),d.head.appendChild(h)}}}function mI(a,l,d){Uo.S(a,l,d);var h=Eu;if(h&&a){var b=ss(h).hoistableStyles,w=ku(a);l=l||"default";var A=b.get(w);if(!A){var L={loading:0,preload:null};if(A=h.querySelector(Yf(w)))L.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},d),(d=tr.get(w))&&Zv(a,d);var z=A=h.createElement("link");pn(z),Ai(z,"link",a),z._p=new Promise(function(Z,oe){z.onload=Z,z.onerror=oe}),z.addEventListener("load",function(){L.loading|=1}),z.addEventListener("error",function(){L.loading|=2}),L.loading|=4,sg(A,l,h)}A={type:"stylesheet",instance:A,count:1,state:L},b.set(w,A)}}}function pI(a,l){Uo.X(a,l);var d=Eu;if(d&&a){var h=ss(d).hoistableScripts,b=Cu(a),w=h.get(b);w||(w=d.querySelector($f(b)),w||(a=g({src:a,async:!0},l),(l=tr.get(b))&&Jv(a,l),w=d.createElement("script"),pn(w),Ai(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(b,w))}}function gI(a,l){Uo.M(a,l);var d=Eu;if(d&&a){var h=ss(d).hoistableScripts,b=Cu(a),w=h.get(b);w||(w=d.querySelector($f(b)),w||(a=g({src:a,async:!0,type:"module"},l),(l=tr.get(b))&&Jv(a,l),w=d.createElement("script"),pn(w),Ai(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(b,w))}}function DE(a,l,d,h){var b=(b=De.current)?ig(b):null;if(!b)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=ku(d.href),d=ss(b).hoistableStyles,h=d.get(l),h||(h={type:"style",instance:null,count:0,state:null},d.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=ku(d.href);var w=ss(b).hoistableStyles,A=w.get(a);if(A||(b=b.ownerDocument||b,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,A),(w=b.querySelector(Yf(a)))&&!w._p&&(A.instance=w,A.state.loading=5),tr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},tr.set(a,d),w||bI(b,a,d,A.state))),l&&h===null)throw Error(n(528,""));return A}if(l&&h!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Cu(d),d=ss(b).hoistableScripts,h=d.get(l),h||(h={type:"script",instance:null,count:0,state:null},d.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function ku(a){return'href="'+Wn(a)+'"'}function Yf(a){return'link[rel="stylesheet"]['+a+"]"}function ME(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function bI(a,l,d,h){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=a.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),Ai(l,"link",d),pn(l),a.head.appendChild(l))}function Cu(a){return'[src="'+Wn(a)+'"]'}function $f(a){return"script[async]"+a}function FE(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var h=a.querySelector('style[data-href~="'+Wn(d.href)+'"]');if(h)return l.instance=h,pn(h),h;var b=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),pn(h),Ai(h,"style",b),sg(h,d.precedence,a),l.instance=h;case"stylesheet":b=ku(d.href);var w=a.querySelector(Yf(b));if(w)return l.state.loading|=4,l.instance=w,pn(w),w;h=ME(d),(b=tr.get(b))&&Zv(h,b),w=(a.ownerDocument||a).createElement("link"),pn(w);var A=w;return A._p=new Promise(function(L,z){A.onload=L,A.onerror=z}),Ai(w,"link",h),l.state.loading|=4,sg(w,d.precedence,a),l.instance=w;case"script":return w=Cu(d.src),(b=a.querySelector($f(w)))?(l.instance=b,pn(b),b):(h=d,(b=tr.get(w))&&(h=g({},d),Jv(h,b)),a=a.ownerDocument||a,b=a.createElement("script"),pn(b),Ai(b,"link",h),a.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,sg(h,d.precedence,a));return l.instance}function sg(a,l,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=h.length?h[h.length-1]:null,w=b,A=0;A<h.length;A++){var L=h[A];if(L.dataset.precedence===l)w=L;else if(w!==b)break}w?w.parentNode.insertBefore(a,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function Zv(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Jv(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var rg=null;function VE(a,l,d){if(rg===null){var h=new Map,b=rg=new Map;b.set(d,h)}else b=rg,h=b.get(d),h||(h=new Map,b.set(d,h));if(h.has(a))return h;for(h.set(a,null),d=d.getElementsByTagName(a),b=0;b<d.length;b++){var w=d[b];if(!(w[ti]||w[Pn]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var A=w.getAttribute(l)||"";A=a+A;var L=h.get(A);L?L.push(w):h.set(A,[w])}}return h}function zE(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function vI(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function qE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function yI(a,l,d,h){if(d.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=ku(h.href),w=l.querySelector(Yf(b));if(w){l=w._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=og.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=w,pn(w);return}w=l.ownerDocument||l,h=ME(h),(b=tr.get(b))&&Zv(h,b),w=w.createElement("link"),pn(w);var A=w;A._p=new Promise(function(L,z){A.onload=L,A.onerror=z}),Ai(w,"link",h),d.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=og.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var ey=0;function wI(a,l){return a.stylesheets&&a.count===0&&lg(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var h=setTimeout(function(){if(a.stylesheets&&lg(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+l);0<a.imgBytes&&ey===0&&(ey=62500*eI());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&lg(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>ey?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(b)}}:null}function og(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ag=null;function lg(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ag=new Map,l.forEach(xI,a),ag=null,og.call(a))}function xI(a,l){if(!(l.state.loading&4)){var d=ag.get(a);if(d)var h=d.get(null);else{d=new Map,ag.set(a,d);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var A=b[w];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(d.set(A.dataset.precedence,A),h=A)}h&&d.set(null,h)}b=l.instance,A=b.getAttribute("data-precedence"),w=d.get(A)||h,w===h&&d.set(null,b),d.set(A,b),this.count++,h=og.bind(this),b.addEventListener("load",h),b.addEventListener("error",h),w?w.parentNode.insertBefore(b,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),l.state.loading|=4}}var Xf={$$typeof:B,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function _I(a,l,d,h,b,w,A,L,z){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.hiddenUpdates=Fd(null),this.identifierPrefix=h,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function HE(a,l,d,h,b,w,A,L,z,Z,oe,de){return a=new _I(a,l,d,A,z,Z,oe,de,L),l=1,w===!0&&(l|=24),w=$i(3,null,null,l),a.current=w,w.stateNode=a,l=Er(),l.refCount++,a.pooledCache=l,l.refCount++,w.memoizedState={element:h,isDehydrated:d,cache:l},Dt(w),a}function UE(a){return a?(a=Da,a):Da}function WE(a,l,d,h,b,w){b=UE(b),h.context===null?h.context=b:h.pendingContext=b,h=at(l),h.payload={element:d},w=w===void 0?null:w,w!==null&&(h.callback=w),d=yt(a,h,l),d!==null&&(ms(d,a,l),ct(d,a,l))}function GE(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function ty(a,l){GE(a,l),(a=a.alternate)&&GE(a,l)}function KE(a){if(a.tag===13||a.tag===31){var l=Ci(a,67108864);l!==null&&ms(l,a,67108864),ty(a,67108864)}}function QE(a){if(a.tag===13||a.tag===31){var l=Is();l=Vd(l);var d=Ci(a,l);d!==null&&ms(d,a,l),ty(a,l)}}var cg=!0;function EI(a,l,d,h){var b=W.T;W.T=null;var w=ae.p;try{ae.p=2,ny(a,l,d,h)}finally{ae.p=w,W.T=b}}function kI(a,l,d,h){var b=W.T;W.T=null;var w=ae.p;try{ae.p=8,ny(a,l,d,h)}finally{ae.p=w,W.T=b}}function ny(a,l,d,h){if(cg){var b=iy(h);if(b===null)qv(a,l,h,ug,d),$E(a,h);else if(SI(b,a,l,d,h))h.stopPropagation();else if($E(a,h),l&4&&-1<CI.indexOf(a)){for(;b!==null;){var w=mr(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var A=Us(w.pendingLanes);if(A!==0){var L=w;for(L.pendingLanes|=2,L.entangledLanes|=2;A;){var z=1<<31-ei(A);L.entanglements[1]|=z,A&=~z}ro(w),(qt&6)===0&&(Gp=pe()+500,Wf(0))}}break;case 31:case 13:L=Ci(w,2),L!==null&&ms(L,w,2),Qp(),ty(w,2)}if(w=iy(h),w===null&&qv(a,l,h,ug,d),w===b)break;b=w}b!==null&&h.stopPropagation()}else qv(a,l,h,null,d)}}function iy(a){return a=Kc(a),sy(a)}var ug=null;function sy(a){if(ug=null,a=Bn(a),a!==null){var l=r(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=o(l),a!==null)return a;a=null}else if(d===31){if(a=c(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return ug=a,null}function YE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case Ae:return 2;case xt:return 8;case cn:case Eo:return 32;case Hi:return 268435456;default:return 32}default:return 32}}var ry=!1,tl=null,nl=null,il=null,Zf=new Map,Jf=new Map,sl=[],CI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $E(a,l){switch(a){case"focusin":case"focusout":tl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":Zf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jf.delete(l.pointerId)}}function eh(a,l,d,h,b,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:d,eventSystemFlags:h,nativeEvent:w,targetContainers:[b]},l!==null&&(l=mr(l),l!==null&&KE(l)),a):(a.eventSystemFlags|=h,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function SI(a,l,d,h,b){switch(l){case"focusin":return tl=eh(tl,a,l,d,h,b),!0;case"dragenter":return nl=eh(nl,a,l,d,h,b),!0;case"mouseover":return il=eh(il,a,l,d,h,b),!0;case"pointerover":var w=b.pointerId;return Zf.set(w,eh(Zf.get(w)||null,a,l,d,h,b)),!0;case"gotpointercapture":return w=b.pointerId,Jf.set(w,eh(Jf.get(w)||null,a,l,d,h,b)),!0}return!1}function XE(a){var l=Bn(a.target);if(l!==null){var d=r(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){a.blockedOn=l,zc(a.priority,function(){QE(d)});return}}else if(l===31){if(l=c(d),l!==null){a.blockedOn=l,zc(a.priority,function(){QE(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function dg(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=iy(a.nativeEvent);if(d===null){d=a.nativeEvent;var h=new d.constructor(d.type,d);Ea=h,d.target.dispatchEvent(h),Ea=null}else return l=mr(d),l!==null&&KE(l),a.blockedOn=d,!1;l.shift()}return!0}function ZE(a,l,d){dg(a)&&d.delete(l)}function AI(){ry=!1,tl!==null&&dg(tl)&&(tl=null),nl!==null&&dg(nl)&&(nl=null),il!==null&&dg(il)&&(il=null),Zf.forEach(ZE),Jf.forEach(ZE)}function fg(a,l){a.blockedOn===l&&(a.blockedOn=null,ry||(ry=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,AI)))}var hg=null;function JE(a){hg!==a&&(hg=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){hg===a&&(hg=null);for(var l=0;l<a.length;l+=3){var d=a[l],h=a[l+1],b=a[l+2];if(typeof h!="function"){if(sy(h||d)===null)continue;break}var w=mr(d);w!==null&&(a.splice(l,3),l-=3,iv(w,{pending:!0,data:b,method:d.method,action:h},h,b))}}))}function Su(a){function l(z){return fg(z,a)}tl!==null&&fg(tl,a),nl!==null&&fg(nl,a),il!==null&&fg(il,a),Zf.forEach(l),Jf.forEach(l);for(var d=0;d<sl.length;d++){var h=sl[d];h.blockedOn===a&&(h.blockedOn=null)}for(;0<sl.length&&(d=sl[0],d.blockedOn===null);)XE(d),d.blockedOn===null&&sl.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var b=d[h],w=d[h+1],A=b[Pi]||null;if(typeof w=="function")A||JE(d);else if(A){var L=null;if(w&&w.hasAttribute("formAction")){if(b=w,A=w[Pi]||null)L=A.formAction;else if(sy(b)!==null)continue}else L=A.action;typeof L=="function"?d[h+1]=L:(d.splice(h,3),h-=3),JE(d)}}}function ek(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(A){return b=A})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),h||setTimeout(d,20)}function d(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function oy(a){this._internalRoot=a}mg.prototype.render=oy.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,h=Is();WE(d,h,a,l,null,null)},mg.prototype.unmount=oy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;WE(a.current,2,null,a,null,null),Qp(),l[Hr]=null}};function mg(a){this._internalRoot=a}mg.prototype.unstable_scheduleHydration=function(a){if(a){var l=Um();a={blockedOn:null,target:a,priority:l};for(var d=0;d<sl.length&&l!==0&&l<sl[d].priority;d++);sl.splice(d,0,a),d===0&&XE(a)}};var tk=t.version;if(tk!=="19.2.0")throw Error(n(527,tk,"19.2.0"));ae.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=f(l),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var TI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pg.isDisabled&&pg.supportsFiber)try{is=pg.inject(TI),Un=pg}catch{}}return nh.createRoot=function(a,l){if(!s(a))throw Error(n(299));var d=!1,h="",b=l2,w=c2,A=u2;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError)),l=HE(a,1,!1,null,null,d,h,null,b,w,A,ek),a[Hr]=l.current,zv(a),new oy(l)},nh.hydrateRoot=function(a,l,d){if(!s(a))throw Error(n(299));var h=!1,b="",w=l2,A=c2,L=u2,z=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(A=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.formState!==void 0&&(z=d.formState)),l=HE(a,1,!0,l,d??null,h,b,z,w,A,L,ek),l.context=UE(null),d=l.current,h=Is(),h=Vd(h),b=at(h),b.callback=null,yt(d,b,h),d=h,l.current.lanes=d,Nl(l,d),ro(l),a[Hr]=l.current,zv(a),new mg(l)},nh.version="19.2.0",nh}var fk;function GI(){if(fk)return cy.exports;fk=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),cy.exports=WI(),cy.exports}var KI=GI(),Hg={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var QI=Hg.exports,hk;function YI(){return hk||(hk=1,(function(i,t){(function(e,n){i.exports=n()})(QI,function(){const e=new Map,n={set(N,y,k){e.has(N)||e.set(N,new Map);const j=e.get(N);j.has(y)||j.size===0?j.set(y,k):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(j.keys())[0]}.`)},get:(N,y)=>e.has(N)&&e.get(N).get(y)||null,remove(N,y){if(!e.has(N))return;const k=e.get(N);k.delete(y),k.size===0&&e.delete(N)}},s="transitionend",r=N=>(N&&window.CSS&&window.CSS.escape&&(N=N.replace(/#([^\s"#']+)/g,(y,k)=>`#${CSS.escape(k)}`)),N),o=N=>N==null?`${N}`:Object.prototype.toString.call(N).match(/\s([a-z]+)/i)[1].toLowerCase(),c=N=>{N.dispatchEvent(new Event(s))},u=N=>!(!N||typeof N!="object")&&(N.jquery!==void 0&&(N=N[0]),N.nodeType!==void 0),f=N=>u(N)?N.jquery?N[0]:N:typeof N=="string"&&N.length>0?document.querySelector(r(N)):null,p=N=>{if(!u(N)||N.getClientRects().length===0)return!1;const y=getComputedStyle(N).getPropertyValue("visibility")==="visible",k=N.closest("details:not([open])");if(!k)return y;if(k!==N){const j=N.closest("summary");if(j&&j.parentNode!==k||j===null)return!1}return y},g=N=>!N||N.nodeType!==Node.ELEMENT_NODE||!!N.classList.contains("disabled")||(N.disabled!==void 0?N.disabled:N.hasAttribute("disabled")&&N.getAttribute("disabled")!=="false"),v=N=>{if(!document.documentElement.attachShadow)return null;if(typeof N.getRootNode=="function"){const y=N.getRootNode();return y instanceof ShadowRoot?y:null}return N instanceof ShadowRoot?N:N.parentNode?v(N.parentNode):null},_=()=>{},E=N=>{N.offsetHeight},C=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,T=[],R=()=>document.documentElement.dir==="rtl",P=N=>{var y;y=()=>{const k=C();if(k){const j=N.NAME,G=k.fn[j];k.fn[j]=N.jQueryInterface,k.fn[j].Constructor=N,k.fn[j].noConflict=()=>(k.fn[j]=G,N.jQueryInterface)}},document.readyState==="loading"?(T.length||document.addEventListener("DOMContentLoaded",()=>{for(const k of T)k()}),T.push(y)):y()},B=(N,y=[],k=N)=>typeof N=="function"?N.call(...y):k,V=(N,y,k=!0)=>{if(!k)return void B(N);const j=(se=>{if(!se)return 0;let{transitionDuration:ge,transitionDelay:ke}=window.getComputedStyle(se);const Pe=Number.parseFloat(ge),Le=Number.parseFloat(ke);return Pe||Le?(ge=ge.split(",")[0],ke=ke.split(",")[0],1e3*(Number.parseFloat(ge)+Number.parseFloat(ke))):0})(y)+5;let G=!1;const K=({target:se})=>{se===y&&(G=!0,y.removeEventListener(s,K),B(N))};y.addEventListener(s,K),setTimeout(()=>{G||c(y)},j)},I=(N,y,k,j)=>{const G=N.length;let K=N.indexOf(y);return K===-1?!k&&j?N[G-1]:N[0]:(K+=k?1:-1,j&&(K=(K+G)%G),N[Math.max(0,Math.min(K,G-1))])},M=/[^.]*(?=\..*)\.|.*/,D=/\..*/,F=/::\d+$/,H={};let $=1;const J={mouseenter:"mouseover",mouseleave:"mouseout"},be=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function _e(N,y){return y&&`${y}::${$++}`||N.uidEvent||$++}function re(N){const y=_e(N);return N.uidEvent=y,H[y]=H[y]||{},H[y]}function le(N,y,k=null){return Object.values(N).find(j=>j.callable===y&&j.delegationSelector===k)}function W(N,y,k){const j=typeof y=="string",G=j?k:y||k;let K=Me(N);return be.has(K)||(K=N),[j,G,K]}function ae(N,y,k,j,G){if(typeof y!="string"||!N)return;let[K,se,ge]=W(y,k,j);y in J&&(se=(Je=>function(rt){if(!rt.relatedTarget||rt.relatedTarget!==rt.delegateTarget&&!rt.delegateTarget.contains(rt.relatedTarget))return Je.call(this,rt)})(se));const ke=re(N),Pe=ke[ge]||(ke[ge]={}),Le=le(Pe,se,K?k:null);if(Le)return void(Le.oneOff=Le.oneOff&&G);const Te=_e(se,y.replace(M,"")),lt=K?(function(Ze,Je,rt){return function Xe(Dt){const Ht=Ze.querySelectorAll(Je);for(let{target:at}=Dt;at&&at!==this;at=at.parentNode)for(const yt of Ht)if(yt===at)return Q(Dt,{delegateTarget:at}),Xe.oneOff&&O.off(Ze,Dt.type,Je,rt),rt.apply(at,[Dt])}})(N,k,se):(function(Ze,Je){return function rt(Xe){return Q(Xe,{delegateTarget:Ze}),rt.oneOff&&O.off(Ze,Xe.type,Je),Je.apply(Ze,[Xe])}})(N,se);lt.delegationSelector=K?k:null,lt.callable=se,lt.oneOff=G,lt.uidEvent=Te,Pe[Te]=lt,N.addEventListener(ge,lt,K)}function fe(N,y,k,j,G){const K=le(y[k],j,G);K&&(N.removeEventListener(k,K,!!G),delete y[k][K.uidEvent])}function Se(N,y,k,j){const G=y[k]||{};for(const[K,se]of Object.entries(G))K.includes(j)&&fe(N,y,k,se.callable,se.delegationSelector)}function Me(N){return N=N.replace(D,""),J[N]||N}const O={on(N,y,k,j){ae(N,y,k,j,!1)},one(N,y,k,j){ae(N,y,k,j,!0)},off(N,y,k,j){if(typeof y!="string"||!N)return;const[G,K,se]=W(y,k,j),ge=se!==y,ke=re(N),Pe=ke[se]||{},Le=y.startsWith(".");if(K===void 0){if(Le)for(const Te of Object.keys(ke))Se(N,ke,Te,y.slice(1));for(const[Te,lt]of Object.entries(Pe)){const Ze=Te.replace(F,"");ge&&!y.includes(Ze)||fe(N,ke,se,lt.callable,lt.delegationSelector)}}else{if(!Object.keys(Pe).length)return;fe(N,ke,se,K,G?k:null)}},trigger(N,y,k){if(typeof y!="string"||!N)return null;const j=C();let G=null,K=!0,se=!0,ge=!1;y!==Me(y)&&j&&(G=j.Event(y,k),j(N).trigger(G),K=!G.isPropagationStopped(),se=!G.isImmediatePropagationStopped(),ge=G.isDefaultPrevented());const ke=Q(new Event(y,{bubbles:K,cancelable:!0}),k);return ge&&ke.preventDefault(),se&&N.dispatchEvent(ke),ke.defaultPrevented&&G&&G.preventDefault(),ke}};function Q(N,y={}){for(const[k,j]of Object.entries(y))try{N[k]=j}catch{Object.defineProperty(N,k,{configurable:!0,get:()=>j})}return N}function ce(N){if(N==="true")return!0;if(N==="false")return!1;if(N===Number(N).toString())return Number(N);if(N===""||N==="null")return null;if(typeof N!="string")return N;try{return JSON.parse(decodeURIComponent(N))}catch{return N}}function ve(N){return N.replace(/[A-Z]/g,y=>`-${y.toLowerCase()}`)}const Ne={setDataAttribute(N,y,k){N.setAttribute(`data-bs-${ve(y)}`,k)},removeDataAttribute(N,y){N.removeAttribute(`data-bs-${ve(y)}`)},getDataAttributes(N){if(!N)return{};const y={},k=Object.keys(N.dataset).filter(j=>j.startsWith("bs")&&!j.startsWith("bsConfig"));for(const j of k){let G=j.replace(/^bs/,"");G=G.charAt(0).toLowerCase()+G.slice(1),y[G]=ce(N.dataset[j])}return y},getDataAttribute:(N,y)=>ce(N.getAttribute(`data-bs-${ve(y)}`))};class De{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(y){return y=this._mergeConfigObj(y),y=this._configAfterMerge(y),this._typeCheckConfig(y),y}_configAfterMerge(y){return y}_mergeConfigObj(y,k){const j=u(k)?Ne.getDataAttribute(k,"config"):{};return{...this.constructor.Default,...typeof j=="object"?j:{},...u(k)?Ne.getDataAttributes(k):{},...typeof y=="object"?y:{}}}_typeCheckConfig(y,k=this.constructor.DefaultType){for(const[j,G]of Object.entries(k)){const K=y[j],se=u(K)?"element":o(K);if(!new RegExp(G).test(se))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${j}" provided type "${se}" but expected type "${G}".`)}}}class Ue extends De{constructor(y,k){super(),(y=f(y))&&(this._element=y,this._config=this._getConfig(k),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const y of Object.getOwnPropertyNames(this))this[y]=null}_queueCallback(y,k,j=!0){V(y,k,j)}_getConfig(y){return y=this._mergeConfigObj(y,this._element),y=this._configAfterMerge(y),this._typeCheckConfig(y),y}static getInstance(y){return n.get(f(y),this.DATA_KEY)}static getOrCreateInstance(y,k={}){return this.getInstance(y)||new this(y,typeof k=="object"?k:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(y){return`${y}${this.EVENT_KEY}`}}const kt=N=>{let y=N.getAttribute("data-bs-target");if(!y||y==="#"){let k=N.getAttribute("href");if(!k||!k.includes("#")&&!k.startsWith("."))return null;k.includes("#")&&!k.startsWith("#")&&(k=`#${k.split("#")[1]}`),y=k&&k!=="#"?k.trim():null}return y?y.split(",").map(k=>r(k)).join(","):null},Ee={find:(N,y=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(y,N)),findOne:(N,y=document.documentElement)=>Element.prototype.querySelector.call(y,N),children:(N,y)=>[].concat(...N.children).filter(k=>k.matches(y)),parents(N,y){const k=[];let j=N.parentNode.closest(y);for(;j;)k.push(j),j=j.parentNode.closest(y);return k},prev(N,y){let k=N.previousElementSibling;for(;k;){if(k.matches(y))return[k];k=k.previousElementSibling}return[]},next(N,y){let k=N.nextElementSibling;for(;k;){if(k.matches(y))return[k];k=k.nextElementSibling}return[]},focusableChildren(N){const y=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(k=>`${k}:not([tabindex^="-"])`).join(",");return this.find(y,N).filter(k=>!g(k)&&p(k))},getSelectorFromElement(N){const y=kt(N);return y&&Ee.findOne(y)?y:null},getElementFromSelector(N){const y=kt(N);return y?Ee.findOne(y):null},getMultipleElementsFromSelector(N){const y=kt(N);return y?Ee.find(y):[]}},ln=(N,y="hide")=>{const k=`click.dismiss${N.EVENT_KEY}`,j=N.NAME;O.on(document,k,`[data-bs-dismiss="${j}"]`,function(G){if(["A","AREA"].includes(this.tagName)&&G.preventDefault(),g(this))return;const K=Ee.getElementFromSelector(this)||this.closest(`.${j}`);N.getOrCreateInstance(K)[y]()})},Nn=".bs.alert",Rn=`close${Nn}`,li=`closed${Nn}`;class we extends Ue{static get NAME(){return"alert"}close(){if(O.trigger(this._element,Rn).defaultPrevented)return;this._element.classList.remove("show");const y=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,y)}_destroyElement(){this._element.remove(),O.trigger(this._element,li),this.dispose()}static jQueryInterface(y){return this.each(function(){const k=we.getOrCreateInstance(this);if(typeof y=="string"){if(k[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);k[y](this)}})}}ln(we,"close"),P(we);const ye='[data-bs-toggle="button"]';class Ie extends Ue{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(y){return this.each(function(){const k=Ie.getOrCreateInstance(this);y==="toggle"&&k[y]()})}}O.on(document,"click.bs.button.data-api",ye,N=>{N.preventDefault();const y=N.target.closest(ye);Ie.getOrCreateInstance(y).toggle()}),P(Ie);const xe=".bs.swipe",qe=`touchstart${xe}`,$e=`touchmove${xe}`,ot=`touchend${xe}`,Ct=`pointerdown${xe}`,Kt=`pointerup${xe}`,Xt={endCallback:null,leftCallback:null,rightCallback:null},pe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Re extends De{constructor(y,k){super(),this._element=y,y&&Re.isSupported()&&(this._config=this._getConfig(k),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Xt}static get DefaultType(){return pe}static get NAME(){return"swipe"}dispose(){O.off(this._element,xe)}_start(y){this._supportPointerEvents?this._eventIsPointerPenTouch(y)&&(this._deltaX=y.clientX):this._deltaX=y.touches[0].clientX}_end(y){this._eventIsPointerPenTouch(y)&&(this._deltaX=y.clientX-this._deltaX),this._handleSwipe(),B(this._config.endCallback)}_move(y){this._deltaX=y.touches&&y.touches.length>1?0:y.touches[0].clientX-this._deltaX}_handleSwipe(){const y=Math.abs(this._deltaX);if(y<=40)return;const k=y/this._deltaX;this._deltaX=0,k&&B(k>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,Ct,y=>this._start(y)),O.on(this._element,Kt,y=>this._end(y)),this._element.classList.add("pointer-event")):(O.on(this._element,qe,y=>this._start(y)),O.on(this._element,$e,y=>this._move(y)),O.on(this._element,ot,y=>this._end(y)))}_eventIsPointerPenTouch(y){return this._supportPointerEvents&&(y.pointerType==="pen"||y.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ae=".bs.carousel",xt=".data-api",cn="ArrowLeft",Eo="ArrowRight",Hi="next",qs="prev",Hs="left",is="right",Un=`slide${Ae}`,Ii=`slid${Ae}`,ei=`keydown${Ae}`,Cl=`mouseenter${Ae}`,Sl=`mouseleave${Ae}`,Md=`dragstart${Ae}`,Fc=`load${Ae}${xt}`,Vc=`click${Ae}${xt}`,Al="carousel",Us="active",Tl=".active",ya=".carousel-item",Nb=Tl+ya,zm={[cn]:is,[Eo]:Hs},Fd={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Nl={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class wa extends Ue{constructor(y,k){super(y,k),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ee.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Al&&this.cycle()}static get Default(){return Fd}static get DefaultType(){return Nl}static get NAME(){return"carousel"}next(){this._slide(Hi)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(qs)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?O.one(this._element,Ii,()=>this.cycle()):this.cycle())}to(y){const k=this._getItems();if(y>k.length-1||y<0)return;if(this._isSliding)return void O.one(this._element,Ii,()=>this.to(y));const j=this._getItemIndex(this._getActive());if(j===y)return;const G=y>j?Hi:qs;this._slide(G,k[y])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(y){return y.defaultInterval=y.interval,y}_addEventListeners(){this._config.keyboard&&O.on(this._element,ei,y=>this._keydown(y)),this._config.pause==="hover"&&(O.on(this._element,Cl,()=>this.pause()),O.on(this._element,Sl,()=>this._maybeEnableCycle())),this._config.touch&&Re.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const k of Ee.find(".carousel-item img",this._element))O.on(k,Md,j=>j.preventDefault());const y={leftCallback:()=>this._slide(this._directionToOrder(Hs)),rightCallback:()=>this._slide(this._directionToOrder(is)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Re(this._element,y)}_keydown(y){if(/input|textarea/i.test(y.target.tagName))return;const k=zm[y.key];k&&(y.preventDefault(),this._slide(this._directionToOrder(k)))}_getItemIndex(y){return this._getItems().indexOf(y)}_setActiveIndicatorElement(y){if(!this._indicatorsElement)return;const k=Ee.findOne(Tl,this._indicatorsElement);k.classList.remove(Us),k.removeAttribute("aria-current");const j=Ee.findOne(`[data-bs-slide-to="${y}"]`,this._indicatorsElement);j&&(j.classList.add(Us),j.setAttribute("aria-current","true"))}_updateInterval(){const y=this._activeElement||this._getActive();if(!y)return;const k=Number.parseInt(y.getAttribute("data-bs-interval"),10);this._config.interval=k||this._config.defaultInterval}_slide(y,k=null){if(this._isSliding)return;const j=this._getActive(),G=y===Hi,K=k||I(this._getItems(),j,G,this._config.wrap);if(K===j)return;const se=this._getItemIndex(K),ge=Te=>O.trigger(this._element,Te,{relatedTarget:K,direction:this._orderToDirection(y),from:this._getItemIndex(j),to:se});if(ge(Un).defaultPrevented||!j||!K)return;const ke=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(se),this._activeElement=K;const Pe=G?"carousel-item-start":"carousel-item-end",Le=G?"carousel-item-next":"carousel-item-prev";K.classList.add(Le),E(K),j.classList.add(Pe),K.classList.add(Pe),this._queueCallback(()=>{K.classList.remove(Pe,Le),K.classList.add(Us),j.classList.remove(Us,Le,Pe),this._isSliding=!1,ge(Ii)},j,this._isAnimated()),ke&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Ee.findOne(Nb,this._element)}_getItems(){return Ee.find(ya,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(y){return R()?y===Hs?qs:Hi:y===Hs?Hi:qs}_orderToDirection(y){return R()?y===qs?Hs:is:y===qs?is:Hs}static jQueryInterface(y){return this.each(function(){const k=wa.getOrCreateInstance(this,y);if(typeof y!="number"){if(typeof y=="string"){if(k[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);k[y]()}}else k.to(y)})}}O.on(document,Vc,"[data-bs-slide], [data-bs-slide-to]",function(N){const y=Ee.getElementFromSelector(this);if(!y||!y.classList.contains(Al))return;N.preventDefault();const k=wa.getOrCreateInstance(y),j=this.getAttribute("data-bs-slide-to");return j?(k.to(j),void k._maybeEnableCycle()):Ne.getDataAttribute(this,"slide")==="next"?(k.next(),void k._maybeEnableCycle()):(k.prev(),void k._maybeEnableCycle())}),O.on(window,Fc,()=>{const N=Ee.find('[data-bs-ride="carousel"]');for(const y of N)wa.getOrCreateInstance(y)}),P(wa);const xa=".bs.collapse",qm=`show${xa}`,Hm=`shown${xa}`,Vd=`hide${xa}`,zd=`hidden${xa}`,Um=`click${xa}.data-api`,zc="show",Ui="collapse",Pn="collapsing",Pi=`:scope .${Ui} .${Ui}`,Hr='[data-bs-toggle="collapse"]',qd={parent:null,toggle:!0},Rb={parent:"(null|element)",toggle:"boolean"};class _a extends Ue{constructor(y,k){super(y,k),this._isTransitioning=!1,this._triggerArray=[];const j=Ee.find(Hr);for(const G of j){const K=Ee.getSelectorFromElement(G),se=Ee.find(K).filter(ge=>ge===this._element);K!==null&&se.length&&this._triggerArray.push(G)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return qd}static get DefaultType(){return Rb}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let y=[];if(this._config.parent&&(y=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(G=>G!==this._element).map(G=>_a.getOrCreateInstance(G,{toggle:!1}))),y.length&&y[0]._isTransitioning||O.trigger(this._element,qm).defaultPrevented)return;for(const G of y)G.hide();const k=this._getDimension();this._element.classList.remove(Ui),this._element.classList.add(Pn),this._element.style[k]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const j=`scroll${k[0].toUpperCase()+k.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Pn),this._element.classList.add(Ui,zc),this._element.style[k]="",O.trigger(this._element,Hm)},this._element,!0),this._element.style[k]=`${this._element[j]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,Vd).defaultPrevented)return;const y=this._getDimension();this._element.style[y]=`${this._element.getBoundingClientRect()[y]}px`,E(this._element),this._element.classList.add(Pn),this._element.classList.remove(Ui,zc);for(const k of this._triggerArray){const j=Ee.getElementFromSelector(k);j&&!this._isShown(j)&&this._addAriaAndCollapsedClass([k],!1)}this._isTransitioning=!0,this._element.style[y]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Pn),this._element.classList.add(Ui),O.trigger(this._element,zd)},this._element,!0)}_isShown(y=this._element){return y.classList.contains(zc)}_configAfterMerge(y){return y.toggle=!!y.toggle,y.parent=f(y.parent),y}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const y=this._getFirstLevelChildren(Hr);for(const k of y){const j=Ee.getElementFromSelector(k);j&&this._addAriaAndCollapsedClass([k],this._isShown(j))}}_getFirstLevelChildren(y){const k=Ee.find(Pi,this._config.parent);return Ee.find(y,this._config.parent).filter(j=>!k.includes(j))}_addAriaAndCollapsedClass(y,k){if(y.length)for(const j of y)j.classList.toggle("collapsed",!k),j.setAttribute("aria-expanded",k)}static jQueryInterface(y){const k={};return typeof y=="string"&&/show|hide/.test(y)&&(k.toggle=!1),this.each(function(){const j=_a.getOrCreateInstance(this,k);if(typeof y=="string"){if(j[y]===void 0)throw new TypeError(`No method named "${y}"`);j[y]()}})}}O.on(document,Um,Hr,function(N){(N.target.tagName==="A"||N.delegateTarget&&N.delegateTarget.tagName==="A")&&N.preventDefault();for(const y of Ee.getMultipleElementsFromSelector(this))_a.getOrCreateInstance(y,{toggle:!1}).toggle()}),P(_a);var ci="top",ti="bottom",_i="right",Bn="left",mr="auto",Ws=[ci,ti,_i,Bn],ss="start",pn="end",Hd="clippingParents",qc="viewport",rs="popper",ko="reference",Ud=Ws.reduce(function(N,y){return N.concat([y+"-"+ss,y+"-"+pn])},[]),Hc=[].concat(Ws,[mr]).reduce(function(N,y){return N.concat([y,y+"-"+ss,y+"-"+pn])},[]),Wd="beforeRead",Wm="read",Rl="afterRead",Ol="beforeMain",Gs="main",Wi="afterMain",Gd="beforeWrite",Gm="write",Uc="afterWrite",Kd=[Wd,Wm,Rl,Ol,Gs,Wi,Gd,Gm,Uc];function Gi(N){return N?(N.nodeName||"").toLowerCase():null}function Ki(N){if(N==null)return window;if(N.toString()!=="[object Window]"){var y=N.ownerDocument;return y&&y.defaultView||window}return N}function Wn(N){return N instanceof Ki(N).Element||N instanceof Element}function Bi(N){return N instanceof Ki(N).HTMLElement||N instanceof HTMLElement}function Wc(N){return typeof ShadowRoot<"u"&&(N instanceof Ki(N).ShadowRoot||N instanceof ShadowRoot)}const Il={name:"applyStyles",enabled:!0,phase:"write",fn:function(N){var y=N.state;Object.keys(y.elements).forEach(function(k){var j=y.styles[k]||{},G=y.attributes[k]||{},K=y.elements[k];Bi(K)&&Gi(K)&&(Object.assign(K.style,j),Object.keys(G).forEach(function(se){var ge=G[se];ge===!1?K.removeAttribute(se):K.setAttribute(se,ge===!0?"":ge)}))})},effect:function(N){var y=N.state,k={popper:{position:y.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(y.elements.popper.style,k.popper),y.styles=k,y.elements.arrow&&Object.assign(y.elements.arrow.style,k.arrow),function(){Object.keys(y.elements).forEach(function(j){var G=y.elements[j],K=y.attributes[j]||{},se=Object.keys(y.styles.hasOwnProperty(j)?y.styles[j]:k[j]).reduce(function(ge,ke){return ge[ke]="",ge},{});Bi(G)&&Gi(G)&&(Object.assign(G.style,se),Object.keys(K).forEach(function(ge){G.removeAttribute(ge)}))})}},requires:["computeStyles"]};function Ei(N){return N.split("-")[0]}var Ur=Math.max,Pl=Math.min,As=Math.round;function Qd(){var N=navigator.userAgentData;return N!=null&&N.brands&&Array.isArray(N.brands)?N.brands.map(function(y){return y.brand+"/"+y.version}).join(" "):navigator.userAgent}function Yd(){return!/^((?!chrome|android).)*safari/i.test(Qd())}function Co(N,y,k){y===void 0&&(y=!1),k===void 0&&(k=!1);var j=N.getBoundingClientRect(),G=1,K=1;y&&Bi(N)&&(G=N.offsetWidth>0&&As(j.width)/N.offsetWidth||1,K=N.offsetHeight>0&&As(j.height)/N.offsetHeight||1);var se=(Wn(N)?Ki(N):window).visualViewport,ge=!Yd()&&k,ke=(j.left+(ge&&se?se.offsetLeft:0))/G,Pe=(j.top+(ge&&se?se.offsetTop:0))/K,Le=j.width/G,Te=j.height/K;return{width:Le,height:Te,top:Pe,right:ke+Le,bottom:Pe+Te,left:ke,x:ke,y:Pe}}function Bl(N){var y=Co(N),k=N.offsetWidth,j=N.offsetHeight;return Math.abs(y.width-k)<=1&&(k=y.width),Math.abs(y.height-j)<=1&&(j=y.height),{x:N.offsetLeft,y:N.offsetTop,width:k,height:j}}function Km(N,y){var k=y.getRootNode&&y.getRootNode();if(N.contains(y))return!0;if(k&&Wc(k)){var j=y;do{if(j&&N.isSameNode(j))return!0;j=j.parentNode||j.host}while(j)}return!1}function pr(N){return Ki(N).getComputedStyle(N)}function Gc(N){return["table","td","th"].indexOf(Gi(N))>=0}function ui(N){return((Wn(N)?N.ownerDocument:N.document)||window.document).documentElement}function Ea(N){return Gi(N)==="html"?N:N.assignedSlot||N.parentNode||(Wc(N)?N.host:null)||ui(N)}function Kc(N){return Bi(N)&&pr(N).position!=="fixed"?N.offsetParent:null}function Ks(N){for(var y=Ki(N),k=Kc(N);k&&Gc(k)&&pr(k).position==="static";)k=Kc(k);return k&&(Gi(k)==="html"||Gi(k)==="body"&&pr(k).position==="static")?y:k||(function(j){var G=/firefox/i.test(Qd());if(/Trident/i.test(Qd())&&Bi(j)&&pr(j).position==="fixed")return null;var K=Ea(j);for(Wc(K)&&(K=K.host);Bi(K)&&["html","body"].indexOf(Gi(K))<0;){var se=pr(K);if(se.transform!=="none"||se.perspective!=="none"||se.contain==="paint"||["transform","perspective"].indexOf(se.willChange)!==-1||G&&se.willChange==="filter"||G&&se.filter&&se.filter!=="none")return K;K=K.parentNode}return null})(N)||y}function Wr(N){return["top","bottom"].indexOf(N)>=0?"x":"y"}function ka(N,y,k){return Ur(N,Pl(y,k))}function Qc(N){return Object.assign({},{top:0,right:0,bottom:0,left:0},N)}function $d(N,y){return y.reduce(function(k,j){return k[j]=N,k},{})}const Ca={name:"arrow",enabled:!0,phase:"main",fn:function(N){var y,k=N.state,j=N.name,G=N.options,K=k.elements.arrow,se=k.modifiersData.popperOffsets,ge=Ei(k.placement),ke=Wr(ge),Pe=[Bn,_i].indexOf(ge)>=0?"height":"width";if(K&&se){var Le=(function(It,Ot){return Qc(typeof(It=typeof It=="function"?It(Object.assign({},Ot.rects,{placement:Ot.placement})):It)!="number"?It:$d(It,Ws))})(G.padding,k),Te=Bl(K),lt=ke==="y"?ci:Bn,Ze=ke==="y"?ti:_i,Je=k.rects.reference[Pe]+k.rects.reference[ke]-se[ke]-k.rects.popper[Pe],rt=se[ke]-k.rects.reference[ke],Xe=Ks(K),Dt=Xe?ke==="y"?Xe.clientHeight||0:Xe.clientWidth||0:0,Ht=Je/2-rt/2,at=Le[lt],yt=Dt-Te[Pe]-Le[Ze],ct=Dt/2-Te[Pe]/2+Ht,Et=ka(at,ct,yt),Bt=ke;k.modifiersData[j]=((y={})[Bt]=Et,y.centerOffset=Et-ct,y)}},effect:function(N){var y=N.state,k=N.options.element,j=k===void 0?"[data-popper-arrow]":k;j!=null&&(typeof j!="string"||(j=y.elements.popper.querySelector(j)))&&Km(y.elements.popper,j)&&(y.elements.arrow=j)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Li(N){return N.split("-")[1]}var Xd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sa(N){var y,k=N.popper,j=N.popperRect,G=N.placement,K=N.variation,se=N.offsets,ge=N.position,ke=N.gpuAcceleration,Pe=N.adaptive,Le=N.roundOffsets,Te=N.isFixed,lt=se.x,Ze=lt===void 0?0:lt,Je=se.y,rt=Je===void 0?0:Je,Xe=typeof Le=="function"?Le({x:Ze,y:rt}):{x:Ze,y:rt};Ze=Xe.x,rt=Xe.y;var Dt=se.hasOwnProperty("x"),Ht=se.hasOwnProperty("y"),at=Bn,yt=ci,ct=window;if(Pe){var Et=Ks(k),Bt="clientHeight",It="clientWidth";Et===Ki(k)&&pr(Et=ui(k)).position!=="static"&&ge==="absolute"&&(Bt="scrollHeight",It="scrollWidth"),(G===ci||(G===Bn||G===_i)&&K===pn)&&(yt=ti,rt-=(Te&&Et===ct&&ct.visualViewport?ct.visualViewport.height:Et[Bt])-j.height,rt*=ke?1:-1),G!==Bn&&(G!==ci&&G!==ti||K!==pn)||(at=_i,Ze-=(Te&&Et===ct&&ct.visualViewport?ct.visualViewport.width:Et[It])-j.width,Ze*=ke?1:-1)}var Ot,vn=Object.assign({position:ge},Pe&&Xd),ji=Le===!0?(function(mi,Qn){var Zi=mi.x,Di=mi.y,un=Qn.devicePixelRatio||1;return{x:As(Zi*un)/un||0,y:As(Di*un)/un||0}})({x:Ze,y:rt},Ki(k)):{x:Ze,y:rt};return Ze=ji.x,rt=ji.y,ke?Object.assign({},vn,((Ot={})[yt]=Ht?"0":"",Ot[at]=Dt?"0":"",Ot.transform=(ct.devicePixelRatio||1)<=1?"translate("+Ze+"px, "+rt+"px)":"translate3d("+Ze+"px, "+rt+"px, 0)",Ot)):Object.assign({},vn,((y={})[yt]=Ht?rt+"px":"",y[at]=Dt?Ze+"px":"",y.transform="",y))}const Qs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(N){var y=N.state,k=N.options,j=k.gpuAcceleration,G=j===void 0||j,K=k.adaptive,se=K===void 0||K,ge=k.roundOffsets,ke=ge===void 0||ge,Pe={placement:Ei(y.placement),variation:Li(y.placement),popper:y.elements.popper,popperRect:y.rects.popper,gpuAcceleration:G,isFixed:y.options.strategy==="fixed"};y.modifiersData.popperOffsets!=null&&(y.styles.popper=Object.assign({},y.styles.popper,Sa(Object.assign({},Pe,{offsets:y.modifiersData.popperOffsets,position:y.options.strategy,adaptive:se,roundOffsets:ke})))),y.modifiersData.arrow!=null&&(y.styles.arrow=Object.assign({},y.styles.arrow,Sa(Object.assign({},Pe,{offsets:y.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ke})))),y.attributes.popper=Object.assign({},y.attributes.popper,{"data-popper-placement":y.placement})},data:{}};var Aa={passive:!0};const Ta={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(N){var y=N.state,k=N.instance,j=N.options,G=j.scroll,K=G===void 0||G,se=j.resize,ge=se===void 0||se,ke=Ki(y.elements.popper),Pe=[].concat(y.scrollParents.reference,y.scrollParents.popper);return K&&Pe.forEach(function(Le){Le.addEventListener("scroll",k.update,Aa)}),ge&&ke.addEventListener("resize",k.update,Aa),function(){K&&Pe.forEach(function(Le){Le.removeEventListener("scroll",k.update,Aa)}),ge&&ke.removeEventListener("resize",k.update,Aa)}},data:{}};var Qm={left:"right",right:"left",bottom:"top",top:"bottom"};function So(N){return N.replace(/left|right|bottom|top/g,function(y){return Qm[y]})}var Yc={start:"end",end:"start"};function Zd(N){return N.replace(/start|end/g,function(y){return Yc[y]})}function di(N){var y=Ki(N);return{scrollLeft:y.pageXOffset,scrollTop:y.pageYOffset}}function gr(N){return Co(ui(N)).left+di(N).scrollLeft}function Na(N){var y=pr(N),k=y.overflow,j=y.overflowX,G=y.overflowY;return/auto|scroll|overlay|hidden/.test(k+G+j)}function Ra(N){return["html","body","#document"].indexOf(Gi(N))>=0?N.ownerDocument.body:Bi(N)&&Na(N)?N:Ra(Ea(N))}function Ll(N,y){var k;y===void 0&&(y=[]);var j=Ra(N),G=j===((k=N.ownerDocument)==null?void 0:k.body),K=Ki(j),se=G?[K].concat(K.visualViewport||[],Na(j)?j:[]):j,ge=y.concat(se);return G?ge:ge.concat(Ll(Ea(se)))}function jl(N){return Object.assign({},N,{left:N.x,top:N.y,right:N.x+N.width,bottom:N.y+N.height})}function $c(N,y,k){return y===qc?jl((function(j,G){var K=Ki(j),se=ui(j),ge=K.visualViewport,ke=se.clientWidth,Pe=se.clientHeight,Le=0,Te=0;if(ge){ke=ge.width,Pe=ge.height;var lt=Yd();(lt||!lt&&G==="fixed")&&(Le=ge.offsetLeft,Te=ge.offsetTop)}return{width:ke,height:Pe,x:Le+gr(j),y:Te}})(N,k)):Wn(y)?(function(j,G){var K=Co(j,!1,G==="fixed");return K.top=K.top+j.clientTop,K.left=K.left+j.clientLeft,K.bottom=K.top+j.clientHeight,K.right=K.left+j.clientWidth,K.width=j.clientWidth,K.height=j.clientHeight,K.x=K.left,K.y=K.top,K})(y,k):jl((function(j){var G,K=ui(j),se=di(j),ge=(G=j.ownerDocument)==null?void 0:G.body,ke=Ur(K.scrollWidth,K.clientWidth,ge?ge.scrollWidth:0,ge?ge.clientWidth:0),Pe=Ur(K.scrollHeight,K.clientHeight,ge?ge.scrollHeight:0,ge?ge.clientHeight:0),Le=-se.scrollLeft+gr(j),Te=-se.scrollTop;return pr(ge||K).direction==="rtl"&&(Le+=Ur(K.clientWidth,ge?ge.clientWidth:0)-ke),{width:ke,height:Pe,x:Le,y:Te}})(ui(N)))}function Oa(N){var y,k=N.reference,j=N.element,G=N.placement,K=G?Ei(G):null,se=G?Li(G):null,ge=k.x+k.width/2-j.width/2,ke=k.y+k.height/2-j.height/2;switch(K){case ci:y={x:ge,y:k.y-j.height};break;case ti:y={x:ge,y:k.y+k.height};break;case _i:y={x:k.x+k.width,y:ke};break;case Bn:y={x:k.x-j.width,y:ke};break;default:y={x:k.x,y:k.y}}var Pe=K?Wr(K):null;if(Pe!=null){var Le=Pe==="y"?"height":"width";switch(se){case ss:y[Pe]=y[Pe]-(k[Le]/2-j[Le]/2);break;case pn:y[Pe]=y[Pe]+(k[Le]/2-j[Le]/2)}}return y}function br(N,y){y===void 0&&(y={});var k=y,j=k.placement,G=j===void 0?N.placement:j,K=k.strategy,se=K===void 0?N.strategy:K,ge=k.boundary,ke=ge===void 0?Hd:ge,Pe=k.rootBoundary,Le=Pe===void 0?qc:Pe,Te=k.elementContext,lt=Te===void 0?rs:Te,Ze=k.altBoundary,Je=Ze!==void 0&&Ze,rt=k.padding,Xe=rt===void 0?0:rt,Dt=Qc(typeof Xe!="number"?Xe:$d(Xe,Ws)),Ht=lt===rs?ko:rs,at=N.rects.popper,yt=N.elements[Je?Ht:lt],ct=(function(Qn,Zi,Di,un){var yn=Zi==="clippingParents"?(function(Ut){var wn=Ll(Ea(Ut)),dn=["absolute","fixed"].indexOf(pr(Ut).position)>=0&&Bi(Ut)?Ks(Ut):Ut;return Wn(dn)?wn.filter(function(Wt){return Wn(Wt)&&Km(Wt,dn)&&Gi(Wt)!=="body"}):[]})(Qn):[].concat(Zi),On=[].concat(yn,[Di]),Ji=On[0],jn=On.reduce(function(Ut,wn){var dn=$c(Qn,wn,un);return Ut.top=Ur(dn.top,Ut.top),Ut.right=Pl(dn.right,Ut.right),Ut.bottom=Pl(dn.bottom,Ut.bottom),Ut.left=Ur(dn.left,Ut.left),Ut},$c(Qn,Ji,un));return jn.width=jn.right-jn.left,jn.height=jn.bottom-jn.top,jn.x=jn.left,jn.y=jn.top,jn})(Wn(yt)?yt:yt.contextElement||ui(N.elements.popper),ke,Le,se),Et=Co(N.elements.reference),Bt=Oa({reference:Et,element:at,placement:G}),It=jl(Object.assign({},at,Bt)),Ot=lt===rs?It:Et,vn={top:ct.top-Ot.top+Dt.top,bottom:Ot.bottom-ct.bottom+Dt.bottom,left:ct.left-Ot.left+Dt.left,right:Ot.right-ct.right+Dt.right},ji=N.modifiersData.offset;if(lt===rs&&ji){var mi=ji[G];Object.keys(vn).forEach(function(Qn){var Zi=[_i,ti].indexOf(Qn)>=0?1:-1,Di=[ci,ti].indexOf(Qn)>=0?"y":"x";vn[Qn]+=mi[Di]*Zi})}return vn}function Ym(N,y){y===void 0&&(y={});var k=y,j=k.placement,G=k.boundary,K=k.rootBoundary,se=k.padding,ge=k.flipVariations,ke=k.allowedAutoPlacements,Pe=ke===void 0?Hc:ke,Le=Li(j),Te=Le?ge?Ud:Ud.filter(function(Je){return Li(Je)===Le}):Ws,lt=Te.filter(function(Je){return Pe.indexOf(Je)>=0});lt.length===0&&(lt=Te);var Ze=lt.reduce(function(Je,rt){return Je[rt]=br(N,{placement:rt,boundary:G,rootBoundary:K,padding:se})[Ei(rt)],Je},{});return Object.keys(Ze).sort(function(Je,rt){return Ze[Je]-Ze[rt]})}const $m={name:"flip",enabled:!0,phase:"main",fn:function(N){var y=N.state,k=N.options,j=N.name;if(!y.modifiersData[j]._skip){for(var G=k.mainAxis,K=G===void 0||G,se=k.altAxis,ge=se===void 0||se,ke=k.fallbackPlacements,Pe=k.padding,Le=k.boundary,Te=k.rootBoundary,lt=k.altBoundary,Ze=k.flipVariations,Je=Ze===void 0||Ze,rt=k.allowedAutoPlacements,Xe=y.options.placement,Dt=Ei(Xe),Ht=ke||(Dt!==Xe&&Je?(function(Ut){if(Ei(Ut)===mr)return[];var wn=So(Ut);return[Zd(Ut),wn,Zd(wn)]})(Xe):[So(Xe)]),at=[Xe].concat(Ht).reduce(function(Ut,wn){return Ut.concat(Ei(wn)===mr?Ym(y,{placement:wn,boundary:Le,rootBoundary:Te,padding:Pe,flipVariations:Je,allowedAutoPlacements:rt}):wn)},[]),yt=y.rects.reference,ct=y.rects.popper,Et=new Map,Bt=!0,It=at[0],Ot=0;Ot<at.length;Ot++){var vn=at[Ot],ji=Ei(vn),mi=Li(vn)===ss,Qn=[ci,ti].indexOf(ji)>=0,Zi=Qn?"width":"height",Di=br(y,{placement:vn,boundary:Le,rootBoundary:Te,altBoundary:lt,padding:Pe}),un=Qn?mi?_i:Bn:mi?ti:ci;yt[Zi]>ct[Zi]&&(un=So(un));var yn=So(un),On=[];if(K&&On.push(Di[ji]<=0),ge&&On.push(Di[un]<=0,Di[yn]<=0),On.every(function(Ut){return Ut})){It=vn,Bt=!1;break}Et.set(vn,On)}if(Bt)for(var Ji=function(Ut){var wn=at.find(function(dn){var Wt=Et.get(dn);if(Wt)return Wt.slice(0,Ut).every(function(Io){return Io})});if(wn)return It=wn,"break"},jn=Je?3:1;jn>0&&Ji(jn)!=="break";jn--);y.placement!==It&&(y.modifiersData[j]._skip=!0,y.placement=It,y.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Xm(N,y,k){return k===void 0&&(k={x:0,y:0}),{top:N.top-y.height-k.y,right:N.right-y.width+k.x,bottom:N.bottom-y.height+k.y,left:N.left-y.width-k.x}}function Zm(N){return[ci,_i,ti,Bn].some(function(y){return N[y]>=0})}const Xc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(N){var y=N.state,k=N.name,j=y.rects.reference,G=y.rects.popper,K=y.modifiersData.preventOverflow,se=br(y,{elementContext:"reference"}),ge=br(y,{altBoundary:!0}),ke=Xm(se,j),Pe=Xm(ge,G,K),Le=Zm(ke),Te=Zm(Pe);y.modifiersData[k]={referenceClippingOffsets:ke,popperEscapeOffsets:Pe,isReferenceHidden:Le,hasPopperEscaped:Te},y.attributes.popper=Object.assign({},y.attributes.popper,{"data-popper-reference-hidden":Le,"data-popper-escaped":Te})}},Jm={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(N){var y=N.state,k=N.options,j=N.name,G=k.offset,K=G===void 0?[0,0]:G,se=Hc.reduce(function(Le,Te){return Le[Te]=(function(lt,Ze,Je){var rt=Ei(lt),Xe=[Bn,ci].indexOf(rt)>=0?-1:1,Dt=typeof Je=="function"?Je(Object.assign({},Ze,{placement:lt})):Je,Ht=Dt[0],at=Dt[1];return Ht=Ht||0,at=(at||0)*Xe,[Bn,_i].indexOf(rt)>=0?{x:at,y:Ht}:{x:Ht,y:at}})(Te,y.rects,K),Le},{}),ge=se[y.placement],ke=ge.x,Pe=ge.y;y.modifiersData.popperOffsets!=null&&(y.modifiersData.popperOffsets.x+=ke,y.modifiersData.popperOffsets.y+=Pe),y.modifiersData[j]=se}},Jd={name:"popperOffsets",enabled:!0,phase:"read",fn:function(N){var y=N.state,k=N.name;y.modifiersData[k]=Oa({reference:y.rects.reference,element:y.rects.popper,placement:y.placement})},data:{}},ep={name:"preventOverflow",enabled:!0,phase:"main",fn:function(N){var y=N.state,k=N.options,j=N.name,G=k.mainAxis,K=G===void 0||G,se=k.altAxis,ge=se!==void 0&&se,ke=k.boundary,Pe=k.rootBoundary,Le=k.altBoundary,Te=k.padding,lt=k.tether,Ze=lt===void 0||lt,Je=k.tetherOffset,rt=Je===void 0?0:Je,Xe=br(y,{boundary:ke,rootBoundary:Pe,padding:Te,altBoundary:Le}),Dt=Ei(y.placement),Ht=Li(y.placement),at=!Ht,yt=Wr(Dt),ct=yt==="x"?"y":"x",Et=y.modifiersData.popperOffsets,Bt=y.rects.reference,It=y.rects.popper,Ot=typeof rt=="function"?rt(Object.assign({},y.rects,{placement:y.placement})):rt,vn=typeof Ot=="number"?{mainAxis:Ot,altAxis:Ot}:Object.assign({mainAxis:0,altAxis:0},Ot),ji=y.modifiersData.offset?y.modifiersData.offset[y.placement]:null,mi={x:0,y:0};if(Et){if(K){var Qn,Zi=yt==="y"?ci:Bn,Di=yt==="y"?ti:_i,un=yt==="y"?"height":"width",yn=Et[yt],On=yn+Xe[Zi],Ji=yn-Xe[Di],jn=Ze?-It[un]/2:0,Ut=Ht===ss?Bt[un]:It[un],wn=Ht===ss?-It[un]:-Bt[un],dn=y.elements.arrow,Wt=Ze&&dn?Bl(dn):{width:0,height:0},Io=y.modifiersData["arrow#persistent"]?y.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Js=Io[Zi],dt=Io[Di],Lt=ka(0,Bt[un],Wt[un]),Dn=at?Bt[un]/2-jn-Lt-Js-vn.mainAxis:Ut-Lt-Js-vn.mainAxis,cu=at?-Bt[un]/2+jn+Lt+dt+vn.mainAxis:wn+Lt+dt+vn.mainAxis,io=y.elements.arrow&&Ks(y.elements.arrow),Po=io?yt==="y"?io.clientTop||0:io.clientLeft||0:0,Ql=(Qn=ji==null?void 0:ji[yt])!=null?Qn:0,Yl=yn+cu-Ql,Bo=ka(Ze?Pl(On,yn+Dn-Ql-Po):On,yn,Ze?Ur(Ji,Yl):Ji);Et[yt]=Bo,mi[yt]=Bo-yn}if(ge){var Op,xn=yt==="x"?ci:Bn,If=yt==="x"?ti:_i,kr=Et[ct],$l=ct==="y"?"height":"width",Pf=kr+Xe[xn],Ip=kr-Xe[If],Xl=[ci,Bn].indexOf(Dt)!==-1,uu=(Op=ji==null?void 0:ji[ct])!=null?Op:0,du=Xl?Pf:kr-Bt[$l]-It[$l]-uu+vn.altAxis,pi=Xl?kr+Bt[$l]+It[$l]-uu-vn.altAxis:Ip,_n=Ze&&Xl?(function(fu,Zl,Ga){var hu=ka(fu,Zl,Ga);return hu>Ga?Ga:hu})(du,kr,pi):ka(Ze?du:Pf,kr,Ze?pi:Ip);Et[ct]=_n,mi[ct]=_n-kr}y.modifiersData[j]=mi}},requiresIfExists:["offset"]};function Ob(N,y,k){k===void 0&&(k=!1);var j,G,K=Bi(y),se=Bi(y)&&(function(Te){var lt=Te.getBoundingClientRect(),Ze=As(lt.width)/Te.offsetWidth||1,Je=As(lt.height)/Te.offsetHeight||1;return Ze!==1||Je!==1})(y),ge=ui(y),ke=Co(N,se,k),Pe={scrollLeft:0,scrollTop:0},Le={x:0,y:0};return(K||!K&&!k)&&((Gi(y)!=="body"||Na(ge))&&(Pe=(j=y)!==Ki(j)&&Bi(j)?{scrollLeft:(G=j).scrollLeft,scrollTop:G.scrollTop}:di(j)),Bi(y)?((Le=Co(y,!0)).x+=y.clientLeft,Le.y+=y.clientTop):ge&&(Le.x=gr(ge))),{x:ke.left+Pe.scrollLeft-Le.x,y:ke.top+Pe.scrollTop-Le.y,width:ke.width,height:ke.height}}function Ib(N){var y=new Map,k=new Set,j=[];function G(K){k.add(K.name),[].concat(K.requires||[],K.requiresIfExists||[]).forEach(function(se){if(!k.has(se)){var ge=y.get(se);ge&&G(ge)}}),j.push(K)}return N.forEach(function(K){y.set(K.name,K)}),N.forEach(function(K){k.has(K.name)||G(K)}),j}var ef={placement:"bottom",modifiers:[],strategy:"absolute"};function tp(){for(var N=arguments.length,y=new Array(N),k=0;k<N;k++)y[k]=arguments[k];return!y.some(function(j){return!(j&&typeof j.getBoundingClientRect=="function")})}function Zc(N){N===void 0&&(N={});var y=N,k=y.defaultModifiers,j=k===void 0?[]:k,G=y.defaultOptions,K=G===void 0?ef:G;return function(se,ge,ke){ke===void 0&&(ke=K);var Pe,Le,Te={placement:"bottom",orderedModifiers:[],options:Object.assign({},ef,K),modifiersData:{},elements:{reference:se,popper:ge},attributes:{},styles:{}},lt=[],Ze=!1,Je={state:Te,setOptions:function(Xe){var Dt=typeof Xe=="function"?Xe(Te.options):Xe;rt(),Te.options=Object.assign({},K,Te.options,Dt),Te.scrollParents={reference:Wn(se)?Ll(se):se.contextElement?Ll(se.contextElement):[],popper:Ll(ge)};var Ht,at,yt=(function(ct){var Et=Ib(ct);return Kd.reduce(function(Bt,It){return Bt.concat(Et.filter(function(Ot){return Ot.phase===It}))},[])})((Ht=[].concat(j,Te.options.modifiers),at=Ht.reduce(function(ct,Et){var Bt=ct[Et.name];return ct[Et.name]=Bt?Object.assign({},Bt,Et,{options:Object.assign({},Bt.options,Et.options),data:Object.assign({},Bt.data,Et.data)}):Et,ct},{}),Object.keys(at).map(function(ct){return at[ct]})));return Te.orderedModifiers=yt.filter(function(ct){return ct.enabled}),Te.orderedModifiers.forEach(function(ct){var Et=ct.name,Bt=ct.options,It=Bt===void 0?{}:Bt,Ot=ct.effect;if(typeof Ot=="function"){var vn=Ot({state:Te,name:Et,instance:Je,options:It});lt.push(vn||function(){})}}),Je.update()},forceUpdate:function(){if(!Ze){var Xe=Te.elements,Dt=Xe.reference,Ht=Xe.popper;if(tp(Dt,Ht)){Te.rects={reference:Ob(Dt,Ks(Ht),Te.options.strategy==="fixed"),popper:Bl(Ht)},Te.reset=!1,Te.placement=Te.options.placement,Te.orderedModifiers.forEach(function(Ot){return Te.modifiersData[Ot.name]=Object.assign({},Ot.data)});for(var at=0;at<Te.orderedModifiers.length;at++)if(Te.reset!==!0){var yt=Te.orderedModifiers[at],ct=yt.fn,Et=yt.options,Bt=Et===void 0?{}:Et,It=yt.name;typeof ct=="function"&&(Te=ct({state:Te,options:Bt,name:It,instance:Je})||Te)}else Te.reset=!1,at=-1}}},update:(Pe=function(){return new Promise(function(Xe){Je.forceUpdate(),Xe(Te)})},function(){return Le||(Le=new Promise(function(Xe){Promise.resolve().then(function(){Le=void 0,Xe(Pe())})})),Le}),destroy:function(){rt(),Ze=!0}};if(!tp(se,ge))return Je;function rt(){lt.forEach(function(Xe){return Xe()}),lt=[]}return Je.setOptions(ke).then(function(Xe){!Ze&&ke.onFirstUpdate&&ke.onFirstUpdate(Xe)}),Je}}var Pb=Zc(),Bb=Zc({defaultModifiers:[Ta,Jd,Qs,Il]}),Dl=Zc({defaultModifiers:[Ta,Jd,Qs,Il,Jm,$m,ep,Ca,Xc]});const np=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Wi,afterRead:Rl,afterWrite:Uc,applyStyles:Il,arrow:Ca,auto:mr,basePlacements:Ws,beforeMain:Ol,beforeRead:Wd,beforeWrite:Gd,bottom:ti,clippingParents:Hd,computeStyles:Qs,createPopper:Dl,createPopperBase:Pb,createPopperLite:Bb,detectOverflow:br,end:pn,eventListeners:Ta,flip:$m,hide:Xc,left:Bn,main:Gs,modifierPhases:Kd,offset:Jm,placements:Hc,popper:rs,popperGenerator:Zc,popperOffsets:Jd,preventOverflow:ep,read:Wm,reference:ko,right:_i,start:ss,top:ci,variationPlacements:Ud,viewport:qc,write:Gm},Symbol.toStringTag,{value:"Module"})),ip="dropdown",Ao=".bs.dropdown",Jc=".data-api",Lb="ArrowUp",sp="ArrowDown",jb=`hide${Ao}`,Db=`hidden${Ao}`,Mb=`show${Ao}`,Fb=`shown${Ao}`,rp=`click${Ao}${Jc}`,op=`keydown${Ao}${Jc}`,Vb=`keyup${Ao}${Jc}`,Gr="show",Ts='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',zb=`${Ts}.${Gr}`,Ml=".dropdown-menu",ap=R()?"top-end":"top-start",lp=R()?"top-start":"top-end",cp=R()?"bottom-end":"bottom-start",up=R()?"bottom-start":"bottom-end",Ia=R()?"left-start":"right-start",qb=R()?"right-start":"left-start",Hb={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ub={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class os extends Ue{constructor(y,k){super(y,k),this._popper=null,this._parent=this._element.parentNode,this._menu=Ee.next(this._element,Ml)[0]||Ee.prev(this._element,Ml)[0]||Ee.findOne(Ml,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Hb}static get DefaultType(){return Ub}static get NAME(){return ip}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const y={relatedTarget:this._element};if(!O.trigger(this._element,Mb,y).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const k of[].concat(...document.body.children))O.on(k,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Gr),this._element.classList.add(Gr),O.trigger(this._element,Fb,y)}}hide(){if(g(this._element)||!this._isShown())return;const y={relatedTarget:this._element};this._completeHide(y)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(y){if(!O.trigger(this._element,jb,y).defaultPrevented){if("ontouchstart"in document.documentElement)for(const k of[].concat(...document.body.children))O.off(k,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(Gr),this._element.classList.remove(Gr),this._element.setAttribute("aria-expanded","false"),Ne.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,Db,y)}}_getConfig(y){if(typeof(y=super._getConfig(y)).reference=="object"&&!u(y.reference)&&typeof y.reference.getBoundingClientRect!="function")throw new TypeError(`${ip.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return y}_createPopper(){if(np===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let y=this._element;this._config.reference==="parent"?y=this._parent:u(this._config.reference)?y=f(this._config.reference):typeof this._config.reference=="object"&&(y=this._config.reference);const k=this._getPopperConfig();this._popper=Dl(y,this._menu,k)}_isShown(){return this._menu.classList.contains(Gr)}_getPlacement(){const y=this._parent;if(y.classList.contains("dropend"))return Ia;if(y.classList.contains("dropstart"))return qb;if(y.classList.contains("dropup-center"))return"top";if(y.classList.contains("dropdown-center"))return"bottom";const k=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return y.classList.contains("dropup")?k?lp:ap:k?up:cp}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:y}=this._config;return typeof y=="string"?y.split(",").map(k=>Number.parseInt(k,10)):typeof y=="function"?k=>y(k,this._element):y}_getPopperConfig(){const y={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ne.setDataAttribute(this._menu,"popper","static"),y.modifiers=[{name:"applyStyles",enabled:!1}]),{...y,...B(this._config.popperConfig,[void 0,y])}}_selectMenuItem({key:y,target:k}){const j=Ee.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(G=>p(G));j.length&&I(j,k,y===sp,!j.includes(k)).focus()}static jQueryInterface(y){return this.each(function(){const k=os.getOrCreateInstance(this,y);if(typeof y=="string"){if(k[y]===void 0)throw new TypeError(`No method named "${y}"`);k[y]()}})}static clearMenus(y){if(y.button===2||y.type==="keyup"&&y.key!=="Tab")return;const k=Ee.find(zb);for(const j of k){const G=os.getInstance(j);if(!G||G._config.autoClose===!1)continue;const K=y.composedPath(),se=K.includes(G._menu);if(K.includes(G._element)||G._config.autoClose==="inside"&&!se||G._config.autoClose==="outside"&&se||G._menu.contains(y.target)&&(y.type==="keyup"&&y.key==="Tab"||/input|select|option|textarea|form/i.test(y.target.tagName)))continue;const ge={relatedTarget:G._element};y.type==="click"&&(ge.clickEvent=y),G._completeHide(ge)}}static dataApiKeydownHandler(y){const k=/input|textarea/i.test(y.target.tagName),j=y.key==="Escape",G=[Lb,sp].includes(y.key);if(!G&&!j||k&&!j)return;y.preventDefault();const K=this.matches(Ts)?this:Ee.prev(this,Ts)[0]||Ee.next(this,Ts)[0]||Ee.findOne(Ts,y.delegateTarget.parentNode),se=os.getOrCreateInstance(K);if(G)return y.stopPropagation(),se.show(),void se._selectMenuItem(y);se._isShown()&&(y.stopPropagation(),se.hide(),K.focus())}}O.on(document,op,Ts,os.dataApiKeydownHandler),O.on(document,op,Ml,os.dataApiKeydownHandler),O.on(document,rp,os.clearMenus),O.on(document,Vb,os.clearMenus),O.on(document,rp,Ts,function(N){N.preventDefault(),os.getOrCreateInstance(this).toggle()}),P(os);const tf="backdrop",Pa="show",Ba=`mousedown.bs.${tf}`,Wb={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},eu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class nf extends De{constructor(y){super(),this._config=this._getConfig(y),this._isAppended=!1,this._element=null}static get Default(){return Wb}static get DefaultType(){return eu}static get NAME(){return tf}show(y){if(!this._config.isVisible)return void B(y);this._append();const k=this._getElement();this._config.isAnimated&&E(k),k.classList.add(Pa),this._emulateAnimation(()=>{B(y)})}hide(y){this._config.isVisible?(this._getElement().classList.remove(Pa),this._emulateAnimation(()=>{this.dispose(),B(y)})):B(y)}dispose(){this._isAppended&&(O.off(this._element,Ba),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const y=document.createElement("div");y.className=this._config.className,this._config.isAnimated&&y.classList.add("fade"),this._element=y}return this._element}_configAfterMerge(y){return y.rootElement=f(y.rootElement),y}_append(){if(this._isAppended)return;const y=this._getElement();this._config.rootElement.append(y),O.on(y,Ba,()=>{B(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(y){V(y,this._getElement(),this._config.isAnimated)}}const Fl=".bs.focustrap",sf=`focusin${Fl}`,rf=`keydown.tab${Fl}`,of="backward",dp={autofocus:!0,trapElement:null},fp={autofocus:"boolean",trapElement:"element"};class hp extends De{constructor(y){super(),this._config=this._getConfig(y),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return dp}static get DefaultType(){return fp}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,Fl),O.on(document,sf,y=>this._handleFocusin(y)),O.on(document,rf,y=>this._handleKeydown(y)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,O.off(document,Fl))}_handleFocusin(y){const{trapElement:k}=this._config;if(y.target===document||y.target===k||k.contains(y.target))return;const j=Ee.focusableChildren(k);j.length===0?k.focus():this._lastTabNavDirection===of?j[j.length-1].focus():j[0].focus()}_handleKeydown(y){y.key==="Tab"&&(this._lastTabNavDirection=y.shiftKey?of:"forward")}}const mp=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",pp=".sticky-top",tu="padding-right",gp="margin-right";class ki{constructor(){this._element=document.body}getWidth(){const y=document.documentElement.clientWidth;return Math.abs(window.innerWidth-y)}hide(){const y=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,tu,k=>k+y),this._setElementAttributes(mp,tu,k=>k+y),this._setElementAttributes(pp,gp,k=>k-y)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,tu),this._resetElementAttributes(mp,tu),this._resetElementAttributes(pp,gp)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(y,k,j){const G=this.getWidth();this._applyManipulationCallback(y,K=>{if(K!==this._element&&window.innerWidth>K.clientWidth+G)return;this._saveInitialAttribute(K,k);const se=window.getComputedStyle(K).getPropertyValue(k);K.style.setProperty(k,`${j(Number.parseFloat(se))}px`)})}_saveInitialAttribute(y,k){const j=y.style.getPropertyValue(k);j&&Ne.setDataAttribute(y,k,j)}_resetElementAttributes(y,k){this._applyManipulationCallback(y,j=>{const G=Ne.getDataAttribute(j,k);G!==null?(Ne.removeDataAttribute(j,k),j.style.setProperty(k,G)):j.style.removeProperty(k)})}_applyManipulationCallback(y,k){if(u(y))k(y);else for(const j of Ee.find(y,this._element))k(j)}}const fi=".bs.modal",bp=`hide${fi}`,vp=`hidePrevented${fi}`,af=`hidden${fi}`,lf=`show${fi}`,cf=`shown${fi}`,Gb=`resize${fi}`,La=`click.dismiss${fi}`,uf=`mousedown.dismiss${fi}`,Vl=`keydown.dismiss${fi}`,df=`click${fi}.data-api`,ff="modal-open",Kr="show",Qr="modal-static",hf={backdrop:!0,focus:!0,keyboard:!0},yp={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Qi extends Ue{constructor(y,k){super(y,k),this._dialog=Ee.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ki,this._addEventListeners()}static get Default(){return hf}static get DefaultType(){return yp}static get NAME(){return"modal"}toggle(y){return this._isShown?this.hide():this.show(y)}show(y){this._isShown||this._isTransitioning||O.trigger(this._element,lf,{relatedTarget:y}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ff),this._adjustDialog(),this._backdrop.show(()=>this._showElement(y)))}hide(){this._isShown&&!this._isTransitioning&&(O.trigger(this._element,bp).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Kr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){O.off(window,fi),O.off(this._dialog,fi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new nf({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new hp({trapElement:this._element})}_showElement(y){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const k=Ee.findOne(".modal-body",this._dialog);k&&(k.scrollTop=0),E(this._element),this._element.classList.add(Kr),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,cf,{relatedTarget:y})},this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,Vl,y=>{y.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),O.on(window,Gb,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,uf,y=>{O.one(this._element,La,k=>{this._element===y.target&&this._element===k.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ff),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,af)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(O.trigger(this._element,vp).defaultPrevented)return;const y=this._element.scrollHeight>document.documentElement.clientHeight,k=this._element.style.overflowY;k==="hidden"||this._element.classList.contains(Qr)||(y||(this._element.style.overflowY="hidden"),this._element.classList.add(Qr),this._queueCallback(()=>{this._element.classList.remove(Qr),this._queueCallback(()=>{this._element.style.overflowY=k},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const y=this._element.scrollHeight>document.documentElement.clientHeight,k=this._scrollBar.getWidth(),j=k>0;if(j&&!y){const G=R()?"paddingLeft":"paddingRight";this._element.style[G]=`${k}px`}if(!j&&y){const G=R()?"paddingRight":"paddingLeft";this._element.style[G]=`${k}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(y,k){return this.each(function(){const j=Qi.getOrCreateInstance(this,y);if(typeof y=="string"){if(j[y]===void 0)throw new TypeError(`No method named "${y}"`);j[y](k)}})}}O.on(document,df,'[data-bs-toggle="modal"]',function(N){const y=Ee.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&N.preventDefault(),O.one(y,lf,j=>{j.defaultPrevented||O.one(y,af,()=>{p(this)&&this.focus()})});const k=Ee.findOne(".modal.show");k&&Qi.getInstance(k).hide(),Qi.getOrCreateInstance(y).toggle(this)}),ln(Qi),P(Qi);const Ys=".bs.offcanvas",mf=".data-api",wp=`load${Ys}${mf}`,xp="show",_p="showing",Ep="hiding",pf=".offcanvas.show",kp=`show${Ys}`,gf=`shown${Ys}`,Ns=`hide${Ys}`,zl=`hidePrevented${Ys}`,Yi=`hidden${Ys}`,ja=`resize${Ys}`,bf=`click${Ys}${mf}`,nu=`keydown.dismiss${Ys}`,iu={backdrop:!0,keyboard:!0,scroll:!1},vf={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ci extends Ue{constructor(y,k){super(y,k),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return iu}static get DefaultType(){return vf}static get NAME(){return"offcanvas"}toggle(y){return this._isShown?this.hide():this.show(y)}show(y){this._isShown||O.trigger(this._element,kp,{relatedTarget:y}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new ki().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(_p),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(xp),this._element.classList.remove(_p),O.trigger(this._element,gf,{relatedTarget:y})},this._element,!0))}hide(){this._isShown&&(O.trigger(this._element,Ns).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ep),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(xp,Ep),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ki().reset(),O.trigger(this._element,Yi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const y=!!this._config.backdrop;return new nf({className:"offcanvas-backdrop",isVisible:y,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:y?()=>{this._config.backdrop!=="static"?this.hide():O.trigger(this._element,zl)}:null})}_initializeFocusTrap(){return new hp({trapElement:this._element})}_addEventListeners(){O.on(this._element,nu,y=>{y.key==="Escape"&&(this._config.keyboard?this.hide():O.trigger(this._element,zl))})}static jQueryInterface(y){return this.each(function(){const k=Ci.getOrCreateInstance(this,y);if(typeof y=="string"){if(k[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);k[y](this)}})}}O.on(document,bf,'[data-bs-toggle="offcanvas"]',function(N){const y=Ee.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&N.preventDefault(),g(this))return;O.one(y,Yi,()=>{p(this)&&this.focus()});const k=Ee.findOne(pf);k&&k!==y&&Ci.getInstance(k).hide(),Ci.getOrCreateInstance(y).toggle(this)}),O.on(window,wp,()=>{for(const N of Ee.find(pf))Ci.getOrCreateInstance(N).show()}),O.on(window,ja,()=>{for(const N of Ee.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(N).position!=="fixed"&&Ci.getOrCreateInstance(N).hide()}),ln(Ci),P(Ci);const yf={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},su=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Da=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Kb=(N,y)=>{const k=N.nodeName.toLowerCase();return y.includes(k)?!su.has(k)||!!Da.test(N.nodeValue):y.filter(j=>j instanceof RegExp).some(j=>j.test(k))},$i={allowList:yf,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},wf={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},vr={entry:"(string|element|function|null)",selector:"(string|element)"};class Cp extends De{constructor(y){super(),this._config=this._getConfig(y)}static get Default(){return $i}static get DefaultType(){return wf}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(y=>this._resolvePossibleFunction(y)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(y){return this._checkContent(y),this._config.content={...this._config.content,...y},this}toHtml(){const y=document.createElement("div");y.innerHTML=this._maybeSanitize(this._config.template);for(const[G,K]of Object.entries(this._config.content))this._setContent(y,K,G);const k=y.children[0],j=this._resolvePossibleFunction(this._config.extraClass);return j&&k.classList.add(...j.split(" ")),k}_typeCheckConfig(y){super._typeCheckConfig(y),this._checkContent(y.content)}_checkContent(y){for(const[k,j]of Object.entries(y))super._typeCheckConfig({selector:k,entry:j},vr)}_setContent(y,k,j){const G=Ee.findOne(j,y);G&&((k=this._resolvePossibleFunction(k))?u(k)?this._putElementInTemplate(f(k),G):this._config.html?G.innerHTML=this._maybeSanitize(k):G.textContent=k:G.remove())}_maybeSanitize(y){return this._config.sanitize?(function(k,j,G){if(!k.length)return k;if(G&&typeof G=="function")return G(k);const K=new window.DOMParser().parseFromString(k,"text/html"),se=[].concat(...K.body.querySelectorAll("*"));for(const ge of se){const ke=ge.nodeName.toLowerCase();if(!Object.keys(j).includes(ke)){ge.remove();continue}const Pe=[].concat(...ge.attributes),Le=[].concat(j["*"]||[],j[ke]||[]);for(const Te of Pe)Kb(Te,Le)||ge.removeAttribute(Te.nodeName)}return K.body.innerHTML})(y,this._config.allowList,this._config.sanitizeFn):y}_resolvePossibleFunction(y){return B(y,[void 0,this])}_putElementInTemplate(y,k){if(this._config.html)return k.innerHTML="",void k.append(y);k.textContent=y.textContent}}const ru=new Set(["sanitize","allowList","sanitizeFn"]),yr="fade",Ma="show",Sp=".tooltip-inner",ou=".modal",xf="hide.bs.modal",hi="hover",Yr="focus",$r="click",au={AUTO:"auto",TOP:"top",RIGHT:R()?"left":"right",BOTTOM:"bottom",LEFT:R()?"right":"left"},ql={allowList:yf,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},as={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Gn extends Ue{constructor(y,k){if(np===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(y,k),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ql}static get DefaultType(){return as}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(ou),xf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const y=O.trigger(this._element,this.constructor.eventName("show")),k=(v(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(y.defaultPrevented||!k)return;this._disposePopper();const j=this._getTipElement();this._element.setAttribute("aria-describedby",j.getAttribute("id"));const{container:G}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(G.append(j),O.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(j),j.classList.add(Ma),"ontouchstart"in document.documentElement)for(const K of[].concat(...document.body.children))O.on(K,"mouseover",_);this._queueCallback(()=>{O.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!O.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Ma),"ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))O.off(y,"mouseover",_);this._activeTrigger[$r]=!1,this._activeTrigger[Yr]=!1,this._activeTrigger[hi]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(y){const k=this._getTemplateFactory(y).toHtml();if(!k)return null;k.classList.remove(yr,Ma),k.classList.add(`bs-${this.constructor.NAME}-auto`);const j=(G=>{do G+=Math.floor(1e6*Math.random());while(document.getElementById(G));return G})(this.constructor.NAME).toString();return k.setAttribute("id",j),this._isAnimated()&&k.classList.add(yr),k}setContent(y){this._newContent=y,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(y){return this._templateFactory?this._templateFactory.changeContent(y):this._templateFactory=new Cp({...this._config,content:y,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Sp]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(y){return this.constructor.getOrCreateInstance(y.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(yr)}_isShown(){return this.tip&&this.tip.classList.contains(Ma)}_createPopper(y){const k=B(this._config.placement,[this,y,this._element]),j=au[k.toUpperCase()];return Dl(this._element,y,this._getPopperConfig(j))}_getOffset(){const{offset:y}=this._config;return typeof y=="string"?y.split(",").map(k=>Number.parseInt(k,10)):typeof y=="function"?k=>y(k,this._element):y}_resolvePossibleFunction(y){return B(y,[this._element,this._element])}_getPopperConfig(y){const k={placement:y,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:j=>{this._getTipElement().setAttribute("data-popper-placement",j.state.placement)}}]};return{...k,...B(this._config.popperConfig,[void 0,k])}}_setListeners(){const y=this._config.trigger.split(" ");for(const k of y)if(k==="click")O.on(this._element,this.constructor.eventName("click"),this._config.selector,j=>{const G=this._initializeOnDelegatedTarget(j);G._activeTrigger[$r]=!(G._isShown()&&G._activeTrigger[$r]),G.toggle()});else if(k!=="manual"){const j=k===hi?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),G=k===hi?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");O.on(this._element,j,this._config.selector,K=>{const se=this._initializeOnDelegatedTarget(K);se._activeTrigger[K.type==="focusin"?Yr:hi]=!0,se._enter()}),O.on(this._element,G,this._config.selector,K=>{const se=this._initializeOnDelegatedTarget(K);se._activeTrigger[K.type==="focusout"?Yr:hi]=se._element.contains(K.relatedTarget),se._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(ou),xf,this._hideModalHandler)}_fixTitle(){const y=this._element.getAttribute("title");y&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",y),this._element.setAttribute("data-bs-original-title",y),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(y,k){clearTimeout(this._timeout),this._timeout=setTimeout(y,k)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(y){const k=Ne.getDataAttributes(this._element);for(const j of Object.keys(k))ru.has(j)&&delete k[j];return y={...k,...typeof y=="object"&&y?y:{}},y=this._mergeConfigObj(y),y=this._configAfterMerge(y),this._typeCheckConfig(y),y}_configAfterMerge(y){return y.container=y.container===!1?document.body:f(y.container),typeof y.delay=="number"&&(y.delay={show:y.delay,hide:y.delay}),typeof y.title=="number"&&(y.title=y.title.toString()),typeof y.content=="number"&&(y.content=y.content.toString()),y}_getDelegateConfig(){const y={};for(const[k,j]of Object.entries(this._config))this.constructor.Default[k]!==j&&(y[k]=j);return y.selector=!1,y.trigger="manual",y}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(y){return this.each(function(){const k=Gn.getOrCreateInstance(this,y);if(typeof y=="string"){if(k[y]===void 0)throw new TypeError(`No method named "${y}"`);k[y]()}})}}P(Gn);const Xr=".popover-header",$s=".popover-body",Xs={...Gn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},wr={...Gn.DefaultType,content:"(null|string|element|function)"};class Hl extends Gn{static get Default(){return Xs}static get DefaultType(){return wr}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Xr]:this._getTitle(),[$s]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(y){return this.each(function(){const k=Hl.getOrCreateInstance(this,y);if(typeof y=="string"){if(k[y]===void 0)throw new TypeError(`No method named "${y}"`);k[y]()}})}}P(Hl);const Ul=".bs.scrollspy",_f=`activate${Ul}`,Ef=`click${Ul}`,ni=`load${Ul}.data-api`,jt="active",_t="[href]",xr=".nav-link",ls=`${xr}, .nav-item > ${xr}, .list-group-item`,kf={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Zr={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Fa extends Ue{constructor(y,k){super(y,k),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return kf}static get DefaultType(){return Zr}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const y of this._observableSections.values())this._observer.observe(y)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(y){return y.target=f(y.target)||document.body,y.rootMargin=y.offset?`${y.offset}px 0px -30%`:y.rootMargin,typeof y.threshold=="string"&&(y.threshold=y.threshold.split(",").map(k=>Number.parseFloat(k))),y}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(O.off(this._config.target,Ef),O.on(this._config.target,Ef,_t,y=>{const k=this._observableSections.get(y.target.hash);if(k){y.preventDefault();const j=this._rootElement||window,G=k.offsetTop-this._element.offsetTop;if(j.scrollTo)return void j.scrollTo({top:G,behavior:"smooth"});j.scrollTop=G}}))}_getNewObserver(){const y={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(k=>this._observerCallback(k),y)}_observerCallback(y){const k=se=>this._targetLinks.get(`#${se.target.id}`),j=se=>{this._previousScrollData.visibleEntryTop=se.target.offsetTop,this._process(k(se))},G=(this._rootElement||document.documentElement).scrollTop,K=G>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=G;for(const se of y){if(!se.isIntersecting){this._activeTarget=null,this._clearActiveClass(k(se));continue}const ge=se.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(K&&ge){if(j(se),!G)return}else K||ge||j(se)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const y=Ee.find(_t,this._config.target);for(const k of y){if(!k.hash||g(k))continue;const j=Ee.findOne(decodeURI(k.hash),this._element);p(j)&&(this._targetLinks.set(decodeURI(k.hash),k),this._observableSections.set(k.hash,j))}}_process(y){this._activeTarget!==y&&(this._clearActiveClass(this._config.target),this._activeTarget=y,y.classList.add(jt),this._activateParents(y),O.trigger(this._element,_f,{relatedTarget:y}))}_activateParents(y){if(y.classList.contains("dropdown-item"))Ee.findOne(".dropdown-toggle",y.closest(".dropdown")).classList.add(jt);else for(const k of Ee.parents(y,".nav, .list-group"))for(const j of Ee.prev(k,ls))j.classList.add(jt)}_clearActiveClass(y){y.classList.remove(jt);const k=Ee.find(`${_t}.${jt}`,y);for(const j of k)j.classList.remove(jt)}static jQueryInterface(y){return this.each(function(){const k=Fa.getOrCreateInstance(this,y);if(typeof y=="string"){if(k[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);k[y]()}})}}O.on(window,ni,()=>{for(const N of Ee.find('[data-bs-spy="scroll"]'))Fa.getOrCreateInstance(N)}),P(Fa);const Jr=".bs.tab",Va=`hide${Jr}`,To=`hidden${Jr}`,Cf=`show${Jr}`,Wl=`shown${Jr}`,Sf=`click${Jr}`,No=`keydown${Jr}`,_r=`load${Jr}`,eo="ArrowLeft",Zs="ArrowRight",Af="ArrowUp",lu="ArrowDown",to="Home",Gl="End",Xi="active",Kn="fade",za="show",Tf=".dropdown-toggle",Nf=`:not(${Tf})`,Ap='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Rf=`.nav-link${Nf}, .list-group-item${Nf}, [role="tab"]${Nf}, ${Ap}`,Ln=`.${Xi}[data-bs-toggle="tab"], .${Xi}[data-bs-toggle="pill"], .${Xi}[data-bs-toggle="list"]`;class Er extends Ue{constructor(y){super(y),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,No,k=>this._keydown(k)))}static get NAME(){return"tab"}show(){const y=this._element;if(this._elemIsActive(y))return;const k=this._getActiveElem(),j=k?O.trigger(k,Va,{relatedTarget:y}):null;O.trigger(y,Cf,{relatedTarget:k}).defaultPrevented||j&&j.defaultPrevented||(this._deactivate(k,y),this._activate(y,k))}_activate(y,k){y&&(y.classList.add(Xi),this._activate(Ee.getElementFromSelector(y)),this._queueCallback(()=>{y.getAttribute("role")==="tab"?(y.removeAttribute("tabindex"),y.setAttribute("aria-selected",!0),this._toggleDropDown(y,!0),O.trigger(y,Wl,{relatedTarget:k})):y.classList.add(za)},y,y.classList.contains(Kn)))}_deactivate(y,k){y&&(y.classList.remove(Xi),y.blur(),this._deactivate(Ee.getElementFromSelector(y)),this._queueCallback(()=>{y.getAttribute("role")==="tab"?(y.setAttribute("aria-selected",!1),y.setAttribute("tabindex","-1"),this._toggleDropDown(y,!1),O.trigger(y,To,{relatedTarget:k})):y.classList.remove(za)},y,y.classList.contains(Kn)))}_keydown(y){if(![eo,Zs,Af,lu,to,Gl].includes(y.key))return;y.stopPropagation(),y.preventDefault();const k=this._getChildren().filter(G=>!g(G));let j;if([to,Gl].includes(y.key))j=k[y.key===to?0:k.length-1];else{const G=[Zs,lu].includes(y.key);j=I(k,y.target,G,!0)}j&&(j.focus({preventScroll:!0}),Er.getOrCreateInstance(j).show())}_getChildren(){return Ee.find(Rf,this._parent)}_getActiveElem(){return this._getChildren().find(y=>this._elemIsActive(y))||null}_setInitialAttributes(y,k){this._setAttributeIfNotExists(y,"role","tablist");for(const j of k)this._setInitialAttributesOnChild(j)}_setInitialAttributesOnChild(y){y=this._getInnerElement(y);const k=this._elemIsActive(y),j=this._getOuterElement(y);y.setAttribute("aria-selected",k),j!==y&&this._setAttributeIfNotExists(j,"role","presentation"),k||y.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(y,"role","tab"),this._setInitialAttributesOnTargetPanel(y)}_setInitialAttributesOnTargetPanel(y){const k=Ee.getElementFromSelector(y);k&&(this._setAttributeIfNotExists(k,"role","tabpanel"),y.id&&this._setAttributeIfNotExists(k,"aria-labelledby",`${y.id}`))}_toggleDropDown(y,k){const j=this._getOuterElement(y);if(!j.classList.contains("dropdown"))return;const G=(K,se)=>{const ge=Ee.findOne(K,j);ge&&ge.classList.toggle(se,k)};G(Tf,Xi),G(".dropdown-menu",za),j.setAttribute("aria-expanded",k)}_setAttributeIfNotExists(y,k,j){y.hasAttribute(k)||y.setAttribute(k,j)}_elemIsActive(y){return y.classList.contains(Xi)}_getInnerElement(y){return y.matches(Rf)?y:Ee.findOne(Rf,y)}_getOuterElement(y){return y.closest(".nav-item, .list-group-item")||y}static jQueryInterface(y){return this.each(function(){const k=Er.getOrCreateInstance(this);if(typeof y=="string"){if(k[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);k[y]()}})}}O.on(document,Sf,Ap,function(N){["A","AREA"].includes(this.tagName)&&N.preventDefault(),g(this)||Er.getOrCreateInstance(this).show()}),O.on(window,_r,()=>{for(const N of Ee.find(Ln))Er.getOrCreateInstance(N)}),P(Er);const cs=".bs.toast",Kl=`mouseover${cs}`,Of=`mouseout${cs}`,qa=`focusin${cs}`,Ha=`focusout${cs}`,Qb=`hide${cs}`,Tp=`hidden${cs}`,Yb=`show${cs}`,Np=`shown${cs}`,no="hide",Ua="show",Ro="showing",Rp={animation:"boolean",autohide:"boolean",delay:"number"},Wa={animation:!0,autohide:!0,delay:5e3};class Oo extends Ue{constructor(y,k){super(y,k),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Wa}static get DefaultType(){return Rp}static get NAME(){return"toast"}show(){O.trigger(this._element,Yb).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(no),E(this._element),this._element.classList.add(Ua,Ro),this._queueCallback(()=>{this._element.classList.remove(Ro),O.trigger(this._element,Np),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(O.trigger(this._element,Qb).defaultPrevented||(this._element.classList.add(Ro),this._queueCallback(()=>{this._element.classList.add(no),this._element.classList.remove(Ro,Ua),O.trigger(this._element,Tp)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ua),super.dispose()}isShown(){return this._element.classList.contains(Ua)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(y,k){switch(y.type){case"mouseover":case"mouseout":this._hasMouseInteraction=k;break;case"focusin":case"focusout":this._hasKeyboardInteraction=k}if(k)return void this._clearTimeout();const j=y.relatedTarget;this._element===j||this._element.contains(j)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,Kl,y=>this._onInteraction(y,!0)),O.on(this._element,Of,y=>this._onInteraction(y,!1)),O.on(this._element,qa,y=>this._onInteraction(y,!0)),O.on(this._element,Ha,y=>this._onInteraction(y,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(y){return this.each(function(){const k=Oo.getOrCreateInstance(this,y);if(typeof y=="string"){if(k[y]===void 0)throw new TypeError(`No method named "${y}"`);k[y](this)}})}}return ln(Oo),P(Oo),{Alert:we,Button:Ie,Carousel:wa,Collapse:_a,Dropdown:os,Modal:Qi,Offcanvas:Ci,Popover:Hl,ScrollSpy:Fa,Tab:Er,Toast:Oo,Tooltip:Gn}})})(Hg)),Hg.exports}YI();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mk="popstate";function $I(i={}){function t(n,s){let{pathname:r,search:o,hash:c}=n.location;return pw("",{pathname:r,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(n,s){return typeof s=="string"?s:Hh(s)}return ZI(t,e,null,i)}function An(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function or(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XI(){return Math.random().toString(36).substring(2,10)}function pk(i,t){return{usr:i.state,key:i.key,idx:t}}function pw(i,t,e=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?xd(t):t,state:e,key:t&&t.key||n||XI()}}function Hh({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function xd(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let n=i.indexOf("?");n>=0&&(t.search=i.substring(n),i=i.substring(0,n)),i&&(t.pathname=i)}return t}function ZI(i,t,e,n={}){let{window:s=document.defaultView,v5Compat:r=!1}=n,o=s.history,c="POP",u=null,f=p();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function p(){return(o.state||{idx:null}).idx}function g(){c="POP";let T=p(),R=T==null?null:T-f;f=T,u&&u({action:c,location:C.location,delta:R})}function v(T,R){c="PUSH";let P=pw(C.location,T,R);f=p()+1;let B=pk(P,f),V=C.createHref(P);try{o.pushState(B,"",V)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(V)}r&&u&&u({action:c,location:C.location,delta:1})}function _(T,R){c="REPLACE";let P=pw(C.location,T,R);f=p();let B=pk(P,f),V=C.createHref(P);o.replaceState(B,"",V),r&&u&&u({action:c,location:C.location,delta:0})}function E(T){return JI(T)}let C={get action(){return c},get location(){return i(s,o)},listen(T){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(mk,g),u=T,()=>{s.removeEventListener(mk,g),u=null}},createHref(T){return t(s,T)},createURL:E,encodeLocation(T){let R=E(T);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:_,go(T){return o.go(T)}};return C}function JI(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),An(e,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:Hh(i);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function p3(i,t,e="/"){return eP(i,t,e,!1)}function eP(i,t,e,n){let s=typeof t=="string"?xd(t):t,r=ra(s.pathname||"/",e);if(r==null)return null;let o=g3(i);tP(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=fP(r);c=uP(o[u],f,n)}return c}function g3(i,t=[],e=[],n="",s=!1){let r=(o,c,u=s,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&u)return;An(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=ta([n,p.relativePath]),v=e.concat(p);o.children&&o.children.length>0&&(An(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),g3(o.children,t,v,g,u)),!(o.path==null&&!o.index)&&t.push({path:g,score:lP(g,o.index),routesMeta:v})};return i.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))r(o,c);else for(let f of b3(o.path))r(o,c,!0,f)}),t}function b3(i){let t=i.split("/");if(t.length===0)return[];let[e,...n]=t,s=e.endsWith("?"),r=e.replace(/\?$/,"");if(n.length===0)return s?[r,""]:[r];let o=b3(n.join("/")),c=[];return c.push(...o.map(u=>u===""?r:[r,u].join("/"))),s&&c.push(...o),c.map(u=>i.startsWith("/")&&u===""?"/":u)}function tP(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:cP(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var nP=/^:[\w-]+$/,iP=3,sP=2,rP=1,oP=10,aP=-2,gk=i=>i==="*";function lP(i,t){let e=i.split("/"),n=e.length;return e.some(gk)&&(n+=aP),t&&(n+=sP),e.filter(s=>!gk(s)).reduce((s,r)=>s+(nP.test(r)?iP:r===""?rP:oP),n)}function cP(i,t){return i.length===t.length&&i.slice(0,-1).every((n,s)=>n===t[s])?i[i.length-1]-t[t.length-1]:0}function uP(i,t,e=!1){let{routesMeta:n}=i,s={},r="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],f=c===n.length-1,p=r==="/"?t:t.slice(r.length)||"/",g=l0({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),v=u.route;if(!g&&f&&e&&!n[n.length-1].route.index&&(g=l0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:ta([r,g.pathname]),pathnameBase:bP(ta([r,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(r=ta([r,g.pathnameBase]))}return o}function l0(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,n]=dP(i.path,i.caseSensitive,i.end),s=t.match(e);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let E=c[v]||"";o=r.slice(0,r.length-E.length).replace(/(.)\/+$/,"$1")}const _=c[v];return g&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:r,pathnameBase:o,pattern:i}}function dP(i,t=!1,e=!0){or(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(n.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function fP(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return or(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function ra(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=i.charAt(e);return n&&n!=="/"?null:i.slice(e)||"/"}var hP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mP=i=>hP.test(i);function pP(i,t="/"){let{pathname:e,search:n="",hash:s=""}=typeof i=="string"?xd(i):i,r;if(e)if(mP(e))r=e;else{if(e.includes("//")){let o=e;e=e.replace(/\/\/+/g,"/"),or(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${e}`)}e.startsWith("/")?r=bk(e.substring(1),"/"):r=bk(e,t)}else r=t;return{pathname:r,search:vP(n),hash:yP(s)}}function bk(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function hy(i,t,e,n){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gP(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function T1(i){let t=gP(i);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function N1(i,t,e,n=!1){let s;typeof i=="string"?s=xd(i):(s={...i},An(!s.pathname||!s.pathname.includes("?"),hy("?","pathname","search",s)),An(!s.pathname||!s.pathname.includes("#"),hy("#","pathname","hash",s)),An(!s.search||!s.search.includes("#"),hy("#","search","hash",s)));let r=i===""||s.pathname==="",o=r?"/":s.pathname,c;if(o==null)c=e;else{let g=t.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}c=g>=0?t[g]:"/"}let u=pP(s,c),f=o&&o!=="/"&&o.endsWith("/"),p=(r||o===".")&&e.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var ta=i=>i.join("/").replace(/\/\/+/g,"/"),bP=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),vP=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,yP=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function wP(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var v3=["POST","PUT","PATCH","DELETE"];new Set(v3);var xP=["GET",...v3];new Set(xP);var _d=S.createContext(null);_d.displayName="DataRouter";var U0=S.createContext(null);U0.displayName="DataRouterState";S.createContext(!1);var y3=S.createContext({isTransitioning:!1});y3.displayName="ViewTransition";var _P=S.createContext(new Map);_P.displayName="Fetchers";var EP=S.createContext(null);EP.displayName="Await";var Fr=S.createContext(null);Fr.displayName="Navigation";var bm=S.createContext(null);bm.displayName="Location";var dr=S.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var R1=S.createContext(null);R1.displayName="RouteError";function kP(i,{relative:t}={}){An(Ed(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=S.useContext(Fr),{hash:s,pathname:r,search:o}=vm(i,{relative:t}),c=r;return e!=="/"&&(c=r==="/"?e:ta([e,r])),n.createHref({pathname:c,search:o,hash:s})}function Ed(){return S.useContext(bm)!=null}function ai(){return An(Ed(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(bm).location}var w3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x3(i){S.useContext(Fr).static||S.useLayoutEffect(i)}function zs(){let{isDataRoute:i}=S.useContext(dr);return i?FP():CP()}function CP(){An(Ed(),"useNavigate() may be used only in the context of a <Router> component.");let i=S.useContext(_d),{basename:t,navigator:e}=S.useContext(Fr),{matches:n}=S.useContext(dr),{pathname:s}=ai(),r=JSON.stringify(T1(n)),o=S.useRef(!1);return x3(()=>{o.current=!0}),S.useCallback((u,f={})=>{if(or(o.current,w3),!o.current)return;if(typeof u=="number"){e.go(u);return}let p=N1(u,JSON.parse(r),s,f.relative==="path");i==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ta([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,r,s,i])}var SP=S.createContext(null);function AP(i){let t=S.useContext(dr).outlet;return S.useMemo(()=>t&&S.createElement(SP.Provider,{value:i},t),[t,i])}function xl(){let{matches:i}=S.useContext(dr),t=i[i.length-1];return t?t.params:{}}function vm(i,{relative:t}={}){let{matches:e}=S.useContext(dr),{pathname:n}=ai(),s=JSON.stringify(T1(e));return S.useMemo(()=>N1(i,JSON.parse(s),n,t==="path"),[i,s,n,t])}function TP(i,t){return _3(i,t)}function _3(i,t,e,n,s){var P;An(Ed(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=S.useContext(Fr),{matches:o}=S.useContext(dr),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let B=g&&g.path||"";E3(f,!g||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let v=ai(),_;if(t){let B=typeof t=="string"?xd(t):t;An(p==="/"||((P=B.pathname)==null?void 0:P.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${B.pathname}" was given in the \`location\` prop.`),_=B}else _=v;let E=_.pathname||"/",C=E;if(p!=="/"){let B=p.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(B.length).join("/")}let T=p3(i,{pathname:C});or(g||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),or(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=PP(T&&T.map(B=>Object.assign({},B,{params:Object.assign({},u,B.params),pathname:ta([p,r.encodeLocation?r.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:ta([p,r.encodeLocation?r.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),o,e,n,s);return t&&R?S.createElement(bm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function NP(){let i=MP(),t=wP(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},r={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",i),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:r},"ErrorBoundary")," or"," ",S.createElement("code",{style:r},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),e?S.createElement("pre",{style:s},e):null,o)}var RP=S.createElement(NP,null),OP=class extends S.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.onError?this.props.onError(i,t):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?S.createElement(dr.Provider,{value:this.props.routeContext},S.createElement(R1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IP({routeContext:i,match:t,children:e}){let n=S.useContext(_d);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(dr.Provider,{value:i},e)}function PP(i,t=[],e=null,n=null,s=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let r=i,o=e==null?void 0:e.errors;if(o!=null){let p=r.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);An(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,p+1))}let c=!1,u=-1;if(e)for(let p=0;p<r.length;p++){let g=r[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=p),g.route.id){let{loaderData:v,errors:_}=e,E=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||E){c=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}let f=e&&n?(p,g)=>{var v,_;n(p,{location:e.location,params:((_=(v=e.matches)==null?void 0:v[0])==null?void 0:_.params)??{},errorInfo:g})}:void 0;return r.reduceRight((p,g,v)=>{let _,E=!1,C=null,T=null;e&&(_=o&&g.route.id?o[g.route.id]:void 0,C=g.route.errorElement||RP,c&&(u<0&&v===0?(E3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,T=null):u===v&&(E=!0,T=g.route.hydrateFallbackElement||null)));let R=t.concat(r.slice(0,v+1)),P=()=>{let B;return _?B=C:E?B=T:g.route.Component?B=S.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=p,S.createElement(IP,{match:g,routeContext:{outlet:p,matches:R,isDataRoute:e!=null},children:B})};return e&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?S.createElement(OP,{location:e.location,revalidation:e.revalidation,component:C,error:_,children:P(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:f}):P()},null)}function O1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BP(i){let t=S.useContext(_d);return An(t,O1(i)),t}function LP(i){let t=S.useContext(U0);return An(t,O1(i)),t}function jP(i){let t=S.useContext(dr);return An(t,O1(i)),t}function I1(i){let t=jP(i),e=t.matches[t.matches.length-1];return An(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function DP(){return I1("useRouteId")}function MP(){var n;let i=S.useContext(R1),t=LP("useRouteError"),e=I1("useRouteError");return i!==void 0?i:(n=t.errors)==null?void 0:n[e]}function FP(){let{router:i}=BP("useNavigate"),t=I1("useNavigate"),e=S.useRef(!1);return x3(()=>{e.current=!0}),S.useCallback(async(s,r={})=>{or(e.current,w3),e.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:t,...r}))},[i,t])}var vk={};function E3(i,t,e){!t&&!vk[i]&&(vk[i]=!0,or(!1,e))}S.memo(VP);function VP({routes:i,future:t,state:e,unstable_onError:n}){return _3(i,void 0,e,n,t)}function k3({to:i,replace:t,state:e,relative:n}){An(Ed(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(Fr);or(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=S.useContext(dr),{pathname:o}=ai(),c=zs(),u=N1(i,T1(r),o,n==="path"),f=JSON.stringify(u);return S.useEffect(()=>{c(JSON.parse(f),{replace:t,state:e,relative:n})},[c,f,n,t,e]),null}function c0(i){return AP(i.context)}function $t(i){An(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zP({basename:i="/",children:t=null,location:e,navigationType:n="POP",navigator:s,static:r=!1}){An(!Ed(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=i.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof e=="string"&&(e=xd(e));let{pathname:u="/",search:f="",hash:p="",state:g=null,key:v="default"}=e,_=S.useMemo(()=>{let E=ra(u,o);return E==null?null:{location:{pathname:E,search:f,hash:p,state:g,key:v},navigationType:n}},[o,u,f,p,g,v,n]);return or(_!=null,`<Router basename="${o}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:S.createElement(Fr.Provider,{value:c},S.createElement(bm.Provider,{children:t,value:_}))}function qP({children:i,location:t}){return TP(gw(i),t)}function gw(i,t=[]){let e=[];return S.Children.forEach(i,(n,s)=>{if(!S.isValidElement(n))return;let r=[...t,s];if(n.type===S.Fragment){e.push.apply(e,gw(n.props.children,r));return}An(n.type===$t,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),An(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=gw(n.props.children,r)),e.push(o)}),e}var Ug="get",Wg="application/x-www-form-urlencoded";function W0(i){return i!=null&&typeof i.tagName=="string"}function HP(i){return W0(i)&&i.tagName.toLowerCase()==="button"}function UP(i){return W0(i)&&i.tagName.toLowerCase()==="form"}function WP(i){return W0(i)&&i.tagName.toLowerCase()==="input"}function GP(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function KP(i,t){return i.button===0&&(!t||t==="_self")&&!GP(i)}var gg=null;function QP(){if(gg===null)try{new FormData(document.createElement("form"),0),gg=!1}catch{gg=!0}return gg}var YP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function my(i){return i!=null&&!YP.has(i)?(or(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wg}"`),null):i}function $P(i,t){let e,n,s,r,o;if(UP(i)){let c=i.getAttribute("action");n=c?ra(c,t):null,e=i.getAttribute("method")||Ug,s=my(i.getAttribute("enctype"))||Wg,r=new FormData(i)}else if(HP(i)||WP(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=i.getAttribute("formaction")||c.getAttribute("action");if(n=u?ra(u,t):null,e=i.getAttribute("formmethod")||c.getAttribute("method")||Ug,s=my(i.getAttribute("formenctype"))||my(c.getAttribute("enctype"))||Wg,r=new FormData(c,i),!QP()){let{name:f,type:p,value:g}=i;if(p==="image"){let v=f?`${f}.`:"";r.append(`${v}x`,"0"),r.append(`${v}y`,"0")}else f&&r.append(f,g)}}else{if(W0(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Ug,n=null,s=Wg,o=i}return r&&s==="text/plain"&&(o=r,r=void 0),{action:n,method:e.toLowerCase(),encType:s,formData:r,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function P1(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function XP(i,t,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${e}`:t&&ra(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${e}`,n}async function ZP(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JP(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function eB(i,t,e){let n=await Promise.all(i.map(async s=>{let r=t.routes[s.route.id];if(r){let o=await ZP(r,e);return o.links?o.links():[]}return[]}));return sB(n.flat(1).filter(JP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function yk(i,t,e,n,s,r){let o=(u,f)=>e[f]?u.route.id!==e[f].route.id:!0,c=(u,f)=>{var p;return e[f].pathname!==u.pathname||((p=e[f].route.path)==null?void 0:p.endsWith("*"))&&e[f].params["*"]!==u.params["*"]};return r==="assets"?t.filter((u,f)=>o(u,f)||c(u,f)):r==="data"?t.filter((u,f)=>{var g;let p=n.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(o(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=e[0])==null?void 0:g.params)||{},nextUrl:new URL(i,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function tB(i,t,{includeHydrateFallback:e}={}){return nB(i.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function nB(i){return[...new Set(i)]}function iB(i){let t={},e=Object.keys(i).sort();for(let n of e)t[n]=i[n];return t}function sB(i,t){let e=new Set;return new Set(t),i.reduce((n,s)=>{let r=JSON.stringify(iB(s));return e.has(r)||(e.add(r),n.push({key:r,link:s})),n},[])}function C3(){let i=S.useContext(_d);return P1(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function rB(){let i=S.useContext(U0);return P1(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var B1=S.createContext(void 0);B1.displayName="FrameworkContext";function S3(){let i=S.useContext(B1);return P1(i,"You must render this element inside a <HydratedRouter> element"),i}function oB(i,t){let e=S.useContext(B1),[n,s]=S.useState(!1),[r,o]=S.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,v=S.useRef(null);S.useEffect(()=>{if(i==="render"&&o(!0),i==="viewport"){let C=R=>{R.forEach(P=>{o(P.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[i]),S.useEffect(()=>{if(n){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[n]);let _=()=>{s(!0)},E=()=>{s(!1),o(!1)};return e?i!=="intent"?[r,v,{}]:[r,v,{onFocus:ih(c,_),onBlur:ih(u,E),onMouseEnter:ih(f,_),onMouseLeave:ih(p,E),onTouchStart:ih(g,_)}]:[!1,v,{}]}function ih(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function aB({page:i,...t}){let{router:e}=C3(),n=S.useMemo(()=>p3(e.routes,i,e.basename),[e.routes,i,e.basename]);return n?S.createElement(cB,{page:i,matches:n,...t}):null}function lB(i){let{manifest:t,routeModules:e}=S3(),[n,s]=S.useState([]);return S.useEffect(()=>{let r=!1;return eB(i,t,e).then(o=>{r||s(o)}),()=>{r=!0}},[i,t,e]),n}function cB({page:i,matches:t,...e}){let n=ai(),{manifest:s,routeModules:r}=S3(),{basename:o}=C3(),{loaderData:c,matches:u}=rB(),f=S.useMemo(()=>yk(i,t,u,s,n,"data"),[i,t,u,s,n]),p=S.useMemo(()=>yk(i,t,u,s,n,"assets"),[i,t,u,s,n]),g=S.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let E=new Set,C=!1;if(t.forEach(R=>{var B;let P=s.routes[R.route.id];!P||!P.hasLoader||(!f.some(V=>V.route.id===R.route.id)&&R.route.id in c&&((B=r[R.route.id])!=null&&B.shouldRevalidate)||P.hasClientLoader?C=!0:E.add(R.route.id))}),E.size===0)return[];let T=XP(i,o,"data");return C&&E.size>0&&T.searchParams.set("_routes",t.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[T.pathname+T.search]},[o,c,n,s,f,t,i,r]),v=S.useMemo(()=>tB(p,s),[p,s]),_=lB(p);return S.createElement(S.Fragment,null,g.map(E=>S.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),v.map(E=>S.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),_.map(({key:E,link:C})=>S.createElement("link",{key:E,nonce:e.nonce,...C})))}function uB(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var A3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A3&&(window.__reactRouterVersion="7.9.6")}catch{}function dB({basename:i,children:t,window:e}){let n=S.useRef();n.current==null&&(n.current=$I({window:e,v5Compat:!0}));let s=n.current,[r,o]=S.useState({action:s.action,location:s.location}),c=S.useCallback(u=>{S.startTransition(()=>o(u))},[o]);return S.useLayoutEffect(()=>s.listen(c),[s,c]),S.createElement(zP,{basename:i,children:t,location:r.location,navigationType:r.action,navigator:s})}var T3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=S.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:s,reloadDocument:r,replace:o,state:c,target:u,to:f,preventScrollReset:p,viewTransition:g,...v},_){let{basename:E}=S.useContext(Fr),C=typeof f=="string"&&T3.test(f),T,R=!1;if(typeof f=="string"&&C&&(T=f,A3))try{let H=new URL(window.location.href),$=f.startsWith("//")?new URL(H.protocol+f):new URL(f),J=ra($.pathname,E);$.origin===H.origin&&J!=null?f=J+$.search+$.hash:R=!0}catch{or(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=kP(f,{relative:s}),[B,V,I]=oB(n,v),M=mB(f,{replace:o,state:c,target:u,preventScrollReset:p,relative:s,viewTransition:g});function D(H){t&&t(H),H.defaultPrevented||M(H)}let F=S.createElement("a",{...v,...I,href:T||P,onClick:R||r?t:D,ref:uB(_,V),target:u,"data-discover":!C&&e==="render"?"true":void 0});return B&&!C?S.createElement(S.Fragment,null,F,S.createElement(aB,{page:P})):F});je.displayName="Link";var G0=S.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:s=!1,style:r,to:o,viewTransition:c,children:u,...f},p){let g=vm(o,{relative:f.relative}),v=ai(),_=S.useContext(U0),{navigator:E,basename:C}=S.useContext(Fr),T=_!=null&&yB(g)&&c===!0,R=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,P=v.pathname,B=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;e||(P=P.toLowerCase(),B=B?B.toLowerCase():null,R=R.toLowerCase()),B&&C&&(B=ra(B,C)||B);const V=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let I=P===R||!s&&P.startsWith(R)&&P.charAt(V)==="/",M=B!=null&&(B===R||!s&&B.startsWith(R)&&B.charAt(R.length)==="/"),D={isActive:I,isPending:M,isTransitioning:T},F=I?t:void 0,H;typeof n=="function"?H=n(D):H=[n,I?"active":null,M?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let $=typeof r=="function"?r(D):r;return S.createElement(je,{...f,"aria-current":F,className:H,ref:p,style:$,to:o,viewTransition:c},typeof u=="function"?u(D):u)});G0.displayName="NavLink";var fB=S.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:s,state:r,method:o=Ug,action:c,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:g,...v},_)=>{let E=bB(),C=vB(c,{relative:f}),T=o.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&T3.test(c),P=B=>{if(u&&u(B),B.defaultPrevented)return;B.preventDefault();let V=B.nativeEvent.submitter,I=(V==null?void 0:V.getAttribute("formmethod"))||o;E(V||B.currentTarget,{fetcherKey:t,method:I,navigate:e,replace:s,state:r,relative:f,preventScrollReset:p,viewTransition:g})};return S.createElement("form",{ref:_,method:T,action:C,onSubmit:n?u:P,...v,"data-discover":!R&&i==="render"?"true":void 0})});fB.displayName="Form";function hB(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N3(i){let t=S.useContext(_d);return An(t,hB(i)),t}function mB(i,{target:t,replace:e,state:n,preventScrollReset:s,relative:r,viewTransition:o}={}){let c=zs(),u=ai(),f=vm(i,{relative:r});return S.useCallback(p=>{if(KP(p,t)){p.preventDefault();let g=e!==void 0?e:Hh(u)===Hh(f);c(i,{replace:g,state:n,preventScrollReset:s,relative:r,viewTransition:o})}},[u,c,f,e,n,t,i,s,r,o])}var pB=0,gB=()=>`__${String(++pB)}__`;function bB(){let{router:i}=N3("useSubmit"),{basename:t}=S.useContext(Fr),e=DP();return S.useCallback(async(n,s={})=>{let{action:r,method:o,encType:c,formData:u,body:f}=$P(n,t);if(s.navigate===!1){let p=s.fetcherKey||gB();await i.fetch(p,e,s.action||r,{preventScrollReset:s.preventScrollReset,formData:u,body:f,formMethod:s.method||o,formEncType:s.encType||c,flushSync:s.flushSync})}else await i.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:u,body:f,formMethod:s.method||o,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,t,e])}function vB(i,{relative:t}={}){let{basename:e}=S.useContext(Fr),n=S.useContext(dr);An(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),r={...vm(i||".",{relative:t})},o=ai();if(i==null){r.search=o.search;let c=new URLSearchParams(r.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();r.search=p?`?${p}`:""}}return(!i||i===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(r.pathname=r.pathname==="/"?e:ta([e,r.pathname])),Hh(r)}function yB(i,{relative:t}={}){let e=S.useContext(y3);An(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=N3("useViewTransitionState"),s=vm(i,{relative:t});if(!e.isTransitioning)return!1;let r=ra(e.currentLocation.pathname,n)||e.currentLocation.pathname,o=ra(e.nextLocation.pathname,n)||e.nextLocation.pathname;return l0(s.pathname,o)!=null||l0(s.pathname,r)!=null}var wB=m3();const pc=wl(wB);function si(i,t){if(Array.isArray(i))return[...t];if(typeof i=="number"||typeof i=="string"||i===null||i===void 0)return t;if(typeof i=="object")return{...t}}function R3(i,t){return function(){return i.apply(t,arguments)}}const{toString:xB}=Object.prototype,{getPrototypeOf:L1}=Object,{iterator:K0,toStringTag:O3}=Symbol,Q0=(i=>t=>{const e=xB.call(t);return i[e]||(i[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Vr=i=>(i=i.toLowerCase(),t=>Q0(t)===i),Y0=i=>t=>typeof t===i,{isArray:kd}=Array,id=Y0("undefined");function ym(i){return i!==null&&!id(i)&&i.constructor!==null&&!id(i.constructor)&&vs(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const I3=Vr("ArrayBuffer");function _B(i){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&I3(i.buffer),t}const EB=Y0("string"),vs=Y0("function"),P3=Y0("number"),wm=i=>i!==null&&typeof i=="object",kB=i=>i===!0||i===!1,Gg=i=>{if(Q0(i)!=="object")return!1;const t=L1(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(O3 in i)&&!(K0 in i)},CB=i=>{if(!wm(i)||ym(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},SB=Vr("Date"),AB=Vr("File"),TB=Vr("Blob"),NB=Vr("FileList"),RB=i=>wm(i)&&vs(i.pipe),OB=i=>{let t;return i&&(typeof FormData=="function"&&i instanceof FormData||vs(i.append)&&((t=Q0(i))==="formdata"||t==="object"&&vs(i.toString)&&i.toString()==="[object FormData]"))},IB=Vr("URLSearchParams"),[PB,BB,LB,jB]=["ReadableStream","Request","Response","Headers"].map(Vr),DB=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xm(i,t,{allOwnKeys:e=!1}={}){if(i===null||typeof i>"u")return;let n,s;if(typeof i!="object"&&(i=[i]),kd(i))for(n=0,s=i.length;n<s;n++)t.call(null,i[n],n,i);else{if(ym(i))return;const r=e?Object.getOwnPropertyNames(i):Object.keys(i),o=r.length;let c;for(n=0;n<o;n++)c=r[n],t.call(null,i[c],c,i)}}function B3(i,t){if(ym(i))return null;t=t.toLowerCase();const e=Object.keys(i);let n=e.length,s;for(;n-- >0;)if(s=e[n],t===s.toLowerCase())return s;return null}const gc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,L3=i=>!id(i)&&i!==gc;function bw(){const{caseless:i,skipUndefined:t}=L3(this)&&this||{},e={},n=(s,r)=>{const o=i&&B3(e,r)||r;Gg(e[o])&&Gg(s)?e[o]=bw(e[o],s):Gg(s)?e[o]=bw({},s):kd(s)?e[o]=s.slice():(!t||!id(s))&&(e[o]=s)};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&xm(arguments[s],n);return e}const MB=(i,t,e,{allOwnKeys:n}={})=>(xm(t,(s,r)=>{e&&vs(s)?i[r]=R3(s,e):i[r]=s},{allOwnKeys:n}),i),FB=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),VB=(i,t,e,n)=>{i.prototype=Object.create(t.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:t.prototype}),e&&Object.assign(i.prototype,e)},zB=(i,t,e,n)=>{let s,r,o;const c={};if(t=t||{},i==null)return t;do{for(s=Object.getOwnPropertyNames(i),r=s.length;r-- >0;)o=s[r],(!n||n(o,i,t))&&!c[o]&&(t[o]=i[o],c[o]=!0);i=e!==!1&&L1(i)}while(i&&(!e||e(i,t))&&i!==Object.prototype);return t},qB=(i,t,e)=>{i=String(i),(e===void 0||e>i.length)&&(e=i.length),e-=t.length;const n=i.indexOf(t,e);return n!==-1&&n===e},HB=i=>{if(!i)return null;if(kd(i))return i;let t=i.length;if(!P3(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=i[t];return e},UB=(i=>t=>i&&t instanceof i)(typeof Uint8Array<"u"&&L1(Uint8Array)),WB=(i,t)=>{const n=(i&&i[K0]).call(i);let s;for(;(s=n.next())&&!s.done;){const r=s.value;t.call(i,r[0],r[1])}},GB=(i,t)=>{let e;const n=[];for(;(e=i.exec(t))!==null;)n.push(e);return n},KB=Vr("HTMLFormElement"),QB=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,s){return n.toUpperCase()+s}),wk=(({hasOwnProperty:i})=>(t,e)=>i.call(t,e))(Object.prototype),YB=Vr("RegExp"),j3=(i,t)=>{const e=Object.getOwnPropertyDescriptors(i),n={};xm(e,(s,r)=>{let o;(o=t(s,r,i))!==!1&&(n[r]=o||s)}),Object.defineProperties(i,n)},$B=i=>{j3(i,(t,e)=>{if(vs(i)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=i[e];if(vs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},XB=(i,t)=>{const e={},n=s=>{s.forEach(r=>{e[r]=!0})};return kd(i)?n(i):n(String(i).split(t)),e},ZB=()=>{},JB=(i,t)=>i!=null&&Number.isFinite(i=+i)?i:t;function eL(i){return!!(i&&vs(i.append)&&i[O3]==="FormData"&&i[K0])}const tL=i=>{const t=new Array(10),e=(n,s)=>{if(wm(n)){if(t.indexOf(n)>=0)return;if(ym(n))return n;if(!("toJSON"in n)){t[s]=n;const r=kd(n)?[]:{};return xm(n,(o,c)=>{const u=e(o,s+1);!id(u)&&(r[c]=u)}),t[s]=void 0,r}}return n};return e(i,0)},nL=Vr("AsyncFunction"),iL=i=>i&&(wm(i)||vs(i))&&vs(i.then)&&vs(i.catch),D3=((i,t)=>i?setImmediate:t?((e,n)=>(gc.addEventListener("message",({source:s,data:r})=>{s===gc&&r===e&&n.length&&n.shift()()},!1),s=>{n.push(s),gc.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",vs(gc.postMessage)),sL=typeof queueMicrotask<"u"?queueMicrotask.bind(gc):typeof process<"u"&&process.nextTick||D3,rL=i=>i!=null&&vs(i[K0]),ne={isArray:kd,isArrayBuffer:I3,isBuffer:ym,isFormData:OB,isArrayBufferView:_B,isString:EB,isNumber:P3,isBoolean:kB,isObject:wm,isPlainObject:Gg,isEmptyObject:CB,isReadableStream:PB,isRequest:BB,isResponse:LB,isHeaders:jB,isUndefined:id,isDate:SB,isFile:AB,isBlob:TB,isRegExp:YB,isFunction:vs,isStream:RB,isURLSearchParams:IB,isTypedArray:UB,isFileList:NB,forEach:xm,merge:bw,extend:MB,trim:DB,stripBOM:FB,inherits:VB,toFlatObject:zB,kindOf:Q0,kindOfTest:Vr,endsWith:qB,toArray:HB,forEachEntry:WB,matchAll:GB,isHTMLForm:KB,hasOwnProperty:wk,hasOwnProp:wk,reduceDescriptors:j3,freezeMethods:$B,toObjectSet:XB,toCamelCase:QB,noop:ZB,toFiniteNumber:JB,findKey:B3,global:gc,isContextDefined:L3,isSpecCompliantForm:eL,toJSONObject:tL,isAsyncFn:nL,isThenable:iL,setImmediate:D3,asap:sL,isIterable:rL};function pt(i,t,e,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}ne.inherits(pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const M3=pt.prototype,F3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{F3[i]={value:i}});Object.defineProperties(pt,F3);Object.defineProperty(M3,"isAxiosError",{value:!0});pt.from=(i,t,e,n,s,r)=>{const o=Object.create(M3);ne.toFlatObject(i,o,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const c=i&&i.message?i.message:"Error",u=t==null&&i?i.code:t;return pt.call(o,c,u,e,n,s),i&&o.cause==null&&Object.defineProperty(o,"cause",{value:i,configurable:!0}),o.name=i&&i.name||"Error",r&&Object.assign(o,r),o};const oL=null;function vw(i){return ne.isPlainObject(i)||ne.isArray(i)}function V3(i){return ne.endsWith(i,"[]")?i.slice(0,-2):i}function xk(i,t,e){return i?i.concat(t).map(function(s,r){return s=V3(s),!e&&r?"["+s+"]":s}).join(e?".":""):t}function aL(i){return ne.isArray(i)&&!i.some(vw)}const lL=ne.toFlatObject(ne,{},null,function(t){return/^is[A-Z]/.test(t)});function $0(i,t,e){if(!ne.isObject(i))throw new TypeError("target must be an object");t=t||new FormData,e=ne.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,T){return!ne.isUndefined(T[C])});const n=e.metaTokens,s=e.visitor||p,r=e.dots,o=e.indexes,u=(e.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(t);if(!ne.isFunction(s))throw new TypeError("visitor must be a function");function f(E){if(E===null)return"";if(ne.isDate(E))return E.toISOString();if(ne.isBoolean(E))return E.toString();if(!u&&ne.isBlob(E))throw new pt("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(E)||ne.isTypedArray(E)?u&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function p(E,C,T){let R=E;if(E&&!T&&typeof E=="object"){if(ne.endsWith(C,"{}"))C=n?C:C.slice(0,-2),E=JSON.stringify(E);else if(ne.isArray(E)&&aL(E)||(ne.isFileList(E)||ne.endsWith(C,"[]"))&&(R=ne.toArray(E)))return C=V3(C),R.forEach(function(B,V){!(ne.isUndefined(B)||B===null)&&t.append(o===!0?xk([C],V,r):o===null?C:C+"[]",f(B))}),!1}return vw(E)?!0:(t.append(xk(T,C,r),f(E)),!1)}const g=[],v=Object.assign(lL,{defaultVisitor:p,convertValue:f,isVisitable:vw});function _(E,C){if(!ne.isUndefined(E)){if(g.indexOf(E)!==-1)throw Error("Circular reference detected in "+C.join("."));g.push(E),ne.forEach(E,function(R,P){(!(ne.isUndefined(R)||R===null)&&s.call(t,R,ne.isString(P)?P.trim():P,C,v))===!0&&_(R,C?C.concat(P):[P])}),g.pop()}}if(!ne.isObject(i))throw new TypeError("data must be an object");return _(i),t}function _k(i){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function j1(i,t){this._pairs=[],i&&$0(i,this,t)}const z3=j1.prototype;z3.append=function(t,e){this._pairs.push([t,e])};z3.toString=function(t){const e=t?function(n){return t.call(this,n,_k)}:_k;return this._pairs.map(function(s){return e(s[0])+"="+e(s[1])},"").join("&")};function cL(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function q3(i,t,e){if(!t)return i;const n=e&&e.encode||cL;ne.isFunction(e)&&(e={serialize:e});const s=e&&e.serialize;let r;if(s?r=s(t,e):r=ne.isURLSearchParams(t)?t.toString():new j1(t,e).toString(n),r){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+r}return i}class Ek{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ne.forEach(this.handlers,function(n){n!==null&&t(n)})}}const H3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uL=typeof URLSearchParams<"u"?URLSearchParams:j1,dL=typeof FormData<"u"?FormData:null,fL=typeof Blob<"u"?Blob:null,hL={isBrowser:!0,classes:{URLSearchParams:uL,FormData:dL,Blob:fL},protocols:["http","https","file","blob","url","data"]},D1=typeof window<"u"&&typeof document<"u",yw=typeof navigator=="object"&&navigator||void 0,mL=D1&&(!yw||["ReactNative","NativeScript","NS"].indexOf(yw.product)<0),pL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gL=D1&&window.location.href||"http://localhost",bL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:D1,hasStandardBrowserEnv:mL,hasStandardBrowserWebWorkerEnv:pL,navigator:yw,origin:gL},Symbol.toStringTag,{value:"Module"})),zi={...bL,...hL};function vL(i,t){return $0(i,new zi.classes.URLSearchParams,{visitor:function(e,n,s,r){return zi.isNode&&ne.isBuffer(e)?(this.append(n,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function yL(i){return ne.matchAll(/\w+|\[(\w*)]/g,i).map(t=>t[0]==="[]"?"":t[1]||t[0])}function wL(i){const t={},e=Object.keys(i);let n;const s=e.length;let r;for(n=0;n<s;n++)r=e[n],t[r]=i[r];return t}function U3(i){function t(e,n,s,r){let o=e[r++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=r>=e.length;return o=!o&&ne.isArray(s)?s.length:o,u?(ne.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!c):((!s[o]||!ne.isObject(s[o]))&&(s[o]=[]),t(e,n,s[o],r)&&ne.isArray(s[o])&&(s[o]=wL(s[o])),!c)}if(ne.isFormData(i)&&ne.isFunction(i.entries)){const e={};return ne.forEachEntry(i,(n,s)=>{t(yL(n),s,e,0)}),e}return null}function xL(i,t,e){if(ne.isString(i))try{return(t||JSON.parse)(i),ne.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(i)}const _m={transitional:H3,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",s=n.indexOf("application/json")>-1,r=ne.isObject(t);if(r&&ne.isHTMLForm(t)&&(t=new FormData(t)),ne.isFormData(t))return s?JSON.stringify(U3(t)):t;if(ne.isArrayBuffer(t)||ne.isBuffer(t)||ne.isStream(t)||ne.isFile(t)||ne.isBlob(t)||ne.isReadableStream(t))return t;if(ne.isArrayBufferView(t))return t.buffer;if(ne.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return vL(t,this.formSerializer).toString();if((c=ne.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return $0(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return r||s?(e.setContentType("application/json",!1),xL(t)):t}],transformResponse:[function(t){const e=this.transitional||_m.transitional,n=e&&e.forcedJSONParsing,s=this.responseType==="json";if(ne.isResponse(t)||ne.isReadableStream(t))return t;if(t&&ne.isString(t)&&(n&&!this.responseType||s)){const o=!(e&&e.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?pt.from(c,pt.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zi.classes.FormData,Blob:zi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],i=>{_m.headers[i]={}});const _L=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),EL=i=>{const t={};let e,n,s;return i&&i.split(`
`).forEach(function(o){s=o.indexOf(":"),e=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!e||t[e]&&_L[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t},kk=Symbol("internals");function sh(i){return i&&String(i).trim().toLowerCase()}function Kg(i){return i===!1||i==null?i:ne.isArray(i)?i.map(Kg):String(i)}function kL(i){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(i);)t[n[1]]=n[2];return t}const CL=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function py(i,t,e,n,s){if(ne.isFunction(n))return n.call(this,t,e);if(s&&(t=e),!!ne.isString(t)){if(ne.isString(n))return t.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(t)}}function SL(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function AL(i,t){const e=ne.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+e,{value:function(s,r,o){return this[n].call(this,t,s,r,o)},configurable:!0})})}let ys=class{constructor(t){t&&this.set(t)}set(t,e,n){const s=this;function r(c,u,f){const p=sh(u);if(!p)throw new Error("header name must be a non-empty string");const g=ne.findKey(s,p);(!g||s[g]===void 0||f===!0||f===void 0&&s[g]!==!1)&&(s[g||u]=Kg(c))}const o=(c,u)=>ne.forEach(c,(f,p)=>r(f,p,u));if(ne.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(ne.isString(t)&&(t=t.trim())&&!CL(t))o(EL(t),e);else if(ne.isObject(t)&&ne.isIterable(t)){let c={},u,f;for(const p of t){if(!ne.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[f=p[0]]=(u=c[f])?ne.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}o(c,e)}else t!=null&&r(e,t,n);return this}get(t,e){if(t=sh(t),t){const n=ne.findKey(this,t);if(n){const s=this[n];if(!e)return s;if(e===!0)return kL(s);if(ne.isFunction(e))return e.call(this,s,n);if(ne.isRegExp(e))return e.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=sh(t),t){const n=ne.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||py(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let s=!1;function r(o){if(o=sh(o),o){const c=ne.findKey(n,o);c&&(!e||py(n,n[c],c,e))&&(delete n[c],s=!0)}}return ne.isArray(t)?t.forEach(r):r(t),s}clear(t){const e=Object.keys(this);let n=e.length,s=!1;for(;n--;){const r=e[n];(!t||py(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){const e=this,n={};return ne.forEach(this,(s,r)=>{const o=ne.findKey(n,r);if(o){e[o]=Kg(s),delete e[r];return}const c=t?SL(r):String(r).trim();c!==r&&delete e[r],e[c]=Kg(s),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return ne.forEach(this,(n,s)=>{n!=null&&n!==!1&&(e[s]=t&&ne.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[kk]=this[kk]={accessors:{}}).accessors,s=this.prototype;function r(o){const c=sh(o);n[c]||(AL(s,o),n[c]=!0)}return ne.isArray(t)?t.forEach(r):r(t),this}};ys.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(ys.prototype,({value:i},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(n){this[e]=n}}});ne.freezeMethods(ys);function gy(i,t){const e=this||_m,n=t||e,s=ys.from(n.headers);let r=n.data;return ne.forEach(i,function(c){r=c.call(e,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function W3(i){return!!(i&&i.__CANCEL__)}function Cd(i,t,e){pt.call(this,i??"canceled",pt.ERR_CANCELED,t,e),this.name="CanceledError"}ne.inherits(Cd,pt,{__CANCEL__:!0});function G3(i,t,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?i(e):t(new pt("Request failed with status code "+e.status,[pt.ERR_BAD_REQUEST,pt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function TL(i){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return t&&t[1]||""}function NL(i,t){i=i||10;const e=new Array(i),n=new Array(i);let s=0,r=0,o;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),p=n[r];o||(o=f),e[s]=u,n[s]=f;let g=r,v=0;for(;g!==s;)v+=e[g++],g=g%i;if(s=(s+1)%i,s===r&&(r=(r+1)%i),f-o<t)return;const _=p&&f-p;return _?Math.round(v*1e3/_):void 0}}function RL(i,t){let e=0,n=1e3/t,s,r;const o=(f,p=Date.now())=>{e=p,s=null,r&&(clearTimeout(r),r=null),i(...f)};return[(...f)=>{const p=Date.now(),g=p-e;g>=n?o(f,p):(s=f,r||(r=setTimeout(()=>{r=null,o(s)},n-g)))},()=>s&&o(s)]}const u0=(i,t,e=3)=>{let n=0;const s=NL(50,250);return RL(r=>{const o=r.loaded,c=r.lengthComputable?r.total:void 0,u=o-n,f=s(u),p=o<=c;n=o;const g={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:f||void 0,estimated:f&&c&&p?(c-o)/f:void 0,event:r,lengthComputable:c!=null,[t?"download":"upload"]:!0};i(g)},e)},Ck=(i,t)=>{const e=i!=null;return[n=>t[0]({lengthComputable:e,total:i,loaded:n}),t[1]]},Sk=i=>(...t)=>ne.asap(()=>i(...t)),OL=zi.hasStandardBrowserEnv?((i,t)=>e=>(e=new URL(e,zi.origin),i.protocol===e.protocol&&i.host===e.host&&(t||i.port===e.port)))(new URL(zi.origin),zi.navigator&&/(msie|trident)/i.test(zi.navigator.userAgent)):()=>!0,IL=zi.hasStandardBrowserEnv?{write(i,t,e,n,s,r,o){if(typeof document>"u")return;const c=[`${i}=${encodeURIComponent(t)}`];ne.isNumber(e)&&c.push(`expires=${new Date(e).toUTCString()}`),ne.isString(n)&&c.push(`path=${n}`),ne.isString(s)&&c.push(`domain=${s}`),r===!0&&c.push("secure"),ne.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(i){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+i+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(i){this.write(i,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function PL(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function BL(i,t){return t?i.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):i}function K3(i,t,e){let n=!PL(t);return i&&(n||e==!1)?BL(i,t):t}const Ak=i=>i instanceof ys?{...i}:i;function Cc(i,t){t=t||{};const e={};function n(f,p,g,v){return ne.isPlainObject(f)&&ne.isPlainObject(p)?ne.merge.call({caseless:v},f,p):ne.isPlainObject(p)?ne.merge({},p):ne.isArray(p)?p.slice():p}function s(f,p,g,v){if(ne.isUndefined(p)){if(!ne.isUndefined(f))return n(void 0,f,g,v)}else return n(f,p,g,v)}function r(f,p){if(!ne.isUndefined(p))return n(void 0,p)}function o(f,p){if(ne.isUndefined(p)){if(!ne.isUndefined(f))return n(void 0,f)}else return n(void 0,p)}function c(f,p,g){if(g in t)return n(f,p);if(g in i)return n(void 0,f)}const u={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(f,p,g)=>s(Ak(f),Ak(p),g,!0)};return ne.forEach(Object.keys({...i,...t}),function(p){const g=u[p]||s,v=g(i[p],t[p],p);ne.isUndefined(v)&&g!==c||(e[p]=v)}),e}const Q3=i=>{const t=Cc({},i);let{data:e,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:c}=t;if(t.headers=o=ys.from(o),t.url=q3(K3(t.baseURL,t.url,t.allowAbsoluteUrls),i.params,i.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),ne.isFormData(e)){if(zi.hasStandardBrowserEnv||zi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ne.isFunction(e.getHeaders)){const u=e.getHeaders(),f=["content-type","content-length"];Object.entries(u).forEach(([p,g])=>{f.includes(p.toLowerCase())&&o.set(p,g)})}}if(zi.hasStandardBrowserEnv&&(n&&ne.isFunction(n)&&(n=n(t)),n||n!==!1&&OL(t.url))){const u=s&&r&&IL.read(r);u&&o.set(s,u)}return t},LL=typeof XMLHttpRequest<"u",jL=LL&&function(i){return new Promise(function(e,n){const s=Q3(i);let r=s.data;const o=ys.from(s.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:f}=s,p,g,v,_,E;function C(){_&&_(),E&&E(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let T=new XMLHttpRequest;T.open(s.method.toUpperCase(),s.url,!0),T.timeout=s.timeout;function R(){if(!T)return;const B=ys.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),I={data:!c||c==="text"||c==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:B,config:i,request:T};G3(function(D){e(D),C()},function(D){n(D),C()},I),T=null}"onloadend"in T?T.onloadend=R:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(R)},T.onabort=function(){T&&(n(new pt("Request aborted",pt.ECONNABORTED,i,T)),T=null)},T.onerror=function(V){const I=V&&V.message?V.message:"Network Error",M=new pt(I,pt.ERR_NETWORK,i,T);M.event=V||null,n(M),T=null},T.ontimeout=function(){let V=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const I=s.transitional||H3;s.timeoutErrorMessage&&(V=s.timeoutErrorMessage),n(new pt(V,I.clarifyTimeoutError?pt.ETIMEDOUT:pt.ECONNABORTED,i,T)),T=null},r===void 0&&o.setContentType(null),"setRequestHeader"in T&&ne.forEach(o.toJSON(),function(V,I){T.setRequestHeader(I,V)}),ne.isUndefined(s.withCredentials)||(T.withCredentials=!!s.withCredentials),c&&c!=="json"&&(T.responseType=s.responseType),f&&([v,E]=u0(f,!0),T.addEventListener("progress",v)),u&&T.upload&&([g,_]=u0(u),T.upload.addEventListener("progress",g),T.upload.addEventListener("loadend",_)),(s.cancelToken||s.signal)&&(p=B=>{T&&(n(!B||B.type?new Cd(null,i,T):B),T.abort(),T=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const P=TL(s.url);if(P&&zi.protocols.indexOf(P)===-1){n(new pt("Unsupported protocol "+P+":",pt.ERR_BAD_REQUEST,i));return}T.send(r||null)})},DL=(i,t)=>{const{length:e}=i=i?i.filter(Boolean):[];if(t||e){let n=new AbortController,s;const r=function(f){if(!s){s=!0,c();const p=f instanceof Error?f:this.reason;n.abort(p instanceof pt?p:new Cd(p instanceof Error?p.message:p))}};let o=t&&setTimeout(()=>{o=null,r(new pt(`timeout ${t} of ms exceeded`,pt.ETIMEDOUT))},t);const c=()=>{i&&(o&&clearTimeout(o),o=null,i.forEach(f=>{f.unsubscribe?f.unsubscribe(r):f.removeEventListener("abort",r)}),i=null)};i.forEach(f=>f.addEventListener("abort",r));const{signal:u}=n;return u.unsubscribe=()=>ne.asap(c),u}},ML=function*(i,t){let e=i.byteLength;if(e<t){yield i;return}let n=0,s;for(;n<e;)s=n+t,yield i.slice(n,s),n=s},FL=async function*(i,t){for await(const e of VL(i))yield*ML(e,t)},VL=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const t=i.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Tk=(i,t,e,n)=>{const s=FL(i,t);let r=0,o,c=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:f,value:p}=await s.next();if(f){c(),u.close();return}let g=p.byteLength;if(e){let v=r+=g;e(v)}u.enqueue(new Uint8Array(p))}catch(f){throw c(f),f}},cancel(u){return c(u),s.return()}},{highWaterMark:2})},Nk=64*1024,{isFunction:bg}=ne,zL=(({Request:i,Response:t})=>({Request:i,Response:t}))(ne.global),{ReadableStream:Rk,TextEncoder:Ok}=ne.global,Ik=(i,...t)=>{try{return!!i(...t)}catch{return!1}},qL=i=>{i=ne.merge.call({skipUndefined:!0},zL,i);const{fetch:t,Request:e,Response:n}=i,s=t?bg(t):typeof fetch=="function",r=bg(e),o=bg(n);if(!s)return!1;const c=s&&bg(Rk),u=s&&(typeof Ok=="function"?(E=>C=>E.encode(C))(new Ok):async E=>new Uint8Array(await new e(E).arrayBuffer())),f=r&&c&&Ik(()=>{let E=!1;const C=new e(zi.origin,{body:new Rk,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!C}),p=o&&c&&Ik(()=>ne.isReadableStream(new n("").body)),g={stream:p&&(E=>E.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!g[E]&&(g[E]=(C,T)=>{let R=C&&C[E];if(R)return R.call(C);throw new pt(`Response type '${E}' is not supported`,pt.ERR_NOT_SUPPORT,T)})});const v=async E=>{if(E==null)return 0;if(ne.isBlob(E))return E.size;if(ne.isSpecCompliantForm(E))return(await new e(zi.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(E)||ne.isArrayBuffer(E))return E.byteLength;if(ne.isURLSearchParams(E)&&(E=E+""),ne.isString(E))return(await u(E)).byteLength},_=async(E,C)=>{const T=ne.toFiniteNumber(E.getContentLength());return T??v(C)};return async E=>{let{url:C,method:T,data:R,signal:P,cancelToken:B,timeout:V,onDownloadProgress:I,onUploadProgress:M,responseType:D,headers:F,withCredentials:H="same-origin",fetchOptions:$}=Q3(E),J=t||fetch;D=D?(D+"").toLowerCase():"text";let be=DL([P,B&&B.toAbortSignal()],V),_e=null;const re=be&&be.unsubscribe&&(()=>{be.unsubscribe()});let le;try{if(M&&f&&T!=="get"&&T!=="head"&&(le=await _(F,R))!==0){let O=new e(C,{method:"POST",body:R,duplex:"half"}),Q;if(ne.isFormData(R)&&(Q=O.headers.get("content-type"))&&F.setContentType(Q),O.body){const[ce,ve]=Ck(le,u0(Sk(M)));R=Tk(O.body,Nk,ce,ve)}}ne.isString(H)||(H=H?"include":"omit");const W=r&&"credentials"in e.prototype,ae={...$,signal:be,method:T.toUpperCase(),headers:F.normalize().toJSON(),body:R,duplex:"half",credentials:W?H:void 0};_e=r&&new e(C,ae);let fe=await(r?J(_e,$):J(C,ae));const Se=p&&(D==="stream"||D==="response");if(p&&(I||Se&&re)){const O={};["status","statusText","headers"].forEach(Ne=>{O[Ne]=fe[Ne]});const Q=ne.toFiniteNumber(fe.headers.get("content-length")),[ce,ve]=I&&Ck(Q,u0(Sk(I),!0))||[];fe=new n(Tk(fe.body,Nk,ce,()=>{ve&&ve(),re&&re()}),O)}D=D||"text";let Me=await g[ne.findKey(g,D)||"text"](fe,E);return!Se&&re&&re(),await new Promise((O,Q)=>{G3(O,Q,{data:Me,headers:ys.from(fe.headers),status:fe.status,statusText:fe.statusText,config:E,request:_e})})}catch(W){throw re&&re(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new pt("Network Error",pt.ERR_NETWORK,E,_e),{cause:W.cause||W}):pt.from(W,W&&W.code,E,_e)}}},HL=new Map,Y3=i=>{let t=i&&i.env||{};const{fetch:e,Request:n,Response:s}=t,r=[n,s,e];let o=r.length,c=o,u,f,p=HL;for(;c--;)u=r[c],f=p.get(u),f===void 0&&p.set(u,f=c?new Map:qL(t)),p=f;return f};Y3();const M1={http:oL,xhr:jL,fetch:{get:Y3}};ne.forEach(M1,(i,t)=>{if(i){try{Object.defineProperty(i,"name",{value:t})}catch{}Object.defineProperty(i,"adapterName",{value:t})}});const Pk=i=>`- ${i}`,UL=i=>ne.isFunction(i)||i===null||i===!1;function WL(i,t){i=ne.isArray(i)?i:[i];const{length:e}=i;let n,s;const r={};for(let o=0;o<e;o++){n=i[o];let c;if(s=n,!UL(n)&&(s=M1[(c=String(n)).toLowerCase()],s===void 0))throw new pt(`Unknown adapter '${c}'`);if(s&&(ne.isFunction(s)||(s=s.get(t))))break;r[c||"#"+o]=s}if(!s){const o=Object.entries(r).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=e?o.length>1?`since :
`+o.map(Pk).join(`
`):" "+Pk(o[0]):"as no adapter specified";throw new pt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s}const $3={getAdapter:WL,adapters:M1};function by(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Cd(null,i)}function Bk(i){return by(i),i.headers=ys.from(i.headers),i.data=gy.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),$3.getAdapter(i.adapter||_m.adapter,i)(i).then(function(n){return by(i),n.data=gy.call(i,i.transformResponse,n),n.headers=ys.from(n.headers),n},function(n){return W3(n)||(by(i),n&&n.response&&(n.response.data=gy.call(i,i.transformResponse,n.response),n.response.headers=ys.from(n.response.headers))),Promise.reject(n)})}const X3="1.13.2",X0={};["object","boolean","number","function","string","symbol"].forEach((i,t)=>{X0[i]=function(n){return typeof n===i||"a"+(t<1?"n ":" ")+i}});const Lk={};X0.transitional=function(t,e,n){function s(r,o){return"[Axios v"+X3+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,c)=>{if(t===!1)throw new pt(s(o," has been removed"+(e?" in "+e:"")),pt.ERR_DEPRECATED);return e&&!Lk[o]&&(Lk[o]=!0,console.warn(s(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(r,o,c):!0}};X0.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function GL(i,t,e){if(typeof i!="object")throw new pt("options must be an object",pt.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let s=n.length;for(;s-- >0;){const r=n[s],o=t[r];if(o){const c=i[r],u=c===void 0||o(c,r,i);if(u!==!0)throw new pt("option "+r+" must be "+u,pt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new pt("Unknown option "+r,pt.ERR_BAD_OPTION)}}const Qg={assertOptions:GL,validators:X0},oo=Qg.validators;let yc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ek,response:new Ek}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Cc(this.defaults,e);const{transitional:n,paramsSerializer:s,headers:r}=e;n!==void 0&&Qg.assertOptions(n,{silentJSONParsing:oo.transitional(oo.boolean),forcedJSONParsing:oo.transitional(oo.boolean),clarifyTimeoutError:oo.transitional(oo.boolean)},!1),s!=null&&(ne.isFunction(s)?e.paramsSerializer={serialize:s}:Qg.assertOptions(s,{encode:oo.function,serialize:oo.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Qg.assertOptions(e,{baseUrl:oo.spelling("baseURL"),withXsrfToken:oo.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=r&&ne.merge(r.common,r[e.method]);r&&ne.forEach(["delete","get","head","post","put","patch","common"],E=>{delete r[E]}),e.headers=ys.concat(o,r);const c=[];let u=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(e)===!1||(u=u&&C.synchronous,c.unshift(C.fulfilled,C.rejected))});const f=[];this.interceptors.response.forEach(function(C){f.push(C.fulfilled,C.rejected)});let p,g=0,v;if(!u){const E=[Bk.bind(this),void 0];for(E.unshift(...c),E.push(...f),v=E.length,p=Promise.resolve(e);g<v;)p=p.then(E[g++],E[g++]);return p}v=c.length;let _=e;for(;g<v;){const E=c[g++],C=c[g++];try{_=E(_)}catch(T){C.call(this,T);break}}try{p=Bk.call(this,_)}catch(E){return Promise.reject(E)}for(g=0,v=f.length;g<v;)p=p.then(f[g++],f[g++]);return p}getUri(t){t=Cc(this.defaults,t);const e=K3(t.baseURL,t.url,t.allowAbsoluteUrls);return q3(e,t.params,t.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(t){yc.prototype[t]=function(e,n){return this.request(Cc(n||{},{method:t,url:e,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(t){function e(n){return function(r,o,c){return this.request(Cc(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}yc.prototype[t]=e(),yc.prototype[t+"Form"]=e(!0)});let KL=class Z3{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(r){e=r});const n=this;this.promise.then(s=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](s);n._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(c=>{n.subscribe(c),r=c}).then(s);return o.cancel=function(){n.unsubscribe(r)},o},t(function(r,o,c){n.reason||(n.reason=new Cd(r,o,c),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=n=>{t.abort(n)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new Z3(function(s){t=s}),cancel:t}}};function QL(i){return function(e){return i.apply(null,e)}}function YL(i){return ne.isObject(i)&&i.isAxiosError===!0}const ww={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ww).forEach(([i,t])=>{ww[t]=i});function J3(i){const t=new yc(i),e=R3(yc.prototype.request,t);return ne.extend(e,yc.prototype,t,{allOwnKeys:!0}),ne.extend(e,t,null,{allOwnKeys:!0}),e.create=function(s){return J3(Cc(i,s))},e}const Tn=J3(_m);Tn.Axios=yc;Tn.CanceledError=Cd;Tn.CancelToken=KL;Tn.isCancel=W3;Tn.VERSION=X3;Tn.toFormData=$0;Tn.AxiosError=pt;Tn.Cancel=Tn.CanceledError;Tn.all=function(t){return Promise.all(t)};Tn.spread=QL;Tn.isAxiosError=YL;Tn.mergeConfig=Cc;Tn.AxiosHeaders=ys;Tn.formToJSON=i=>U3(ne.isHTMLForm(i)?new FormData(i):i);Tn.getAdapter=$3.getAdapter;Tn.HttpStatusCode=ww;Tn.default=Tn;const{Axios:Eee,AxiosError:kee,CanceledError:Cee,isCancel:See,CancelToken:Aee,VERSION:Tee,all:Nee,Cancel:Ree,isAxiosError:Oee,spread:Iee,toFormData:Pee,AxiosHeaders:Bee,HttpStatusCode:Lee,formToJSON:jee,getAdapter:Dee,mergeConfig:Mee}=Tn,Sc=Tn.create({baseURL:window.SETTINGS.OPERATIONS_API_BASE_URL+window.SETTINGS.OPERATIONS_API_INTEGRATION_BADGES_PATH}),$L=Tn.create({baseURL:window.SETTINGS.OPERATIONS_API_BASE_URL+window.SETTINGS.OPERATIONS_API_ORGANIZATIONS_PATH}),Or=Tn.create({baseURL:window.SETTINGS.OPERATIONS_API_BASE_URL+window.SETTINGS.OPERATIONS_API_INTEGRATION_BADGES_PATH});Or.interceptors.request.use(async function(i){if(window.SETTINGS.DISABLE_DASHBOARD_AUTHENTICATION===!1){let t;try{t=await XL()}catch{window.location="/login?next="+window.location.pathname}i.headers.Authorization=`Bearer ${t}`}return i},function(i){return Promise.reject(i)});async function XL(){try{return(await Tn.get(`${window.SETTINGS.DASHBOARD_BASE_URL}/badgetoken/v1/token/`)).data.token}catch(i){throw i}}const eN=S.createContext({fetchBadges:()=>{},fetchBadge:({badgeId:i})=>{},setBadge:({badgeId:i,badgeData:t})=>{},getBadge:({badgeId:i})=>{},getBadges:()=>{}}),qi=()=>S.useContext(eN),Qe={NOT_PLANNED:"not-planned",PLANNED:"planned",TASK_COMPLETED:"tasks-completed",VERIFICATION_FAILED:"verification-failed",VERIFIED:"verified",DEPRECATED:"deprecated"},ZL=({children:i})=>{const[t,e]=S.useReducer(si,[]),[n,s]=S.useReducer(si,{}),r=async()=>{try{const p=await Sc.get("/badges"),g=p.data.results,v=[],_={};for(let E=0;E<g.length;E++){const C=g[E],T=C.badge_id;v.push(T),_[T]={...n[T],...C}}return e(v),s({...n,..._}),p.data.results}catch(p){throw console.log(p),p}},o=async({badgeId:p})=>{try{const g=await Sc.get(`/badge/${p}`),v=g.data.results,_={...n,[p]:{...n[v.badge_id],...v}};return s(_),g.data.results}catch(g){throw console.log(g),g}},c=async({badgeId:p=null,badgeData:g})=>{try{const v=await Or.post(p?`/badge/${p}/`:"/badges/",{prerequisites:g.prerequisites.map(_=>({badge_id:_.badge_id,sequence_no:_.sequence_no})),tasks:g.tasks.map(_=>({task_id:_.task_id,required:_.required,sequence_no:_.sequence_no})),name:g.name.trim(),graphic:g.graphic,researcher_summary:g.researcher_summary.trim(),resource_provider_summary:g.resource_provider_summary.trim(),verification_summary:g.verification_summary.trim(),verification_method:g.verification_method.trim(),default_badge_access_url:g.default_badge_access_url.trim(),default_badge_access_url_label:g.default_badge_access_url_label.trim()});return await r(),v.data.results}catch(v){throw console.log(v),v}},u=({badgeId:p})=>n[p],f=()=>t.map(p=>u({badgeId:p}));return m.jsx(eN.Provider,{value:{badgeMap:n,fetchBadges:r,fetchBadge:o,setBadge:c,getBadge:u,getBadges:f},children:i})},tN=S.createContext({fetchOrganizations:()=>{},fetchOrganization:({organizationId:i})=>{},getOrganization:({organizationName:i=null,organizationId:t=null})=>{},getOrganizations:()=>{}}),Sd=()=>S.useContext(tN),JL=({children:i})=>{const[t,e]=S.useReducer(si,[]),[n,s]=S.useReducer(si,{}),[r,o]=S.useReducer(si,{}),c=async({organizationId:g})=>{try{const v=await $L.get(`/organizations/organization_id/${g}`),_=v.data.results;return s({...n,[g]:_}),o({...r,[_.organization_name]:_}),s({...n,[g]:{..._}}),v.data.results}catch(v){throw console.log(v),v}},u=async()=>{try{const g=await Sc.get("/organizations/"),v=g.data.results,_=[],E={},C={};for(let T=0;T<v.length;T++){const R=v[T],P=R.organization_id;_.push(P),E[P]=R,C[R.organization_name]=R}return e(_),s({...n,...E}),o({...r,...C}),g.data.results}catch(g){throw console.log(g),g}},f=({organizationName:g=null,organizationId:v=null})=>{if(r[g])return r[g];if(n[v])return n[v]},p=()=>t.map(g=>f({organizationId:g}));return m.jsx(tN.Provider,{value:{organizationIds:t,organizationMap:n,organizationMapByName:r,fetchOrganizations:u,fetchOrganization:c,getOrganization:f,getOrganizations:p},children:i})},nN=S.createContext({fetchTasks:()=>{},setTask:({taskId:i=null,taskData:t})=>{},getTasks:()=>{},getTask:({taskId:i})=>{}}),Em=()=>S.useContext(nN),Ar={COMPLETED:"completed",NOT_COMPLETED:"not-completed",NOT_APPLICABLE:"not-applicable",ACTION_NEEDED:"action-needed"},ej=({children:i})=>{const[t,e]=S.useReducer(si,[]),[n,s]=S.useReducer(si,{}),r=async()=>{try{const f=await Sc.get("/tasks"),p=f.data.results,g={},v=[];for(let _=0;_<p.length;_++){const E=p[_];g[E.task_id]=E,v.push(E.task_id)}return s({...n,...g}),e(v),f.data.results}catch(f){throw console.log(f),f}},o=async({taskId:f=null,taskData:p})=>{try{const g=await Or.post(f?`/task/${f}/`:"/tasks/",{name:p.name.trim(),technical_summary:p.technical_summary.trim(),implementor_roles:p.implementor_roles.trim(),task_experts:p.task_experts.trim(),detailed_instructions_url:p.detailed_instructions_url.trim()});return await r(),g.data.results}catch(g){throw console.log(g),g}},c=()=>t.map(f=>u({taskId:f})),u=({taskId:f})=>n[f];return m.jsx(nN.Provider,{value:{fetchTasks:r,setTask:o,getTasks:c,getTask:u},children:i})},iN=S.createContext({fetchRoadmaps:()=>{},fetchRoadmap:({roadmapId:i})=>{},setRoadmap:({roadmapId:i,roadmapData:t})=>{},getRoadmap:({roadmapId:i})=>{},getRoadmapBadges:({roadmapId:i})=>{},getRoadmaps:()=>{}}),Jn=()=>S.useContext(iN),tj=({children:i})=>{const{getBadge:t}=qi(),[e,n]=S.useReducer(si,[]),[s,r]=S.useReducer(si,{}),o=async()=>{try{const v=await Sc.get("/roadmaps"),_=v.data.results,E={},C=[];for(let T=0;T<_.length;T++){const R=_[T];C.push(R.roadmap_id),E[R.roadmap_id]={...s[R.roadmap_id],...R}}return r({...s,...E}),n(C),v.data.results}catch(v){throw console.log(v),v}},c=async({roadmapId:v})=>{try{const _=await Sc.get(`/roadmap/${v}`),E=_.data.results,C={...s,[v]:{...s[E.roadmap_id],...E}};return r(C),_.data.results}catch(_){throw console.log(_),_}},u=async({roadmapId:v=null,roadmapData:_})=>{try{const E=await Or.post(v?`/roadmap/${v}/`:"/roadmaps/",{name:_.name.trim(),graphic:_.graphic,executive_summary:_.executive_summary.trim(),infrastructure_types:_.infrastructure_types.trim(),integration_coordinators:_.integration_coordinators.trim(),status:_.status.trim(),badges:_.badges.map(C=>({badge_id:C.badge_id,required:C.required,sequence_no:C.sequence_no}))});return await o(),E.data.results}catch(E){throw console.log(E),E}},f=({roadmapId:v})=>s[v],p=({roadmapId:v})=>{const _=f({roadmapId:v});if(_&&_.badges)return _.badges.map(E=>{const C=E.badge_id,T=E.required,R=E.sequence_no;return{...t({badgeId:C}),required:T,sequence_no:R}})},g=()=>e.map(v=>f({roadmapId:v}));return m.jsx(iN.Provider,{value:{roadmapMap:s,fetchRoadmaps:o,fetchRoadmap:c,setRoadmap:u,getRoadmap:f,getRoadmapBadges:p,getRoadmaps:g},children:i})},sN=S.createContext({fetchResources:({organizationId:i=null,resourceId:t=null,full:e=!1}={})=>{},fetchResource:({resourceId:i})=>{},fetchResourceRoadmapBadges:({organizationId:i=null,resourceId:t=null,roadmapId:e=null,badgeId:n=null,badgeWorkflowStatus:s=null}={})=>{},fetchResourceRoadmapBadgeLogs:({resourceId:i=null,roadmapId:t=null,badgeId:e=null}={})=>{},fetchResourceRoadmapBadgeTasks:({resourceId:i,roadmapId:t,badgeId:e})=>{},fetchResourceRoadmapBadgeStatusSummary:({resourceId:i=null,roadmapId:t=null,badgeId:e=null}=null)=>{},getResource:({resourceId:i})=>{},getResources:(i=null,t=null,e=!1)=>{},getResourceRoadmaps:({resourceId:i})=>{},isResourceRoadmapSelected:({resourceId:i,roadmapId:t})=>{},getResourceRoadmapBadges:({organizationId:i=null,resourceId:t=null,roadmapId:e=null,badgeId:n=null,badgeWorkflowStatus:s=null}={})=>{},getResourceRoadmapBadge:({resourceId:i,roadmapId:t,badgeId:e})=>{},getResourceRoadmapBadgeLogs:({resourceId:i,roadmapId:t,badgeId:e})=>{},getResourceRoadmapBadgePrerequisites:({resourceId:i,roadmapId:t,badgeId:e})=>{},getResourceRoadmapBadgeTasks:({resourceId:i,roadmapId:t,badgeId:e})=>{},getResourceRoadmapBadgeStatusSummary:({resourceId:i=null,roadmapId:t=null,badgeId:e=null}={})=>{},getResourceOrganization:({resourceId:i})=>{},getOrganizationResourceIds:({organizationName:i})=>{},setResourceRoadmapBadgeWorkflowStatus:({resourceId:i,roadmapId:t,badgeId:e,status:n,comment:s})=>{},setResourceRoadmapBadgeTaskWorkflowStatus:({resourceId:i,roadmapId:t,badgeId:e,taskId:n,status:s})=>{},setResourceRoadmap:({resourceId:i,roadmapIds:t,badgeIds:e})=>{}}),bn=()=>S.useContext(sN),vg={ANNOUNCEMENT:"coming soon",PRE_PRODUCTION:"pre-production",PRODUCTION:"production",POST_PRODUCTION:"post-production"},nj=({children:i})=>{const{getBadge:t}=qi(),{getTask:e}=Em(),{getOrganization:n}=Sd(),{getRoadmap:s}=Jn(),[r,o]=S.useReducer(si,{}),[c,u]=S.useReducer(si,{}),[f,p]=S.useReducer(si,{}),[g,v]=S.useReducer(si,{}),[_,E]=S.useReducer(si,{}),[C,T]=S.useReducer(si,{}),[R,P]=S.useReducer(si,{}),[B,V]=S.useReducer(si,{}),[I,M]=S.useReducer(si,{}),[D,F]=S.useReducer(si,{}),H=async({resourceId:we})=>ae({resourceId:we,full:!0}),$=({organizationId:we=null,resourceId:ye=null,roadmapId:Ie=null,badgeId:xe=null,badgeWorkflowStatus:qe=null}={})=>{let $e="/resource_roadmap_badges/?";return we&&($e+=`organization_id=${we}&`),ye&&($e+=`info_resourceid=${ye}&`),Ie&&($e+=`roadmap_id=${Ie}&`),xe&&($e+=`badge_id=${xe}&`),qe&&($e+=`badge_workflow_status=${qe}`),$e},J=async({organizationId:we=null,resourceId:ye=null,roadmapId:Ie=null,badgeId:xe=null,badgeWorkflowStatus:qe=null}={})=>{try{const $e=$({organizationId:we,resourceId:ye,roadmapId:Ie,badgeId:xe,badgeWorkflowStatus:qe}),ot=await Or.get($e),Ct={..._},Kt=[];for(let Xt=0;Xt<ot.data.results.length;Xt++){const pe=ot.data.results[Xt],Re=pe.badge_id,Ae=pe.info_resourceid,xt=pe.roadmap_id;Kt.push({resourceId:Ae,roadmapId:xt,badgeId:Re}),Ct[Ae]={...Ct[Ae]},Ct[Ae][xt]={...Ct[Ae][xt]},Ct[Ae][xt][Re]=pe}return E(Ct),v({...g,[$e]:Kt}),ot}catch($e){throw console.log($e),$e}},be=async({resourceId:we=null,roadmapId:ye=null,badgeId:Ie=null}={})=>{try{let xe="/resource_roadmap_badge_logs/?";we&&(xe+=`info_resourceid=${we}&`),ye&&(xe+=`roadmap_id=${ye}&`),Ie&&(xe+=`badge_id=${Ie}`);let qe=await Or.get(xe);const $e={...R},ot={};for(let Ct=0;Ct<qe.data.results.length;Ct++){const Kt=qe.data.results[Ct],Xt=Kt.id,pe=Kt.badge_id,Re=Kt.info_resourceid,Ae=Kt.roadmap_id;ot[Re]={...ot[Re]},ot[Re][Ae]={...ot[Re][Ae]},ot[Re][Ae][pe]?ot[Re][Ae][pe]=[...ot[Re][Ae][pe],Xt]:ot[Re][Ae][pe]=[Xt],$e[Xt]=Kt}return P($e),T(ot),qe}catch(xe){throw console.log(xe),xe}},_e=async({resourceId:we,roadmapId:ye,badgeId:Ie})=>{try{let xe=await Or.get(`/resource_roadmap_badge_tasks/?info_resourceid=${we}&roadmap_id=${ye}&badge_id=${Ie}`);const qe={},$e=[];for(let Ct=0;Ct<xe.data.results.length;Ct++){const Kt=xe.data.results[Ct],Xt=Kt.task_id;$e.push(Xt),qe[Xt]=Kt}const ot={...B,[we]:{...B[we],[ye]:{...B[we]?B[we][ye]:null,[Ie]:qe}}};return V(ot),xe}catch(xe){throw console.log(xe),xe}},re=({organizationId:we=null,resourceId:ye=null,roadmapId:Ie=null,badgeId:xe=null}={})=>{let qe="/resource_roadmap_badge_summary/?";return we&&(qe+=`organization_id=${we}`),ye&&(qe+=`info_resourceid=${ye}`),Ie&&(qe+=`roadmap_id=${Ie}`),xe&&(qe+=`badge_id=${xe}`),qe},le=async({organizationId:we=null,resourceId:ye=null,roadmapId:Ie=null,badgeId:xe=null}={})=>{try{let qe=re({organizationId:we,resourceId:ye,roadmapId:Ie,badgeId:xe}),$e=await Or.get(qe),ot={...I};return ot[qe]=$e.data.results,M(ot),$e}catch(qe){throw console.log(qe),qe}},W=({organizationId:we=null,resourceId:ye=null,full:Ie=!1}={})=>{let xe="/resources?";return Ie&&(xe="/resources-full?"),we&&(xe+=`organization_id=${we}&`),ye&&(xe+=`resource_id=${ye}`),xe},ae=async({organizationId:we=null,resourceId:ye=null,full:Ie=!1}={})=>{try{let xe=W({organizationId:we,resourceId:ye,full:Ie});const qe=await Sc.get(xe),$e=qe.data.results,ot=[],Ct={...c},Kt={...f};for(let Xt=0;Xt<$e.length;Xt++){let pe=$e[Xt],Re=pe.info_resourceid;ot.push(Re),Ct[Re]={...fe({resourceId:Re}),...pe},pe.roadmaps&&(Kt[Re]=pe.roadmaps.map(Ae=>Ae.roadmap_id))}return o({...r,[xe]:ot}),u(Ct),p(Kt),qe.data.results}catch(xe){throw console.log(xe),xe}},fe=({resourceId:we})=>c[we],Se=({organizationId:we=null,resourceId:ye=null,full:Ie=!1}={})=>{let xe=W({organizationId:we,resourceId:ye,full:Ie});if(r[xe])return r[xe].map(qe=>fe({resourceId:qe}))},Me=({resourceId:we})=>{if(f[we])return f[we].map(ye=>s({roadmapId:ye}))},O=({resourceId:we,roadmapId:ye})=>f[we]&&f[we].indexOf(ye)>=0,Q=({organizationId:we=null,resourceId:ye=null,roadmapId:Ie=null,badgeId:xe=null,badgeWorkflowStatus:qe=null}={})=>{const $e=$({organizationId:we,resourceId:ye,roadmapId:Ie,badgeId:xe,badgeWorkflowStatus:qe});if(g[$e])return g[$e].map(({resourceId:ot,roadmapId:Ct,badgeId:Kt})=>De({resourceId:ot,roadmapId:Ct,badgeId:Kt}))},ce=({resourceId:we,roadmapId:ye,badgeId:Ie})=>De({resourceId:we,roadmapId:ye,badgeId:Ie}),ve=({resourceId:we,roadmapId:ye,badgeId:Ie})=>{if(C[we]&&C[we][ye]&&C[we][ye][Ie])return C[we][ye][Ie].map(xe=>R[xe])},Ne=({resourceId:we,roadmapId:ye,badgeId:Ie})=>{const xe=t({badgeId:Ie});if(xe&&xe.prerequisites)return xe.prerequisites.map(qe=>De({resourceId:we,roadmapId:ye,badgeId:qe.badge_id}))},De=({resourceId:we,roadmapId:ye,badgeId:Ie})=>{let xe=null;_[we]&&_[we][ye]&&_[we][ye][Ie]&&(xe=_[we][ye][Ie]);const qe=t({badgeId:Ie});if(qe)return{...qe,...xe}},Ue=({resourceId:we,roadmapId:ye,badgeId:Ie})=>{let xe=t({badgeId:Ie});if(xe.tasks)return xe.tasks.map(({task_id:qe,required:$e,sequence_no:ot})=>{const Ct=qe,Kt=e({taskId:Ct});let Xt=null;return B[we]&&B[we][ye]&&B[we][ye][Ie]&&(Xt=B[we][ye][Ie][Ct]),{...Kt,required:$e,...Xt}})},kt=({organizationId:we=null,resourceId:ye=null,roadmapId:Ie=null,badgeId:xe=null}={})=>{let qe=re({organizationId:we,resourceId:ye,roadmapId:Ie,badgeId:xe});if(I[qe])return I[qe]},Ee=({resourceId:we})=>{const ye=fe({resourceId:we});if(ye)return n({organizationName:ye.organization_name})},ln=({organizationName:we})=>{const ye=[],Ie=Se();for(let xe=0;xe<Ie.length;xe++){let qe=Ie[xe];qe.organization_name===we&&ye.push(qe.info_resourceid)}return ye},Nn=async({resourceId:we,roadmapId:ye,badgeId:Ie,status:xe,comment:qe})=>{try{const $e=await Or.post(`/resource/${we}/roadmap/${ye}/badge/${Ie}/workflow/${xe}/`,{comment:qe});return await J({resourceIds:[we],roadmapId:ye,badgeId:Ie}),$e.data.results}catch($e){throw console.log($e),$e}},Rn=async({resourceId:we,roadmapId:ye,badgeId:Ie,taskId:xe,status:qe})=>{try{const $e=await Or.post(`/resource/${we}/roadmap/${ye}/badge/${Ie}/task/${xe}/workflow/${qe}/`);await _e({resourceId:we,roadmapId:ye,badgeId:Ie});let ot=ce({resourceId:we,roadmapId:ye,badgeId:Ie});return[Qe.VERIFIED,Qe.TASK_COMPLETED].indexOf(ot.status)>=0&&await J({resourceIds:[we],roadmapId:ye,badgeId:Ie}),$e.data.results}catch($e){throw console.log($e),$e}},li=async({resourceId:we,roadmapId:ye,badgeIds:Ie})=>{try{return(await Or.post(`/resource/${we}/roadmap/${ye}/enrollments/`,{badge_ids:Ie})).data.results}catch(xe){throw console.log(xe),xe}};return m.jsx(sN.Provider,{value:{resourceIds:r,resourceMap:c,resourceRoadmapBadgeMap:_,resourceRoadmapBadgeTaskMap:B,resourceOrgMap:D,fetchResources:ae,fetchResource:H,fetchResourceRoadmapBadges:J,fetchResourceRoadmapBadgeLogs:be,fetchResourceRoadmapBadgeTasks:_e,fetchResourceRoadmapBadgeStatusSummary:le,getResource:fe,getResources:Se,isResourceRoadmapSelected:O,getResourceRoadmaps:Me,getResourceRoadmapBadges:Q,getResourceRoadmapBadge:ce,getResourceRoadmapBadgeLogs:ve,getResourceRoadmapBadgePrerequisites:Ne,getResourceRoadmapBadgeTasks:Ue,getResourceRoadmapBadgeStatusSummary:kt,getResourceOrganization:Ee,getOrganizationResourceIds:ln,setResourceRoadmapBadgeWorkflowStatus:Nn,setResourceRoadmapBadgeTaskWorkflowStatus:Rn,setResourceRoadmap:li},children:i})},F1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtAAAAFdCAYAAAAqkVoHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAJJ+SURBVHgB7b3PbyRpet/5ZHZ17Vg7QGdrDPsio6N6eqC+yMWCL9bFnQR8sQ9b5MzCWI0sV/IvKHIkH/bE5G2BtZvkX8Ak5JkBfBiSe9jdgwxm7cW6eIu12sMIM9MVDfuw0mE6G5DG7e4qxj7fN543881g5O/IZETm9wMEMzN+RzDifZ/3+SlCCCGEEEIIIYQQQgghhBBCCCGEEELumXeEEDKRKIoa3/nOd/6nv/t3/678+te//v+EEEIIIRtLTQjZML773e/u1Gq1rRGLew8ePLj8+c9/Hme2OdOPFr7rttu//OUvuzIjH330UVM/mvazO88+CCGEEHL/PBBCNo+dJEmejVr4zTffHH/44Yftzz777CiYHfkvum1D5qOp2x7iiwrh+OgKIYQQQipHXQghd1ABt61C9L7//fbt2z396Oj8o1/96leXQgghhJCNhQI02WhMIK5hUiH5kc46D5YdwvcZ32NF19n75S9/2RZCCCGEbDR04SDEgJCsAvP+O++881R/QnBuPHjwAL7S3Y8++ugiSRLnN12v13d/8Ytf3Pjtvve9723d3t4e69ct2w50dTpXobsz6bi2/YX/rYL73jj/6O9+97st/YALStNm9XS60fM6CM+LEEIIIcuBAjQhASpD91RAhUDqBGHv72yfUTgPICBRhd8zGQjOniamDz/88IOML/UQKrBHJjxH+A2N+DjhWfcHH+p2ZjaO3dT9vFRBf5vBiWRTsUDdp/qORpK+F3iXr9S6dIl3WyoK2gkdzLfsZ0/f8RMhhNwrFKAJCUBHJUHAoAq0vQnrQvPshWf4Rp8jw0cQLNj++OOPz7NZPWz7hmq7r2VYeG6POx72Zz9jaKpxfnqsHX88++wKIRsE3g19l870+W/mLN7RZYc62D2oavyCCs+Rf8eVWKe5BGi0ObqvfmwHXdIImR8K0GTTeU8F3Ahfvvnmm62gkwLxOG2udspNGQjb8JHete+Xqgnzwqy8efNmR3I6PHT4wfaX03RmSKEHDXi9Xo+9u4Z2ijEEBFulKYRsENmB6KjVdLqghUYamTauLYSQuaAATTYa7Uz2VXDua2QsvZznYNy2ui5Mxf77abhMheaTb33rWx18/+qrr3o5x30uA811bFk+xgIfbXxYYGPTzNUfeN9sQjYRFZ5hBYrsZw/vIt4/uGwgvkDfrTOf913fFQxaHwkhhCwIBWhCMmhnC83uwSRNVegLnXX1MH/LcT6Xoc90Q4XtxoT1HR9++OGxHmvfji+EbDLmRtUKZuG97fgfsNLoKtsqZL+W9J2LMPAM3238Nq3s2CBgcxO59stVMD8yK1LT5nXefffdIwyYTajfsf3FOh2F+/rud7/b15jrNttff/31M3uv3fp6Pp1xsRNZtF14bttHNgv7uLy9vT3yvt96TFjBnobb6TzcF9FzexRe54MHD57r9i2ZIyiakE2BAjTZdOCz3PE/tOOI8/yVR/C5/zJncRUfrNhQLTg64u1xK2tHvw+Nuf2MdbrS6UY74K5u/1oI2TBUUA2tL3GegGeBwXt51Ud1/jMIqzm7bkp+EHCEP7qvKMdtpKXvIebjvd7JbHOm72/oEhb5bXWbQ91fK1zf8tA39NhjrWB2Df0qqZl9IKPQjsrDT0yI7gdCZ6+n/yMdJLzMac+aMkVQNCGbBPNAk41GOxnXqflpBuHZa6od2uEMaXYg7GrHlmDS7+2czTuqwXoiA61zMyzckkd4DKTSU2FhHwKDaryEkE0kIxS/GrUeggcRY2BTF/NMex3GJsANaxfBvMH+2+YqNYQPVrR1z4NFTZtObVkv2GZU9dOWHXtPhvPQ7+cdO8RSWrZs/zd2/tvBfiIfNAhFgU5ZgXzPJocNCrzwfGr7wvLY9tGedE6EbArUQBMyJ2/evOlY8J7zSUaKOf19pWbTMGIeWu1OdlvtiD6HT7N2Rke67rHNO/z4448vRwnxlnHDfccx9OPGAqgOhZANxNLVOcIB7TQgLVygae1gQGrfL1UwxfzndgwIvt3s9nC98O+qrv+BmCuHZdNxgrm+373g/Y4kn/DYnXBfyLAj47Pq9N/9hw8f7gZtR9fvx+It3MDBAo6P/Tahxt5cWaKcc8IyuIRcT3lOhGwEFKAJmROYRTMCcFsF23ZmtdNxWm10tNrRQbPclMmuHC9kYBq+0O1iGeS67eeuJmSDCDW8Mz3/uv4nwc+rcJm+y5cmeIJmzua9zHv9efD9ZsT3XPRY55lZ58Exo1HbWTCxXx7rgL6F7D8ebYsaFhTdQKahKaxrzXD3Iyxn2ftGyMZCAZqQBTABGJ04NEFRsMhlA5gmNR0ycMDvUAaa7P3PPvvsZMSxIjHNmB0vhjuHFWOhAE02CrhgBcG0j2VOskHAKoxCUztuk4kBv9OCuItR+9bzem/MpuH7HmXS0w1lFNLricTcMEYRavMl1Vw389bT/bKdIUQoQJMNRE2TLbkbdDNpm+0xyzr60bEiBVujAhFNmG5n51t6uvdluvPY1+O0c47D1FxkEwk1vFt4B/MqDlrWi6b93MM7G7pEZd0rrHCJrAIdQA8JpDiXOY4d6zQyuC9HSL9DZjDSkdTilUdhgwdCqgwFaEIKwjruriyZVR2HkLIDv96PPvroxnKho8DQNdLWhUI0UrxJ4J6ArDX41G36bhdqwYFbQifYdRgUPDI4sQjMpzgMSH4cfB95bAy8zfrlMvlky5UjBzbcWjBQmCY4WtcdWieb0cQHD6o2eyZfc0LWFQrQhBBCqgwyS7gAN2TlgDuUCpZdBOqav24zWLcfk5Dxc26poP3q4cOHl1aRtBVscylLBK4XeuyeCv83KshDcG/5ZTjHcdvCTcxcNxBMfKZC85GefwwLle7LB/3FMrBQDWmP4S6G42IgAgHcAgwhkLv7ofvoIEf9119//dyn0NR1OhJk7iBkU2EaO0IIIZUFwl+Yek7S2ICWCZbNYP55mFkiu51+P7Z86mE8wekKiodc4tjIcuGLJBmdScWcUHFRBr7NOyrwvlQB9wufMQOEVVKz1is77kWwbC9chn3hngTnFaNYjBBCKEATQgipNogvUA3qozyNLdLbIf+xxT7c2U6CPMcBPdtmbG72IlANcDaXNATZU72eiUVUIPTqetuZ7R2W1m/Xp9TzIGg5k/LPZenAF+TLRu7nvJSAOq8bpu4jZNOpCSGEELJGwP8Xn3BnyAsqzANCJLJVzFiNdC6shHaE7yqUPsLxEAAJdwmUAp/2nLP460Y1xEnXMOl4PigaPtSz3EdCNgUK0IQQQsgKyROghRBSKejCQQghhBBCyAxQgCaEEEIIIWQGmMaOVAo1fe4gVdWIxb0HDx5clskcGp4vApx+8YtfMIcqIRsOgvH8d7pvEFJNKECTqrGTJMmzUQu/+eab4w8//PDks88+mxjBviL654tKXzJcOY0QsoFQaCak+tCFg6wdyFmqQvSxEEIIIYQsAQrQpLKgCMKvfvWrGibLARsWRdhHGiYhhBBCCCkYunCQtQBJSvWj/d3vfheleZ3g/M477zQlKMOrWunnVlErslnIa3qJylpZkyqE73q9jvVbU64foZSuWOWzJEluHj58uPvNN9/cOVdb11cKQwndo3BbpWNFFBo2f8uuKdYJxR2GikUg9+vt7e1xsJ47PiqQhVXU4I+tH8e2/Eq3OckcF4US9mheJoQQQsZDAZqsGxBy72ieVXiEoNjKzMZ6LRVymx9//PFQhS0Vnq9zghVz1zeB+GV4XGyr62HeKJ/nyNbzwnQULGvpPOxrKzMf3y9UYH7igxFNeL6WzDXbuZ/pdX+iQvRecP7+uI9zjtvEOes+txnsSNYNvCs6cNwZs0p3UunsRfjoo4+aEgywswNhQki1oAsHWRusClfkf6sQHONThciWDITnGCV6Ua5WBtrpSAXHM78d1vfCs2lyt3VfTzLr7/v1VRA9lIEA27P9Q4MMYb4pY9D9u+XmfhKW492xfZ7a/H4VMBWYW8H3i+DYpyjKIGlpYr9+y1cny9C04/pzjW1+w7TZhKwV+lxDgD4cM12jwIkva70Emv5Y+v2pEEIqDTXQpLJoh/hUO7wP7Gekv5vB4jjQoh4G849Uy9RxG0TRjbl5QABtQkMEDZQKyzfayW3rFD18+LDrNc16LAiyToMFDa7tw2mlg/3v6T4ubdllVjOdB1Ja+WPoOTzW43qB98C7YOj8tnW8btd+Wz2PPZ3v9h9otDp6rsj80bTf2N/NhOPimr1bSRPXxdK9ZAPxg+ltIYSQMVCAJpXFtMR52tXY51k1ATfyC0KfYAiIKmhe6VefFg/76nrBG5oouGuocIl9fJBn/n3w4AG0Wv5nLzTLwi9bt+1OMBvHoeuIrtsLri+cHwfz3/PfvckZWmbTnEe6LgYVzTHHxD664XGxH90evyN/XfrRFULWk07g2oQB5L6+N97yAhetiLEAhJBxUIAmVaYnA59nr+WN3759+0Q7Ry+IhtrfOLsDCKmBAOzW9QGBEJ7xO1g+zfkModt+KUvENM0nqn33wYNTbRcK5AGYF+ELBHEhZEPQAeSJBSBH+P3mzRt8xn65uYGFVh286zdqrTrIxgtg0K4DULhqYJt+8O+Yw4eBwE389kHIeh7H3iKlx9oNj5UXPKx0R53TLEHRhJDJ0AeaVBbLMvEIKexkILxC+B2l8b3jSuHdH0LMp7lpy2/MR3jXpuw59Cac43uyJCDo60dHAh9onfbMX/t80ubZGXqu/XsxQsAmZC2xdymyn3EYTPjhhx+iPQiz1QDn9qUC7EvLbtMHblv6/uzL4L3Efi903iejjm2BwE0/z4KQr3W+P68obKtwzGCbsA1z56TnvB/uH+ek+2zL8Hvvg6Kvl+j3TcjaQgGaVB64YkCYDmYd+hzQlt6ur422SPiQfjAPhGX72rLPnnZG29BOwTUjT1jWzicOfkbh/tFx+SDBZWD+2x6YpPfhomLapw8mbL4V5sm2c+27w6gGLRZC1hQ864grsOk4SCuJtqTv2oH3wgRPEPuA4jDnfBCb4FxBZDhGAethf5cywq3KUkk2gmP4wF7JyQTkhf1jvw2OYUHROE5s8/ptoLUTkZ0rtOZPbJDt28yhoGhCyHTQhYOsBSrkts2dIcKkAiA6hDaWQbj2nZx+nmkntwcB8euvv+6bbJU48F/uu4V861vfwmcPnRHMpbqvoeOaH3VXBhprpI47sO9hdo6VkQkgHAVMutd6Lw5Ms9XPvIFOliZdss5AMA0HjAaE56NsKjsIp3hHkNXHu0ZoexCbpSor5D4LtsO+2vYTgb1DWmbbTxTOCwN7LQj5deYcswIxBvdtv0yPgbbLZebRNq6lnycWF+HP6Sa4hrbuCxa2eJIljRByFwrQZJ2Atselo9MO47l2ECcQcN+8eYOCIX3hGtkmUOAkFIZDrZOkwXPOLKvrvQ6C63I7GfgcwmxqP7Hehe3T76spS+Dt27foYL0mqhWYkr3fZTRqW3SkYvciuwzXI4SsN7FYkCxcl0yYxvtwDF9oxFGg7TALVmza3KZZmD7IEb4d4Xzd72W4TH9fZS1SKuT2hdvswNWCkG+yx9L9PA0EYljV2sHxQzesx/a1K4NMRK0PP/xwC++/Tq8QTMyc74TMB104yNpgGTa69rNhWminJUaHKDl+wehAYM4MtU667l5mXZhxuzrt5h0XHZCZUONgNoRt7OdzWRKWZq5vtpWBSRcm4Ek+0Nlt3S5xHcssJkFISegiCwcmfd53EUshg7bDW7AcKnDCxeMLSf2Yj82/uTnpAFnBNMywE8yL/Hdth/KWv8qZF1q1WmEua/39PFj2Pv7gfQ5dTkxjju2OzYebPtCEzAE10KRSaEfXkrsVBcPl23nzTdh02/rCIvBfzst17NdVrdM+0rnB3SPQDNXy9m9C5yPfEQXrdyRzvqbVqs1y/jY46OTMh5brcsQ1tWUMftuccyZkE8Ggs2nfXcCfZd/wwnTP1rl59913u7BOjdtZNhWeabqzq/Xbn1CYDsiLZfg82OYoTHc5at9wJdH2rKNtGaxUuLYw5qHJ3NeEzA4FaLJxTGuyNEG0KzNwX0LoImZYCs6EOPKyZPR9mlVDvB34DyOzRd4+YhmkwmtJMIhVbe+zbAyFWrtugv1EvpiTP4bkaLrD1Jt6TuILQ9k2DcvhjuP389lbWj7M62i7doLvOFZYPEkIITNBAZoQQshG4bNwBL8hPDf9bxV2UWDJpan0wqqllLvxOZXz9gvXqSBg+TniJyDwompqXkYNmIuyQch6XtBy47i5x7CYjqFjIB4CAc/QJHs/a10HLlodndcWGwjoeZ/o+R9BOaDn9DgQ6GMhhMwEBWhCCCEbxYgsHB4IvB37/kIsoFi5sIBil5lHBtl6+mQClrEMAq0LKEYcRV5aS8RcWBo9bBMFafFwrK5ktMMQfi17jg8gPrPCT0Or+aqrEJohwGNdPYd9XXdfryN7GkdCCJkJBhESsiFAS/Xuu+8+wqRm3j0hhPSxzBRHPgMH5iEHfBiAJ5aNB1UBJScrjwUsb0NYDmYjPR4E3tzAXmihsY1+PbfsOLFOp0hpJyOCkHFecjcI2B/ryIKmHXA7we/MOflrRoDhthe2CSHTUxNCCCGEjMT7FmcCiiduA7eKr776qpcXrDwNYe7oURlywnObdCy/LlxTRgVRE0KmgwI0IYQQck+YkOzdSfZ8QadMkB+KrDxiwC8h5YE+0IQQQsg9kSmwcmHVBHthWju4ZVB4JqRcvCOEEEIIuRd+/etf//l3vvOdL/Xrx5IGBX5LBsGJ8Gn+n3/5y1/+L0IIKRV04SCEEEJKgJUKd9UG6/V6zDLbhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghK6YmhJDCuLi4aOzu7vYy8w5rtVrkfydJcqrr3ATLd3T5U53/uc3q6vKuEELWEn3nt/SjqVND3/0P9N1/pe/8SWadC13m2hJdjs+jsG3Ja2sIIavjgRBC5kY7sUg7uUPt4NAhRjb7/cxqLV0eBb/PM8u3dHnL/0CHqh/d4BjY97FOELohZN9QwCakvNg7i+mxpO3Cub6zl8Eq/p2GcIyPrk4nwfbYZseWeU516g0f5qIpabsQYznbBUJWBwVoQqbAd2g69bST6oTLQuHX1s1qhs5Ny+Q1zHFm9ze6vGP7inR6kVkeSaqtatpv7Pv9CcckhKyAEe/eoaTthcPe/VCAjnXq6nsf2/JXme2dxtm+Q0v93s7OTpxZp2GfXlg/z5wXjh9JatG6EUJIodCFg5AxmIbnTAbaZWh/n2TWgeYotgnLYymQQHjHJzRaosfYzqwDVRU6ya5OV9REEbI8gnfyqaQD2+3wnbM24akKvl0TjgsXYiG4Syo4N+wcOhnXMJzDc/sZ397env/gBz9oCyGkEKiBJiRghDYpss9Yp6x2GMLsviwRE8hPRi03IR94TdS+zntUtCBPCOlzLYN2AeC96/of1iYsu13oBce8zFkllnRQ7dzL6vV6NjajEeyHEDIj1ECTjccEUGiSWpJqkLPaXXSEl2UWSIOgJFzHHQ311dXVc9VAXVGoJmR6TMhsSardDQP4MKCFNQgD6lIH/do1NCVjHbN2DX7YHUl9tLtCCJkaCtBko9FOpCWpi4Yn1o7kkawRZm5+bT+hqWKwESFjyAyqIYAeZLNkVB29RmjRm/43sgN9//vfX6rWnJB1oi6EbDYQKL0p9ECnJ7J+RDIIXITf5pkQQsaBIEAIkxCeezKc/WItMCvVrljwYa1WuxRCyNRQA002AjNjIqCmmeOisbUJUeqmVWtpR5ns7OzsCSEkF3tXIEQfbYK1BlaqrHuXzvMD7SO6fhFyFwrQZO1BIRMZaJPANl0YBpgbixcWOkKWSmO/jecw6p20137QVna8oHx7e/uCGSoGZNy+QEcoSBMyBF04yCbQkoEpFrlVKbgM80xSN48z7ThfB1k9yDKoyUudroXcGxAQzQfY+QHX6/XnPisF6Wf+gZUqtlktIYQMwTR2ZBOA0BzpdMKUTbmgo4SGHi4ukQyn5yIF0tg/Uk1/EqkAfSTkPonEAujg+5skyQHbhmHMGtUxC1VE7TMhw9CFg6wNpkGCK8Ln6xYxvwrMbLu/7LzWm0pjvw3BGWbxuHfcXqtML1XE0rjd0J1rdqyt8G5fsRCygVCAJmtBpmIgNEmPqFEqBjN177GjXIzGQRvCc6TTqba8H0jSryIXug7Avainy2+kLle9f9PuClkIG1gj3zGFvYIIUuA5tzgqLMgmQgE6h8aPzMw64EXv03Zn4nbQMNXdqHzArZwyWGi5WBGRl/YTDTqEPaZkKoCrqysEWLXtZ1vvK10P5sC5btSSdmZ2LAMf0/6qklaO80CYvtR25ZzC9Oxo2+DTNuK+drMZeMh8mAY6rMa4dnmyCZkEBegMjT9u76jQe3FnQSJPJgnCjR+1L3S9nczsnppr3xeyVKARqdVqvSRJ9qh5Lg7rKPE+eKEOFctaQiZi2TYa2m7E+n1fW9tjW3Sj7cTeuPZE128K7nnNBXj6e9+17WIhEwkq7YFY0oF1V0hh6D1uSxqEvE3tPtk0KEBnUCG4pZ3UmU6PrONruoj5d2R7kgZITbRuRO79G/V3Rz+e6W/e5yUDMy0F5+VhHSWsK0wBOAWNg6PnOupuC6xXx203qNa2pKVtCe5h5Faq1dpym5xPEoh1OwjSEAafpdvJiQ7yj3Q7Pu9jsMHfSx1Un+vgul2V9iH5afp81P7gjnWCkDu4gXrdKe5QWt67g8Fy9aL3b9u0xC6RjRbszFVjS4Xl0AcxclNWgPa+ieOBpqiXFaAlrXI3oKb7uZUDapJmJwgURJT4gZCVwUHKZFxnVnMa+6ZA65nIblbTPCRI16TT+7Q9VVEbC0L0ZnPse5ttyHjyCoTcB8mF9jHf6P/trfYRt+7/94H+L/EZpStMyHxTc//vnus7UgvGl85P/oHEtX9RrrSclrUDGX12qZVeHiY4H5vVeyA422L7jHWg3tGB+ikH3MWzsQK0aprx4EGrky3Tmgb13BWg4yl2G0kQYR8I0HHOejKNVpsMyHEneLIJFQTLiv0/0FEeUbC+I+CeahvSHtdpOUFahaFZYyR0u7YJ4D0TovkOSN9f/6oMbULy77WN+lrQdzzWqTlRQF6UmlPS4LpfQLC+L+21KTjwDqCNjiUVovl8Foy5mvZ9+/X5cvUNfHtj7mM75gLWFA64l8JGCtB9obimZtBPtTMKl63AhcM6WgS93egyBrVMgTXMuGeRMFCwFOj/BIMZaD9i2XAfyCHhOXHWpZOJ69fd4KORWQTr1PnEeIu0XUpjNTZciA6ybLQkfRafrHpA5zTMXwmEmk9EhjSC98WNE6prcqXCdFdWSE6AIRUdBdI4OFKhOOlIKhQjJqLrBOZ3goFaXWULk1cCi1eDA+5i2UwB+kcqNCf6QOUEBvYF6CzTCND5QYS5OV9VuEYH+5z+0dNTpYAV58f4jjZYb01bftvvTD4YWrHmtIhfuu/1ICvDt1SLtCsrFQJmxVIHQoiDsBDLhgrRGeEZHVpn4jaj2hkwpVuH+UanFQ03tGPMsUqtLBuEE5r/q9PuPQ9SEpaRWKClrMv5qoTp4P/S25TMJ06IfTCUQacQQrkjzCWPdx6LpV7T5y/Zl7vPX2xKwk7QRvmECBtvMSyCTa9EeOchcg/bj/RhCwWdW3k1lavFrRzoQ/q5Tu8F805z100FJzID2hC3tWEuVTVB0zxtOUG55oI40IBG+n9v6DTFDoLv4fq/0UU/tnzAiWssX6lAfrNqbdI4EEyo/48nIhtelrpm+cfRWR1PFp6HSGRXwtLyaec4FRCYtWPcNmvahX7fxI4R19uQFVqldHAMTd9TfUdbUl6hOSQSaOdvpaVtSiyozFqX7jLdPGwg/WQTyqObL/KZU569lcKx9zptI7w7aSo8p7+TZMvmQdbw60GR9wkG6SrPfIIBue5nz61fd9aaqeIuyHg2XQP96L58gvw5UAM9Gmg4y5bxoS8wowNNnPapcI3DRGrO5+2FdYJduWdM27S1iS41QX7nU32X9+8uNy1xrXbS+/TwyOb54J9W1rKllikMqW4s+DBO57mMHie6nwPtCE9yjpGmyKvJpS7flQ3Dnr/Gst0ETHA+tPd+Hejoc3i0Sn/pMrbpi6J9+Zl7l8W5zLyQIrmVnncHC9xLnZXLXEabMrrtifpBhjXR9qd90I/LmiItL5kMBWgK0KUkKOBx78U7+v6NiWt4ymaqjUXM1/GHsnEC7H0yqTR34GKRPi9IW4cCTWlnC3rWkcX9bQbVCp0rh25zI7dJIDTXWr3jw/M7x/LuYwxMLhzV2rZcMNb6CM5ZViJIBwWvOtqmr4UGNIinmjqbztzHCmKs+sL0hONaVqA0qFPlHcyy+KtcoZvMRl0IKRlh9Tv9vLcBBjRO2nleqKn2tYt4TjvQspkkI4F5NpELPdfXOp05Tdk9ArOtTq/1//hM1hlfdTR1wxjChOt+kJ84rXLSDjRVe3kDeCeIp+ufu3VT4dmbbGMED6VBRBlunUm2pybkfL/qNQHaZhRNMq3zUnHv/0+c8HG2xsIzgHuHbzsiWR7eWtfS/996PKd1ey7qci7Lp2nZVsQpc8CtjFUuOZeuRNJ0rzXZN60zpqdCFoYC9AjQAUKrY+lgyIqAiS8Qno9+8IMftGWFQNusncihdiZfaOOEzrMMEfXTEknaGV6bMN2S+wHZJSL9/3Us0HDtcAJy4jSTnZw8z2FQIVwxuoFQvIvMO4i1GOWvjPV1nZbTGKGMdxog2B0Sov/EVSoMt+lZKqtY1pQgu0NTZHkDBX1vtpzgjPd/vQXnLKkgjfZvCYK0ap07MvC9bVm+6PXgzXLfO2fNSnllMklTp6tpLOiu7UjbBS80vxJZ6kBpY9j0IEKH+Qo10an1fzvnfMsJrc+g67BuF2xMb11nGwsZiQWmHanwJasUns1N47lqm/OimatIpNOZCgOH+mx39Pv5qnwd4XJjgjMmZLvbXrs0VnXnApavAUo1zz6dXRezTFhuyQxYW7Eb/ragwZeqacbg/lEohJuv5EoyUKyaTGq0WJYQBGVZNQ5dfYBNDvC+lbb+RcDhUe0PXdtRGBCi0+yXbpC9di5nlp/5Yh4f475r6YDQNSztk+qqPb71LmEzFdCJxVsA0qI8Ts6hPLIYFKBTmhat+thlzfB+i2Hi8bfuwW7KItTcg0+/owkg24asiDUUnLNE/Q7xpysVpCH4hblg1wanATJXjNwOKJErfde3tLN7PGE/UVCCF3yOwNDxPsw15IDFc3ozSoPtikRpO7amnWMsS0iX6NyefmPZVAiIJB2Af1K0f7Rpojuyjviqxg/m6EsGxXa64isiZ3mzUB9Fa3rB0IVDnOamI2nlsH1zsI/u5FVNnM/i9oJTW8gd7iPVkXfVMP/mtqx/45IK0ql7R0uWjKUahMvBOmqfd9xnku/3qO1GW9L2pOW0ShmcexgCghCAmFg2jnQ61IH6NQIJ81zHXOBQmvHjpp/GKm8da8f0+9oM1k1g9s9TLAXh2oGfyLG5a0VCsrRW0WZsQrq7abHiatlsHulgud5P2Yj25xOZnkgG6TJdil5qnxeHGmgDEanaceHhfGZpYoY6fXvYYiGF4k2z+tlZVbYN7TB3VHBGLsxINo9IvGvHu7Jb+xeyNOHWhOj1Ep5TfMc12gSd6LKaM1MPFc7JZOboDuVuTXNJt2SgkfYpsprOlIs84TU3Xenv3ojjehMwtOTHZlU7WofOsnCt84/VSvAbc7ch44gEbcZP9Ln8O6qNLrjAk2XnuF5LV6/iiO3zE0th19XvWxhoT8r97jKFpG1Lx81IM0nxPhcANdABPnBnmkpipDB8B9ZathYCgTEuOChhpym4/m/k5Qoi7/tYdo4dqTppYFl3bMdVvxsln83M4YIJT9qXEG5tcsGDOrmCKP38srVU023tEoIFn+cd0mmfBz7CYgGI2P7aHbtiXF1dPV9Wtg197nEPqXWeBVg2fqNtRvHtRVpmOo2XiGQDaPzr9hbiqvw0aX1razDg3jEXMrQraQGXccdJ09il62hbZO3A1oz+02QEFKAz0KyxOrSxhBYYo2Fn7l9mhUHXYd7Kyw2Lqp+G1qrcOiQVWNBJVta1wFwrIkkj2UeT5yOdpr2LzMLVHXucQXGG896ngRtIqrFuBFH54TGx/9jWQYd5bimson4nWhGglby9vT2RVDNZ6MDauWykwZZ0G5gduIK9dFa84kBAaCzpe3Wx7u4cLtDwjQsEvvZT7vucJXUZg9C8b+1HKlD/qH2c6/IVZgOqmRXKp94cVSGZzARdOMh94nM87xVtnvVYZP0FBeexRGIm2toPLWfocriSdMB0rJ3kTUUrkg0i2QPMNePl0Jo1d71++SDt3XH7ctwBXHXDJGkJhOdjp1UO6Qo0dvBxPmj746QZKZK0o9TPrvtdlwiVC/XYOF5lhBLTQjpNfa1Wu9nZ2SlkYM22oDAaLu/8T6Vd+wNZ2O0OihO4b4j035+Bn+86kvSzaHQkvZc7LuhwQhlwc91Alpjn+k53XP75NFsYYh4gSHdl4Dv92AbgONYpBuGWIcS3QdRAFwA10OTe0IYTmsjtZZWAtsh6ap2nRRtilz96SS4dyK6iApH/X1ezkMI7QTqpYbyA2k0rCOp0G/hI103DX5dzCyJ8mVcQJSgN7tw5oFkK3S9M83Rqx/D7h1YQ68RIlSmDIKPItomrVLZXnxEfnxAnSVJIujr3TLMtKJZbabtA7AJYVpBoqUmLr1zNtE3iBsu+umAD7l7mziEWiHxm075f38V3YYB/69rc3qTiK2R6qIEeQdq5JfuWjWN9R8P3zLK0kOaycSJkVryJdm8ZpcFNIIp0Wqame3kkEzS5Nedy0clZ4gIDkaLOzK06JdAOv/LCbSA834ivbpj6TGP9J35HvgSvmWidKR2ZP/T3iW+rnHa6Ju9JBdFnBM8GNP2FuHU54ZlZNpYDhOgfS1T7w8Xzcq9jACGKsQ21Gcli7R4G0PqeH+m7fehiG/6kvadtSlsXtV2wYN2e8VuX5jJtVw6OnuuBsU7DCjvFQgqBArT087E+t2j1XuqPlHQk9ctab3PSioF5dtkaBufjmDDf9gIUaqINMYHoiVSXyP2dtfJY2onG+GptTGp+TQP8VPNWexqmqAsG7Z/LoATyWNZloG/twyMpAArPKwFFV6QIIToEvtDLjItZNua2NewrnqbAjGUBbLDc07bj2PlP/6h96QKN36rV6tM0tsIqKUMB+FTfgqYde7f3b9tLsfZuKhSgUyLzI2rqg3dgWp84LKTi00nJItScL9LGakWtOh2CgtrLSFnnfBx/43zCphI4yASgXfqJNJbsF101Yvuczae45rJn9LeBdsiqCl6nvtNJuu9UQxQKDUiDxwH8HFB4XimFCtGWrecMVWm1r6h2n4m4hFvn2nUtBYGqoy62oebcNXbcVDPLk2dQTbMrabG4T1RjDReOZ+uS2vK+oQAtd80ikhGeHYl8KYvmgb7d3I7QIqud32utVoukYMzHkZ1l0cAv+ic6IPk7slt0/ldgz8WOVSerDlZpzFX9g5b4tu8T/YnOS7/dBlk4EqdJboTlc4eE6DQ93XZOp3YnZ6ulq3NfJafkdD8iP22zKoE+By396BZlnaLwfC8UKURHkg5SEXB8uTF+0TNgbcW2xUjsqIb5kyBAEfEQyBTUcRYvFG6CkvCtWWbTgiy7QhaCArRhZhE8eM/yOjLvd1gY6HDrxfuYlpg0hVcaGFSo9pmd5ZJJXDDmtWr4t5cgROP/tmXm2tJqmvoFC1JNMt7fyEy0+xZN33UrppHvLfe95lJF+WCetLBKGkzY9vs1IRouLb2sC4ZVFWyEFQ9t3qQAzMiOX4kBu2XdwDXFVkwjlgVge3CvtHTA3VvUaoW2QJ+FpyLO6otnY1tILiarnNh0B0uRF9lPrNtz6e/+pN1ETIaQuWEWjgAI0aj4tQrThiug8Gl7k0aA79vnUaGleNlZrootE6Jnc12YjI9CPyxr/ldXjjstjd1SDU6qDYab0CCn6pEL2EF5bT+lHVU/y0aQt/V5tqiJZckYFp7TYgmHtp9usOipHX+3f6xssOw7g0AiqQbOtK2WqYU10O75ZHtwv8BqVUx2Dmiy3XtRudzQb/X66y7fuDg/5LoVP8L3xNoFrBN+twqnzl00+J5OR/PfzzQHfCTI3pPIEwtQ7ukxq5kJqURQgL4nnJN/OlWrYZgT7RhbkkbVd6QgKDyvnMKFaKS2k9RFwZlrpYz4dHTQ/KYdITr1T/p5nQcuGV0/+aIHQ1XGfPWwCZUBrXpY+lwnctqPw/BBSekxL4Pj9TLn27RvsZQcc92IdOoVYpn6TV9YIPdJGj/xTBbABlP6sbvUIluFMnDTbAYBhFtD36X/fjYz3yP3LbViDb67KdmfW1ZITElRS61crj1Jiy1FTjlA5oYC9ApBInP4Iun0hT7Mr236wuWExSizguV2Z6HIlHUUnu+NLfM1LxKYe2OdzqWE9LXLqQYZLhnoyNJA1dE5VaEVHtLymGDtKwMier4VvvMu5zO03GlBli2rHjbQLgcabxkPUuZVJfdzV6f49vb2tADXDdyfHSHlIJGT5MeLBXRXrdgSBrZ63e/r9Kjoad4sO7CsSxrXFVq/TnLmkRmhD/QKsCplZ9rxoTGBH2XXBRUNIvO9Nqulppp279PDQn2E1w3LtoFMKZGQ+2BLO8azoiLu0UmqJvJJmbVMQcBO2wUbp1yNdveqIffqnRSYFj0fuxRU0GinkfN+H5EFBaJdOOgdZzL2JFa5s16DZi+3jbDOsGl+2aWnqJR1rrT07cC3nJQCPP8X2l4/WUYAclkxQbdc14sCLGnGH+dPbqk003mpqwkDCuegJhuIM1skzv+o7+/sylyGCc9rTnvUXTS3qhVkSTvC1GxykrdPK4rQltRvMpsLtpJcXV0dqmZJik5Zp8IbhGdqmu6bevF5oqtAf0A8oiiBvfMdycvmM7yflt7Dp1YxEG4bNxY5fzLq3XfR9E5AruUOtPtBhu/ocTckQIjWqJKjCqPaDxcPAjR3n6fw6ZCS0Jcl0uqg5e2vESdRt5R3QdvQb082qL0oEgrQ2rmZ8Pr6zoo12RtRVWy648D/8W1+Wjwr3tLM7j/QcKGU78KNzn1hkfX+nu4V5fvszLTUNJWHmhxo53gipI92Snjuo2V0Sia8v3Q/1FR8J/gwPTayBi2s1V0mRRbJQPl5ofBcbhZsJyyI8Av7uV0W145AgC43KstYLmq0HbBwPTEtdOTnlb3NKCN04RjmXB+sjqTaoItwgXvQHszQSEOb/daZRvK1UHUXHIAXrxPODtLpHaKSUIULr/hGJS5MeP6x3jMKz+VCn2H9v3Rrf1hMxgcrtoP35rTsuaFdidx68vmd6l4IFoSG+q0gruFuMaZ3ZG+SYG2D7zT146Cza5gJ1hVn0A4vL+1d5My1JcYG19dWJKMjC2AD6khIuUE78VO5VItVLHOAwRaeF0n7FadgkjKRCqixlI+mdzkzZeGp+113sRxtN++gjdiT52GOejIdFKBDahJrp9TNdaqHQP12joCItHxmPMsmTog+aMMv+lDPpVM1Vw7rIFv2s5DO3My05czSMI6/1xT5nacif18/vx2JvGteQn8bp9Nn2nb9VTf9Xk2K9nNsShqgh/91R0pNAr/bLX1Hb8KOR793bBB81i/Vjewdib0TKL974PygLy0FXv++OaEc+30bVD1N97Frg/o0uPDTnOj5/LR3ZcQNDGq1GlJ1dWROrE1oy7rw30civzdCmfnXL7St6EiFQXpBPL9PZH6gTEIWnCYG2qUKMAyLJi1AY//oUGrJTlEunDqojsJiSyZbPLPgwTSDUE0+6MdekJmgAD3MB07zcytDD50DuRPrM5TyTosddOeuPZ9qsa79SFEqBAKDtIHbQwe5s7PTlSJIfRwbUhXQGf7+WSpAj1qOyS//i7ZOlXUnjuS/uue9CN9E30k24PNYai20f0drdws9ZITolxZfAQtX22IdPnEZPR64FFPdYKdp9o5UuEbMRNMqpKbuUCOEZ9fxSuK0z2XWIoWD64XT1t0Wng3mfvmn12mbMIpqC9BgK/mJ7M/ryhFoofEuFWLxWphb964CDPpjWZRa0nT7euD215VFuXXWdCjy4v68QUDhS1f6O3HrdLIWLTIZCtAh0BC97WtOh7BOqSNToB1n0z20yfxpuVx58QOXr/ETqSAm+HSkALTRPbZAq2qATnBSZ5jl99qqqd4R+TOVw76pYDuWyM4inaPHOkkIjlDFQZDuSEmxdxTn+jzP3cqE6MhMqAgM3jetUmtsRUEVnnVf3nLT9S5do4Vn+EUnmI/UdR0pN1AIoGhKRwfXsczJ2rluQPM8S3tRVRZ35SibS2NHYC2ryXHWEjUXqftVVETsROAGFof7c+1WmoED7WvkFAEJ41jmgQK09H2Ddq0+/IDbOUtt110SddCVxVC7nVUe21C0sYVFYF+qxKzCs+d9VTr8Q23v/tNCVXDvjwU7x4CTzGd5STXKT83dqpvNvWwxDV39erNIHlfdx6VqiO5o3UxAh2m8Z7mqS40KQPs6QLpR7XNX5sRcN6rVJozDuW60ZUNo2MCxsgHyIRabcODSUqqVSAfUXSkA3c+igYmRCs+R+5YTE2ED7Y6QhaAAbbgE6EVh6fCmGY1a2c4Bt67yWNpR1lwAYmNTnfst3/OZVIkPW/nC86/1Xxqfp58PG6m2+cNnd9f7XZUL/rNa9f+6KxWkkM7RsjO0pQJYB7prJtGLMGgwWKc7cgdvdZuDyYJ1XlEUE559xcJSu26ELOyWc+u0atVx55rEP6peaMdCJNJM/lSatT9a3EWhyGwu82K53eHKgQa9KeUA96QL7fLY9ocsBAXo5TC5cUfEburm0cos+Vy8f9fAv6oSWJ5OdG4H2qgtPiD5r5aFoEp8/PzuPAjDL3aHXTP+i96ev1QF6z97eXd9CNfVFKDTzrEAV44qAeHWTKIXPuBvYhXAW33Ha7kCRKzLrmQCQ8JzmpGjIxuAaZ9bsi5gwI33fdNIi3fMHVCofQ18hI/VkoG86fdujZhFo2suntfO73jgqjV5uzRn89YiVQlJsVCAXg7u4UbaqVEP+lQvXN1p9Pr7qwAYgUdSgHaokmZaaJYbW3fn/8e9fL/mL1TG+stT1TpnhO7ffiyVBq4cF9LZsOpjlyZEH1uZ7qNxKShNwL6jqYff4pQp7qDpj0Zm5CgZCB5ctFS3I6mYRWoco7Ju5LUJ6weqmbZqfzi3GwH6mGatVtvSZ6td5iqmd/CVTG9nLEJV4cQC6woFaEM7vIuhSoQA5XQnaZLyqLmAIVk4kjYNIIyrMNq06Pqm/ezKotwO5+GuBHnC89e98Snqvsh5vKofTNQw68FCztwwz2oHeaZapqb+fFT2TtKCBm+cJjqRY21THluaunia7V1gIXJHw48yxyXD5YGu63196zrQnlunOprnM/1/4nNvXkHa4iGasi7kBQ7+XIXn3uxdTkW5UwdhWpDCDr70kma/aEmJ4yXS97b23GXJSd3cmoL3t+5qPchMJO69R9DyBzbnBWK1qJG+HyhAi5lDE1caOqxhj0qBeDlnb80QfJgWUsA+uzIHlosapp6OVAM3ql40uh64gikyR87t+wZuF1czFnN6N0dZX92c0AMS2U/+VK4W8XO0jByRpNqmllQgqNDcObZdqjq4Z9Wk2fjRUUduk/OJgnRaKQyZe565gKQfqXAcCuDpPqGavBlVRryMZAbX81OFim/T4mIgWsPz/iZO3bqQM34ziBbUQsPVCf0EAu1L2TZY5dBrSZJsQ9/Icd+cnsG2LVd0LSf2giwfCtAhNTmFOTSvtHe/wMFsPENp7vlGh7VneEtUiJ87Fd6KgTnq80Wi6wOq21HOKvy+n+Ou8etXsha8U0jFsNJ3klmsI2u57Bsw1yaJy/3sBOKaXs9bV3ShN2a7diCAI+XdibZLB5Zq6qYCqeqy+Pf5itpnIy9w8P89Wo/B82zMrYWWtD2AYHopZSXNkNNw7hfFZ73Ate9Yisu1yWxSJShATwsSnM+WiziWVIs9syk7FeBdp3tZRD7IVWAdY1sWxLTPkWwCMN9mtVCg+gUTUoqJtkcniXeoWYaI+1nwcQ76PrdczlUIxKlQLM5No+asXdnREqqCYcAQ9eekJt+ZctGXjKZ9dmRebuWZrAt5rht459flvZ+NaN42wtqCfSkpjT9u77hc5WmQb1uWw422JZGkyjqW4l4xFKBDEnlqvkWNbCVC1QDNXGVNH+wTmLLVhNvrfXo4VcBAEF3f05evogmBF2J9zLTj8MVWsqATXScfyAW10ObGgffgplKBQgGBIA3BuOnyRqfR9KkGKWcTSV3Hmu5XUkiFx/sEmrGdeTPzrFXmjbycz4iTqG4V0sUpxlJVPt464VmczzLKZy+P1D3kgRt0x0JWBgXoFHRYsaSd2sD39naxLAI66tzXF+cxTLiuJv2EgKKh6PoK+TgWxcZon0dVKoQP5Lp1pAVooUtYfWwuLCAZk7seF1w07OvvYjDSwk5Hh87qlWqvYqkwZp2a/394u0aD6rxB819spOvGgALzQpcMvOuxLJ80dusNhedVQwFa0mII+jFj9NeU+z5ub5sm+nkaUKSmW/g1v+kHJzascuEzFZ6bYhXFqpL83PJxIrDpVDvKRVWn6699Hlfm+8/31rMjXVcN04JYu9PNzu+7cCEDTwVS1K2ApqwDea4bPnBw06nPH3BvfRCsOl+WabBtffhS5ApSDupClg400VZOs+d8IN+6JOpf2PTacptuWU36RxWrHAThuVWr1RZKXLoR2udxwjPKd1e1eMokTMMkZDpqluu4AqW5l83atAt45z/Ocdf9D4z7Mp65yrPzAQG6LakQTcjK2EwNdJou6lCHDxD6VuJnfMcPsu4aC/hbf+6qkkl+ZH4FaOJPkiSLZQtBGdRE1pdxwjNMuOuuhVpAwwQsFRr8CLdUy1R1n+DxJHKqf8+r7sKl/zP8zyHUnCNvr8zDurQL0D5nU1ZuuuvGMA35jWsjOjI78K3HoLNygcak2lSoUHSxWFnMpqzatJz6Nq/FC26mM1eLWhutuZ8lCxJ6LevK+3qb/slFvvCMKoWvO7IB9OS35NG81QmDZ825W7GTLD/6P/NtLIqndGRG1qZdQKadf5wpoAjXjf/t0fTrI7j4z6eu+lxNatKt/XA+q8uizxoh87C5PtCIbK85s88nUkDp6RnAsdal88d1nNdqtcV0ROsUJJQFwjM0z3kFUzZHeAaoTtiSOYPJ4F+vnWRP0vcHwnRXSGmBJlAWrUy6LnmfP8xJwPDtSOSHMzSbEKp9yku4ev3ZGrp+wNXrQhpzDrKv7JMDa7IyNlaANi3wvpC5sej6lixOU9aRR9px/n7n7nykrYLP8+YIz55Fi6Ggk3x2e3vbFArQZcdnF4nnLZ6y9m5d5C5zDrIteJDRmGSlMIiQ3CvJnzq/t0jWjd99Plp4RuDQ5gnPqYbppwv9r7uY6vX6jZCy46xTNs1McuZy8TeFbBoMBCSVgWnsyP1SX8MGEwFD2WIJwAvPX2yw/JcWxGjLHJhvY0dI6bGUli2ZlwcUnjeSZCgvOiGlhgI0mQvzcWzMbZ4dsCPrxCjhGSDi/nenzPYHF49v1tKdDwOmthAyjnUaWP8/RyLfnkER/zt66b+TaRb/6sXAavX1Wrv5NhYpqlJgv0TIRChAk3lp6/T8Zz/72en3v//9uXzJzX1jlQGcy2eU8AwQUPj+lAoWpLhaTwF6C24ctT9g1SwylqasCwj6++sZ1ke2nqwA/bev00wcm0B9vuxYljbxQtIKgE+EkCVDH2gyL4/xp1ardWVe1tF9g0wmWczqAC2T5YUmJcT+P3Ob4s1PPhKymdRcZqx58L5xkRCyAihAk3npR9nL/DSFbCJzD5xMy/SFiJwJKSttnV6qdWq+rAhv6Ae70czpB21uGy7VJQfYZBXQhYPMjPczw3cLFpqZ5MeukYxk3SiqHPc6+zlqB7lAvtfYPilklRdvnYplHuobPrBGrES2Hem9kg2ikfx72ar9C5mnb4klbRuawoBjsmQoQJOZQRU4FaLhY7aI//J6CkDrWOCgeBryN3MXQ4l1QilvprIrL/j/4P8byzzUVADf5PzP8HXeFH/nUXzjnp953vEDSbXQsRCyZDa2lDe5X1QDDRN8S8hmUpOD2g9Z+IDcRdsGuOisV3AxmZXT2h+y0BkpN/SBJvcFTfCbDItkkBxcARUKz4SBgKQCUIAmK8c6SQrQm81jISTLt9guEAfbB1J6KECT1cNOkqiGCYGEQkjILTWPxMH2gZQeCtBk9bylAE2Uv+FzQO4QCSHgKwrQpNxQgCarp8ZOkijvUIAmGdg2EE/C9oGUGwrQZPXU6N9GBB1kJIQM84EQAhJqoEm5oQBNVg8bRpISCSEhbBuIp8ZngZQbCtDkPqBpjgBaIkgWCk0khYMpUnIoQJOVYinsCAF8FkgWPhPEQ3ceUmooQJPV8pBme9KHwhLJwmeCEFIJKECT1VJnB0kGJD/lgIoQQkj1oABNVssbCtCEEEIIqTY1WTJOw5TItRACEvc3EkJATWIhxPPfZFsIAQ+lqe3DoRCSclD7oVxKiXggq4D5XsmAWAjxsG0gAbU9tg8kJfmxsH0gIaWzXtOFgxByn/SEkBQ+C2TALZ8HElAr3/OwfA30V3rRD4UQz41O50IIqMknqmVqCiEUoEnIA30eboWQlLcbKECrSa7nTDGEgJq8qP1QToQQJfmJdISQFArQZAA10KTkrMqFgy8CSUn4LJCAhD6vxCihiZbcI3U+DyTgvyvf80ABmqyWWwpMJIADKuJJ5EshxPMV2wYS8G75ZIfVCNBMVUU8JRxFknuEWkcyIBZCDLh/CpVvxKjtbq4G+nMhBJRwFEnukTqfB9KHwhLJwmeCgFhKyGoEaJppSUqvjKNIcq/EQgiouQw9hITwmSCl9WJYlQaaLwEBsRASUPsD90xwUEVKmaaK3DM1+sUTKW2wOQVoskroykPyoOBERL7NfoJkuOUzQQQDqVdSQlYjQH9NzSNxsDEkd6nJCyGbDt27yF2Y5pKAt+WUHWYSoC8uLiKdZq5HbtG0sZDNZk4fRzx3QkoN2oW5/0/UMpH524bGPH0SWS1ztw1vpCuEPJhPftTnbkuWyNQCtJ7IS/14rVNT5oOd5KYzf5CQPn4XybJfBjIf+n9p6ccXOs1XYZJaJpLMbYVo6fTF5eXlmZDSYQMctA2vqXwjc9KzWJmZsOftJZ6/ZQ2yZ9FAex+USOYhoZl2w5nrJTC84BwLKSPe9P5Y5oFaJjL/4No9c0mSML6ihOzu7oa5nOdVgFD5tsnM3zb4561nz2HhzCJAu4uo1WrzdZIJX4INZ5EB1BOd9pb1EpCF6eq0p9OuzAG1TGSBTjKyT/Yv5cX/b+YToKl823SuZD7w3G3rdCBL4sEM68b4oyP9pszDG72Yh66jpL/aJlKbX8uogjNeBHaQJcUGNh1ZBAQSJnNat0jVuVnAOtW0z1hIWXHWgYWUbzUhm8qcAYTWL3Vlicyige5KqmXaljlwWiYmyt9cHtBMT8aQ8PnYYBbpF7x1in1LeenotKvKt7k0gbU/cm0DrY+bSc/+/6VkpeO65MfS1o9DIZtGXPtDeSSEjCA5U8vUQxeISDaNmuzWfiiXQsgIkp/ItQ6ym0I2C7Vca9swl9J2FayqkErKLbVMG0pX5sAiuM902hFSepCNQ6e5BshmoeoK2Tz+Dv/vZAK3c/vBkiqTyLnMATJ26dReduauWXygFwaqeNVC0w9606jN3fg1JU1ThZeAGqoSY2mCzuz7uZrUY5mVNFioKWRzgIaJBVQcjf12Q96VSN5asF1dYr0/vd7/2qZ7yjfSUQvVsZDNoj734BpKt8NarfaBpK7HS2FmAVo7x339+ETmz4qAEcVzIZvD/BqmJv7oS8AOpOSgLdC2oSvp/wyN14nMCixUdbp4bRTza5giSd0Br/TZq+zg2gnN9dpzSYPzm/ImWPjW1jlowzpzqe/Gee/ftLtSQWyA3dLpA/1/zewLDQtV8hNtH+jGsUksElwMGRVJL5aawWUeFw40Wugg51ON31KTuGFcLaBh8i9BJcx3jT9pN7VDjGRzcY3VvNH2FiwSC9kc6gsNrltSYWVM4+DouQrGr7WBawv6UwjJiRzo556bEpd+61TwTiR6rW/lWoXp6wq3MdAg789d1IJuHJtFbe7BNZ6vpv3syhKZx4UDD/EzFWogRHdlRjbGjePvNUW+HQ3P+5tY5K+7smEsMmBC8R48J12pAtrBmR9vIUEP2lmi+mevd9wubRBFhq5OzxcsaoFGc3210GgXflt1D41gjPG3eru+UCPLX3XVVL1B3gxw35hfw/TMPisnVDkBuAZ3J6d1hnB8pJ8dfc97E7ZpC65bhe7Gj9oHvU/bs1t57gmzUMWS5u2G7NCRWVk3N473t9JpXv7z5Xq3F7W5ZQcvMzTmciWcgXkE6K5Oz1TL9FQ/92U+MKpez07yXf3f/b62jb+TE/f2WWfTBGhk3+jInOjD35Jq0dXJaaF7J+1YFkD30ZRUK9WRiqD/r65+vC+L8LWcaCe5Xm0D2oSPVVH68X76fRxoI/5C5am/jWXtScqvYSoaE4SvJRUkT/UetLWtmCgFWXvS0u1PdPsL3e648aOj93qfHh5JdcBg57nKDrAsdmRG1s6NAzLC7y3Q1K3zgHuBwbUJzStROs0jQGNUgFHgFRqyOf2gsY/1E6B/VzvJf9ie3EluDl3ZJKBJqmnjXnem5bYsQl01TYn7nEvIqCpr10n+95HIP71OP6fhw5bI32+K/Nn2ugvRCw2uJbVUfFCl/M/O39kLzzU5Ug1ye2jZAx0w38pTffZTtWTNWWpfwO3RD8j180bX3Xb7SZK2aqK/rJAmGv3+Y7VQvZJ5eauDjvoatQ0kn6Qa/d691fdZq7yOeBGgdYZ5dhzQLv350gJCy0ddHi1goq0kjYO2y2Ws5ti5NbGmpXqtX290P09kw0j+VE28ddWyVZ1ZhecQCM/rLUR3VIDeoMZQ3+sftY+1z9u/Izz/qN2CRlmG3RqH3RxhibrV7UyQDjTZDd32yaIWr6pg+eLRNlZfS4W2YZLMMI6rR+vaPlSmbsRq80CHvJUqmZ5GA63zP3+52IuwjixgglHLRtOi7KsIRs4NBBTKvHgNS+JcnSrJIv/D2h85TVX1bZMwz+YJz1/3UlcuDKj/y2X6O4sflK8r9TVp/6dEBd4tE547GeEZQnX6j4YFK5FHOmiuuQF4Iph2LbiwBYHZ7UfMpQPLIEjWZI0flGFcvnipbrtIpqIrc7Jq2WGleaBD1iaY8B/s5LtsoFN8uMGuHIuZYODegxdht3IpqhLt7GryXLVFCHLqyjwk7vpj7SQ7UkGQwF4/DtVUi45uM+MkIADDHSMLBOb/uDfsu4h1/8nF3YAiDMrRtqybn+NiwYPVpGbBb7eDgUNj/+hQkgTvB1yWdrO+0PYb7d+lCs4Qvg9NiHYaZ+fOcdDGe/LcDdjfuJLojbXXRq9LnER2cA2Z4f+YweC4rtapxQbXGExG2gc9WYV710IaaJP2d2R+1m8kCc0SXoJeZVzzlsHc/o02emzaz8rdRO28upJ2iDvOr9GAyXXENDTKavxxG+9TVPGqfF38qdVqz2RevnZ5pKsrOeYFESMLT1Z4BugI/8N2vib6HyzSvJaUBayPVu0ykgphaeeaTvvsXTDgtlFz6eu6yLIzKZBQl5/kapx9GsC3cqHzv9CpEv7QJjtszbFpqoWuiI/sWLICNNqBWab1pLOA5TrtO1X+WFVsxNwCtD388MGa33xU9U4yBJ3ffzpI/Ra/2GjhGSwygmzaZ3fZKWiWBlwvVAD2naIFD70eNQ0J0W+dRaYXaqqqhmXjcNYldJQyB2thqsVgOpxen4/WJqP9+E0sG0Bs+b5nxgRn9Dev584lfB/UzApzGzzPZmXSz6n9wG1wjn00Xc75H6lW+rYfK9CwY5W+8zELFWSH+VPSJdXJTpRLnnV6k1JYjmIx7bNT2KjipisrYhENdCzsJFNgloVD/19WYvC/bBaNrvdaicpqGLSju+x92t4NZvnW8sYFA/kpfYcawXJsi3yw76+BGda917e3t02ZlyoPsNEWYDAdTn/Rlpn5eu061aIG11W6MUj67Vwu8MNSVEY2yI5lFhKX3aenA+1DK0oWDy2vV8JydWmfzXkHQm4QVmUrXa7b55ey4XQWdO1yskOSJCtTPs0tQFsD5oXf+f2Rqq6Fhkn2/9rl6HHAQg+vPlfQ1iAC91LWgLRUr0trB+3QlQrWe34Sq9yny3fWsIJhR6f3f/CDH7RlTjYqYAj+z40ci/Z6WbNuFhxc+36maoPrSNKiUCk+SPh29mfbrFrIp9zETxWoke827q/wpvwaaDOvd/FdB9j7Mi+1CmdxyQsu9u+6yxuvt+Ufn6WZOhAf8Xvt/PZhnagvLDtAbniySsv1okGEEHIWcuZ3eV//ncufW80KQ5tQ8GB6FtU+O6rouuECgmpJy4KBblxQz9s0GNLlcwa3mdF1or9r7vMYz7+aZPupqly0fc1VNjyqUsUxT2H/wzRgCOWaq2OynwV0lvBz/kc5zd+6FVS5daWp58I0lTG+67PVkSqRumnEwRxopHteIz3H/mDJgrk6GsoLnWq5q6LJweBhq16vz32+0Faq7HBu96JaPByReABZvf5RTnPvi67A2g1X0fWTOzpFBBavOi/8QkGEdrLv6+dCVV9q/9JpoWMhVWejUlN5THhuS2qWvVZB+MKV9U61RAgoPHDpqTJZNfR3Gzlc3fLUH7JlZXrPghyvx42Do+p1EAWxdlpoaJqhVcL09LXIzutU05Q16f78dD6Xj/LSmdf3GcDiaf1M5fKiw3d5yFUjsTiHeanbtg/SQaWltNu2dqQqdHV6pP/TxZQD3zj/8uqZf/M00B8+yxeeQyBIz5tbvsxUNK3lwmnsCvNFu9VRet0JDaSadBbRPpsffVw17XMq3DrhOXaR4Ug1lYi2ck5wPrLAn5GYFgrTifONRIR9Yi4f6BCxP0k6ehzpHR9W0i/ctIdbFlw4M/pctZMfpxo3qToQlEfljPf5oSE843OdKKiDrJjvs3fhOoP2vS9E15zrxfzcukwcQ1QtZqKo/6OzYP+4gikv8zTQ70/pouELNP3vT9bDdVStrtrGxzInyMxzX1ap+yukksG0E5dCqkl9odRUkaRR2dfzpja6D0x47kgqPG+bRnkXJltLTdWdYXeppuq4/ciZfFNXkBPzcew5IdqKKFQJGxihcthixR5uN6BqHYQidKzfjtZLw4QOctPyPg/YcgPqNH9z5OYk8rn+vZPCcmpqNpA0f2eXDlOtXlVsHwrh6wpasEe937/Wf+n/fZDGVSHw+LPzNP1l3vYfz+8+XiKQlactc2L9y5l+vpZ7oDABGlomnQ4XSi9UdyaoNRhSbRiLd5B97cGqfZiy9DujCZUE087KCc89E3ZjzHcZOBYsgOIyceh+7PtNX4gOKpFVCP//RHL7lsyJG2CvQ+7XcXjttA8eerQWnjuLdpB4bqorKdScNQpEfSHap5rzwcWz81RCf+d3TEivqIVm0f+xc/Oq2gAb7lkQkhHnAL9m1I3A9/9Ttco/P0nnwQr15600R3yeEA1/6XfnF7dKQW1htyMnO6wydV1IkZUIoUHcur29hR6lLXNgQQHVDSjcTBbuIPWjZT/L4AfVdJ3RW9lpHLRjC+Lr5KznW66eTDHocx1n3XVyH9i22OaVNvzTpLLqZY45+jgQ/G9d0N2LMgQfwlSr/2NvYsXUkXmBv+NDJzxUt9dAp4iUlx5fsfDDjLDsSnl3RP7282q7cywu2OCZaf3sZz+Lvv/971dRkH4cfHdCtN6TbXPjwLM80zvqCrAkup/Q3zndD7hX5cMCQHaAEH0zt5sXKhv/qZxqG/tcqoAvhvJfpjC6Y70/30sH1SGwVv395nT7KCed2g/n9zow7TOmlaauCynShcMF+tTr9eeLaKFdQGG1q7BtFnVZKIBUrHKQpP7PHblnnPY4cYFK0HaiozpTQRqBfa0w1Zxzz0g7scgC/nJxBQ8O2teuaAqybSQqBMLHOf08c0GDunxsGrtBQOFeXuQ+TMGNHx0d6n5euuBFDACSUmmjfKrKeKG2oYqapjzCamJeywShOi/n8+8v5vlyr8AytUDgYDi4Vg3TvQ8G56QZfHfvgAX9pQVR9L2VKXFthC/AEro7Ju4YNxXOHe8tS4v5Mb9xipxY1hG0E3nVjavr6hUXEBfhMvNo29C5r9ipwgRoE35inRoL5XYEaX5HunKUnQJ8G6FxsPyNiwrihQEhtXfsND04r74gbSbYgQDoo+FHDPhcdo672TieuP2mUfN7kkajN9PsGyM709j9fTB8r60a2XEqnPezgFw6f+zjdmm0dRYwhPyc24sGD6lAdjlP/tzSA2H6L3MuCx1kNfO/LmSZMrx59t46yEWwtgJSD/6xzlKF2AhbfOKW6XvrKgpO3hfebVQdjCw4OXbzoZFO51X5nfAD7Oa8RdnA2gywR/HrV3fnPayoMU7/TwXIDhhEbqv2+d6yzxTpwgHw8J6pFrorC+BcOf7UZeW4EFJWLgvoIPuUsYO0Tgqa5zY+9Xl8PJSCKjFzYU7Z7SC1XWya425mldg+ERy449yWXGd6JL1PD4f3lzi3Jp9XerCfty4wL5LUDxvbnGgHXcqBZ6H/X2iaUleOSNaJv+qmuV6z/PZWvvapvPQKsEyBFzo178s8uyjmo+zS7uk7jhiGQxV4271PddJlOm/XWZcSlwP+sc8Bn92PuW3gwYicS9lx6lKW0Uh3paIEbl6fyIIaZHPlONLnr1pZOabh2x/IWrCgZSrkvuWGmhQMTLRFpajRF+GkMj5NWeCvlE1X9Vkn9WWqPjC/bG9wZL1Yyjm4ZnSsquBgWdrhQbj12TniKfbnXUHgK73b+7ftId8w5waS+mc/6muf9p32KZ4128c6kPzYlW1NXVvKBrRC/+MXd+ejAMJfjvFEgC/0P85x2UCwUZX8HNXSYrn9F6bI/uS+gSuYpK5Y20FZb7z3bf3qneC7+juWdJDesODAdNCeap7799Xli0/dwfYWDVxeN5KfuIFJU8oIrEpPc5JGwI1rXIEUbJN12aha25BWI61cLvdRFJ7GrsjGTkcp+/SHLiW7iwrP2jFeL5KV4d6pW4dXH84MMaQVmlJ4Bv1iCOLMkGd3UlwlpuUOIvctW0dXKsbV1RXiJBYKFNZGGAJIOQtHwJc5z5/54zFR85j/e4ej91cdTosSnsG6CM8OpLgENbnwMQ94781dbNe5X6Vp71r9WAlvXUoHzgPhGRautPBSh8JzDrU71R/Lwzdj2odRoG0YV/67GkDxtisLYBlbri0+4t5Zah7ohVLaef6bu+GxkHIA7dIfLhbtDQFKUr/gw0KekRXi0tylQjI0oHHv32QE2Lqlk0ryzbHjCIKLGjkprnDP0Zl+0j+HCoI837e3txAE9hfxdwSucM9tSStYvT6/Ow8d4D9/mWqavSDtU9eNqi6G9FXVycIB7dK+LEDV2oNZsJSU/cDjMCWlS3/5aXtXhen3LUYC0/vIC4/88j5lXRowjLgH5x52s0h59DKz6HNgCh7IDuUbgEF4znPJ+t39u4NoP7D+vfbd9dEuVKekd68gqzVuUFOkHEX3Cnfh8PgE19pZnv/gBz9oywIkP9UG51a056lQ+qp1dOFIfZfasgBB0RR8HixcynWFBK4Znivt4HaG1knNtOIKokg/rRw6yoZ+dkKh2pY13Q9b5jTPNVd45CYIOPL79gGJKTmuHlVAnwH8zzGIiiUNLlyok0v+nQrSNSlX0mS4cfwPrxcP8kF7gXaj/BTi1qXPBt6vpk7bVQwcnAbnepWmasW7foKg2KncvNBeDOIeupZ/fn009AYULCo3tMUZIOZLa+dJfuwUEeVLZYOqg//sZf4yaKihWYbwjKJKo6xWk1w+ysRb2av9qwVSmEpfpvSC85P7rhkBlqmBhtAQWVq7SBbAGuXSZGnYUE4LChqEhiqSNG1dZYRnI3J/YWpV06l2YO1wobldRN7tqPHH7R1LK3fs3Dpcpo004r6foSNxpb/TZdpBug4x3b6Z48Zx6o7rA4aSyuZDbkuqGYp02pFF+cY9U/femA4BLdOig2UUVtgs4bkladq6SNaYIFVm7Fw10nbhDO1F418PtNJO26y/0Wa4wfNbUzwkLpBwex2FZ6DCM5QPaNvOFtZEl9VKBQH5P40wHnirFITsUcIztq2K8AzF24LCsxFm5SlFe780AdqEo67YiyALYm4DaxGBV0EuFzXNevS5wH7QoFV3QFRXjdGn7byczL7zS/MN3ZovdC0tzS2pC8ah6yRrSUvSDnTX0tn1LMvGYPuMIGFm3r2+P3RFMY0zrvmgiNzfLn1VvYSuXgju+bMRVcTGAeEbHSSqlZWfXkHCcyTWQSZJcrqu2meP+T4/snc/dv7Mt3Ihb+SlCssJJm03vsBvNwBP25ZT84Vuy3rTlvRdjkQWz6bhFD9lFKIRUIz3fJYYB6z7H/fGByOXiQKs1gF4V07LlJWn6DR2WXDBsFNERURTYzSpJhlQPpPM+nIjv1XswEWfg7asI+84Nw3gn3MXPe8rGWqnmPp+v5HUdocAoOPUBUOXHcvARSl2fx9UuOLeBCyHZ2G41Jc/1UHZbd89qBzATxHleR+10tK7MMmOAp3jZ+dp51gN7RKe86Ky8fSffdUwtWVDsADAjvlDNy1VZuQW1pxg/aVOXf3VXVeNcxZLa4c+x1U3LkR2UCEu+VOR0qW3w7uOgTZ8nH/n6WiXr+q1DUULzz5lXSGKvKJYqgCNC7YXoVtUNHVlhOgXu3dfhmpF0wMIz9u1XRa1mZMrnZ47v+h3dBDy1ubWXFS9a8idm8dt3x/Sa7QjITNTWiEa7z06PkwwyyJYMPRtRIcIk261IupT4fkPi3GdgUlW+wpYpdYmbd0knCXqrVmtas4CBQtTRVSLywW+z/o87BY50C6tEO1KdbfS73DdQNvgA4qxDBYstA3fVOi1KFh4LivL1kAXrmkClRCi8bBX6YHPAj/cvyO7RQjPFhTy+TKehXvhVrYaf9JGQY94KPjnrQoTCMtNrFOEj3TNadae6rqRD9lFIQUVqg9tm4Zbp+Z89bxT3Afu75th4cT5RD/Qfd+6VFdrhT4jh/qMvFr0GSmtEO2pnqCcR6HCs2fd3TaAe4frteeSJPv6fg80LHifa84SFbu2ty7ndzL8zHs8/ahime+lyA5lFaI9sFj9tVSbAoVnHUTh/3Re1rZhaVk4RlFwoZUdfREgRDeEFEci57V/eSeN2lxkIme3F42qvk+0M9q36PmUvCIqB21U0Oj5LByZZS6Lhi6rmY/jne1tvaFMHv35P2pfWGEFf/w97x5SZSx4DO8x2oUnRTSWlrkHlUy3hBRJoUWU1qlQyjiGBGfpVzM971udbt0gGs/qJzIY+M0tTLs0l3U5tFzSfl+nVdZwFyw7tNeyWuF9U6DwbEqVtqTvyqMythNLzQOdBTlg9eOlfhbix6L/KIxQYfaLhRQDXoDihOdIzEpgkbNdqTaXzv2i5gJSeiMqXZ3rFLmUU3PgUuUFmTyGsNzT5gJyoP+rtdDoWyAhBAkIFhdF5AJ2At7X2jYkw4VuyEIULTxjMPqyLEURloV7p2sIBnS5m3uucuBxGzme9zEAdtNJ+wQFVSywEH3aqdsYAvBbucag2tqG8cdyeaKPDtPjuXa8a5l7xEqGF9L3rhoVppCm8vWiueM9TshL1jOH9r2BVHXFaZ63THhGVpbTsg6yl+7CkaEp6ej6WG/QTRECFcyIpTbZVgkUSfkjKVJDgaC5SKc4SZLKN1ZmBm3ju3ZokX48g6ZnyDyaOCH7uTYmEA5mL1lqvtHZqHELMopMa92W9QNZNBBcmQZTyeKDA5edQ6Sl2qaY2qYFKdClC5h2yQtz6cBwDejndq/bAPit0wI3xVcUFDmZFAxo1UUx7et739R73xK4gSVy5ly/RlQ4bRwcaXurQnqSYADqirb4SqVWMvyltS+V00K/fft2W5UwfoBdiJUKFTOTH7v7DEtVJGReYkF14n9VqEuXs/RC8bZoHZFlslINNFLbqSDlNUIXRWkeTNv0BAnphcxDrNOTIkvwAv1/Q2jG/2R77cy0iQl4mYqB1mHhmrdcxbAZQC5YSYXku1UM6/LcPtdSo2od4q4KVUeFZ+hItSJpqkAyO7BK/bC4YGJoEQPtUuH/7/vAVQfF++tzu+MzzdvclCD93KyZNNCeWKnvJyaAo30Yiv2B0J66fSVp+w3B+bj9xAvPtp9YUutYo4pVTFWQwmArltRKdV1UxUrnx1+nFXsB3P0rOh5C2dP/+WXZFW+r1kD7F+GxFOy3bNqm/eTfORP3TILLRlNzJr69osyyWSzv81oA82jQAXYl1So91/nDWqU0ePATFEnQTtUJIOM6ztQ/0hVbaQkqEGY0zFY6vCl5pcPXCLNIdWUJuMDjn+q+aamahZ7er10dgHSlWGJJrVJXZdYuTcOQb3Na2KhrBY9SIVcF3yIC+Lz1SwVlHON530XsrRPW8X2yhrsm71nwceUGkpbaDoLutcoQN/rsSFFY3/eIftEzcyq/Je1lZOnyChUpOSvVQAPTROLGLKVUq9Oi1gXBV7GQcfScy8YPi/NpBObnvjZ4n0IXHFjrB0OK66QSp2mG8Ds0SLBleMZvrNLYS/NfzA4avb/i676/YpJTYKZurjCZAirYZxW1SbNQlKYJ4DlXQfpRKYsqlI00eO3JEoRn3zluVz3f88Atwvk2x861Iq0QeNlvGx5MHqzBTQPWqqniJgauIWd9DXdaFXWshtvt29qYquaT9s/Nzs7O7jIsmoGlKhYyDlTL3UVxtSKF5yLb+lWx8iwcq4QjyhHUnKB2ULTZBYEeapLt1Ov11tOnTyvtauA6nLQyYNNmOQ0Pgn3668Avueb8dpF14/3c/ey3oY3OPoOxDGtBnTA+qsKYy9gB0k4yzhxbLAXeURVTVY0j8JPdLrp0q7YNTcvgEwkJcc950e5c64gKvW3nrgGXq7tWo4YbGMOipEL12P0MtxFjM2+4gXjSd+Homp/zzZh9NywbB96jXlEa8XXGZfB566yIz4RkuURhtaK1ztbWt2RJitVlUQoB2nyhn+mNK1wzZOmsaLZNWVrnqP/DHUmDMVCK9/z73/9+SyqIBeKgs4lsFjopFETphJob0z6lz1XaiY28p6YlblqDHNkUuxRWt/Iiu++c7X0HG1sH2LP5LZsfuRUhSBeUP/a+MW2Eq0Qm6YCj8IY1OXMawnbfv3zTWZI7l/0vIfQdrFOu535ayxHpJPvv7RTpJoNgwbtp7Gra/tRc292wokviMnmcjH/PTQngB4ld2yaWNcIsnk+XIjv82P0/Bu3rZoNnERbrSymYIF0dQBtRmcH7vQvQ1ri6ct86IdXZniwBvgz64Nf1BViCr7MNgPA/bMDxHyY2qSiq7U2fxZrer1sVRkd0Utrh7eg6GDAMCbVLOSdvKoZJOJFdZyIeXt5ymT8GOY/XorPMtA2xpDmiC7/PbpANrV5+WsJNINZnfW8Z7hqZgdAL/f81ZU0ItMz5ed8nLB+z3zxh2tOzAXtn7D4QwDzQOh+NG+BXFXu2cH/x2V6KEJ0Osvc32JLdc8kZvi0ny/B1tpTGblCIgOKqxUSURQPdkkFVweUJ0ego32jDtEkvAzQYb11y864sEf0fopNEQ1bpjBumLe5NIxCrsI1OCYLrjaWW6hVR+Svch3XCqQCSYyrObOc73mcmQHek4tjg7Fob1/NlN64bOMheducYCs/Yf+GuOPfNJC3zLFroEftvCu5f3WmfcQ8nWasiG9jjnt/YgDuWNUWfsbZIvz9fihANNtStY2lKN88q2/dlUBof6ECIjmXJfjAb8TKsSHD2+ACATagqFqJCdEcgsKYa6wMTdlXorZ30Pj2cuTF3QYVptbKeaj52dcCHd2Ki8Dy0j+FsIZVn1dXqNkCQXqrg7AksU2DthGewLC30XOfi80CnioxTFGqRDcAL0auwflJ2KJ4qVyMtVRCh+dHerMpPLngZ8kxl1WR1GuetdewQ56EvRA9AY4CO82CW0rlDZtfhjB3nLhcs6QPhbNntxBoK0isRnEN8Vp51bisCLXPu+76oFnqK4/vc0E1JXcom+kevG+YK0FmVILamgjSC0c9XIDtEu2sSC7HWWThmwTrL0I+0SqDROEdp51WMGgOn/+01KM9dCCpE+5RSR/p/6PgMGaOyc4zYRyLmU62f+xYgSOE5Q/D8rSTgxGXsgGtMVTvLFWuUNo1Ay+wz5fRGLC9cC53VOiMH/TpZn8qOCdI7FoMSSfVY2aDarNTwd25KxbJtjKLUArSZAH309ko0GCpIb1nu3vJrpdN0dOfyWyo4r0CjFLwALfyuotP/MkFqOZ9SymultcOc6h0zLdJrSUt179m85qZpkqbh8vLyIkmSHfu5NL/HLJbRJ82mUvaAw5oOxN5q27BCbbOlsfRpBzfLlWugZc51tRqlhXbv/Tuuz2m4TBuY3sjNJCHY0tMh8BXvwUZqnceBapeSyg4rE9SCgfZTKbhQXMHg2bpchbbZY7Kc980He/p/6UjFKbsAnWr1Ulae3sRyxaKBgjBdBs00HvyuTlerEppDqh4xu0qKEKDJaPRZ9AGcYHfV5aBLKUynmmakReyuWtucSUV1uk4VSKdhFi20szCl1QtbMlpJg+1vnEAt8kogJNedoNyQpPbY4iQaFnuxR63zMNo+wALoU2DurtqFSGUHaKV3SqSI61updVB9cw+yA4TnHTuP3XWxXFdBA12KUUu/w0xcp/lYViNQ9yxX8JUe96YMJlgb1Jyvw+hxmfT9ooPiJ2PX94VRKEBPDYKHarXaBzs7O/d+v/qDbbQNiWsbVqGBglDwwn3ew4DaE2ZCUMvAKSoMbpoGGgR5ocdroQcxDj0TgF/ps+PvV6TTYysLPu456pnWeaUDx6rgszvIQHh9cl9++GbVbpowvSWrEKhrbrAFC/UrDKyLLpo2K4Est7tOueAr4QNtDTT8D0vjN5NcaMP2Ny47AqbIOk40dpHM2nmmD3uqccADn+hvNePV9lhStKpYbuazmTdck/Rz90VZIrpdp3mrbUHddZiP9VlI24Zk5s4T1xLb9LmkQjME5vi+BOYsQbaNoyoVQVgGOnBO8xKP10I3pn3PLaVlKkjX3TPl+gm6a0wmcAFFm/BESsIY2WFWpVzq8pO4NqHXlx2+rQLzPbcNVc6sMQuVCSKsWuRmcmYd5YOcDhPahq91akivLJ1glqDxudr0TnFeTCP1dOoNErlax4IHq0SfW7gYoTM6Kmt74TrQnivQEN1Z6NsGpUoD6HWKrF+E/sA5v7y3r17amCW4mCxG1YQ5Jzs8dHm/7yri3libUG7ZoSmp7LC37kkGKpuFw/JGwyRS2o6yqlxdXT03f0ZnZtT7y8aelB4b9L22n7GkcRM0cRdIMLDeY7ubT1YLnQb8OZ/nfUn9lqfO6U6Kx/z1ZVXBx5uCJRmAi5KPf7gpk+Z/GdSluuAf1dLp2oRpUgDI26qNC7SgeBlinbaFkApgAh0KKeAzkjR2ZRW+yBsBBtaSumo0daKlZBSJQDCDy8WhK4wEt43EpZqLXcVSCs/3BtoDUw619ftrGxCSYtiXgfDclbQtXmuqrIFuSqoJiWwWcxIXBAIFkyR5tanBQEVhOVp3pt6gVuvOU72QDGOdYls7ypiZYoohzMAjaedIDfQYTAsd2U/4px4wtqEcmMItLJD0Pvu5xTFlhU8ysBED7MoK0MD+YW2dnuo/bKllUtcVG4jchA3IpgQALBvtRH0qpWm56R2319rkdZ9YVbweBb/ZsbYWz/MpYyIm4/yd62ohTYP+OkwzVy78IFuVREkZsvhUEViknj59eiobTKUF6HFglMlUa6MxwRmjcHye6L06EELWmCCvfEcYOzESE5Z32H6SdSerLDLBuslnfzQZ6/9aFESZl7UUoM1Eg39wLGlH2RHSJ7g/Dh2FdzgKXx5OGzWeHjVUy8WEQmhOw3LcdPsKsHsEP+c02I33h2wY+g6gX2wJZYdcLMuR93NGn3WwyfeoykGE4/ABcJFOZz/72c9ochymG3xuU3heHo0/bu9YhcFx0xeNP2k3hSwNaJl0askgyDCmcHgHCA9t8UU+ylFBjZBV4pWKkU5nTFBwhyv8gdJNPx5t+gDjgawh8NHTBx/pq1o6PdN/9samstL7gCC2T0IXDZiudf6T+6rMtFG8lRsdpnYmrveGRXNWgaW1uzR/6CEuLy/PkiQ532DBGlUNmzrBr/GEcRBk08Ag2wq3YYK1qisbSGCN+jwUktE26rJHqnSLhayvD7QnL8G/mWnwgJyva55YvUafj9Gn8aI5lpARZNyaYllT8611jC2dnt7e3r4Is5T4lH8UnAnJD6ZH6jtJheq1HGibDzgE55YMLFGP2Cbks/YCdJZMsQUQyxpWzNHr/EIGL8C5pBqlWAghdzCNNAac3ke6q+/LWuVAN2uUVx4AFkkiZEoseO46mBXr9GSdhMuMfITrOtXrawvJZS1dOMZh7gvoGFuSdpaRyLD5PC+1WxmxTr8paUXGvcz5wmUDHWWHo0dCxmPuTN582xSRrOYJ7xoCaDAY7ZZ9MGra5CjjpoVrCgfVG+vaRsismPsC4oUgNzRt3p12ogqukSbjQG7A+fYLnph8BBeuS1qsJ7NxGugQ62S2sg+KmWkiSU018AssnT9gcI6e3XV1RyHkvskUEgGXYcdTBkzIR+fuB9Z3tOhVUQ4QUmZMU9sIheVAe4t3qyup7FAqBZadI/K5N4LZ77M9mI+N00CH2EPTDef5F8N+Nm2CYBq+KDCFYtt4WZoo6wwxPZZUyM+ak2MZFvJjIYQsi66kWltobaJarTZKQ413EW1FvCxNlLVRWznHwPz9zO8hqFUiZHFG9PuRfbo86pLmkz4JV7BYC2y7lEGstzzJQHaAkN/PsmUaZv+zK5ZVg8zHRgvQediL8b5papraUT7e2dnJdoQI0HNR/PYwDml/bdsoWP8mZ6SKdfCwN+r1+ntPnz49CJb7ql8SzMuaho7suBw5ErJkvIsHvuP9TZIk+95FMhhwA6w/VFXScqh+KengG9NlpohDU8a3G21J2x6HpZIKU1Bi3a6kneINhWVCVoe5eCCmoCmp7PBezmr9+gu6Lt79J6EwnpM2r5tZ7hVrkc2KM8HOWBb6aeMY2TS127YdZYcFoQA9Aut8uiMW+w6wEfwOwejzuf+R09FFErxIt7e3saQ+y/7YPX1RYtu2q531q+wx2DkScj+M0D5hHga10FB7P+M+Nijez2zTzaznK4N60GZkfZjzvofntVaBj4RUCRNKLyUnvsAUZ3ift2zWnXZCAv9qA21AJ/gN2eIw+H2VWR7bPmOVHW4gO2SziVTBR7sqUICeA+9O4X2oZbiTA941xGmYVUD+Mmc5tunpQx6POMYjIYRUAuuUxnZMNpBuaKc2auD9uQxcseKc5eiUu0LtESGVwwa4ziplwnSU8x6jDejKQMOcXR7bcrQnsSnXssdgZh1CCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEELIYH3744eF3v/vd6+9973tbQgghhBBCSEE8kAX56KOPLpIkGSWkxjqdv3379jKO456sCBWcd/Sjje+3t7cX+vFIKoZew5l+NO3nza9+9avd7DpRFDXq9fp1rVZr2Ky2rncuhBBCCCFkadRlQVR4hvAWjZiaOp298847Lz/++ONIVoQKlbF+eIH9SuYEGmydXmNa5fkDHXQcyeA+7uhApZldR6/zuQrPW7aOUHgmhBBCCFk+CwvQGbo6dTCpYNcN5kfffPPNmayIX/ziFzcqgD5RAfOJCpX7Mj9RMK0U1djH+nHqf+tA5TBcrtrnSO9xK5h1JIQQQgghZOnUZEGgpRVzNVCBdU+F106wrKUffcFZhdr3s64c0KyqcBiZG8LNL3/5y+6oY8FlQbXZO1j3wYMHlz//+c9jaIbfvHkTYbnOizEP6+l351ai6/YgUIf7wTYq0DexHz12Tz/j8Lh+e10G9w/vHrGLfemxbsJrCNaN7Hhx3jWEGmQst99b467Zrve1Pwfd97Zf11w8WrZqrAOFR3nnNO6+5t27ccvy7qtdR1Pnd8LtCSGEEELWlYV9oMehQl3HBD3Hu+++G+mHE2YR3Af/ZC946qdbR9ePVRDfzQq9CApUoa3t11UB+FjntfUTguMzzFcBfU8/OiY8XtumXZ228cUE0gsIz+Ex8Ynj6vltQwiEkK7zshpznCuEyW3bpxf+L8yNJXdfwXx/Pli+F+y/4/eXBYK6HuPUa5/1fh3rxxNon2UgPOO+bgf7hv/3mT+n8L7qx4H+Ty79unof2tl7N25Z9r7q/b/R3/u2ThxuTwghhBCyrixVgDZBL3e+CoMQxLzgGftFmLBMNaBPvABqmux2dj8mUMcyJSoYQwBt2k9onm9MgHfT119/DY3zk2n2ZcLzdTArlvR6nE+4CqAvw2vIcChToprjtl4/BFlok7fsXnwSrNIJ7hOE54tgmdeUez/1Cz3v7XFa/mkx7XZTyEZj1hxYJRqwvmQtNIvs138vq2UDA/JvfetbjbxlX331VW+VgdOEEEJWS9E+0H3QAarAGgqKsdcq63xoX71bArSijzDhu63bgIY52DbcD7J6vK/r6+o1H2g3LS3/RbW2T1SQ3DbXhy7OD+4O0IxDc479SyCc6/o4x5oXPjMa6j27hvcz1zDO/3oXPtoWLDgW3ede8PMwcx3h9sfBNkc4H0wyxpd6ASLd1w3cSnAdeq2XQjYGDCDhvqX/d7gYYdAGq8e1vttfwOq0SNAtBtjYr03XsiIgEOO8MeH7pPXVIrMfnOfQhPugFpqXNuAlhBCyZhQqQKvm+Ew7jASTdawtv0wFLZchwrTSTZvXVYH0xK+D79AK20+3juVxjvw6KjC2vWYH2lkZaFmnob+uapuf+U5ehcxtL8RnXUfyCM8J1wCBO7wGGQjez/K2h0AMVwocy4IFx2JCe9d+RsF+jrx2LnOfenZvHCqk47u/9mZBGUV6+v922my7DmrbNgRYOsz60hyxSgvWnGmE0DIBFyUvAOv3C1kQy5BzpoL0IoHMhBBCSshSXTgMuEoceUFZO6Yo8D2GFisJV/bLlIYFsvU7YQirOeZcpKl7JlOg2/f9ieH+AT9fPT4Evy72EwrC41DBMQrO9841BOQKEDBzy4zgHuJYwawYgXt55xQMQtIVU1/q2OfrVoEa++nIAuAYFJo3ltDS0dXn6hRBpeYOhffLuRvp89nS7yeyGbwQe6csOPm5DAbZhzqY6PB9IYSUAZUH9pFAYVqZZ4r9Na3976mS82ZTEgoULUBfamfxym6kF2qRuaIzYv2eTNAghwF6KiTeEUj1eO8FQvdYoJXVfzT26XyKbTb2Cd/hHRWED5H+boqOLjyPideQZZ6O1DJ3XOq541zdYCDzkI7V9uFlEUIWxCxIkf+tQvJe+BzagNRpb23ANyRAW9aWp8F7/UIb3O4sDa5lg2npPh7jt74Ln4/LApOzPs7xKowFgKuFLu/HFqAN03NtS2rNmWYQ8DrsjCAwBxl0GnqNeG87s5xTSPa+oZ31mYjy1oeVQNf5BOvb4OZVtrO0c/Da8aHrHLUM90n3F+E77jky9aA9Rfvy2WefHcx7vuH6dr4vwoBnQlaNCYWQFZr4bRm7bur1+uk0luop9w1eFCXITnnstlck6vcotFbPCvoDvR9DxfRUMdnRjz3ZAAoVoPVGXvk0dtrQojOKMFlD3MZ8axz9Jqiwtz1un9/73vcaKjiLbRvlrBLJDNjD0rYsIJGkwrN/kKNptGYIlgqu4VKvYSUPix7zy+AceqPOyWc2yRAF+4llMh8IITNiQk9ueswPP/zw2GdtCWhpgxvr+7g7rfsUgoyzmW90H4fIyqNC3FBMgQXgnmTXV/Z1/ZNA6Ot3lEZknUwsc2jRMUjWY9/IoPONJl1Dzjm5DgoxIxnrUz8TEQTasICSrX9t5x/uG/fiMJMdqBHERMSZ6xy17Jk/l6+//vo9bXfc/xPtj3648877P08436Hr8/ciL5sRIasAcRz6HLbCefqM4wPvbiuvrZkFaw9awayO3ANetgLzCPUW57aVmT138bqqsbQgQrHGFMCc6f0hrZP0wt9W1h8XDy4m/Wc6MzE612D9BtLZ+XX1+/NkdBnxIdBQ+32jgcd5oLPXqaWLwwp+o9wuouB7eA074TXgOoNraMuKyJxTFOadtkCmyH7m5qnWF6nvBuNzOwshGcxnvz94Q5CfPevNcT7Ploayr9GUtNiS1zD6zDuRjCGbvQfuI7aP2H63Q39j05Z3gvVvwgJPOJ/gHX2VcX3q2bpdmZ/If0HA7ahrsHOMc87Jd1BN+xlb4HTYXnXC++6FZ38N4b4lzQ50XZRvevD/7JP5P9+55zifsG2C9kqC65PhIlwrLcBFCDAZo+V/2zPcb2dsXruqAcKmRNxDwgMdBLT9/ECox/TJlLvbCb7vIsGDTl3ZEJbmAw3hVB+wrqSNYyOjhYY/LwRkZKq41gYVHQI0009loLHp4DObC9keXOwLnUNkn9N0CFgP/2yYCCFUYpsXul9oWp8G63WD77Edw2XdgEYJOZEz5zR0DSaIboXXsAqy9wn5qfV8L03j3/Lr+WBOA42CF5zhy/2FpP+HSKa/r2TDUKFnOxACI53gitBS4U3snT/PuDNEPoe7MqRVDIotNXQQiO/tUcc1YbKfvce7FYRaV/gbi2lLtc05DixFHV1/L1j/Nb6br3IbFUtNsLu2/aP40FjrWIaGFwxNs9z3gQbwC8y5hiNvPrUc9S8l1RxD4XCCdxq+5P4awvz4eix8fgKzshU36mYHyt4dDfvWba8tqDEq0DcdAv0eBuQ4Rub/DLCsgy96bid2T8Tc0LqWdtMrQKDM2PUbBus3cV+LSL1JyDSEFX7DdgaEz7GkfWdHCiJMizmt1cUrHbLrY1+ouwEFZJ7LaIEuI41gn5cy5jy1PUIb15v22iZdQxlYahBhGPgGwU5vovNTxAOpD2Ik1skkd1OrxWF6NsuF7Dsl0LDp1D6fyQTMpAqt+LFt08JkZpn++WYaauy/ad8jSTsfzOtmzikKBHyx6715+PDhSstrZ87JXWMy7B9+Hvo7ZQY5Yts0LD3dK5kyOJNsFhDitHF7oo1hW1JNRRQsbmKCdQhZWvDe6XpbwfIu/gTa5q42kG6wputjINsec2iv7YDQeBlqrHUfXUnfaZeKEudogpojbE/QGqtQhrbANf5oqAtooHfC44WE2XIksOzAhzi8Bh1AXJrrg6/42Q1jF7QDwiD+SIVhpARFR54VgsP39chfkw2uz721Ls83fR4Qh+HbS2tfm8Gyrhee7dzbek09O35ss/vrw/0v5/85JHD7QlgjTud8lX6kZK2J/Be0M+GC8DmWwBKnz/5rvx1S3mbiQkYuC9Zxrmb63Dfs952Ccpmqz09QWM0XhbNCaVAEnMPCjkEAYsZMqdHR8z7w7UHoA+0H8eE5Gi2Ld+jmKRLCfQTnl9g+w4rJaBcPrVaAcxmxcz3KKlm8UkNsYA4lIK5B7zfa7raUkIUFaL3QK98gZn1rLfDtyLS8Yv/sDr5D42PCG4JdsBwPDrZ/gaBDXT7UoWF9aGX0ZvpOypWnxsORPSfdHtUE/fw42AfMnV1dtq/HfGzHxHm/gIkmq+UwAROmjqe2bi/0PbZruAmWu2vQ/V2paaSTOa075zkHXZyunXOct0LeOZlAfJ6nxYEPur0oeIFxba/0ZTtBNcbssUbdV7J5mCtHC98hsJpQ9tQPmC0LB4TBdqhFldTnuZW3Tys7n4u5HfjlDUuTOYotXX+o/ch2WlMGBi5MVoMlQSc17hp8vEeohDAN8oV1Qri+SwwM/LVZ9g+/fZzZ5U3w/bEUw03mnLcCv+s4XGaddzuzff88kAI19MfM8J594v/fzFtBj/1CCCmGvvUVfvs6sDvw79iI53hRIrkrH9wpKBdiVYmb2X2o8LyV41rlrIOy4sA+c4Vph0pKI5I0vefjMN4jJEnrbIzsD8rCwgL0pI5oXISnqfwvZQJhtbOc433gv/hG2zr33IfFlu3LlNgoqTPv8mC9hR/eGY411XoT1r8zb9x9JZtBaGb01fZMS4LpJGOqx6CsndlFnCPcia2fOz+PjF/t3PspkBfefQGaExk0/jejNpjmGsw94lGOtt9ZmDAY8dVFw6DEe2JuLb75n4/a/lWw/07eCt7HnJBFCVxMwY6+Yzsq7N3YM/pCFUyXBbsUNCWVg+BeiXfYpQKVVFEAQTLPlQyC8oFZqPz6Pi7BWckltUjt+OuQMX13LS3W1gy0yq49q2WSFXig5FQFCdqc62Af27bsJuvOhXsKi5spUZ0XgMV75GUeiiR910+tryjtu72KPNALYw9RE9+R3QPaVOss+j7TMiI4jhBSHFZ9zzWyKtShoR4ajKppsaPakefhvIxAiwZz6gGsx1wEvGYIqTF3J3Viwfri3Tr8Mm24D83XX0Lz5gK89u1PGItgmqInwXr9c5rmGkCo7Tc3hqaknVCEeTZQ6aKDTwbZPqBw6Pp9BPNlxABmSPgO8/VPS+hukg3uNhOtNxu/MkUIBOOmzTv1GZxGYfeKA3iyVPBs6jvcSIJ0t2b9wQRt7iFcqQp0GYpD/3+r2eAF0+YIF7ODIL4AH2d2nl3fvpq13QvQrq7GKP9js+ZHwazX4+Qpa5NiO3Z/H/67zm8Hq3cCRSqCiKMgVgvn2s05xF4V0lguMwtHYSBwTwYuAy17uKDladk8PFwHQghZNt3g+3NkvfBZHRDsBT9dv9ALatDYyEC7+CyTtQbZcV5b2euzCcf26ZEQFDckpMM/EPvBp1XlBH2BWQXZvr+epWtqS9p+NPOE2CQ/FeRUqGAM4dDtEx1vphJhP4hXryHrQ3iWvQa7L+7++I4UHQsEzpxDvwjO/7m/z5aN5DBY5s8hvG6X4QjHMJecSf+LO4T/5+x167VCGGlJ2n5Hts5lsO3zMDsIfOj9vWAlR7JqIPDpMwmNKmQPvC9xsDiSYiuMvsocuyvBu+ktfiHhIDj8HiorrF2L5X4I3cSG0tqF772McCerSg74SgjQGO3Yw3xqZpRYUlMwzCpH77777hMm3Sdk+WTKyqMxPFYtxxcIIMHA1jQ1Dv3thDzLJuEFPue/rOsjS8yFzzxh2431Yw1L0ls2nmsTOpE9pikW6Os1zTbw9h3RjhdEM2bHvkCbqRAKwf4L5GWWGclcr69E2LBzCoXrfT9wsGtoZa/BTKju/uBe+RSZgYkZvLDz70gmZR3ukb/H/vS85sw62G5wnm38L3Ww8VLmwK77KNjfsR8AhOZcba/dPQ2fpeD68FzgOTqxc24+fPiQbTtZOZA78K4g1a1OjxC4J4HLqWX8WZhapnKw0RegwxS6VSTrBmJB455IKkwlBGhgD/O+NroQlh9hwneMFJlon5DVoUIgzI3nY1aBIHUQDmrxnobClVj1TwnS0k0yiaINQAo9GQiJTbHMG7aPLlLkhevrvN1g/SgU8JXTMEYjKwBK6qf3VObAtNCx34+v6pe9Bjuf1qhryFjfIhnkaQW98L7h/E3REK7fHLXvnP17etn1pgXm74wQvSXDeamHKlfa8bvB+e7IwC0P6++yfSerAlkjbGB+x/KBQa09r57GlDnVx67jkyxkiPyXUX7IZSY8Zx8Q7YF7mP9e9diFSvhAE0LKg2kuW9p5IKXTjpnkUZXuc5gQRwXZQFhFiWvbxpewfgXNaWb90Nd1aD+mmX1kOY+3/HElTS3ZzTlm11Lu7QTrw2R6M2L99kcffYT5zbzjh8AU6U2mWb9iXA+qK6o21wnsoX9wcA1eWBx5DeZr+MgXN7LO9kscL+e+9de3Ut5bwfqXedeL9fX+bMOv2jq6ns+ChAxE2XtgAVZu8KT/x1hyyPk/Tzrf7ez16XSzhGAtQsZSS+smNO07Cr0NlZ+3+IM+ec+nPud4rzGAFnvHJwnZO/q+9OMwMgVaeouWDb8n0Mbi2n2Rto5fkAyqHY7SvleGmhBCCCGEbDhhQSObFUsaoPu5DQZ3gtU7PruWDgAvMnngO/Y5JED7PNBBASkPrGWnKmy+Z5k0GtljhHmgw1zLFtNxnV3ftnktmRzUeXmgbV2cq8+z7q1xN+OCCX3uZ6DH7cuTdh9fh9cBdzm9vk9Cdy64xVhdgTAP9NC+ykxlXDgIIYQQQpYFtMAoYCIDq0skaeArBM5QQB4q9iZp6riQlqSF2qBh7cp4XPo6xDWYcNkYcYylYiW4/XW78wm1xbNg2vQwsUPLYmTafgYE9Ipq1/tQgCaEEEIIkb6vMwIGz3NcDKApPsLy0LXDtLS7wfoQIE+RqlI/4Z4Vy3Csgc+Q4ZIhIC4i3NbHK2T8//P24/2N3XwVUr/MLIvHHVsC9yyLoXgS5qfP+i/nEEvOOQHEZkDDXMvku7ffuzk1QuJR+yorpVOTm8lhFLGwZCshhBBCSGUYkc+60pRRgJ4me3+niMp+hBBCCCGEzMo7UjJ++7d/u+2/W8LtP9fpxudDtUVb3/nOd2q//vWvu0IIIYQQQsgKKXUauwcPHhyEPkCqnUZqGFeB7Pb2FvlZ2+H6vswt/HaQNqper9+Mc1K36FXkhoXDPBz2b8blHA3XlxHRqaj+5ROfI81TuL+8ZThn/b6FeRgk4Hx9SifUjs9uj1ryRZ4vIYQQQgiZjUrlgba8q8/t+1a4DKVffQSrruPmqZANoftSBc0hQRylanXZhS8p69dX4RT7Ofnss8+GyoKbIHqWXV/3jX0OFYzQfeAcXOSqJV3vjFsG4TlIQdPV43etzDDWwf47NjC4gPCcc75tPd+hSN1R15d3voQQQgghZDaqXEil74xuwvNJsCyWNBUMph0VNLdQTAEO7BBGIVxKkOcRkaombEJbu68C85c+QtSE0euc4zZsHxe6/nYR2l3TFrez8zN5Kf05+Opibb3+hhf6kU/RzrcRrOvdX9z56jU9qXr6GFJevCVI0kp+cdYSU1YsFyneNZfKKnxHcE06D4N3l8oK1iIdmO999dVXyGV6YVaetg5Oz6UAcLxvfetbuQUY9Ji9ZQfjhMdfxfEIIaRqVCaNndcC+98+5Qsaeks8DpD+ZdtKfb8vg9yMkXbiLXwxd4nI9tG1kuDbVgLXp3f5xB/HhG1/zCPsF1NYrjY8rwWB6wn8vbeR/kUF/0tLuB7ZcrhtuGvDcjtfnNe+LymqAgDyVTYy5/tIf+4G13QshBQMBFAk+9dn8AtJE/LDanOtz/FrnX8BFyQpMXrebbGBsb4jz8Nl+r65HKawfJn1qwnBEu2KL1etny0pCJT+xn3Lm3B/ka0oU7GsUMLj+zLkhBBCBpRagLaON8Fkbg6RX6aNusvCYZouP3+oXK0KxW3/Xbd/mt2/ztuCYG7pVWIvbEKgxnJon4N998K8hfa9n2zd1l2U3sOHD5EfsQvtl2l9wkTmR16Th+WoXIRBgOWMjEyIbtm6cXi+5rbRtZ9NL3ATUgSB9rY5YhVYgq7LLETre9SRgcXmys9HG5FxGUNVrRO8nyhPLYO8pS9kdUQ6nan1icItIYTcA1V04Yh16vs0o2PzPr5Ka4xWJsIf7fButKOP7Tf8paExgxsIBFJM514IVy1U5DfOq9kOwTUo34kOdlG3iF6OqbvfcSMoMlyQTURuWnr/MxqXEtDMszTLkkLQdwhWmH4FLZ2OAtcoWEXwiSBYCHylFPrsvX8/m6/UxxIYV2EKTQy89ePRknOcQjDv4IsFEEM7HtnvQz12hy4WhFQTKN8gR2STBoTLVRaBHADXstiXvob1C8kEylIXY1Tyg3Wm7AI0NKw9fUjgUtG0efGYIDivPbqDVeQR84PeNnPts2A5HlA8yK0gMK8MWtr+Oeg5z9JJjrwXwLKBxEJIMTT9l6z/sHYAN9oBvLSfsAQ5AVobXHy651ufxxNYUVA6Vie4ZX0+riG2xvqprYs24tW4jiRc32a9UAvVZSh4+g7AvnchUOtnW7d57NfR7x/YPNdx+c4Py3TAepNtm6yj2/H7mHRdI3gdXhsEZnOTAY3sYNgy+7SCY+L+vBjVbmbujbsvMgH874L7gn13oLzwlcvyrjHnfzbtOflqa1fMJESKwJRN/f5/VF0Ji+fouzxq23ZadPyQj8lS5cJzPd4j3yb55AG6vOnX1XPu6se2vl9IErBl1xLf93th99PFiul1QF7blg2g1AK0dqgnlurNm4fRmDbxzwoemFBIRJXCidot0xq1MFlDjQfxE98RwtdRD3kKjS8yeYCMFsrTn4cONbsw6KzF9vteoCGellgG2vNIAqHXp6nDd3R6ujyGNt2fjw4CngghKyb73FuHU8tZr69J1ef2tb5rnWAZGuLnKqBuZ4P50Kno8ma4LlAB7jBb/jZvfaOFeAHdfyjs432CthzvKj66/rfHLF5bVo62Y5ohv05Hp75A6IObw3feruswL3vOtKCD1Wvt/4Yvtv9ubcJF+D+w4+8jCw9K9YaDBj2PQ5/1R4L7ovOu8o5twZTXvvP22+h+PpD0/jUxQ9uirlhbhfYbgZbhNuE5Zf9nOefUXz8vSxIhs2J9Zcv/1vfmPE8I1XUgE/TX03e30GfPXCn9uzrUbuo7g3almdlklW5iQ5gm3GdBe6X36yRvvWz7v85UIogQAi/8ff3vsFPL1Fl/Gvr2WlDThU5n3rUDn/bbzcNLgwdBJwTZxX5baHX0ZcHvvp+zCdti+9kJOwS4htjXfuekD9szfz6hpmpGrvKuG/u14EU3QXtnA4PY7stW1i9bz/8Y141PIaRYuv4LNBH2fu3M4POMxriXeZ+RMec6fKdNG9S0n3jXOsE20OJk1z8L17d1Y78+tD/j4gEsxiDUOPl9jNVCmTb2JNjPTXhtGKSH7ckEGriPflIh8jjYz1GgsYIGH9osr7WFMH8aXq9Z3sJzbOdcWyTDsRd9cP9Df3C7rhvbz9aIba79Nn7gEdxT/M/ORpwTruvUArZj235/mcGTZDOwvrLrf4/qm/V5C2Onrop2lcL+MKjFM47kAeH+VYBuBudxoOu9D0sdfuvnrr0Xe6vSPptg3LJpKKbMzmEP54Q4LtkQKuMDjQdHG2KMfpwWGp0zzH/QHun3rqSdpNNUYzSp39+zlyKyXbiRm/ll+gZ7R9eFIIqH9pNg3X7aLV1+pMtdh2WCQcfMjy1/bmEnls1VDc2adnixaapiGU5HNxF9aXDdz4Lrfi3pi9+UIJuI16JhoOHPF8KBnj860c8RRBlo4bpCSIEgrzkEJRk83y1MlqvcBbxmXSYy9Lx2NGNxalgGnRPTgLRs/SFtalBkyWfcOTFtrO8YhzSdyBYi9g7pfKzTyTspBBSbwObbDAQq78lkwkH+kY9XCPdlA+LuFPtCAOZOsD93PTphvx0/X6+jYSZe3LcrryHS+9bJc6GRYSH5UttT1/EF938IzJdAG4dO3R/D3FoOs9tksghdmqLCL/P/s9CqGArnR8H+sewwz9JHyDzo8/Ui6BPD96JPxnJ1mV2OwTeUV3CvnNYty28DBR3aLxPm2znH7g/stU3Du9NvO0dtE4LBtraRjWnOzaetxPr+vGRGJvliz3uMMKVm2XyrKyNA42ZrI3oaNNIQEt0Drf+Q3SBXcpTTkJ/7f675NR7ZOg0vbAa4HLD+BxpwbeixX5/WqpVxwzjPZOfoBgI9aJj2BVr087xOZsJ1x7q/A7vehl1jK1zFZyTx52uDAhe4pZ/ZRmFofUKKAM+pxRbgeUNnFPll9vyfwTVAG/XtvEZQ19nzDSr2Fb7r3tc21BIhYwYaVd2f96HuD1zz1le64XH1HT/wy4sWykLXKrmbDaejy/2yRbRZkU6HlgPeCZk2iO63Xb7j+frrr5+Z0J2l6b/o/ei7k1ibA8vXkBZa/3+hhjkOTbi4Rt3GKzj6QIPn20s9xlVokdBOtK/Ft/9F1xQcft5zvVf46quodoWQgjClnO+Po4xrqLMyS1BPIRQQbTDvrGFw87SibXh2O6Frlg1GofTySQewjxNdH4oBrNcOg/31GLXMgN1hGcnwDu3pe94JFADY73b2vNF2ov4Ffvtz069HWSHXzs9Z6aDsAHADhQyDPPehwiHjNgdlXoJrgpIh9IH284JjuBz6sB7pMRqjjgHCgTiuVWW792CR8tvluXzdJ2UUoDv+S+jbB+yB/8D/9g+8dbyPzPzX77yTNKfyHd8mNPbQaECLrMs/SNICJmjMX+EY+pANHRd+1fhn6zpeE9wYtW9bf9vOBev3/H4t5V7Hzi22a4IvlptngTKSs7+OPoRdCCe6zuNJ5zvm+l4g7VZ2fUKKwLQiEKD3feS4CVBekPXm+jsBJii2Ev4OhVofmBYIpfjetsqed/Dr27Pv5mljPOQ7aMLmWDeMeQk1Rz54OSSbPWcKOmGQk3Ww6LzxXh/ru+4FTC+8O62uTtD0SJ7wbNrkPtnAqFCQDRh7XZLez2Y4I7wX+jyc+ZiSHN7DH7RPZmmMJFUAOAWH+Xx3JVCGELIIFkvQlcEzi89usEropnDpvwTF1RqZXbpCaFC45QUlQmg296SGLAnED+hHO+edjyRNe/mBF/BNeB5KDxwAgfqlDnifLCKsTnOMbJyLBy6weh3N7C7NTe9JGTIPlU6AHhUNC+yG7Y3ZtiMjTLFZZtVoWLT45Qzrd3LO5c4+TOiYqBEOhJOpoMaGrIq8qnWBgNoJtRNiOcgLaPziEUKc2HEhvH0p98PSOkhgGS+gXfIadwzUu6Z5ughWxT260Xmfy8CCdm/YIH7U//0V/oRZkkxZEGq9m5hCrTshi6DP2JXXrCZptq+QZvC9H4tkWTN8nMERMs7ALUGnM7O2tfKCEm2Z9+uPZcQAXvfT1X1um6tpZLP3sE1otckCYTUT04BECD7Q2VmwfYIEvGemfff7P7W6GY0gbqShA9qWfrbNYtf0A1p7lw9GKf08mWOgPcJ19PScMB+KFV8Z+lHO5k1JZagX9t1bxMa63a2SKpfyJoSUAESq+0Aw/d6VjIbZ3Jr6v/NykJu5MQ5m9TszLwiHWlH4VI+KAg/oH8M6kT6ZNFZXY1Jjzkwme89WdjkCLG1Zb96MEhaH4b9HNvt5sLzvn2xaoCEB2tw0+r+z5mvlcc4xQ/eKrXAgZBrtO9eqfO6/6DZH09znIEuST8m3ZVr1HTsPfKcATRbGLB7ejbMJFyNoXLNuWP65zczvhNYkG/h9ge9+UJs9ngp+EzW6PhlA+H7qdt1J25n7nKcTZCS7CQfcXvhUgflA2+IjZPcKs5rpNYaDCmfxh0IErqHB/ntTBi966+NQelO9V3tmkXduqTntDwhz7kMR817gdhdJCahMKW9CSDnJ5A2GhvDQ+7ri0wuMRjyiIzj225gwthMs8/vv+hkQqEJ/WqSMQ4Ctfr701fksC4XnWbB/HyPQkuF4gkKwTsIL7w0zq/rz7B9XO5StKXc5lIUDLhze3xvo91f2NfLzEHTkv+txno7YbzfYx6HPRpIJvuxjmYb614U0WzgfSxXoYkpyjhH+D4aEeNwLK0l+HWRJOrN5r3EeENDRsYY+2hb0TcjC2ACw63/rM+4FtND/vxt8b4bf7dl1E9Jljlivf7gl++6Gg96hNJQQpuFfjQk+1O5k9Nq9myx8j+3du05mjNMahWUB6/uQh24adt/Dc7zTFtbuFq97JSWDGmhCyEKYLyHSpfnsM84/GRoUH5jiQdzAiN00LFAmlmF/uTgMANblEMjQyTlfOBQvEctQY/uHhmU3WL8rA3/g1/Y7bNjjIrXPAdCcXNg5tYPUa5FfQTuq0yn3NZSFI0MP+fLt+wu/f9wbmJFNg9TK2xDm5yAwqIlgJz3Pnml3Ysn4LVog91FgxkVQ0L7PPZ+3De6tZWHBPfdZhIb+Z/iOYCLb5yuf4ciyHuF/A5PvTnDeL4SQgsi4cWCwifepGSwf1WZFMmNWrVUxybUCmC/3xbK0uclwPuhJ59OQCkINNCFkYaDhsLyko+iZW0F7xHIIUGhko2BeHGbEAUiXpx++Q8O6EKya/hjYT6jlQYaeYH2xdfvCMyK6ZQlAcMzcj0gG1+buRQGCO+5PPyLdfBhjfzyvZQ/zKIdggJE5x4ZtdzNKaIBbSM7+fGxKnLeNdtK72Kc/L8n8z8JrMLeTcGCBdVsy+J9NVSyLkGmBG0fws2nZNyL7na3yFwqCp9p+PBoxLaVdGUcoNAduXQ5YibwFy1uafAVEW6Wj0y7OXaaIyZoGJEgIfjZyzve94GclrUrUQBNCCgHCsZWZbkqq5UUDCf/lmwk5oKE1vlFz4hMrQY1glzgvY4ztA0E6HUkr30HD+qVfP3uMUev7cwr3bzncY/veNx8iqEevyWtI43D/45bl3Q9oWPPOM0t4LnnAzzobuR6kEmxK6kOO+3Jpmniv9e3lnWN43/WacM5R3r3w2+iHKwSDTtvndNVjPMs7V/PpfOJLpY/7HwAIyHpOJ1YCPfL3TQbp7AgpjJxsHKHLWTezevguPM5WPbX3CIPCG1k9eEecpQYZLCQIsoOft76nLfu+q+eK84vw29LO9YVmS4Mri2JxFni30e40Qj9nK/rUDFa/j/u1MBSgCSGFYcJSR+ZgmuIAnlmzzEyz/qjUduOuadL1zns/5k2zFxyvE84fp+0ecd/vHN98nXeQHQO/9Z4ehMtkOPf3nQHCLP8zO6cTIWQ1wOLStO99bWnWEmOD0VjSZx3a6jOr74BtnvnYARVgO1KQJndacorNYSDwIuvGBWWFDlz77ycCguHOYYGCzTC+IiQMXMY2uu4+Btnj2hYr7Obz+cPHGtarnq/DYavFVR0YU4AmhBAyEa9l9pojmLpNwBiq+hpWRiWkCsASYtk4QleDXMEObmVBHuhWElQl9tupkDrOnW0pZGMUxIKVw5zQcL8KiqN0xVzaUKkUMSsQkM2F687+YWnSe4RtIxkUocM+RgrQEOoRxGwxENjuzM6jf9r34e5SFPSBJoQQMhXmgx7bT+dnnaTVTiPMgPDMSqekakD4xLMr6bPtp6u8dTE41PfgiaRa69DSgjzHR1iWybYRy/i89eEx+9j6d+Ybn+ctQwyBCqxP7FrCfXWtYmHbzwviQ/w14B4cmUua23eYSx/3SLfZDvet3xv22Qu26YXbfPbZZ09GxE2c5lQV7O9H7vpFj1t2L9SEEELuAZgAxTQ+0FQUUFyFrAjLKrJl7hwwyX7u/a2FkA3CB+WVsf3yea2lRBRUSIsQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgj4/wHSR0SD+vaC7QAAAABJRU5ErkJggg==";function ij(){return m.jsxs("div",{class:"container",children:[m.jsx("div",{class:"row",children:m.jsx("h1",{children:"Integration Process is Simple and Intuitive!"})}),m.jsxs("div",{class:"row pt-5",children:[m.jsxs("div",{class:"col-sm-6",children:[m.jsx("h2",{children:"Five Simple Stages"}),m.jsx("p",{children:"The process kicks off with a registration. From there, youll choose the roadmaps you want to integrate with and specify the badges your team plans to work on. You will then finalize the process by submitting the completed badges for concierge verification. Dont worryweve got you covered every step of the way! Our concierge team is here to guide you and ensure everything runs smoothly."})]}),m.jsx("div",{class:"col-sm-6 ps-5 pe-5 pt-3",children:m.jsx("img",{class:"w-100",alt:"Five steps for new resource integraiton",src:F1})})]}),m.jsxs("div",{class:"w-100 pt-5",children:[m.jsx("strong",{class:"text-black d-block",children:"Ready to start the process? "}),m.jsx("a",{href:"#",class:"btn btn-dark rounded-2 mt-2",children:"Register Your Resource in CiDeR"})]}),m.jsxs("div",{class:"w-100 pt-5",children:[m.jsxs("div",{children:[m.jsx("h3",{class:"d-inline",children:"REMINDER "}),m.jsx("div",{class:"d-inline ps-3 pe-3  text-yellow fs-3",children:m.jsx("i",{class:"bi bi-megaphone-fill"})})]}),m.jsx("p",{class:"ps-5 pt-3 text-medium",children:"CiDeR is an external system where you will register your resource. Once registration is complete, be sure to return to your integration dashboard in ACCESS to continue the process. Once your resource is registered in CiDeR, it will appear in your integration dashboard, where you'll find guidance on the next steps."})]})]})}function Xn(i={processing:!0}){return i.processing?m.jsx("div",{className:`w-100 ${i.className}`,children:m.jsxs("div",{className:"text-center",children:[m.jsx("span",{className:"pe-3",children:"Loading..."}),m.jsx("span",{className:"spinner-border spinner-border-sm ms-auto",role:"status","aria-hidden":"true"})]})}):i.children}function sj(){return m.jsxs("div",{className:"container",children:[m.jsx("div",{className:"w-100 p-3 pt-5",children:m.jsxs("h1",{children:["Integration Process is ",m.jsx("br",{}),"Simple and Intuitive!"]})}),m.jsxs("div",{className:"row pt-5 p-3",children:[m.jsxs("div",{className:"col-md-4",children:[m.jsx("h2",{className:"pb-3",children:"Five Simple Stages"}),m.jsx("p",{className:"lead",children:"The process kicks off with a registration. From there, youll choose the roadmaps you want to integrate with and specify the badges your team plans to work on. You will then finalize the process by submitting the completed badges for concierge verification. Dont worryweve got you covered every step of the way! Our concierge team is here to guide you and ensure everything runs smoothly."})]}),m.jsx("div",{className:"col-md-8 ps-5 pe-5 pt-3",children:m.jsx("img",{className:"w-100",alt:"Five steps for new resource integraiton",src:F1})})]}),m.jsxs("div",{className:"w-100 p-3 pt-5",children:[m.jsx("strong",{className:"text-black d-block",children:"Ready to start the process? "}),m.jsx(je,{className:"btn btn-dark rounded-2 mt-2",to:"https://operations.access-ci.org/open-new-integration-request",children:"Register Your Resource"})]}),m.jsxs("div",{className:"w-100 p-3 pt-5",children:[m.jsxs("div",{className:"w-100",children:[m.jsx("h3",{className:"d-inline",children:"REMINDER"}),m.jsx("i",{className:"d-inline ps-3 pe-3  text-yellow fs-3 bi bi-megaphone-fill"})]}),m.jsx("p",{className:"ps-5 pt-3 text-medium",children:"Once registration is complete, be sure to return to your integration dashboard in ACCESS to continue the process. Once your resource is registered, it will appear in your integration dashboard, where you'll find guidance on the next steps."})]})]})}var vy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var jk;function rj(){return jk||(jk=1,(function(i){(function(){var t={}.hasOwnProperty;function e(){for(var r="",o=0;o<arguments.length;o++){var c=arguments[o];c&&(r=s(r,n(c)))}return r}function n(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return e.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var o="";for(var c in r)t.call(r,c)&&r[c]&&(o=s(o,c));return o}function s(r,o){return o?r?r+" "+o:r+o:r}i.exports?(e.default=e,i.exports=e):window.classNames=e})()})(vy)),vy.exports}var oj=rj();const st=wl(oj);function xw(){return xw=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},xw.apply(null,arguments)}function rN(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)!==-1)continue;e[n]=i[n]}return e}function Dk(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function aj(i){var t=lj(i,"string");return typeof t=="symbol"?t:String(t)}function lj(i,t){if(typeof i!="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function oN(i,t,e){var n=S.useRef(i!==void 0),s=S.useState(t),r=s[0],o=s[1],c=i!==void 0,u=n.current;return n.current=c,!c&&u&&r!==t&&o(t),[c?i:r,S.useCallback(function(f){for(var p=arguments.length,g=new Array(p>1?p-1:0),v=1;v<p;v++)g[v-1]=arguments[v];e&&e.apply(void 0,[f].concat(g)),o(f)},[e])]}function V1(i,t){return Object.keys(t).reduce(function(e,n){var s,r=e,o=r[Dk(n)],c=r[n],u=rN(r,[Dk(n),n].map(aj)),f=t[n],p=oN(c,o,i[f]),g=p[0],v=p[1];return xw({},u,(s={},s[n]=g,s[f]=v,s))},i)}function _w(i,t){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},_w(i,t)}function cj(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,_w(i,t)}const uj=["xxl","xl","lg","md","sm","xs"],dj="xs",km=S.createContext({prefixes:{},breakpoints:uj,minBreakpoint:dj}),{Consumer:Fee,Provider:Vee}=km;function mt(i,t){const{prefixes:e}=S.useContext(km);return i||e[t]||t}function fj(){const{breakpoints:i}=S.useContext(km);return i}function hj(){const{minBreakpoint:i}=S.useContext(km);return i}function Z0(){const{dir:i}=S.useContext(km);return i==="rtl"}function Ad(i){return i&&i.ownerDocument||document}function mj(i){var t=Ad(i);return t&&t.defaultView||window}function pj(i,t){return mj(i).getComputedStyle(i,t)}var gj=/([A-Z])/g;function bj(i){return i.replace(gj,"-$1").toLowerCase()}var vj=/^ms-/;function yg(i){return bj(i).replace(vj,"-ms-")}var yj=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function wj(i){return!!(i&&yj.test(i))}function na(i,t){var e="",n="";if(typeof t=="string")return i.style.getPropertyValue(yg(t))||pj(i).getPropertyValue(yg(t));Object.keys(t).forEach(function(s){var r=t[s];!r&&r!==0?i.style.removeProperty(yg(s)):wj(s)?n+=s+"("+r+") ":e+=yg(s)+": "+r+";"}),n&&(e+="transform: "+n+";"),i.style.cssText+=";"+e}var yy={exports:{}},wy,Mk;function xj(){if(Mk)return wy;Mk=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wy=i,wy}var xy,Fk;function _j(){if(Fk)return xy;Fk=1;var i=xj();function t(){}function e(){}return e.resetWarningCache=t,xy=function(){function n(o,c,u,f,p,g){if(g!==i){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function s(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return r.PropTypes=r,r},xy}var Vk;function Ej(){return Vk||(Vk=1,yy.exports=_j()()),yy.exports}var kj=Ej();const We=wl(kj),zk={disabled:!1},aN=it.createContext(null);var Cj=function(t){return t.scrollTop},Eh="unmounted",ll="exited",Yo="entering",cl="entered",d0="exiting",ha=(function(i){cj(t,i);function t(n,s){var r;r=i.call(this,n,s)||this;var o=s,c=o&&!o.isMounting?n.enter:n.appear,u;return r.appearStatus=null,n.in?c?(u=ll,r.appearStatus=Yo):u=cl:n.unmountOnExit||n.mountOnEnter?u=Eh:u=ll,r.state={status:u},r.nextCallback=null,r}t.getDerivedStateFromProps=function(s,r){var o=s.in;return o&&r.status===Eh?{status:ll}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(s){var r=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Yo&&o!==cl&&(r=Yo):(o===Yo||o===cl)&&(r=d0)}this.updateStatus(!1,r)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var s=this.props.timeout,r,o,c;return r=o=c=s,s!=null&&typeof s!="number"&&(r=s.exit,o=s.enter,c=s.appear!==void 0?s.appear:o),{exit:r,enter:o,appear:c}},e.updateStatus=function(s,r){if(s===void 0&&(s=!1),r!==null)if(this.cancelNextCallback(),r===Yo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:pc.findDOMNode(this);o&&Cj(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ll&&this.setState({status:Eh})},e.performEnter=function(s){var r=this,o=this.props.enter,c=this.context?this.context.isMounting:s,u=this.props.nodeRef?[c]:[pc.findDOMNode(this),c],f=u[0],p=u[1],g=this.getTimeouts(),v=c?g.appear:g.enter;if(!s&&!o||zk.disabled){this.safeSetState({status:cl},function(){r.props.onEntered(f)});return}this.props.onEnter(f,p),this.safeSetState({status:Yo},function(){r.props.onEntering(f,p),r.onTransitionEnd(v,function(){r.safeSetState({status:cl},function(){r.props.onEntered(f,p)})})})},e.performExit=function(){var s=this,r=this.props.exit,o=this.getTimeouts(),c=this.props.nodeRef?void 0:pc.findDOMNode(this);if(!r||zk.disabled){this.safeSetState({status:ll},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:d0},function(){s.props.onExiting(c),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:ll},function(){s.props.onExited(c)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(s,r){r=this.setNextCallback(r),this.setState(s,r)},e.setNextCallback=function(s){var r=this,o=!0;return this.nextCallback=function(c){o&&(o=!1,r.nextCallback=null,s(c))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},e.onTransitionEnd=function(s,r){this.setNextCallback(r);var o=this.props.nodeRef?this.props.nodeRef.current:pc.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!o||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],f=u[0],p=u[1];this.props.addEndListener(f,p)}s!=null&&setTimeout(this.nextCallback,s)},e.render=function(){var s=this.state.status;if(s===Eh)return null;var r=this.props,o=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var c=rN(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return it.createElement(aN.Provider,{value:null},typeof o=="function"?o(s,c):it.cloneElement(it.Children.only(o),c))},t})(it.Component);ha.contextType=aN;ha.propTypes={};function Au(){}ha.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Au,onEntering:Au,onEntered:Au,onExit:Au,onExiting:Au,onExited:Au};ha.UNMOUNTED=Eh;ha.EXITED=ll;ha.ENTERING=Yo;ha.ENTERED=cl;ha.EXITING=d0;function lN(i){return i.code==="Escape"||i.keyCode===27}function Sj(){const i=S.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Td(i){if(!i||typeof i=="function")return null;const{major:t}=Sj();return t>=19?i.props.ref:i.ref}const Nd=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ew=!1,kw=!1;try{var _y={get passive(){return Ew=!0},get once(){return kw=Ew=!0}};Nd&&(window.addEventListener("test",_y,_y),window.removeEventListener("test",_y,!0))}catch{}function z1(i,t,e,n){if(n&&typeof n!="boolean"&&!kw){var s=n.once,r=n.capture,o=e;!kw&&s&&(o=e.__once||function c(u){this.removeEventListener(t,c,r),e.call(this,u)},e.__once=o),i.addEventListener(t,o,Ew?n:r)}i.addEventListener(t,e,n)}function Cw(i,t,e,n){var s=n&&typeof n!="boolean"?n.capture:n;i.removeEventListener(t,e,s),e.__once&&i.removeEventListener(t,e.__once,s)}function Jo(i,t,e,n){return z1(i,t,e,n),function(){Cw(i,t,e,n)}}function Aj(i,t,e,n){if(n===void 0&&(n=!0),i){var s=document.createEvent("HTMLEvents");s.initEvent(t,e,n),i.dispatchEvent(s)}}function Tj(i){var t=na(i,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function Nj(i,t,e){e===void 0&&(e=5);var n=!1,s=setTimeout(function(){n||Aj(i,"transitionend",!0)},t+e),r=Jo(i,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(s),r()}}function cN(i,t,e,n){e==null&&(e=Tj(i)||0);var s=Nj(i,e,n),r=Jo(i,"transitionend",t);return function(){s(),r()}}function qk(i,t){const e=na(i,t)||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function uN(i,t){const e=qk(i,"transitionDuration"),n=qk(i,"transitionDelay"),s=cN(i,r=>{r.target===i&&(s(),t(r))},e+n)}function rh(...i){return i.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...s){t.apply(this,s),e.apply(this,s)}},null)}function dN(i){i.offsetHeight}const Hk=i=>!i||typeof i=="function"?i:t=>{i.current=t};function Rj(i,t){const e=Hk(i),n=Hk(t);return s=>{e&&e(s),n&&n(s)}}function Rd(i,t){return S.useMemo(()=>Rj(i,t),[i,t])}function f0(i){return i&&"setState"in i?pc.findDOMNode(i):i??null}const q1=it.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:n,onExiting:s,onExited:r,addEndListener:o,children:c,childRef:u,...f},p)=>{const g=S.useRef(null),v=Rd(g,u),_=M=>{v(f0(M))},E=M=>D=>{M&&g.current&&M(g.current,D)},C=S.useCallback(E(i),[i]),T=S.useCallback(E(t),[t]),R=S.useCallback(E(e),[e]),P=S.useCallback(E(n),[n]),B=S.useCallback(E(s),[s]),V=S.useCallback(E(r),[r]),I=S.useCallback(E(o),[o]);return m.jsx(ha,{ref:p,...f,onEnter:C,onEntered:R,onEntering:T,onExit:P,onExited:V,onExiting:B,addEndListener:I,nodeRef:g,children:typeof c=="function"?(M,D)=>c(M,{...D,ref:_}):it.cloneElement(c,{ref:_})})});q1.displayName="TransitionWrapper";const Oj={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Ij(i,t){const e=`offset${i[0].toUpperCase()}${i.slice(1)}`,n=t[e],s=Oj[i];return n+parseInt(na(t,s[0]),10)+parseInt(na(t,s[1]),10)}const Pj={[ll]:"collapse",[d0]:"collapsing",[Yo]:"collapsing",[cl]:"collapse show"},H1=it.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:n,onExiting:s,className:r,children:o,dimension:c="height",in:u=!1,timeout:f=300,mountOnEnter:p=!1,unmountOnExit:g=!1,appear:v=!1,getDimensionValue:_=Ij,...E},C)=>{const T=typeof c=="function"?c():c,R=S.useMemo(()=>rh(M=>{M.style[T]="0"},i),[T,i]),P=S.useMemo(()=>rh(M=>{const D=`scroll${T[0].toUpperCase()}${T.slice(1)}`;M.style[T]=`${M[D]}px`},t),[T,t]),B=S.useMemo(()=>rh(M=>{M.style[T]=null},e),[T,e]),V=S.useMemo(()=>rh(M=>{M.style[T]=`${_(T,M)}px`,dN(M)},n),[n,_,T]),I=S.useMemo(()=>rh(M=>{M.style[T]=null},s),[T,s]);return m.jsx(q1,{ref:C,addEndListener:uN,...E,"aria-expanded":E.role?u:null,onEnter:R,onEntering:P,onEntered:B,onExit:V,onExiting:I,childRef:Td(o),in:u,timeout:f,mountOnEnter:p,unmountOnExit:g,appear:v,children:(M,D)=>it.cloneElement(o,{...D,className:st(r,o.props.className,Pj[M],T==="width"&&"collapse-horizontal")})})});H1.displayName="Collapse";function fN(i,t){return Array.isArray(i)?i.includes(t):i===t}const hl=S.createContext({});hl.displayName="AccordionContext";const U1=S.forwardRef(({as:i="div",bsPrefix:t,className:e,children:n,eventKey:s,...r},o)=>{const{activeEventKey:c}=S.useContext(hl);return t=mt(t,"accordion-collapse"),m.jsx(H1,{ref:o,in:fN(c,s),...r,className:st(e,t),children:m.jsx(i,{children:S.Children.only(n)})})});U1.displayName="AccordionCollapse";const J0=S.createContext({eventKey:""});J0.displayName="AccordionItemContext";const hN=S.forwardRef(({as:i="div",bsPrefix:t,className:e,onEnter:n,onEntering:s,onEntered:r,onExit:o,onExiting:c,onExited:u,...f},p)=>{t=mt(t,"accordion-body");const{eventKey:g}=S.useContext(J0);return m.jsx(U1,{eventKey:g,onEnter:n,onEntering:s,onEntered:r,onExit:o,onExiting:c,onExited:u,children:m.jsx(i,{ref:p,...f,className:st(e,t)})})});hN.displayName="AccordionBody";function W1(i,t){const{activeEventKey:e,onSelect:n,alwaysOpen:s}=S.useContext(hl);return r=>{let o=i===e?null:i;s&&(Array.isArray(e)?e.includes(i)?o=e.filter(c=>c!==i):o=[...e,i]:o=[i]),n==null||n(o,r),t==null||t(r)}}const G1=S.forwardRef(({as:i="button",bsPrefix:t,className:e,onClick:n,...s},r)=>{t=mt(t,"accordion-button");const{eventKey:o}=S.useContext(J0),c=W1(o,n),{activeEventKey:u}=S.useContext(hl);return i==="button"&&(s.type="button"),m.jsx(i,{ref:r,onClick:c,...s,"aria-expanded":Array.isArray(u)?u.includes(o):o===u,className:st(e,t,!fN(u,o)&&"collapsed")})});G1.displayName="AccordionButton";const mN=S.forwardRef(({as:i="h2","aria-controls":t,bsPrefix:e,className:n,children:s,onClick:r,...o},c)=>(e=mt(e,"accordion-header"),m.jsx(i,{ref:c,...o,className:st(n,e),children:m.jsx(G1,{onClick:r,"aria-controls":t,children:s})})));mN.displayName="AccordionHeader";const pN=S.forwardRef(({as:i="div",bsPrefix:t,className:e,eventKey:n,...s},r)=>{t=mt(t,"accordion-item");const o=S.useMemo(()=>({eventKey:n}),[n]);return m.jsx(J0.Provider,{value:o,children:m.jsx(i,{ref:r,...s,className:st(e,t)})})});pN.displayName="AccordionItem";const gN=S.forwardRef((i,t)=>{const{as:e="div",activeKey:n,bsPrefix:s,className:r,onSelect:o,flush:c,alwaysOpen:u,...f}=V1(i,{activeKey:"onSelect"}),p=mt(s,"accordion"),g=S.useMemo(()=>({activeEventKey:n,onSelect:o,alwaysOpen:u}),[n,o,u]);return m.jsx(hl.Provider,{value:g,children:m.jsx(e,{ref:t,...f,className:st(r,p,c&&`${p}-flush`)})})});gN.displayName="Accordion";const Vt=Object.assign(gN,{Button:G1,Collapse:U1,Item:pN,Header:mN,Body:hN});function Bj(){return m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"w-100 p-3 pt-5",children:[m.jsx("h1",{className:"mb-4",children:"How & Why Become an RP?"}),m.jsx("p",{className:" fs-5 lead",children:"Resource Providers (RPs) are at the center of ACCESS, making research possible for the diverse community ACCESS serves. Our providers share cyberinfrastructure resources and their expertise with the researchers and scientists who request allocations. This symbiotic relationship, supported by other areas of the program, makes scientific discoveries happen."})]}),m.jsxs("div",{className:"w-100 p-3",children:[m.jsx("h2",{children:"How Can We Assist You?"}),m.jsx("p",{children:"Choose a question to find the help you need"})]}),m.jsxs("div",{className:"row p-3 text-dark",children:[m.jsx("div",{className:"col p-3",style:{maxWidth:350},children:m.jsxs("div",{className:"w-100 h-100 border p-5 border-2 rounded-3 border-dark",children:[m.jsx("i",{className:"bi bi-stack fs-1 text-medium"}),m.jsxs(je,{className:"w-100 btn btn-link text-medium text-center",to:"/docs/how-to-integrate-resource",style:{fontSize:18},children:["How do I ",m.jsx("strong",{children:"integrate"})," my ",m.jsx("br",{}),"resource ",m.jsx("strong",{children:"into"}),"  ",m.jsx("br",{}),m.jsx("strong",{children:"ACCESS"}),"?"]})]})}),m.jsx("div",{className:"col p-3",style:{maxWidth:350},children:m.jsxs("div",{className:"w-100 h-100 border p-5 border-2 rounded-3 border-dark",children:[m.jsx("i",{className:"bi bi-building-fill-gear fs-1 text-medium"}),m.jsxs(je,{className:"w-100 btn btn-link text-medium text-center",to:"/docs/how-to-choose-roadmap",style:{fontSize:18},children:["What is an ",m.jsx("strong",{children:"Integration"})," ",m.jsx("br",{}),m.jsx("strong",{children:"Roadmap"})," and how do I  ",m.jsx("br",{}),m.jsx("strong",{children:"choose the right one"}),"?"]})]})})]}),m.jsx("div",{className:"w-100 p-3 pt-5",children:m.jsxs(Vt,{defaultActiveKey:[],children:[m.jsxs(Vt.Item,{eventKey:"0",children:[m.jsx(Vt.Header,{children:"Why should I integrate my resource with ACCESS?"}),m.jsx(Vt.Body,{children:m.jsx("p",{className:"fs-6",children:"Participating in ACCESS enables your organization to maximize the use and impact of its cyberinfrastructure by making it accessible to the national research community. Integration connects your resource to a broad ecosystem of researchers and educators, increasing visibility, usage, and scientific contribution. As a Resource Provider, youll benefit from standardized interfaces, onboarding support, and potential funding opportunities, all while contributing to a collaborative network driving scientific discovery."})})]}),m.jsxs(Vt.Item,{eventKey:"1",children:[m.jsx(Vt.Header,{children:"What are the requirements to become a Resource Provider?"}),m.jsx(Vt.Body,{children:m.jsx("p",{className:"fs-6",children:"To become an ACCESS Resource Provider, your resource must support research or education, meet baseline cybersecurity and reliability standards, and be capable of interoperating with ACCESS systems. Youll follow an Integration Roadmap that outlines technical and operational milestones. If youd like to speak with someone before getting started, submit a ticket here to connect with our team."})})]}),m.jsxs(Vt.Item,{eventKey:"2",children:[m.jsx(Vt.Header,{children:"How long does the integration process take?"}),m.jsx(Vt.Body,{children:m.jsx("p",{className:"fs-6",children:"The timeline varies based on the complexity of your resource and the roadmap selected. Simple integrations may take a few weeks, while more advanced or customized resources could take longer. "})})]}),m.jsxs(Vt.Item,{eventKey:"3",children:[m.jsx(Vt.Header,{children:"Do I need a dedicated technical team to integrate my resource? "}),m.jsx(Vt.Body,{children:m.jsx("p",{className:"fs-6",children:"You dont need a dedicated technical team to complete the integration process. While some tasks within certain badges may require technical expertise (such as system configuration or API integration), others may be administrative or operational and can be handled by different members of your team. Resource provider leadership have the flexibility to assign tasks based on your teams capacity and areas of expertise. Many Resource Providers successfully integrate with ACCESS using small or part-time teams, and our onboarding support is available throughout the process to assist as needed."})})]}),m.jsxs(Vt.Item,{eventKey:"4",children:[m.jsx(Vt.Header,{children:"Can I talk to someone before I start the integration process?"}),m.jsx(Vt.Body,{children:m.jsx("p",{className:"fs-6",children:"Yes, if youre considering becoming a Resource Provider and have questions, we encourage you to reach out early. Our team is available to answer questions, help you understand the integration options, and guide you in selecting the roadmap and badges that make the most sense for your resource. To connect with us, simply submit a ticket here."})})]}),m.jsxs(Vt.Item,{eventKey:"5",children:[m.jsx(Vt.Header,{children:"What kind of support will I receive during onboarding?"}),m.jsx(Vt.Body,{children:m.jsx("p",{className:"fs-6",children:"We provide hands-on support throughout the onboarding process. This includes access to detailed documentation, guidance on choosing and completing badges, and help from technical and programmatic staff familiar with ACCESS integration. Whether you're working through a technical task or need help planning your roadmap, were here to support you at every step."})})]}),m.jsxs(Vt.Item,{eventKey:"6",children:[m.jsx(Vt.Header,{children:"What happens after I integrate my resource?"}),m.jsx(Vt.Body,{children:m.jsx("p",{className:"fs-6",children:"Once your resource is integrated, it becomes part of the national ACCESS ecosystem and is made available to researchers through standardized interfaces. Youll continue to receive support as needed, including visibility into usage metrics, opportunities for collaboration, and access to future updates and community events. Youll also be able to modify or add new badges later as your resource evolves."})})]}),m.jsxs(Vt.Item,{eventKey:"7",children:[m.jsx(Vt.Header,{children:"Is there a cost or funding requirement to become an RP?"}),m.jsx(Vt.Body,{children:m.jsx("p",{className:"fs-6",children:"There is no fee to become a Resource Provider within ACCESS. The program is fully funded by the National Science Foundation (NSF), and integration is supported as part of this national effort to advance research cyberinfrastructure. In fact, joining ACCESS can increase your visibility, open doors to future funding opportunities, and foster partnerships across the research community. If youre interested in how participation might align with your organizations goals, were happy to discuss further. Just submit a ticket here."})})]}),m.jsxs(Vt.Item,{eventKey:"8",children:[m.jsx(Vt.Header,{children:"What if my resource doesnt fit neatly into one of the existing roadmaps?"}),m.jsx(Vt.Body,{children:m.jsx("p",{className:"fs-6",children:"Thats completely okay. We understand that not all resources are the same, and our existing roadmaps may not cover every use case. One of ACCESSs goals is to expand the types of research infrastructure available to researchers. If your resource doesnt align with one of the current integration pathways, well work closely with you to adapt or co-develop a roadmap that fits your specific needs and goals. Our team is here to ensure your integration journey is both effective and meaningful, regardless of where youre starting from."})})]})]})}),m.jsxs("div",{className:"w-100 p-3 pt-5",children:[m.jsx("h2",{children:"Ready to integrate a new resource?"}),m.jsx(je,{className:"btn btn-dark btn-lg rounded-2 mt-2",to:"/docs",children:"Start Integration"})]})]})}function Lj(){return m.jsxs("div",{className:"container",children:[m.jsx("div",{className:"w-100 p-3 pt-5",children:m.jsxs("h1",{className:"mb-4",children:[m.jsx("i",{className:"bi bi-stack fs-1 text-medium pe-3"}),"How Do I Integrate My Resource into ACCESS?"]})}),m.jsxs("div",{className:"row p-4 bg-gray-100",children:[m.jsx("div",{className:"col-lg-4 col-md-6",children:m.jsx("p",{className:"fs-6 text-dark",children:"Weve made the integration process as simple and guided as possible, with a clear, stepped approach that ensures youll never miss a step. The process is structured around our Integration Roadmaps, which are designed to provide a tailored pathway for integrating your resource into the ACCESS ecosystem."})}),m.jsx("div",{className:"col-lg-8 col-md-6 text-center",children:m.jsx("img",{className:"w-100",style:{maxWidth:500},alt:"Five steps for new resource integraiton",src:F1})})]}),m.jsxs("div",{className:"row mt-3 p-4 bg-gray-100",children:[m.jsx("h4",{className:"fs-6 text-dark",children:"To begin the integration process, you have two options:"}),m.jsx("p",{className:"fs-6 text-dark",children:"You can click Start Integration directly from the ACCESS landing page to get started."})]}),m.jsxs("div",{className:"row mt-3 p-4 bg-gray-100",children:[m.jsx("h4",{className:"fs-6 text-dark",children:"Step 1: Register Your Organization and Resource"}),m.jsx("p",{className:"fs-6 text-dark",children:"If your organization isnt already in the system, youll need to register it first. Then, register the specific resource youd like to integrate. This involves filling out a short form with a few key details. Once submitted, a member of the concierge team will review your information. If everything looks good, your resource will appear on the Integration Dashboard. it's a quick and easy step!"})]}),m.jsxs("div",{className:"row mt-3 p-4 bg-gray-100",children:[m.jsx("h4",{className:"fs-6 text-dark",children:"Step 2: Pick an Integration Roadmap"}),m.jsx("p",{className:"fs-6 text-dark",children:"After registration, return to the ACCESS homepage and click on the Integration Dashboard link. From there, youll follow a guided process to select an Integration Roadmap that matches the type of resource youre integrating, such as a compute cluster, cloud environment, storage, or a science gateway."}),m.jsx("p",{className:"fs-6 text-dark",children:"These roadmaps are designed to break the integration process into manageable steps called badges. Each badge includes tasks that must be completed to successfully integrate your resource."})]}),m.jsxs("div",{className:"row mt-3 p-4 bg-gray-100",children:[m.jsx("h4",{className:"fs-6 text-dark",children:"Step 3: Select Resource- Specific Badges"}),m.jsx("p",{className:"fs-6 text-dark",children:"As the Resource Provider, you can choose the badges most relevant to your resource and your teams goals. Some badges may involve technical setup tasks for your developers, while others may focus on administrative or operational steps handled by different members of your team."})]}),m.jsxs("div",{className:"row mt-3 p-4 bg-gray-100",children:[m.jsx("h4",{className:"fs-6 text-dark",children:"Step 4: Complete Badges"}),m.jsx("p",{className:"fs-6 text-dark",children:"Each badge in your selected Integration Roadmap represents a specific milestone in the integration process. Badges are designed to help you and your team stay organized by breaking the work into focused, achievable tasks. Some badges will involve setting up technical components like configuring access policies or setting up monitoring while others may cover documentation, support planning, or onboarding workflows. Each badge includes guidance, resources, and links to help you complete the required tasks. As you complete a badge, simply mark it as done on the Integration Dashboard. This allows both your team and the ACCESS support team to track progress."})]}),m.jsxs("div",{className:"row mt-3 p-4 bg-gray-100",children:[m.jsx("h4",{className:"fs-6 text-dark",children:"Step 5: Submit for Verification"}),m.jsx("p",{className:"fs-6 text-dark",children:"Once each badge is finish, you'll submit it for verification, where our team will verify that each badge is setup correctly. And dont worry, our team is here to help you every step of the way. Were available to guide you through the process, clarify any questions, and make sure the integration goes smoothly."})]}),m.jsxs("div",{className:"w-100 p-3 pt-5",children:[m.jsx("h2",{children:"Ready to integrate a new resource?"}),m.jsx(je,{className:"btn btn-dark btn-lg rounded-2 mt-2",to:"/docs",children:"Start Integration"})]})]})}function jj(){return m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"w-100 p-3 pt-5",children:[m.jsxs("h1",{className:"mb-4",children:[m.jsx("i",{className:"bi bi-building-fill-gear fs-1 text-medium pe-3"}),"What is an Integration Roadmap and How do I Choose the Right One?"]}),m.jsx("p",{className:"fs-6",children:"An Integration Roadmap is a structured guide that shows how different types of infrastructure can connect to the ACCESS ecosystem. ACCESS uses this framework to make integration transparent and consistent for all Resource Providers."}),m.jsx("p",{className:"fs-6",children:"Each roadmap is tailored to a specific type of infrastructure in order to achieve a specific operational status. Right now, ACCESS supports integration for:"})]}),m.jsxs("div",{className:"row p-3 text-dark",children:[m.jsx("div",{className:"col p-3",style:{minWidth:500},children:m.jsxs("div",{className:"w-100 h-100 border p-4 border-2 rounded-3 border-dark",children:[m.jsx("h4",{children:"Science Gateways"}),m.jsx("p",{children:"User-facing web portals where researchers can run complex scientific applications, without needing to interact directly with backend compute or storage systems. These Science Gateways can use ACCESS allocated resources without a researcher needing to request their own ACCESS allocation."})]})}),m.jsx("div",{className:"col p-3",style:{minWidth:500},children:m.jsxs("div",{className:"w-100 h-100 border p-4 border-2 rounded-3 border-dark",children:[m.jsx("h4",{children:"High-Performance Computing (HPC)"}),m.jsx("p",{children:"Compute clusters that allow users to log in, install software, and run jobs through a scheduler. These systems may include GPUs and always offer tightly integrated local storage."})]})}),m.jsx("div",{className:"col p-3",style:{minWidth:500},children:m.jsxs("div",{className:"w-100 h-100 border p-4 border-2 rounded-3 border-dark",children:[m.jsx("h4",{children:"Storage"}),m.jsx("p",{children:"Systems designed to store, manage, and share large datasets."})]})}),m.jsx("div",{className:"col p-3",style:{minWidth:500},children:m.jsxs("div",{className:"w-100 h-100 border p-4 border-2 rounded-3 border-dark",children:[m.jsx("h4",{children:"Cloud Infrastructure"}),m.jsx("p",{children:"Environments that run virtual machines or containers to support flexible computing."})]})}),m.jsx("div",{className:"col p-3",style:{minWidth:500},children:m.jsxs("div",{className:"w-100 h-100 border p-4 border-2 rounded-3 border-dark",children:[m.jsx("h4",{children:"Not sure which roadmap applies to you?"}),m.jsx("p",{children:"Contact our concierge team, and well help you choose the right path and get started."})]})})]}),m.jsxs("div",{className:"w-100 p-3 pt-5",children:[m.jsx("h2",{children:"Ready to integrate a new resource?"}),m.jsx(je,{className:"btn btn-dark btn-lg rounded-2 mt-2",to:"/docs",children:"Start Integration"})]})]})}function Dj(i){const t=S.useRef(i);return S.useEffect(()=>{t.current=i},[i]),t}function Uh(i){const t=Dj(i);return S.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const Mj=(i=>S.forwardRef((t,e)=>m.jsx("div",{...t,ref:e,className:st(t.className,i)})));function Sw(){return S.useState(null)}function Fj(i){const t=S.useRef(i);return S.useEffect(()=>{t.current=i},[i]),t}function Ni(i){const t=Fj(i);return S.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function Vj(i,t,e,n=!1){const s=Ni(e);S.useEffect(()=>{const r=typeof i=="function"?i():i;return r.addEventListener(t,s,n),()=>r.removeEventListener(t,s,n)},[i])}function bN(){const i=S.useRef(!0),t=S.useRef(()=>i.current);return S.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function vN(i){const t=S.useRef(null);return S.useEffect(()=>{t.current=i}),t.current}const zj=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",qj=typeof document<"u",Uk=qj||zj?S.useLayoutEffect:S.useEffect,Hj=["as","disabled"];function Uj(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}function Wj(i){return!i||i.trim()==="#"}function K1({tagName:i,disabled:t,href:e,target:n,rel:s,role:r,onClick:o,tabIndex:c=0,type:u}){i||(e!=null||n!=null||s!=null?i="a":i="button");const f={tagName:i};if(i==="button")return[{type:u||"button",disabled:t},f];const p=v=>{if((t||i==="a"&&Wj(e))&&v.preventDefault(),t){v.stopPropagation();return}o==null||o(v)},g=v=>{v.key===" "&&(v.preventDefault(),p(v))};return i==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:r??"button",disabled:void 0,tabIndex:t?void 0:c,href:e,target:i==="a"?n:void 0,"aria-disabled":t||void 0,rel:i==="a"?s:void 0,onClick:p,onKeyDown:g},f]}const Q1=S.forwardRef((i,t)=>{let{as:e,disabled:n}=i,s=Uj(i,Hj);const[r,{tagName:o}]=K1(Object.assign({tagName:e,disabled:n},s));return m.jsx(o,Object.assign({},s,r,{ref:t}))});Q1.displayName="Button";const Gj=["onKeyDown"];function Kj(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}function Qj(i){return!i||i.trim()==="#"}const eb=S.forwardRef((i,t)=>{let{onKeyDown:e}=i,n=Kj(i,Gj);const[s]=K1(Object.assign({tagName:"a"},n)),r=Ni(o=>{s.onKeyDown(o),e==null||e(o)});return Qj(n.href)||n.role==="button"?m.jsx("a",Object.assign({ref:t},n,s,{onKeyDown:r})):m.jsx("a",Object.assign({ref:t},n,{onKeyDown:e}))});eb.displayName="Anchor";const Yj={[Yo]:"show",[cl]:"show"},sd=S.forwardRef(({className:i,children:t,transitionClasses:e={},onEnter:n,...s},r)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},c=S.useCallback((u,f)=>{dN(u),n==null||n(u,f)},[n]);return m.jsx(q1,{ref:r,addEndListener:uN,...o,onEnter:c,childRef:Td(t),children:(u,f)=>S.cloneElement(t,{...f,className:st("fade",i,t.props.className,Yj[u],e[u])})})});sd.displayName="Fade";const $j={"aria-label":We.string,onClick:We.func,variant:We.oneOf(["white"])},Y1=S.forwardRef(({className:i,variant:t,"aria-label":e="Close",...n},s)=>m.jsx("button",{ref:s,type:"button",className:st("btn-close",t&&`btn-close-${t}`,i),"aria-label":e,...n}));Y1.displayName="CloseButton";Y1.propTypes=$j;const yN=S.forwardRef(({bsPrefix:i,active:t=!1,children:e,className:n,as:s="li",linkAs:r=eb,linkProps:o={},href:c,title:u,target:f,...p},g)=>{const v=mt(i,"breadcrumb-item");return m.jsx(s,{ref:g,...p,className:st(v,n,{active:t}),"aria-current":t?"page":void 0,children:t?e:m.jsx(r,{...o,href:c,title:u,target:f,children:e})})});yN.displayName="BreadcrumbItem";const wN=S.forwardRef(({bsPrefix:i,className:t,listProps:e={},children:n,label:s="breadcrumb",as:r="nav",...o},c)=>{const u=mt(i,"breadcrumb");return m.jsx(r,{"aria-label":s,className:t,ref:c,...o,children:m.jsx("ol",{...e,className:st(u,e==null?void 0:e.className),children:n})})});wN.displayName="Breadcrumb";const ps=Object.assign(wN,{Item:yN}),xN=S.forwardRef(({as:i,bsPrefix:t,variant:e="primary",size:n,active:s=!1,disabled:r=!1,className:o,...c},u)=>{const f=mt(t,"btn"),[p,{tagName:g}]=K1({tagName:i,disabled:r,...c}),v=g;return m.jsx(v,{...p,...c,ref:u,disabled:r,className:st(o,f,s&&"active",e&&`${f}-${e}`,n&&`${f}-${n}`,c.href&&r&&"disabled")})});xN.displayName="Button";const _N=S.createContext(null);_N.displayName="CardHeaderContext";function Xj(){const i=S.useRef(!0),t=S.useRef(()=>i.current);return S.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function Zj(i){const t=S.useRef(i);return t.current=i,t}function EN(i){const t=Zj(i);S.useEffect(()=>()=>t.current(),[])}const Aw=2**31-1;function kN(i,t,e){const n=e-Date.now();i.current=n<=Aw?setTimeout(t,n):setTimeout(()=>kN(i,t,e),Aw)}function Jj(){const i=Xj(),t=S.useRef();return EN(()=>clearTimeout(t.current)),S.useMemo(()=>{const e=()=>clearTimeout(t.current);function n(s,r=0){i()&&(e(),r<=Aw?t.current=setTimeout(s,r):kN(t,s,Date.now()+r))}return{set:n,clear:e,handleRef:t}},[])}function eD(i,t){return S.Children.toArray(i).some(e=>S.isValidElement(e)&&e.type===t)}function tD({as:i,bsPrefix:t,className:e,...n}){t=mt(t,"col");const s=fj(),r=hj(),o=[],c=[];return s.forEach(u=>{const f=n[u];delete n[u];let p,g,v;typeof f=="object"&&f!=null?{span:p,offset:g,order:v}=f:p=f;const _=u!==r?`-${u}`:"";p&&o.push(p===!0?`${t}${_}`:`${t}${_}-${p}`),v!=null&&c.push(`order${_}-${v}`),g!=null&&c.push(`offset${_}-${g}`)}),[{...n,className:st(e,...o,...c)},{as:i,bsPrefix:t,spans:o}]}const CN=S.forwardRef((i,t)=>{const[{className:e,...n},{as:s="div",bsPrefix:r,spans:o}]=tD(i);return m.jsx(s,{...n,ref:t,className:st(e,!o.length&&r)})});CN.displayName="Col";var nD=Function.prototype.bind.call(Function.prototype.call,[].slice);function $o(i,t){return nD(i.querySelectorAll(t))}function iD(i,t,e){const n=S.useRef(i!==void 0),[s,r]=S.useState(t),o=i!==void 0,c=n.current;return n.current=o,!o&&c&&s!==t&&r(t),[o?i:s,S.useCallback((...u)=>{const[f,...p]=u;let g=e==null?void 0:e(f,...p);return r(f),g},[e])]}function SN(){const[,i]=S.useReducer(t=>t+1,0);return i}const tb=S.createContext(null);var Wk=Object.prototype.hasOwnProperty;function Gk(i,t,e){for(e of i.keys())if(Ah(e,t))return e}function Ah(i,t){var e,n,s;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&Ah(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(s=n,s&&typeof s=="object"&&(s=Gk(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(s=n[0],s&&typeof s=="object"&&(s=Gk(t,s),!s)||!Ah(n[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(Wk.call(i,e)&&++n&&!Wk.call(t,e)||!(e in t)||!Ah(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}function sD(i){const t=bN();return[i[0],S.useCallback(e=>{if(t())return i[1](e)},[t,i[1]])]}var ws="top",ar="bottom",lr="right",xs="left",$1="auto",Cm=[ws,ar,lr,xs],rd="start",Wh="end",rD="clippingParents",AN="viewport",oh="popper",oD="reference",Kk=Cm.reduce(function(i,t){return i.concat([t+"-"+rd,t+"-"+Wh])},[]),TN=[].concat(Cm,[$1]).reduce(function(i,t){return i.concat([t,t+"-"+rd,t+"-"+Wh])},[]),aD="beforeRead",lD="read",cD="afterRead",uD="beforeMain",dD="main",fD="afterMain",hD="beforeWrite",mD="write",pD="afterWrite",gD=[aD,lD,cD,uD,dD,fD,hD,mD,pD];function bo(i){return i.split("-")[0]}function Ms(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function Ac(i){var t=Ms(i).Element;return i instanceof t||i instanceof Element}function vo(i){var t=Ms(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function X1(i){if(typeof ShadowRoot>"u")return!1;var t=Ms(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}var wc=Math.max,h0=Math.min,od=Math.round;function Tw(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function NN(){return!/^((?!chrome|android).)*safari/i.test(Tw())}function ad(i,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var n=i.getBoundingClientRect(),s=1,r=1;t&&vo(i)&&(s=i.offsetWidth>0&&od(n.width)/i.offsetWidth||1,r=i.offsetHeight>0&&od(n.height)/i.offsetHeight||1);var o=Ac(i)?Ms(i):window,c=o.visualViewport,u=!NN()&&e,f=(n.left+(u&&c?c.offsetLeft:0))/s,p=(n.top+(u&&c?c.offsetTop:0))/r,g=n.width/s,v=n.height/r;return{width:g,height:v,top:p,right:f+g,bottom:p+v,left:f,x:f,y:p}}function Z1(i){var t=ad(i),e=i.offsetWidth,n=i.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:i.offsetLeft,y:i.offsetTop,width:e,height:n}}function RN(i,t){var e=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(e&&X1(e)){var n=t;do{if(n&&i.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ml(i){return i?(i.nodeName||"").toLowerCase():null}function oa(i){return Ms(i).getComputedStyle(i)}function bD(i){return["table","td","th"].indexOf(ml(i))>=0}function _l(i){return((Ac(i)?i.ownerDocument:i.document)||window.document).documentElement}function nb(i){return ml(i)==="html"?i:i.assignedSlot||i.parentNode||(X1(i)?i.host:null)||_l(i)}function Qk(i){return!vo(i)||oa(i).position==="fixed"?null:i.offsetParent}function vD(i){var t=/firefox/i.test(Tw()),e=/Trident/i.test(Tw());if(e&&vo(i)){var n=oa(i);if(n.position==="fixed")return null}var s=nb(i);for(X1(s)&&(s=s.host);vo(s)&&["html","body"].indexOf(ml(s))<0;){var r=oa(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function Sm(i){for(var t=Ms(i),e=Qk(i);e&&bD(e)&&oa(e).position==="static";)e=Qk(e);return e&&(ml(e)==="html"||ml(e)==="body"&&oa(e).position==="static")?t:e||vD(i)||t}function J1(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function Th(i,t,e){return wc(i,h0(t,e))}function yD(i,t,e){var n=Th(i,t,e);return n>e?e:n}function ON(){return{top:0,right:0,bottom:0,left:0}}function IN(i){return Object.assign({},ON(),i)}function PN(i,t){return t.reduce(function(e,n){return e[n]=i,e},{})}var wD=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,IN(typeof t!="number"?t:PN(t,Cm))};function xD(i){var t,e=i.state,n=i.name,s=i.options,r=e.elements.arrow,o=e.modifiersData.popperOffsets,c=bo(e.placement),u=J1(c),f=[xs,lr].indexOf(c)>=0,p=f?"height":"width";if(!(!r||!o)){var g=wD(s.padding,e),v=Z1(r),_=u==="y"?ws:xs,E=u==="y"?ar:lr,C=e.rects.reference[p]+e.rects.reference[u]-o[u]-e.rects.popper[p],T=o[u]-e.rects.reference[u],R=Sm(r),P=R?u==="y"?R.clientHeight||0:R.clientWidth||0:0,B=C/2-T/2,V=g[_],I=P-v[p]-g[E],M=P/2-v[p]/2+B,D=Th(V,M,I),F=u;e.modifiersData[n]=(t={},t[F]=D,t.centerOffset=D-M,t)}}function _D(i){var t=i.state,e=i.options,n=e.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||RN(t.elements.popper,s)&&(t.elements.arrow=s))}const ED={name:"arrow",enabled:!0,phase:"main",fn:xD,effect:_D,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ld(i){return i.split("-")[1]}var kD={top:"auto",right:"auto",bottom:"auto",left:"auto"};function CD(i,t){var e=i.x,n=i.y,s=t.devicePixelRatio||1;return{x:od(e*s)/s||0,y:od(n*s)/s||0}}function Yk(i){var t,e=i.popper,n=i.popperRect,s=i.placement,r=i.variation,o=i.offsets,c=i.position,u=i.gpuAcceleration,f=i.adaptive,p=i.roundOffsets,g=i.isFixed,v=o.x,_=v===void 0?0:v,E=o.y,C=E===void 0?0:E,T=typeof p=="function"?p({x:_,y:C}):{x:_,y:C};_=T.x,C=T.y;var R=o.hasOwnProperty("x"),P=o.hasOwnProperty("y"),B=xs,V=ws,I=window;if(f){var M=Sm(e),D="clientHeight",F="clientWidth";if(M===Ms(e)&&(M=_l(e),oa(M).position!=="static"&&c==="absolute"&&(D="scrollHeight",F="scrollWidth")),M=M,s===ws||(s===xs||s===lr)&&r===Wh){V=ar;var H=g&&M===I&&I.visualViewport?I.visualViewport.height:M[D];C-=H-n.height,C*=u?1:-1}if(s===xs||(s===ws||s===ar)&&r===Wh){B=lr;var $=g&&M===I&&I.visualViewport?I.visualViewport.width:M[F];_-=$-n.width,_*=u?1:-1}}var J=Object.assign({position:c},f&&kD),be=p===!0?CD({x:_,y:C},Ms(e)):{x:_,y:C};if(_=be.x,C=be.y,u){var _e;return Object.assign({},J,(_e={},_e[V]=P?"0":"",_e[B]=R?"0":"",_e.transform=(I.devicePixelRatio||1)<=1?"translate("+_+"px, "+C+"px)":"translate3d("+_+"px, "+C+"px, 0)",_e))}return Object.assign({},J,(t={},t[V]=P?C+"px":"",t[B]=R?_+"px":"",t.transform="",t))}function SD(i){var t=i.state,e=i.options,n=e.gpuAcceleration,s=n===void 0?!0:n,r=e.adaptive,o=r===void 0?!0:r,c=e.roundOffsets,u=c===void 0?!0:c,f={placement:bo(t.placement),variation:ld(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Yk(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Yk(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const AD={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:SD,data:{}};var wg={passive:!0};function TD(i){var t=i.state,e=i.instance,n=i.options,s=n.scroll,r=s===void 0?!0:s,o=n.resize,c=o===void 0?!0:o,u=Ms(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&f.forEach(function(p){p.addEventListener("scroll",e.update,wg)}),c&&u.addEventListener("resize",e.update,wg),function(){r&&f.forEach(function(p){p.removeEventListener("scroll",e.update,wg)}),c&&u.removeEventListener("resize",e.update,wg)}}const ND={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:TD,data:{}};var RD={left:"right",right:"left",bottom:"top",top:"bottom"};function Yg(i){return i.replace(/left|right|bottom|top/g,function(t){return RD[t]})}var OD={start:"end",end:"start"};function $k(i){return i.replace(/start|end/g,function(t){return OD[t]})}function ex(i){var t=Ms(i),e=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:e,scrollTop:n}}function tx(i){return ad(_l(i)).left+ex(i).scrollLeft}function ID(i,t){var e=Ms(i),n=_l(i),s=e.visualViewport,r=n.clientWidth,o=n.clientHeight,c=0,u=0;if(s){r=s.width,o=s.height;var f=NN();(f||!f&&t==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:r,height:o,x:c+tx(i),y:u}}function PD(i){var t,e=_l(i),n=ex(i),s=(t=i.ownerDocument)==null?void 0:t.body,r=wc(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=wc(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-n.scrollLeft+tx(i),u=-n.scrollTop;return oa(s||e).direction==="rtl"&&(c+=wc(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:c,y:u}}function nx(i){var t=oa(i),e=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+s+n)}function BN(i){return["html","body","#document"].indexOf(ml(i))>=0?i.ownerDocument.body:vo(i)&&nx(i)?i:BN(nb(i))}function Nh(i,t){var e;t===void 0&&(t=[]);var n=BN(i),s=n===((e=i.ownerDocument)==null?void 0:e.body),r=Ms(n),o=s?[r].concat(r.visualViewport||[],nx(n)?n:[]):n,c=t.concat(o);return s?c:c.concat(Nh(nb(o)))}function Nw(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function BD(i,t){var e=ad(i,!1,t==="fixed");return e.top=e.top+i.clientTop,e.left=e.left+i.clientLeft,e.bottom=e.top+i.clientHeight,e.right=e.left+i.clientWidth,e.width=i.clientWidth,e.height=i.clientHeight,e.x=e.left,e.y=e.top,e}function Xk(i,t,e){return t===AN?Nw(ID(i,e)):Ac(t)?BD(t,e):Nw(PD(_l(i)))}function LD(i){var t=Nh(nb(i)),e=["absolute","fixed"].indexOf(oa(i).position)>=0,n=e&&vo(i)?Sm(i):i;return Ac(n)?t.filter(function(s){return Ac(s)&&RN(s,n)&&ml(s)!=="body"}):[]}function jD(i,t,e,n){var s=t==="clippingParents"?LD(i):[].concat(t),r=[].concat(s,[e]),o=r[0],c=r.reduce(function(u,f){var p=Xk(i,f,n);return u.top=wc(p.top,u.top),u.right=h0(p.right,u.right),u.bottom=h0(p.bottom,u.bottom),u.left=wc(p.left,u.left),u},Xk(i,o,n));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function LN(i){var t=i.reference,e=i.element,n=i.placement,s=n?bo(n):null,r=n?ld(n):null,o=t.x+t.width/2-e.width/2,c=t.y+t.height/2-e.height/2,u;switch(s){case ws:u={x:o,y:t.y-e.height};break;case ar:u={x:o,y:t.y+t.height};break;case lr:u={x:t.x+t.width,y:c};break;case xs:u={x:t.x-e.width,y:c};break;default:u={x:t.x,y:t.y}}var f=s?J1(s):null;if(f!=null){var p=f==="y"?"height":"width";switch(r){case rd:u[f]=u[f]-(t[p]/2-e[p]/2);break;case Wh:u[f]=u[f]+(t[p]/2-e[p]/2);break}}return u}function Gh(i,t){t===void 0&&(t={});var e=t,n=e.placement,s=n===void 0?i.placement:n,r=e.strategy,o=r===void 0?i.strategy:r,c=e.boundary,u=c===void 0?rD:c,f=e.rootBoundary,p=f===void 0?AN:f,g=e.elementContext,v=g===void 0?oh:g,_=e.altBoundary,E=_===void 0?!1:_,C=e.padding,T=C===void 0?0:C,R=IN(typeof T!="number"?T:PN(T,Cm)),P=v===oh?oD:oh,B=i.rects.popper,V=i.elements[E?P:v],I=jD(Ac(V)?V:V.contextElement||_l(i.elements.popper),u,p,o),M=ad(i.elements.reference),D=LN({reference:M,element:B,placement:s}),F=Nw(Object.assign({},B,D)),H=v===oh?F:M,$={top:I.top-H.top+R.top,bottom:H.bottom-I.bottom+R.bottom,left:I.left-H.left+R.left,right:H.right-I.right+R.right},J=i.modifiersData.offset;if(v===oh&&J){var be=J[s];Object.keys($).forEach(function(_e){var re=[lr,ar].indexOf(_e)>=0?1:-1,le=[ws,ar].indexOf(_e)>=0?"y":"x";$[_e]+=be[le]*re})}return $}function DD(i,t){t===void 0&&(t={});var e=t,n=e.placement,s=e.boundary,r=e.rootBoundary,o=e.padding,c=e.flipVariations,u=e.allowedAutoPlacements,f=u===void 0?TN:u,p=ld(n),g=p?c?Kk:Kk.filter(function(E){return ld(E)===p}):Cm,v=g.filter(function(E){return f.indexOf(E)>=0});v.length===0&&(v=g);var _=v.reduce(function(E,C){return E[C]=Gh(i,{placement:C,boundary:s,rootBoundary:r,padding:o})[bo(C)],E},{});return Object.keys(_).sort(function(E,C){return _[E]-_[C]})}function MD(i){if(bo(i)===$1)return[];var t=Yg(i);return[$k(i),t,$k(t)]}function FD(i){var t=i.state,e=i.options,n=i.name;if(!t.modifiersData[n]._skip){for(var s=e.mainAxis,r=s===void 0?!0:s,o=e.altAxis,c=o===void 0?!0:o,u=e.fallbackPlacements,f=e.padding,p=e.boundary,g=e.rootBoundary,v=e.altBoundary,_=e.flipVariations,E=_===void 0?!0:_,C=e.allowedAutoPlacements,T=t.options.placement,R=bo(T),P=R===T,B=u||(P||!E?[Yg(T)]:MD(T)),V=[T].concat(B).reduce(function(ve,Ne){return ve.concat(bo(Ne)===$1?DD(t,{placement:Ne,boundary:p,rootBoundary:g,padding:f,flipVariations:E,allowedAutoPlacements:C}):Ne)},[]),I=t.rects.reference,M=t.rects.popper,D=new Map,F=!0,H=V[0],$=0;$<V.length;$++){var J=V[$],be=bo(J),_e=ld(J)===rd,re=[ws,ar].indexOf(be)>=0,le=re?"width":"height",W=Gh(t,{placement:J,boundary:p,rootBoundary:g,altBoundary:v,padding:f}),ae=re?_e?lr:xs:_e?ar:ws;I[le]>M[le]&&(ae=Yg(ae));var fe=Yg(ae),Se=[];if(r&&Se.push(W[be]<=0),c&&Se.push(W[ae]<=0,W[fe]<=0),Se.every(function(ve){return ve})){H=J,F=!1;break}D.set(J,Se)}if(F)for(var Me=E?3:1,O=function(Ne){var De=V.find(function(Ue){var kt=D.get(Ue);if(kt)return kt.slice(0,Ne).every(function(Ee){return Ee})});if(De)return H=De,"break"},Q=Me;Q>0;Q--){var ce=O(Q);if(ce==="break")break}t.placement!==H&&(t.modifiersData[n]._skip=!0,t.placement=H,t.reset=!0)}}const VD={name:"flip",enabled:!0,phase:"main",fn:FD,requiresIfExists:["offset"],data:{_skip:!1}};function Zk(i,t,e){return e===void 0&&(e={x:0,y:0}),{top:i.top-t.height-e.y,right:i.right-t.width+e.x,bottom:i.bottom-t.height+e.y,left:i.left-t.width-e.x}}function Jk(i){return[ws,lr,ar,xs].some(function(t){return i[t]>=0})}function zD(i){var t=i.state,e=i.name,n=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=Gh(t,{elementContext:"reference"}),c=Gh(t,{altBoundary:!0}),u=Zk(o,n),f=Zk(c,s,r),p=Jk(u),g=Jk(f);t.modifiersData[e]={referenceClippingOffsets:u,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":g})}const qD={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:zD};function HD(i,t,e){var n=bo(i),s=[xs,ws].indexOf(n)>=0?-1:1,r=typeof e=="function"?e(Object.assign({},t,{placement:i})):e,o=r[0],c=r[1];return o=o||0,c=(c||0)*s,[xs,lr].indexOf(n)>=0?{x:c,y:o}:{x:o,y:c}}function UD(i){var t=i.state,e=i.options,n=i.name,s=e.offset,r=s===void 0?[0,0]:s,o=TN.reduce(function(p,g){return p[g]=HD(g,t.rects,r),p},{}),c=o[t.placement],u=c.x,f=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=f),t.modifiersData[n]=o}const WD={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:UD};function GD(i){var t=i.state,e=i.name;t.modifiersData[e]=LN({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const KD={name:"popperOffsets",enabled:!0,phase:"read",fn:GD,data:{}};function QD(i){return i==="x"?"y":"x"}function YD(i){var t=i.state,e=i.options,n=i.name,s=e.mainAxis,r=s===void 0?!0:s,o=e.altAxis,c=o===void 0?!1:o,u=e.boundary,f=e.rootBoundary,p=e.altBoundary,g=e.padding,v=e.tether,_=v===void 0?!0:v,E=e.tetherOffset,C=E===void 0?0:E,T=Gh(t,{boundary:u,rootBoundary:f,padding:g,altBoundary:p}),R=bo(t.placement),P=ld(t.placement),B=!P,V=J1(R),I=QD(V),M=t.modifiersData.popperOffsets,D=t.rects.reference,F=t.rects.popper,H=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,$=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),J=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,be={x:0,y:0};if(M){if(r){var _e,re=V==="y"?ws:xs,le=V==="y"?ar:lr,W=V==="y"?"height":"width",ae=M[V],fe=ae+T[re],Se=ae-T[le],Me=_?-F[W]/2:0,O=P===rd?D[W]:F[W],Q=P===rd?-F[W]:-D[W],ce=t.elements.arrow,ve=_&&ce?Z1(ce):{width:0,height:0},Ne=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ON(),De=Ne[re],Ue=Ne[le],kt=Th(0,D[W],ve[W]),Ee=B?D[W]/2-Me-kt-De-$.mainAxis:O-kt-De-$.mainAxis,ln=B?-D[W]/2+Me+kt+Ue+$.mainAxis:Q+kt+Ue+$.mainAxis,Nn=t.elements.arrow&&Sm(t.elements.arrow),Rn=Nn?V==="y"?Nn.clientTop||0:Nn.clientLeft||0:0,li=(_e=J==null?void 0:J[V])!=null?_e:0,we=ae+Ee-li-Rn,ye=ae+ln-li,Ie=Th(_?h0(fe,we):fe,ae,_?wc(Se,ye):Se);M[V]=Ie,be[V]=Ie-ae}if(c){var xe,qe=V==="x"?ws:xs,$e=V==="x"?ar:lr,ot=M[I],Ct=I==="y"?"height":"width",Kt=ot+T[qe],Xt=ot-T[$e],pe=[ws,xs].indexOf(R)!==-1,Re=(xe=J==null?void 0:J[I])!=null?xe:0,Ae=pe?Kt:ot-D[Ct]-F[Ct]-Re+$.altAxis,xt=pe?ot+D[Ct]+F[Ct]-Re-$.altAxis:Xt,cn=_&&pe?yD(Ae,ot,xt):Th(_?Ae:Kt,ot,_?xt:Xt);M[I]=cn,be[I]=cn-ot}t.modifiersData[n]=be}}const $D={name:"preventOverflow",enabled:!0,phase:"main",fn:YD,requiresIfExists:["offset"]};function XD(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function ZD(i){return i===Ms(i)||!vo(i)?ex(i):XD(i)}function JD(i){var t=i.getBoundingClientRect(),e=od(t.width)/i.offsetWidth||1,n=od(t.height)/i.offsetHeight||1;return e!==1||n!==1}function e8(i,t,e){e===void 0&&(e=!1);var n=vo(t),s=vo(t)&&JD(t),r=_l(t),o=ad(i,s,e),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!e)&&((ml(t)!=="body"||nx(r))&&(c=ZD(t)),vo(t)?(u=ad(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):r&&(u.x=tx(r))),{x:o.left+c.scrollLeft-u.x,y:o.top+c.scrollTop-u.y,width:o.width,height:o.height}}function t8(i){var t=new Map,e=new Set,n=[];i.forEach(function(r){t.set(r.name,r)});function s(r){e.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(c){if(!e.has(c)){var u=t.get(c);u&&s(u)}}),n.push(r)}return i.forEach(function(r){e.has(r.name)||s(r)}),n}function n8(i){var t=t8(i);return gD.reduce(function(e,n){return e.concat(t.filter(function(s){return s.phase===n}))},[])}function i8(i){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(i())})})),t}}function s8(i){var t=i.reduce(function(e,n){var s=e[n.name];return e[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,e},{});return Object.keys(t).map(function(e){return t[e]})}var eC={placement:"bottom",modifiers:[],strategy:"absolute"};function tC(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function r8(i){i===void 0&&(i={});var t=i,e=t.defaultModifiers,n=e===void 0?[]:e,s=t.defaultOptions,r=s===void 0?eC:s;return function(c,u,f){f===void 0&&(f=r);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},eC,r),modifiersData:{},elements:{reference:c,popper:u},attributes:{},styles:{}},g=[],v=!1,_={state:p,setOptions:function(R){var P=typeof R=="function"?R(p.options):R;C(),p.options=Object.assign({},r,p.options,P),p.scrollParents={reference:Ac(c)?Nh(c):c.contextElement?Nh(c.contextElement):[],popper:Nh(u)};var B=n8(s8([].concat(n,p.options.modifiers)));return p.orderedModifiers=B.filter(function(V){return V.enabled}),E(),_.update()},forceUpdate:function(){if(!v){var R=p.elements,P=R.reference,B=R.popper;if(tC(P,B)){p.rects={reference:e8(P,Sm(B),p.options.strategy==="fixed"),popper:Z1(B)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function($){return p.modifiersData[$.name]=Object.assign({},$.data)});for(var V=0;V<p.orderedModifiers.length;V++){if(p.reset===!0){p.reset=!1,V=-1;continue}var I=p.orderedModifiers[V],M=I.fn,D=I.options,F=D===void 0?{}:D,H=I.name;typeof M=="function"&&(p=M({state:p,options:F,name:H,instance:_})||p)}}}},update:i8(function(){return new Promise(function(T){_.forceUpdate(),T(p)})}),destroy:function(){C(),v=!0}};if(!tC(c,u))return _;_.setOptions(f).then(function(T){!v&&f.onFirstUpdate&&f.onFirstUpdate(T)});function E(){p.orderedModifiers.forEach(function(T){var R=T.name,P=T.options,B=P===void 0?{}:P,V=T.effect;if(typeof V=="function"){var I=V({state:p,name:R,instance:_,options:B}),M=function(){};g.push(I||M)}})}function C(){g.forEach(function(T){return T()}),g=[]}return _}}const o8=r8({defaultModifiers:[qD,KD,AD,ND,WD,VD,$D,ED]}),a8=["enabled","placement","strategy","modifiers"];function l8(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}const c8={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},u8={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:i})=>()=>{const{reference:t,popper:e}=i.elements;if("removeAttribute"in t){const n=(t.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==e.id);n.length?t.setAttribute("aria-describedby",n.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:i})=>{var t;const{popper:e,reference:n}=i.elements,s=(t=e.getAttribute("role"))==null?void 0:t.toLowerCase();if(e.id&&s==="tooltip"&&"setAttribute"in n){const r=n.getAttribute("aria-describedby");if(r&&r.split(",").indexOf(e.id)!==-1)return;n.setAttribute("aria-describedby",r?`${r},${e.id}`:e.id)}}},d8=[];function jN(i,t,e={}){let{enabled:n=!0,placement:s="bottom",strategy:r="absolute",modifiers:o=d8}=e,c=l8(e,a8);const u=S.useRef(o),f=S.useRef(),p=S.useCallback(()=>{var T;(T=f.current)==null||T.update()},[]),g=S.useCallback(()=>{var T;(T=f.current)==null||T.forceUpdate()},[]),[v,_]=sD(S.useState({placement:s,update:p,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),E=S.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:T})=>{const R={},P={};Object.keys(T.elements).forEach(B=>{R[B]=T.styles[B],P[B]=T.attributes[B]}),_({state:T,styles:R,attributes:P,update:p,forceUpdate:g,placement:T.placement})}}),[p,g,_]),C=S.useMemo(()=>(Ah(u.current,o)||(u.current=o),u.current),[o]);return S.useEffect(()=>{!f.current||!n||f.current.setOptions({placement:s,strategy:r,modifiers:[...C,E,c8]})},[r,s,E,n,C]),S.useEffect(()=>{if(!(!n||i==null||t==null))return f.current=o8(i,t,Object.assign({},c,{placement:s,strategy:r,modifiers:[...C,u8,E]})),()=>{f.current!=null&&(f.current.destroy(),f.current=void 0,_(T=>Object.assign({},T,{attributes:{},styles:{popper:{}}})))}},[n,i,t]),v}function Kh(i,t){if(i.contains)return i.contains(t);if(i.compareDocumentPosition)return i===t||!!(i.compareDocumentPosition(t)&16)}var Ey,nC;function f8(){if(nC)return Ey;nC=1;var i=function(){};return Ey=i,Ey}var h8=f8();const m8=wl(h8),iC=()=>{};function p8(i){return i.button===0}function g8(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}const $g=i=>i&&("current"in i?i.current:i),sC={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function DN(i,t=iC,{disabled:e,clickTrigger:n="click"}={}){const s=S.useRef(!1),r=S.useRef(!1),o=S.useCallback(f=>{const p=$g(i);m8(!!p,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!p||g8(f)||!p8(f)||!!Kh(p,f.target)||r.current,r.current=!1},[i]),c=Ni(f=>{const p=$g(i);p&&Kh(p,f.target)?r.current=!0:r.current=!1}),u=Ni(f=>{s.current||t(f)});S.useEffect(()=>{var f,p;if(e||i==null)return;const g=Ad($g(i)),v=g.defaultView||window;let _=(f=v.event)!=null?f:(p=v.parent)==null?void 0:p.event,E=null;sC[n]&&(E=Jo(g,sC[n],c,!0));const C=Jo(g,n,o,!0),T=Jo(g,n,P=>{if(P===_){_=void 0;return}u(P)});let R=[];return"ontouchstart"in g.documentElement&&(R=[].slice.call(g.body.children).map(P=>Jo(P,"mousemove",iC))),()=>{E==null||E(),C(),T(),R.forEach(P=>P())}},[i,e,n,o,c,u])}function b8(i){const t={};return Array.isArray(i)?(i==null||i.forEach(e=>{t[e.name]=e}),t):i||t}function v8(i={}){return Array.isArray(i)?i:Object.keys(i).map(t=>(i[t].name=t,i[t]))}function MN({enabled:i,enableEvents:t,placement:e,flip:n,offset:s,fixed:r,containerPadding:o,arrowElement:c,popperConfig:u={}}){var f,p,g,v,_;const E=b8(u.modifiers);return Object.assign({},u,{placement:e,enabled:i,strategy:r?"fixed":u.strategy,modifiers:v8(Object.assign({},E,{eventListeners:{enabled:t,options:(f=E.eventListeners)==null?void 0:f.options},preventOverflow:Object.assign({},E.preventOverflow,{options:o?Object.assign({padding:o},(p=E.preventOverflow)==null?void 0:p.options):(g=E.preventOverflow)==null?void 0:g.options}),offset:{options:Object.assign({offset:s},(v=E.offset)==null?void 0:v.options)},arrow:Object.assign({},E.arrow,{enabled:!!c,options:Object.assign({},(_=E.arrow)==null?void 0:_.options,{element:c})}),flip:Object.assign({enabled:!!n},E.flip)}))})}const y8=["children","usePopper"];function w8(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}const x8=()=>{};function FN(i={}){const t=S.useContext(tb),[e,n]=Sw(),s=S.useRef(!1),{flip:r,offset:o,rootCloseEvent:c,fixed:u=!1,placement:f,popperConfig:p={},enableEventListeners:g=!0,usePopper:v=!!t}=i,_=(t==null?void 0:t.show)==null?!!i.show:t.show;_&&!s.current&&(s.current=!0);const E=M=>{t==null||t.toggle(!1,M)},{placement:C,setMenu:T,menuElement:R,toggleElement:P}=t||{},B=jN(P,R,MN({placement:f||C||"bottom-start",enabled:v,enableEvents:g??_,offset:o,flip:r,fixed:u,arrowElement:e,popperConfig:p})),V=Object.assign({ref:T||x8,"aria-labelledby":P==null?void 0:P.id},B.attributes.popper,{style:B.styles.popper}),I={show:_,placement:C,hasShown:s.current,toggle:t==null?void 0:t.toggle,popper:v?B:null,arrowProps:v?Object.assign({ref:n},B.attributes.arrow,{style:B.styles.arrow}):{}};return DN(R,E,{clickTrigger:c,disabled:!_}),[V,I]}function VN(i){let{children:t,usePopper:e=!0}=i,n=w8(i,y8);const[s,r]=FN(Object.assign({},n,{usePopper:e}));return m.jsx(m.Fragment,{children:t(s,r)})}VN.displayName="DropdownMenu";const zN={prefix:String(Math.round(Math.random()*1e10)),current:0},qN=it.createContext(zN),_8=it.createContext(!1);let ky=new WeakMap;function E8(i=!1){let t=S.useContext(qN),e=S.useRef(null);if(e.current===null&&!i){var n,s;let r=(s=it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(n=s.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(r){let o=ky.get(r);o==null?ky.set(r,{id:t.current,state:r.memoizedState}):r.memoizedState!==o.state&&(t.current=o.id,ky.delete(r))}e.current=++t.current}return e.current}function k8(i){let t=S.useContext(qN),e=E8(!!i),n=`react-aria${t.prefix}`;return i||`${n}-${e}`}function C8(i){let t=it.useId(),[e]=S.useState(R8()),n=e?"react-aria":`react-aria${zN.prefix}`;return i||`${n}-${t}`}const S8=typeof it.useId=="function"?C8:k8;function A8(){return!1}function T8(){return!0}function N8(i){return()=>{}}function R8(){return typeof it.useSyncExternalStore=="function"?it.useSyncExternalStore(N8,A8,T8):S.useContext(_8)}const HN=i=>{var t;return((t=i.getAttribute("role"))==null?void 0:t.toLowerCase())==="menu"},rC=()=>{};function UN(){const i=S8(),{show:t=!1,toggle:e=rC,setToggle:n,menuElement:s}=S.useContext(tb)||{},r=S.useCallback(c=>{e(!t,c)},[t,e]),o={id:i,ref:n||rC,onClick:r,"aria-expanded":!!t};return s&&HN(s)&&(o["aria-haspopup"]=!0),[o,{show:t,toggle:e}]}function WN({children:i}){const[t,e]=UN();return m.jsx(m.Fragment,{children:i(t,e)})}WN.displayName="DropdownToggle";const cd=S.createContext(null),Qh=(i,t=null)=>i!=null?String(i):t||null,ib=S.createContext(null);ib.displayName="NavContext";const O8="data-rr-ui-",I8="rrUi";function Od(i){return`${O8}${i}`}function P8(i){return`${I8}${i}`}const B8=["eventKey","disabled","onClick","active","as"];function L8(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}function GN({key:i,href:t,active:e,disabled:n,onClick:s}){const r=S.useContext(cd),o=S.useContext(ib),{activeKey:c}=o||{},u=Qh(i,t),f=e==null&&i!=null?Qh(c)===u:e;return[{onClick:Ni(g=>{n||(s==null||s(g),r&&!g.isPropagationStopped()&&r(u,g))}),"aria-disabled":n||void 0,"aria-selected":f,[Od("dropdown-item")]:""},{isActive:f}]}const KN=S.forwardRef((i,t)=>{let{eventKey:e,disabled:n,onClick:s,active:r,as:o=Q1}=i,c=L8(i,B8);const[u]=GN({key:e,href:c.href,disabled:n,onClick:s,active:r});return m.jsx(o,Object.assign({},c,{ref:t},u))});KN.displayName="DropdownItem";const QN=S.createContext(Nd?window:void 0);QN.Provider;function sb(){return S.useContext(QN)}function oC(){const i=SN(),t=S.useRef(null),e=S.useCallback(n=>{t.current=n,i()},[i]);return[t,e]}function Am({defaultShow:i,show:t,onSelect:e,onToggle:n,itemSelector:s=`* [${Od("dropdown-item")}]`,focusFirstItemOnShow:r,placement:o="bottom-start",children:c}){const u=sb(),[f,p]=iD(t,i,n),[g,v]=oC(),_=g.current,[E,C]=oC(),T=E.current,R=vN(f),P=S.useRef(null),B=S.useRef(!1),V=S.useContext(cd),I=S.useCallback((J,be,_e=be==null?void 0:be.type)=>{p(J,{originalEvent:be,source:_e})},[p]),M=Ni((J,be)=>{e==null||e(J,be),I(!1,be,"select"),be.isPropagationStopped()||V==null||V(J,be)}),D=S.useMemo(()=>({toggle:I,placement:o,show:f,menuElement:_,toggleElement:T,setMenu:v,setToggle:C}),[I,o,f,_,T,v,C]);_&&R&&!f&&(B.current=_.contains(_.ownerDocument.activeElement));const F=Ni(()=>{T&&T.focus&&T.focus()}),H=Ni(()=>{const J=P.current;let be=r;if(be==null&&(be=g.current&&HN(g.current)?"keyboard":!1),be===!1||be==="keyboard"&&!/^key.+$/.test(J))return;const _e=$o(g.current,s)[0];_e&&_e.focus&&_e.focus()});S.useEffect(()=>{f?H():B.current&&(B.current=!1,F())},[f,B,F,H]),S.useEffect(()=>{P.current=null});const $=(J,be)=>{if(!g.current)return null;const _e=$o(g.current,s);let re=_e.indexOf(J)+be;return re=Math.max(0,Math.min(re,_e.length)),_e[re]};return Vj(S.useCallback(()=>u.document,[u]),"keydown",J=>{var be,_e;const{key:re}=J,le=J.target,W=(be=g.current)==null?void 0:be.contains(le),ae=(_e=E.current)==null?void 0:_e.contains(le);if(/input|textarea/i.test(le.tagName)&&(re===" "||re!=="Escape"&&W||re==="Escape"&&le.type==="search")||!W&&!ae||re==="Tab"&&(!g.current||!f))return;P.current=J.type;const Se={originalEvent:J,source:J.type};switch(re){case"ArrowUp":{const Me=$(le,-1);Me&&Me.focus&&Me.focus(),J.preventDefault();return}case"ArrowDown":if(J.preventDefault(),!f)p(!0,Se);else{const Me=$(le,1);Me&&Me.focus&&Me.focus()}return;case"Tab":z1(le.ownerDocument,"keyup",Me=>{var O;(Me.key==="Tab"&&!Me.target||!((O=g.current)!=null&&O.contains(Me.target)))&&p(!1,Se)},{once:!0});break;case"Escape":re==="Escape"&&(J.preventDefault(),J.stopPropagation()),p(!1,Se);break}}),m.jsx(cd.Provider,{value:M,children:m.jsx(tb.Provider,{value:D,children:c})})}Am.displayName="Dropdown";Am.Menu=VN;Am.Toggle=WN;Am.Item=KN;const ix=S.createContext({});ix.displayName="DropdownContext";const YN=S.forwardRef(({className:i,bsPrefix:t,as:e="hr",role:n="separator",...s},r)=>(t=mt(t,"dropdown-divider"),m.jsx(e,{ref:r,className:st(i,t),role:n,...s})));YN.displayName="DropdownDivider";const $N=S.forwardRef(({className:i,bsPrefix:t,as:e="div",role:n="heading",...s},r)=>(t=mt(t,"dropdown-header"),m.jsx(e,{ref:r,className:st(i,t),role:n,...s})));$N.displayName="DropdownHeader";const XN=S.forwardRef(({bsPrefix:i,className:t,eventKey:e,disabled:n=!1,onClick:s,active:r,as:o=eb,...c},u)=>{const f=mt(i,"dropdown-item"),[p,g]=GN({key:e,href:c.href,disabled:n,onClick:s,active:r});return m.jsx(o,{...c,...p,ref:u,className:st(t,f,g.isActive&&"active",n&&"disabled")})});XN.displayName="DropdownItem";const ZN=S.forwardRef(({className:i,bsPrefix:t,as:e="span",...n},s)=>(t=mt(t,"dropdown-item-text"),m.jsx(e,{ref:s,className:st(i,t),...n})));ZN.displayName="DropdownItemText";const j8=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",D8=typeof document<"u",JN=D8||j8?S.useLayoutEffect:S.useEffect,sx=S.createContext(null);sx.displayName="InputGroupContext";const rx=S.createContext(null);rx.displayName="NavbarContext";function eR(i,t){return i}const Tu=We.oneOf(["start","end"]),M8=We.oneOfType([Tu,We.shape({sm:Tu}),We.shape({md:Tu}),We.shape({lg:Tu}),We.shape({xl:Tu}),We.shape({xxl:Tu}),We.object]);function tR(i,t,e){const n=e?"top-end":"top-start",s=e?"top-start":"top-end",r=e?"bottom-end":"bottom-start",o=e?"bottom-start":"bottom-end",c=e?"right-start":"left-start",u=e?"right-end":"left-end",f=e?"left-start":"right-start",p=e?"left-end":"right-end";let g=i?o:r;return t==="up"?g=i?s:n:t==="end"?g=i?p:f:t==="start"?g=i?u:c:t==="down-centered"?g="bottom":t==="up-centered"&&(g="top"),g}const ox=S.forwardRef(({bsPrefix:i,className:t,align:e,rootCloseEvent:n,flip:s=!0,show:r,renderOnMount:o,as:c="div",popperConfig:u,variant:f,...p},g)=>{let v=!1;const _=S.useContext(rx),E=mt(i,"dropdown-menu"),{align:C,drop:T,isRTL:R}=S.useContext(ix);e=e||C;const P=S.useContext(sx),B=[];if(e)if(typeof e=="object"){const J=Object.keys(e);if(J.length){const be=J[0],_e=e[be];v=_e==="start",B.push(`${E}-${be}-${_e}`)}}else e==="end"&&(v=!0);const V=tR(v,T,R),[I,{hasShown:M,popper:D,show:F,toggle:H}]=FN({flip:s,rootCloseEvent:n,show:r,usePopper:!_&&B.length===0,offset:[0,2],popperConfig:u,placement:V});if(I.ref=Rd(eR(g),I.ref),JN(()=>{F&&(D==null||D.update())},[F]),!M&&!o&&!P)return null;typeof c!="string"&&(I.show=F,I.close=()=>H==null?void 0:H(!1),I.align=e);let $=p.style;return D!=null&&D.placement&&($={...p.style,...I.style},p["x-placement"]=D.placement),m.jsx(c,{...p,...I,style:$,...(B.length||_)&&{"data-bs-popper":"static"},className:st(t,E,F&&"show",v&&`${E}-end`,f&&`${E}-${f}`,...B)})});ox.displayName="DropdownMenu";const ax=S.forwardRef(({bsPrefix:i,split:t,className:e,childBsPrefix:n,as:s=xN,...r},o)=>{const c=mt(i,"dropdown-toggle"),u=S.useContext(tb);n!==void 0&&(r.bsPrefix=n);const[f]=UN();return f.ref=Rd(f.ref,eR(o)),m.jsx(s,{className:st(e,c,t&&`${c}-split`,(u==null?void 0:u.show)&&"show"),...f,...r})});ax.displayName="DropdownToggle";const nR=S.forwardRef((i,t)=>{const{bsPrefix:e,drop:n="down",show:s,className:r,align:o="start",onSelect:c,onToggle:u,focusFirstItemOnShow:f,as:p="div",navbar:g,autoClose:v=!0,..._}=V1(i,{show:"onToggle"}),E=S.useContext(sx),C=mt(e,"dropdown"),T=Z0(),R=D=>v===!1?D==="click":v==="inside"?D!=="rootClose":v==="outside"?D!=="select":!0,P=Uh((D,F)=>{var H;!((H=F.originalEvent)==null||(H=H.target)==null)&&H.classList.contains("dropdown-toggle")&&F.source==="mousedown"||(F.originalEvent.currentTarget===document&&(F.source!=="keydown"||F.originalEvent.key==="Escape")&&(F.source="rootClose"),R(F.source)&&(u==null||u(D,F)))}),V=tR(o==="end",n,T),I=S.useMemo(()=>({align:o,drop:n,isRTL:T}),[o,n,T]),M={down:C,"down-centered":`${C}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return m.jsx(ix.Provider,{value:I,children:m.jsx(Am,{placement:V,show:s,onSelect:c,onToggle:P,focusFirstItemOnShow:f,itemSelector:`.${C}-item:not(.disabled):not(:disabled)`,children:E?_.children:m.jsx(p,{..._,ref:t,className:st(r,s&&"show",M[n])})})})});nR.displayName="Dropdown";const uo=Object.assign(nR,{Toggle:ax,Menu:ox,Item:XN,ItemText:ZN,Divider:YN,Header:$N}),F8={id:We.string,href:We.string,onClick:We.func,title:We.node.isRequired,disabled:We.bool,align:M8,menuRole:We.string,renderMenuOnMount:We.bool,rootCloseEvent:We.string,menuVariant:We.oneOf(["dark"]),flip:We.bool,bsPrefix:We.string,variant:We.string,size:We.string},lx=S.forwardRef(({title:i,children:t,bsPrefix:e,rootCloseEvent:n,variant:s,size:r,menuRole:o,renderMenuOnMount:c,disabled:u,href:f,id:p,menuVariant:g,flip:v,..._},E)=>m.jsxs(uo,{ref:E,..._,children:[m.jsx(ax,{id:p,href:f,size:r,variant:s,disabled:u,childBsPrefix:e,children:i}),m.jsx(ox,{role:o,renderOnMount:c,rootCloseEvent:n,variant:g,flip:v,children:t})]}));lx.displayName="DropdownButton";lx.propTypes=F8;const V8={type:We.string,tooltip:We.bool,as:We.elementType},rb=S.forwardRef(({as:i="div",className:t,type:e="valid",tooltip:n=!1,...s},r)=>m.jsx(i,{...s,ref:r,className:st(t,`${e}-${n?"tooltip":"feedback"}`)}));rb.displayName="Feedback";rb.propTypes=V8;const aa=S.createContext({}),cx=S.forwardRef(({id:i,bsPrefix:t,className:e,type:n="checkbox",isValid:s=!1,isInvalid:r=!1,as:o="input",...c},u)=>{const{controlId:f}=S.useContext(aa);return t=mt(t,"form-check-input"),m.jsx(o,{...c,ref:u,type:n,id:i||f,className:st(e,t,s&&"is-valid",r&&"is-invalid")})});cx.displayName="FormCheckInput";const m0=S.forwardRef(({bsPrefix:i,className:t,htmlFor:e,...n},s)=>{const{controlId:r}=S.useContext(aa);return i=mt(i,"form-check-label"),m.jsx("label",{...n,ref:s,htmlFor:e||r,className:st(t,i)})});m0.displayName="FormCheckLabel";const iR=S.forwardRef(({id:i,bsPrefix:t,bsSwitchPrefix:e,inline:n=!1,reverse:s=!1,disabled:r=!1,isValid:o=!1,isInvalid:c=!1,feedbackTooltip:u=!1,feedback:f,feedbackType:p,className:g,style:v,title:_="",type:E="checkbox",label:C,children:T,as:R="input",...P},B)=>{t=mt(t,"form-check"),e=mt(e,"form-switch");const{controlId:V}=S.useContext(aa),I=S.useMemo(()=>({controlId:i||V}),[V,i]),M=!T&&C!=null&&C!==!1||eD(T,m0),D=m.jsx(cx,{...P,type:E==="switch"?"checkbox":E,ref:B,isValid:o,isInvalid:c,disabled:r,as:R});return m.jsx(aa.Provider,{value:I,children:m.jsx("div",{style:v,className:st(g,M&&t,n&&`${t}-inline`,s&&`${t}-reverse`,E==="switch"&&e),children:T||m.jsxs(m.Fragment,{children:[D,M&&m.jsx(m0,{title:_,children:C}),f&&m.jsx(rb,{type:p,tooltip:u,children:f})]})})})});iR.displayName="FormCheck";const p0=Object.assign(iR,{Input:cx,Label:m0}),sR=S.forwardRef(({bsPrefix:i,type:t,size:e,htmlSize:n,id:s,className:r,isValid:o=!1,isInvalid:c=!1,plaintext:u,readOnly:f,as:p="input",...g},v)=>{const{controlId:_}=S.useContext(aa);return i=mt(i,"form-control"),m.jsx(p,{...g,type:t,size:n,ref:v,readOnly:f,id:s||_,className:st(r,u?`${i}-plaintext`:i,e&&`${i}-${e}`,t==="color"&&`${i}-color`,o&&"is-valid",c&&"is-invalid")})});sR.displayName="FormControl";const z8=Object.assign(sR,{Feedback:rb}),rR=S.forwardRef(({className:i,bsPrefix:t,as:e="div",...n},s)=>(t=mt(t,"form-floating"),m.jsx(e,{ref:s,className:st(i,t),...n})));rR.displayName="FormFloating";const ux=S.forwardRef(({controlId:i,as:t="div",...e},n)=>{const s=S.useMemo(()=>({controlId:i}),[i]);return m.jsx(aa.Provider,{value:s,children:m.jsx(t,{...e,ref:n})})});ux.displayName="FormGroup";const oR=S.forwardRef(({as:i="label",bsPrefix:t,column:e=!1,visuallyHidden:n=!1,className:s,htmlFor:r,...o},c)=>{const{controlId:u}=S.useContext(aa);t=mt(t,"form-label");let f="col-form-label";typeof e=="string"&&(f=`${f} ${f}-${e}`);const p=st(s,t,n&&"visually-hidden",e&&f);return r=r||u,e?m.jsx(CN,{ref:c,as:"label",className:p,htmlFor:r,...o}):m.jsx(i,{ref:c,className:p,htmlFor:r,...o})});oR.displayName="FormLabel";const aR=S.forwardRef(({bsPrefix:i,className:t,id:e,...n},s)=>{const{controlId:r}=S.useContext(aa);return i=mt(i,"form-range"),m.jsx("input",{...n,type:"range",ref:s,className:st(t,i),id:e||r})});aR.displayName="FormRange";const lR=S.forwardRef(({bsPrefix:i,size:t,htmlSize:e,className:n,isValid:s=!1,isInvalid:r=!1,id:o,...c},u)=>{const{controlId:f}=S.useContext(aa);return i=mt(i,"form-select"),m.jsx("select",{...c,size:e,ref:u,className:st(n,i,t&&`${i}-${t}`,s&&"is-valid",r&&"is-invalid"),id:o||f})});lR.displayName="FormSelect";const cR=S.forwardRef(({bsPrefix:i,className:t,as:e="small",muted:n,...s},r)=>(i=mt(i,"form-text"),m.jsx(e,{...s,ref:r,className:st(t,i,n&&"text-muted")})));cR.displayName="FormText";const uR=S.forwardRef((i,t)=>m.jsx(p0,{...i,ref:t,type:"switch"}));uR.displayName="Switch";const q8=Object.assign(uR,{Input:p0.Input,Label:p0.Label}),dR=S.forwardRef(({bsPrefix:i,className:t,children:e,controlId:n,label:s,...r},o)=>(i=mt(i,"form-floating"),m.jsxs(ux,{ref:o,className:st(t,i),controlId:n,...r,children:[e,m.jsx("label",{htmlFor:n,children:s})]})));dR.displayName="FloatingLabel";const H8={_ref:We.any,validated:We.bool,as:We.elementType},dx=S.forwardRef(({className:i,validated:t,as:e="form",...n},s)=>m.jsx(e,{...n,ref:s,className:st(i,t&&"was-validated")}));dx.displayName="Form";dx.propTypes=H8;const et=Object.assign(dx,{Group:ux,Control:z8,Floating:rR,Check:p0,Switch:q8,Label:oR,Text:cR,Range:aR,Select:lR,FloatingLabel:dR}),aC=i=>!i||typeof i=="function"?i:t=>{i.current=t};function U8(i,t){const e=aC(i),n=aC(t);return s=>{e&&e(s),n&&n(s)}}function Tm(i,t){return S.useMemo(()=>U8(i,t),[i,t])}const fR=S.createContext(null),W8=["as","active","eventKey"];function G8(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}function hR({key:i,onClick:t,active:e,id:n,role:s,disabled:r}){const o=S.useContext(cd),c=S.useContext(ib),u=S.useContext(fR);let f=e;const p={role:s};if(c){!s&&c.role==="tablist"&&(p.role="tab");const g=c.getControllerId(i??null),v=c.getControlledId(i??null);p[Od("event-key")]=i,p.id=g||n,f=e==null&&i!=null?c.activeKey===i:e,(f||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(p["aria-controls"]=v)}return p.role==="tab"&&(p["aria-selected"]=f,f||(p.tabIndex=-1),r&&(p.tabIndex=-1,p["aria-disabled"]=!0)),p.onClick=Ni(g=>{r||(t==null||t(g),i!=null&&o&&!g.isPropagationStopped()&&o(i,g))}),[p,{isActive:f}]}const mR=S.forwardRef((i,t)=>{let{as:e=Q1,active:n,eventKey:s}=i,r=G8(i,W8);const[o,c]=hR(Object.assign({key:Qh(s,r.href),active:n},r));return o[Od("active")]=c.isActive,m.jsx(e,Object.assign({},r,o,{ref:t}))});mR.displayName="NavItem";const K8=["as","onSelect","activeKey","role","onKeyDown"];function Q8(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}const lC=()=>{},cC=Od("event-key"),pR=S.forwardRef((i,t)=>{let{as:e="div",onSelect:n,activeKey:s,role:r,onKeyDown:o}=i,c=Q8(i,K8);const u=SN(),f=S.useRef(!1),p=S.useContext(cd),g=S.useContext(fR);let v,_;g&&(r=r||"tablist",s=g.activeKey,v=g.getControlledId,_=g.getControllerId);const E=S.useRef(null),C=B=>{const V=E.current;if(!V)return null;const I=$o(V,`[${cC}]:not([aria-disabled=true])`),M=V.querySelector("[aria-selected=true]");if(!M||M!==document.activeElement)return null;const D=I.indexOf(M);if(D===-1)return null;let F=D+B;return F>=I.length&&(F=0),F<0&&(F=I.length-1),I[F]},T=(B,V)=>{B!=null&&(n==null||n(B,V),p==null||p(B,V))},R=B=>{if(o==null||o(B),!g)return;let V;switch(B.key){case"ArrowLeft":case"ArrowUp":V=C(-1);break;case"ArrowRight":case"ArrowDown":V=C(1);break;default:return}V&&(B.preventDefault(),T(V.dataset[P8("EventKey")]||null,B),f.current=!0,u())};S.useEffect(()=>{if(E.current&&f.current){const B=E.current.querySelector(`[${cC}][aria-selected=true]`);B==null||B.focus()}f.current=!1});const P=Tm(t,E);return m.jsx(cd.Provider,{value:T,children:m.jsx(ib.Provider,{value:{role:r,activeKey:Qh(s),getControlledId:v||lC,getControllerId:_||lC},children:m.jsx(e,Object.assign({},c,{onKeyDown:R,ref:P,role:r}))})})});pR.displayName="Nav";const Y8=Object.assign(pR,{Item:mR});var xg;function uC(i){if((!xg&&xg!==0||i)&&Nd){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),xg=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return xg}function $8(){return S.useState(null)}function Cy(i){i===void 0&&(i=Ad());try{var t=i.activeElement;return!t||!t.nodeName?null:t}catch{return i.body}}function X8(i){const t=S.useRef(i);return t.current=i,t}function Z8(i){const t=X8(i);S.useEffect(()=>()=>t.current(),[])}function J8(i=document){const t=i.defaultView;return Math.abs(t.innerWidth-i.documentElement.clientWidth)}const dC=Od("modal-open");class fx{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:n=!1}={}){this.handleContainerOverflow=e,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return J8(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[n]:s.style[n]},t.scrollBarWidth&&(e[n]=`${parseInt(na(s,n)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(dC,""),na(s,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(dC),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Sy=(i,t)=>Nd?i==null?(t||Ad()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function Rw(i,t){const e=sb(),[n,s]=S.useState(()=>Sy(i,e==null?void 0:e.document));if(!n){const r=Sy(i);r&&s(r)}return S.useEffect(()=>{},[t,n]),S.useEffect(()=>{const r=Sy(i);r!==n&&s(r)},[i,n]),n}function eM({children:i,in:t,onExited:e,mountOnEnter:n,unmountOnExit:s}){const r=S.useRef(null),o=S.useRef(t),c=Ni(e);S.useEffect(()=>{t?o.current=!0:c(r.current)},[t,c]);const u=Tm(r,Td(i)),f=S.cloneElement(i,{ref:u});return t?f:s||!o.current&&n?null:f}const tM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function nM(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}function iM(i){let{onEnter:t,onEntering:e,onEntered:n,onExit:s,onExiting:r,onExited:o,addEndListener:c,children:u}=i,f=nM(i,tM);const p=S.useRef(null),g=Tm(p,Td(u)),v=V=>I=>{V&&p.current&&V(p.current,I)},_=S.useCallback(v(t),[t]),E=S.useCallback(v(e),[e]),C=S.useCallback(v(n),[n]),T=S.useCallback(v(s),[s]),R=S.useCallback(v(r),[r]),P=S.useCallback(v(o),[o]),B=S.useCallback(v(c),[c]);return Object.assign({},f,{nodeRef:p},t&&{onEnter:_},e&&{onEntering:E},n&&{onEntered:C},s&&{onExit:T},r&&{onExiting:R},o&&{onExited:P},c&&{addEndListener:B},{children:typeof u=="function"?(V,I)=>u(V,Object.assign({},I,{ref:g})):S.cloneElement(u,{ref:g})})}const sM=["component"];function rM(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}const oM=S.forwardRef((i,t)=>{let{component:e}=i,n=rM(i,sM);const s=iM(n);return m.jsx(e,Object.assign({ref:t},s))});function aM({in:i,onTransition:t}){const e=S.useRef(null),n=S.useRef(!0),s=Ni(t);return Uk(()=>{if(!e.current)return;let r=!1;return s({in:i,element:e.current,initial:n.current,isStale:()=>r}),()=>{r=!0}},[i,s]),Uk(()=>(n.current=!1,()=>{n.current=!0}),[]),e}function lM({children:i,in:t,onExited:e,onEntered:n,transition:s}){const[r,o]=S.useState(!t);t&&r&&o(!1);const c=aM({in:!!t,onTransition:f=>{const p=()=>{f.isStale()||(f.in?n==null||n(f.element,f.initial):(o(!0),e==null||e(f.element)))};Promise.resolve(s(f)).then(p,g=>{throw f.in||o(!0),g})}}),u=Tm(c,Td(i));return r&&!t?null:S.cloneElement(i,{ref:u})}function Ow(i,t,e){return i?m.jsx(oM,Object.assign({},e,{component:i})):t?m.jsx(lM,Object.assign({},e,{transition:t})):m.jsx(eM,Object.assign({},e))}const cM=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function uM(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}let Ay;function dM(i){return Ay||(Ay=new fx({ownerDocument:i==null?void 0:i.document})),Ay}function fM(i){const t=sb(),e=i||dM(t),n=S.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>e.add(n.current),remove:()=>e.remove(n.current),isTopModal:()=>e.isTopModal(n.current),setDialogRef:S.useCallback(s=>{n.current.dialog=s},[]),setBackdropRef:S.useCallback(s=>{n.current.backdrop=s},[])})}const gR=S.forwardRef((i,t)=>{let{show:e=!1,role:n="dialog",className:s,style:r,children:o,backdrop:c=!0,keyboard:u=!0,onBackdropClick:f,onEscapeKeyDown:p,transition:g,runTransition:v,backdropTransition:_,runBackdropTransition:E,autoFocus:C=!0,enforceFocus:T=!0,restoreFocus:R=!0,restoreFocusOptions:P,renderDialog:B,renderBackdrop:V=ye=>m.jsx("div",Object.assign({},ye)),manager:I,container:M,onShow:D,onHide:F=()=>{},onExit:H,onExited:$,onExiting:J,onEnter:be,onEntering:_e,onEntered:re}=i,le=uM(i,cM);const W=sb(),ae=Rw(M),fe=fM(I),Se=bN(),Me=vN(e),[O,Q]=S.useState(!e),ce=S.useRef(null);S.useImperativeHandle(t,()=>fe,[fe]),Nd&&!Me&&e&&(ce.current=Cy(W==null?void 0:W.document)),e&&O&&Q(!1);const ve=Ni(()=>{if(fe.add(),ln.current=Jo(document,"keydown",kt),Ee.current=Jo(document,"focus",()=>setTimeout(De),!0),D&&D(),C){var ye,Ie;const xe=Cy((ye=(Ie=fe.dialog)==null?void 0:Ie.ownerDocument)!=null?ye:W==null?void 0:W.document);fe.dialog&&xe&&!Kh(fe.dialog,xe)&&(ce.current=xe,fe.dialog.focus())}}),Ne=Ni(()=>{if(fe.remove(),ln.current==null||ln.current(),Ee.current==null||Ee.current(),R){var ye;(ye=ce.current)==null||ye.focus==null||ye.focus(P),ce.current=null}});S.useEffect(()=>{!e||!ae||ve()},[e,ae,ve]),S.useEffect(()=>{O&&Ne()},[O,Ne]),Z8(()=>{Ne()});const De=Ni(()=>{if(!T||!Se()||!fe.isTopModal())return;const ye=Cy(W==null?void 0:W.document);fe.dialog&&ye&&!Kh(fe.dialog,ye)&&fe.dialog.focus()}),Ue=Ni(ye=>{ye.target===ye.currentTarget&&(f==null||f(ye),c===!0&&F())}),kt=Ni(ye=>{u&&lN(ye)&&fe.isTopModal()&&(p==null||p(ye),ye.defaultPrevented||F())}),Ee=S.useRef(),ln=S.useRef(),Nn=(...ye)=>{Q(!0),$==null||$(...ye)};if(!ae)return null;const Rn=Object.assign({role:n,ref:fe.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},le,{style:r,className:s,tabIndex:-1});let li=B?B(Rn):m.jsx("div",Object.assign({},Rn,{children:S.cloneElement(o,{role:"document"})}));li=Ow(g,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:H,onExiting:J,onExited:Nn,onEnter:be,onEntering:_e,onEntered:re,children:li});let we=null;return c&&(we=V({ref:fe.setBackdropRef,onClick:Ue}),we=Ow(_,E,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:we})),m.jsx(m.Fragment,{children:pc.createPortal(m.jsxs(m.Fragment,{children:[we,li]}),ae)})});gR.displayName="Modal";const hM=Object.assign(gR,{Manager:fx});function Iw(i,t){return i.classList?!!t&&i.classList.contains(t):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")!==-1}function mM(i,t){i.classList?i.classList.add(t):Iw(i,t)||(typeof i.className=="string"?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}function fC(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function pM(i,t){i.classList?i.classList.remove(t):typeof i.className=="string"?i.className=fC(i.className,t):i.setAttribute("class",fC(i.className&&i.className.baseVal||"",t))}const Nu={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class gM extends fx{adjustAndStore(t,e,n){const s=e.style[t];e.dataset[t]=s,na(e,{[t]:`${parseFloat(na(e,t))+n}px`})}restore(t,e){const n=e.dataset[t];n!==void 0&&(delete e.dataset[t],na(e,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(mM(e,"modal-open"),!t.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";$o(e,Nu.FIXED_CONTENT).forEach(r=>this.adjustAndStore(n,r,t.scrollBarWidth)),$o(e,Nu.STICKY_CONTENT).forEach(r=>this.adjustAndStore(s,r,-t.scrollBarWidth)),$o(e,Nu.NAVBAR_TOGGLER).forEach(r=>this.adjustAndStore(s,r,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();pM(e,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";$o(e,Nu.FIXED_CONTENT).forEach(r=>this.restore(n,r)),$o(e,Nu.STICKY_CONTENT).forEach(r=>this.restore(s,r)),$o(e,Nu.NAVBAR_TOGGLER).forEach(r=>this.restore(s,r))}}let Ty;function bM(i){return Ty||(Ty=new gM(i)),Ty}const bR=S.forwardRef(({className:i,bsPrefix:t,as:e="div",...n},s)=>(t=mt(t,"modal-body"),m.jsx(e,{ref:s,className:st(i,t),...n})));bR.displayName="ModalBody";const vR=S.createContext({onHide(){}}),hx=S.forwardRef(({bsPrefix:i,className:t,contentClassName:e,centered:n,size:s,fullscreen:r,children:o,scrollable:c,...u},f)=>{i=mt(i,"modal");const p=`${i}-dialog`,g=typeof r=="string"?`${i}-fullscreen-${r}`:`${i}-fullscreen`;return m.jsx("div",{...u,ref:f,className:st(p,t,s&&`${i}-${s}`,n&&`${p}-centered`,c&&`${p}-scrollable`,r&&g),children:m.jsx("div",{className:st(`${i}-content`,e),children:o})})});hx.displayName="ModalDialog";const yR=S.forwardRef(({className:i,bsPrefix:t,as:e="div",...n},s)=>(t=mt(t,"modal-footer"),m.jsx(e,{ref:s,className:st(i,t),...n})));yR.displayName="ModalFooter";const wR=S.forwardRef(({closeLabel:i="Close",closeVariant:t,closeButton:e=!1,onHide:n,children:s,...r},o)=>{const c=S.useContext(vR),u=Uh(()=>{c==null||c.onHide(),n==null||n()});return m.jsxs("div",{ref:o,...r,children:[s,e&&m.jsx(Y1,{"aria-label":i,variant:t,onClick:u})]})});wR.displayName="AbstractModalHeader";const xR=S.forwardRef(({bsPrefix:i,className:t,closeLabel:e="Close",closeButton:n=!1,...s},r)=>(i=mt(i,"modal-header"),m.jsx(wR,{ref:r,...s,className:st(t,i),closeLabel:e,closeButton:n})));xR.displayName="ModalHeader";const vM=Mj("h4"),_R=S.forwardRef(({className:i,bsPrefix:t,as:e=vM,...n},s)=>(t=mt(t,"modal-title"),m.jsx(e,{ref:s,className:st(i,t),...n})));_R.displayName="ModalTitle";function yM(i){return m.jsx(sd,{...i,timeout:null})}function wM(i){return m.jsx(sd,{...i,timeout:null})}const ER=S.forwardRef(({bsPrefix:i,className:t,style:e,dialogClassName:n,contentClassName:s,children:r,dialogAs:o=hx,"data-bs-theme":c,"aria-labelledby":u,"aria-describedby":f,"aria-label":p,show:g=!1,animation:v=!0,backdrop:_=!0,keyboard:E=!0,onEscapeKeyDown:C,onShow:T,onHide:R,container:P,autoFocus:B=!0,enforceFocus:V=!0,restoreFocus:I=!0,restoreFocusOptions:M,onEntered:D,onExit:F,onExiting:H,onEnter:$,onEntering:J,onExited:be,backdropClassName:_e,manager:re,...le},W)=>{const[ae,fe]=S.useState({}),[Se,Me]=S.useState(!1),O=S.useRef(!1),Q=S.useRef(!1),ce=S.useRef(null),[ve,Ne]=$8(),De=Rd(W,Ne),Ue=Uh(R),kt=Z0();i=mt(i,"modal");const Ee=S.useMemo(()=>({onHide:Ue}),[Ue]);function ln(){return re||bM({isRTL:kt})}function Nn(Ae){if(!Nd)return;const xt=ln().getScrollbarWidth()>0,cn=Ae.scrollHeight>Ad(Ae).documentElement.clientHeight;fe({paddingRight:xt&&!cn?uC():void 0,paddingLeft:!xt&&cn?uC():void 0})}const Rn=Uh(()=>{ve&&Nn(ve.dialog)});EN(()=>{Cw(window,"resize",Rn),ce.current==null||ce.current()});const li=()=>{O.current=!0},we=Ae=>{O.current&&ve&&Ae.target===ve.dialog&&(Q.current=!0),O.current=!1},ye=()=>{Me(!0),ce.current=cN(ve.dialog,()=>{Me(!1)})},Ie=Ae=>{Ae.target===Ae.currentTarget&&ye()},xe=Ae=>{if(_==="static"){Ie(Ae);return}if(Q.current||Ae.target!==Ae.currentTarget){Q.current=!1;return}R==null||R()},qe=Ae=>{E?C==null||C(Ae):(Ae.preventDefault(),_==="static"&&ye())},$e=(Ae,xt)=>{Ae&&Nn(Ae),$==null||$(Ae,xt)},ot=Ae=>{ce.current==null||ce.current(),F==null||F(Ae)},Ct=(Ae,xt)=>{J==null||J(Ae,xt),z1(window,"resize",Rn)},Kt=Ae=>{Ae&&(Ae.style.display=""),be==null||be(Ae),Cw(window,"resize",Rn)},Xt=S.useCallback(Ae=>m.jsx("div",{...Ae,className:st(`${i}-backdrop`,_e,!v&&"show")}),[v,_e,i]),pe={...e,...ae};pe.display="block";const Re=Ae=>m.jsx("div",{role:"dialog",...Ae,style:pe,className:st(t,i,Se&&`${i}-static`,!v&&"show"),onClick:_?xe:void 0,onMouseUp:we,"data-bs-theme":c,"aria-label":p,"aria-labelledby":u,"aria-describedby":f,children:m.jsx(o,{...le,onMouseDown:li,className:n,contentClassName:s,children:r})});return m.jsx(vR.Provider,{value:Ee,children:m.jsx(hM,{show:g,ref:De,backdrop:_,container:P,keyboard:!0,autoFocus:B,enforceFocus:V,restoreFocus:I,restoreFocusOptions:M,onEscapeKeyDown:qe,onShow:T,onHide:R,onEnter:$e,onEntering:Ct,onEntered:D,onExit:ot,onExiting:H,onExited:Kt,manager:ln(),transition:v?yM:void 0,backdropTransition:v?wM:void 0,renderBackdrop:Xt,renderDialog:Re})})});ER.displayName="Modal";const He=Object.assign(ER,{Body:bR,Header:xR,Title:_R,Footer:yR,Dialog:hx,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),kR=S.forwardRef(({className:i,bsPrefix:t,as:e="div",...n},s)=>(t=mt(t,"nav-item"),m.jsx(e,{ref:s,className:st(i,t),...n})));kR.displayName="NavItem";const CR=S.forwardRef(({bsPrefix:i,className:t,as:e=eb,active:n,eventKey:s,disabled:r=!1,...o},c)=>{i=mt(i,"nav-link");const[u,f]=hR({key:Qh(s,o.href),active:n,disabled:r,...o});return m.jsx(e,{...o,...u,ref:c,disabled:r,className:st(t,i,r&&"disabled",f.isActive&&"active")})});CR.displayName="NavLink";const SR=S.forwardRef((i,t)=>{const{as:e="div",bsPrefix:n,variant:s,fill:r=!1,justify:o=!1,navbar:c,navbarScroll:u,className:f,activeKey:p,...g}=V1(i,{activeKey:"onSelect"}),v=mt(n,"nav");let _,E,C=!1;const T=S.useContext(rx),R=S.useContext(_N);return T?(_=T.bsPrefix,C=c??!0):R&&({cardHeaderBsPrefix:E}=R),m.jsx(Y8,{as:e,ref:t,activeKey:p,className:st(f,{[v]:!C,[`${_}-nav`]:C,[`${_}-nav-scroll`]:C&&u,[`${E}-${s}`]:!!E,[`${v}-${s}`]:!!s,[`${v}-fill`]:r,[`${v}-justified`]:o}),...g})});SR.displayName="Nav";const Ds=Object.assign(SR,{Item:kR,Link:CR}),xM=()=>{};function _M(i,t,{disabled:e,clickTrigger:n}={}){const s=t||xM;DN(i,s,{disabled:e,clickTrigger:n});const r=Ni(o=>{lN(o)&&s(o)});S.useEffect(()=>{if(e||i==null)return;const o=Ad($g(i));let c=(o.defaultView||window).event;const u=Jo(o,"keyup",f=>{if(f===c){c=void 0;return}r(f)});return()=>{u()}},[i,e,r])}const AR=S.forwardRef((i,t)=>{const{flip:e,offset:n,placement:s,containerPadding:r,popperConfig:o={},transition:c,runTransition:u}=i,[f,p]=Sw(),[g,v]=Sw(),_=Tm(p,t),E=Rw(i.container),C=Rw(i.target),[T,R]=S.useState(!i.show),P=jN(C,f,MN({placement:s,enableEvents:!!i.show,containerPadding:r||5,flip:e,offset:n,arrowElement:g,popperConfig:o}));i.show&&T&&R(!1);const B=(...J)=>{R(!0),i.onExited&&i.onExited(...J)},V=i.show||!T;if(_M(f,i.onHide,{disabled:!i.rootClose||i.rootCloseDisabled,clickTrigger:i.rootCloseEvent}),!V)return null;const{onExit:I,onExiting:M,onEnter:D,onEntering:F,onEntered:H}=i;let $=i.children(Object.assign({},P.attributes.popper,{style:P.styles.popper,ref:_}),{popper:P,placement:s,show:!!i.show,arrowProps:Object.assign({},P.attributes.arrow,{style:P.styles.arrow,ref:v})});return $=Ow(c,u,{in:!!i.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:$,onExit:I,onExiting:M,onExited:B,onEnter:D,onEntering:F,onEntered:H}),E?pc.createPortal($,E):null});AR.displayName="Overlay";const TR=S.forwardRef(({className:i,bsPrefix:t,as:e="div",...n},s)=>(t=mt(t,"popover-header"),m.jsx(e,{ref:s,className:st(i,t),...n})));TR.displayName="PopoverHeader";const mx=S.forwardRef(({className:i,bsPrefix:t,as:e="div",...n},s)=>(t=mt(t,"popover-body"),m.jsx(e,{ref:s,className:st(i,t),...n})));mx.displayName="PopoverBody";function NR(i,t){let e=i;return i==="left"?e=t?"end":"start":i==="right"&&(e=t?"start":"end"),e}function RR(i="absolute"){return{position:i,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const OR=S.forwardRef(({bsPrefix:i,placement:t="right",className:e,style:n,children:s,body:r,arrowProps:o,hasDoneInitialMeasure:c,popper:u,show:f,...p},g)=>{const v=mt(i,"popover"),_=Z0(),[E]=(t==null?void 0:t.split("-"))||[],C=NR(E,_);let T=n;return f&&!c&&(T={...n,...RR(u==null?void 0:u.strategy)}),m.jsxs("div",{ref:g,role:"tooltip",style:T,"x-placement":E,className:st(e,v,E&&`bs-popover-${C}`),...p,children:[m.jsx("div",{className:"popover-arrow",...o}),r?m.jsx(mx,{children:s}):s]})});OR.displayName="Popover";const EM=Object.assign(OR,{Header:TR,Body:mx,POPPER_OFFSET:[0,8]}),IR=S.forwardRef(({bsPrefix:i,placement:t="right",className:e,style:n,children:s,arrowProps:r,hasDoneInitialMeasure:o,popper:c,show:u,...f},p)=>{i=mt(i,"tooltip");const g=Z0(),[v]=(t==null?void 0:t.split("-"))||[],_=NR(v,g);let E=n;return u&&!o&&(E={...n,...RR(c==null?void 0:c.strategy)}),m.jsxs("div",{ref:p,style:E,role:"tooltip","x-placement":v,className:st(e,i,`bs-tooltip-${_}`),...f,children:[m.jsx("div",{className:"tooltip-arrow",...r}),m.jsx("div",{className:`${i}-inner`,children:s})]})});IR.displayName="Tooltip";const Tc=Object.assign(IR,{TOOLTIP_OFFSET:[0,6]});function kM(i){const t=S.useRef(null),e=mt(void 0,"popover"),n=mt(void 0,"tooltip"),s=S.useMemo(()=>({name:"offset",options:{offset:()=>{if(i)return i;if(t.current){if(Iw(t.current,e))return EM.POPPER_OFFSET;if(Iw(t.current,n))return Tc.TOOLTIP_OFFSET}return[0,0]}}}),[i,e,n]);return[t,[s]]}function CM(i,t){const{ref:e}=i,{ref:n}=t;i.ref=e.__wrapped||(e.__wrapped=s=>e(f0(s))),t.ref=n.__wrapped||(n.__wrapped=s=>n(f0(s)))}const PR=S.forwardRef(({children:i,transition:t=sd,popperConfig:e={},rootClose:n=!1,placement:s="top",show:r=!1,...o},c)=>{const u=S.useRef({}),[f,p]=S.useState(null),[g,v]=kM(o.offset),_=Rd(c,g),E=t===!0?sd:t||void 0,C=Uh(T=>{p(T),e==null||e.onFirstUpdate==null||e.onFirstUpdate(T)});return JN(()=>{f&&o.target&&(u.current.scheduleUpdate==null||u.current.scheduleUpdate())},[f,o.target]),S.useEffect(()=>{r||p(null)},[r]),m.jsx(AR,{...o,ref:_,popperConfig:{...e,modifiers:v.concat(e.modifiers||[]),onFirstUpdate:C},transition:E,rootClose:n,placement:s,show:r,children:(T,{arrowProps:R,popper:P,show:B})=>{var V;CM(T,R);const I=P==null?void 0:P.placement,M=Object.assign(u.current,{state:P==null?void 0:P.state,scheduleUpdate:P==null?void 0:P.update,placement:I,outOfBoundaries:(P==null||(V=P.state)==null||(V=V.modifiersData.hide)==null?void 0:V.isReferenceHidden)||!1,strategy:e.strategy}),D=!!f;return typeof i=="function"?i({...T,placement:I,show:B,...!t&&B&&{className:"show"},popper:M,arrowProps:R,hasDoneInitialMeasure:D}):S.cloneElement(i,{...T,placement:I,arrowProps:R,popper:M,hasDoneInitialMeasure:D,className:st(i.props.className,!t&&B&&"show"),style:{...i.props.style,...T.style}})}})});PR.displayName="Overlay";function SM(i){return i&&typeof i=="object"?i:{show:i,hide:i}}function hC(i,t,e){const[n]=t,s=n.currentTarget,r=n.relatedTarget||n.nativeEvent[e];(!r||r!==s)&&!Kh(s,r)&&i(...t)}We.oneOf(["click","hover","focus"]);const ud=({trigger:i=["hover","focus"],overlay:t,children:e,popperConfig:n={},show:s,defaultShow:r=!1,onToggle:o,delay:c,placement:u,flip:f=u&&u.indexOf("auto")!==-1,...p})=>{const g=S.useRef(null),v=Rd(g,Td(e)),_=Jj(),E=S.useRef(""),[C,T]=oN(s,r,o),R=SM(c),{onFocus:P,onBlur:B,onClick:V}=typeof e!="function"?S.Children.only(e).props:{},I=le=>{v(f0(le))},M=S.useCallback(()=>{if(_.clear(),E.current="show",!R.show){T(!0);return}_.set(()=>{E.current==="show"&&T(!0)},R.show)},[R.show,T,_]),D=S.useCallback(()=>{if(_.clear(),E.current="hide",!R.hide){T(!1);return}_.set(()=>{E.current==="hide"&&T(!1)},R.hide)},[R.hide,T,_]),F=S.useCallback((...le)=>{M(),P==null||P(...le)},[M,P]),H=S.useCallback((...le)=>{D(),B==null||B(...le)},[D,B]),$=S.useCallback((...le)=>{T(!C),V==null||V(...le)},[V,T,C]),J=S.useCallback((...le)=>{hC(M,le,"fromElement")},[M]),be=S.useCallback((...le)=>{hC(D,le,"toElement")},[D]),_e=i==null?[]:[].concat(i),re={ref:I};return _e.indexOf("click")!==-1&&(re.onClick=$),_e.indexOf("focus")!==-1&&(re.onFocus=F,re.onBlur=H),_e.indexOf("hover")!==-1&&(re.onMouseOver=J,re.onMouseOut=be),m.jsxs(m.Fragment,{children:[typeof e=="function"?e(re):S.cloneElement(e,re),m.jsx(PR,{...p,show:C,onHide:D,flip:f,placement:u,popperConfig:n,target:g.current,children:t})]})};function AM(){const{pathname:i}=ai();return S.useEffect(()=>{Nm()},[i]),null}function Nm(){const i=document.getElementById("Operations_WebApp_IntegrationBadges"),t=i.offsetLeft,e=i.offsetTop;window.scrollTo(t,e)}function ob({resourceId:i,roadmapId:t,badgeId:e}){const{getBadge:n}=qi(),{getResourceRoadmapBadge:s}=bn();let r=n({badgeId:e});i&&t&&(r=s({resourceId:i,roadmapId:t,badgeId:e}));const o={undefined:"","not-planned":"",planned:"grayscale","tasks-completed":"grayscale","verification-failed":"grayscale",verified:"",deprecated:"grayscale"};return m.jsx("div",{className:`w-100 background-image-center-no-repeat badge-icon-border ${o[r.status]}`,style:{backgroundImage:`url(${r.graphic})`},children:m.jsx("div",{className:`w-100 background-image-center-no-repeat badge-icon-small ${o[r.status]}`})})}function TM(i){return Number.isSafeInteger(i)&&i>=0}function NM(i){return i!=null&&typeof i!="function"&&TM(i.length)}function BR(i){return i}function Yh(i){return i==="__proto__"}function LR(i){switch(typeof i){case"number":case"symbol":return!1;case"string":return i.includes(".")||i.includes("[")||i.includes("]")}}function px(i){var t;return typeof i=="string"||typeof i=="symbol"?i:Object.is((t=i==null?void 0:i.valueOf)==null?void 0:t.call(i),-0)?"-0":String(i)}function gx(i){const t=[],e=i.length;if(e===0)return t;let n=0,s="",r="",o=!1;for(i.charCodeAt(0)===46&&(t.push(""),n++);n<e;){const c=i[n];r?c==="\\"&&n+1<e?(n++,s+=i[n]):c===r?r="":s+=c:o?c==='"'||c==="'"?r=c:c==="]"?(o=!1,t.push(s),s=""):s+=c:c==="["?(o=!0,s&&(t.push(s),s="")):c==="."?s&&(t.push(s),s=""):s+=c,n++}return s&&t.push(s),t}function pl(i,t,e){if(i==null)return e;switch(typeof t){case"string":{if(Yh(t))return e;const n=i[t];return n===void 0?LR(t)?pl(i,gx(t),e):e:n}case"number":case"symbol":{typeof t=="number"&&(t=px(t));const n=i[t];return n===void 0?e:n}default:{if(Array.isArray(t))return RM(i,t,e);if(Object.is(t==null?void 0:t.valueOf(),-0)?t="-0":t=String(t),Yh(t))return e;const n=i[t];return n===void 0?e:n}}}function RM(i,t,e){if(t.length===0)return e;let n=i;for(let s=0;s<t.length;s++){if(n==null||Yh(t[s]))return e;n=n[t[s]]}return n===void 0?e:n}function OM(i){return function(t){return pl(t,i)}}function cr(i){return i!==null&&(typeof i=="object"||typeof i=="function")}function Rm(i){return i==null||typeof i!="object"&&typeof i!="function"}function $h(i,t){return i===t||Number.isNaN(i)&&Number.isNaN(t)}function IM(i,t,e){return typeof e!="function"?bx(i,t):Pw(i,t,function n(s,r,o,c,u,f){const p=e(s,r,o,c,u,f);return p!==void 0?!!p:Pw(s,r,n,f)},new Map)}function Pw(i,t,e,n){if(t===i)return!0;switch(typeof t){case"object":return PM(i,t,e,n);case"function":return Object.keys(t).length>0?Pw(i,{...t},e,n):$h(i,t);default:return cr(i)?typeof t=="string"?t==="":!0:$h(i,t)}}function PM(i,t,e,n){if(t==null)return!0;if(Array.isArray(t))return jR(i,t,e,n);if(t instanceof Map)return BM(i,t,e,n);if(t instanceof Set)return LM(i,t,e,n);const s=Object.keys(t);if(i==null)return s.length===0;if(s.length===0)return!0;if(n&&n.has(t))return n.get(t)===i;n&&n.set(t,i);try{for(let r=0;r<s.length;r++){const o=s[r];if(!Rm(i)&&!(o in i)||t[o]===void 0&&i[o]!==void 0||t[o]===null&&i[o]!==null||!e(i[o],t[o],o,i,t,n))return!1}return!0}finally{n&&n.delete(t)}}function BM(i,t,e,n){if(t.size===0)return!0;if(!(i instanceof Map))return!1;for(const[s,r]of t.entries()){const o=i.get(s);if(e(o,r,s,i,t,n)===!1)return!1}return!0}function jR(i,t,e,n){if(t.length===0)return!0;if(!Array.isArray(i))return!1;const s=new Set;for(let r=0;r<t.length;r++){const o=t[r];let c=!1;for(let u=0;u<i.length;u++){if(s.has(u))continue;const f=i[u];let p=!1;if(e(f,o,r,i,t,n)&&(p=!0),p){s.add(u),c=!0;break}}if(!c)return!1}return!0}function LM(i,t,e,n){return t.size===0?!0:i instanceof Set?jR([...i],[...t],e,n):!1}function bx(i,t){return IM(i,t,()=>{})}function g0(i){return Object.getOwnPropertySymbols(i).filter(t=>Object.prototype.propertyIsEnumerable.call(i,t))}function dd(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(i)}const ab="[object RegExp]",fd="[object String]",Om="[object Number]",Im="[object Boolean]",hd="[object Arguments]",lb="[object Symbol]",cb="[object Date]",ub="[object Map]",db="[object Set]",vx="[object Array]",jM="[object Function]",fb="[object ArrayBuffer]",Rh="[object Object]",DM="[object Error]",hb="[object DataView]",yx="[object Uint8Array]",wx="[object Uint8ClampedArray]",xx="[object Uint16Array]",_x="[object Uint32Array]",MM="[object BigUint64Array]",Ex="[object Int8Array]",kx="[object Int16Array]",Cx="[object Int32Array]",FM="[object BigInt64Array]",Sx="[object Float32Array]",Ax="[object Float64Array]";function Tx(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function VM(i,t){return bc(i,void 0,i,new Map,t)}function bc(i,t,e,n=new Map,s=void 0){const r=s==null?void 0:s(i,t,e,n);if(r!=null)return r;if(Rm(i))return i;if(n.has(i))return n.get(i);if(Array.isArray(i)){const o=new Array(i.length);n.set(i,o);for(let c=0;c<i.length;c++)o[c]=bc(i[c],c,e,n,s);return Object.hasOwn(i,"index")&&(o.index=i.index),Object.hasOwn(i,"input")&&(o.input=i.input),o}if(i instanceof Date)return new Date(i.getTime());if(i instanceof RegExp){const o=new RegExp(i.source,i.flags);return o.lastIndex=i.lastIndex,o}if(i instanceof Map){const o=new Map;n.set(i,o);for(const[c,u]of i)o.set(c,bc(u,c,e,n,s));return o}if(i instanceof Set){const o=new Set;n.set(i,o);for(const c of i)o.add(bc(c,void 0,e,n,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(i))return i.subarray();if(Tx(i)){const o=new(Object.getPrototypeOf(i)).constructor(i.length);n.set(i,o);for(let c=0;c<i.length;c++)o[c]=bc(i[c],c,e,n,s);return o}if(i instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&i instanceof SharedArrayBuffer)return i.slice(0);if(i instanceof DataView){const o=new DataView(i.buffer.slice(0),i.byteOffset,i.byteLength);return n.set(i,o),uc(o,i,e,n,s),o}if(typeof File<"u"&&i instanceof File){const o=new File([i],i.name,{type:i.type});return n.set(i,o),uc(o,i,e,n,s),o}if(i instanceof Blob){const o=new Blob([i],{type:i.type});return n.set(i,o),uc(o,i,e,n,s),o}if(i instanceof Error){const o=new i.constructor;return n.set(i,o),o.message=i.message,o.name=i.name,o.stack=i.stack,o.cause=i.cause,uc(o,i,e,n,s),o}if(typeof i=="object"&&zM(i)){const o=Object.create(Object.getPrototypeOf(i));return n.set(i,o),uc(o,i,e,n,s),o}return i}function uc(i,t,e=i,n,s){const r=[...Object.keys(t),...g0(t)];for(let o=0;o<r.length;o++){const c=r[o],u=Object.getOwnPropertyDescriptor(i,c);(u==null||u.writable)&&(i[c]=bc(t[c],c,e,n,s))}}function zM(i){switch(dd(i)){case hd:case vx:case fb:case hb:case Im:case cb:case Sx:case Ax:case Ex:case kx:case Cx:case ub:case Om:case Rh:case ab:case db:case fd:case lb:case yx:case wx:case xx:case _x:return!0;default:return!1}}function qM(i){return bc(i,void 0,i,new Map,void 0)}function HM(i){return i=qM(i),t=>bx(t,i)}function mb(i,t){return VM(i,(e,n,s,r)=>{const o=t==null?void 0:t(e,n,s,r);if(o!=null)return o;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case Om:case fd:case Im:{const c=new i.constructor(i==null?void 0:i.valueOf());return uc(c,i),c}case hd:{const c={};return uc(c,i),c.length=i.length,c[Symbol.iterator]=i[Symbol.iterator],c}default:return}})}function ks(i){return mb(i)}const UM=/^(?:0|[1-9]\d*)$/;function DR(i,t=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<t;case"symbol":return!1;case"string":return UM.test(i)}}function Bw(i){return i!==null&&typeof i=="object"&&dd(i)==="[object Arguments]"}function WM(i,t){let e;if(Array.isArray(t)?e=t:typeof t=="string"&&LR(t)&&(i==null?void 0:i[t])==null?e=gx(t):e=[t],e.length===0)return!1;let n=i;for(let s=0;s<e.length;s++){const r=e[s];if((n==null||!Object.hasOwn(n,r))&&!((Array.isArray(n)||Bw(n))&&DR(r)&&r<n.length))return!1;n=n[r]}return!0}function GM(i,t){switch(typeof i){case"object":{Object.is(i==null?void 0:i.valueOf(),-0)&&(i="-0");break}case"number":{i=px(i);break}}return t=ks(t),function(e){const n=pl(e,i);return n===void 0?WM(e,i):t===void 0?n===void 0:bx(n,t)}}function KM(i){if(i==null)return BR;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?GM(i[0],i[1]):HM(i);case"string":case"symbol":case"number":return OM(i)}}function Lw(i){return typeof i=="object"&&i!==null}function MR(i){return typeof i=="symbol"||i instanceof Symbol}function QM(i){return MR(i)?NaN:Number(i)}function YM(i){return i?(i=QM(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}function $M(i){const t=YM(i),e=t%1;return e?t-e:t}function mC(i){return typeof i=="string"||i instanceof String}const XM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZM=/^\w*$/;function JM(i,t){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||MR(i)?!0:typeof i=="string"&&(ZM.test(i)||!XM.test(i))||t!=null&&Object.hasOwn(t,i)}function e7(i){return Array.isArray(i)}const t7=(i,t,e)=>{const n=i[t];(!(Object.hasOwn(i,t)&&$h(n,e))||e===void 0&&!(t in i))&&(i[t]=e)};function n7(i,t,e,n){if(i==null&&!cr(i))return i;const s=JM(t,i)?[t]:Array.isArray(t)?t:typeof t=="string"?gx(t):[t];let r=i;for(let o=0;o<s.length&&r!=null;o++){const c=px(s[o]);if(Yh(c))continue;let u;if(o===s.length-1)u=e(r[c]);else{const f=r[c],p=n==null?void 0:n(f,c,i);u=p!==void 0?p:cr(f)?f:DR(s[o+1])?[]:{}}t7(r,c,u),r=r[c]}return i}function FR(i,t,e){return n7(i,t,()=>e,()=>{})}function i7(i,t,{signal:e,edges:n}={}){let s,r=null;const o=n!=null&&n.includes("leading"),c=n==null||n.includes("trailing"),u=()=>{r!==null&&(i.apply(s,r),s=void 0,r=null)},f=()=>{c&&u(),_()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},t)},v=()=>{p!==null&&(clearTimeout(p),p=null)},_=()=>{v(),s=void 0,r=null},E=()=>{v(),u()},C=function(...T){if(e!=null&&e.aborted)return;s=this,r=T;const R=p==null;g(),o&&R&&u()};return C.schedule=g,C.cancel=_,C.flush=E,e==null||e.addEventListener("abort",_,{once:!0}),C}function Nc(i,t=0,e={}){typeof e!="object"&&(e={});const{leading:n=!1,trailing:s=!0,maxWait:r}=e,o=Array(2);n&&(o[0]="leading"),s&&(o[1]="trailing");let c,u=null;const f=i7(function(...v){c=i.apply(this,v),u=null},t,{edges:o}),p=function(...v){return r!=null&&(u===null&&(u=Date.now()),Date.now()-u>=r)?(c=i.apply(this,v),u=Date.now(),f.cancel(),f.schedule(),c):(f.apply(this,v),c)},g=()=>(f.flush(),c);return p.cancel=f.cancel,p.flush=g,p}function b0(i,t=0,e={}){typeof e!="object"&&(e={});const{leading:n=!0,trailing:s=!0}=e;return Nc(i,t,{leading:n,trailing:s,maxWait:t})}function VR(i){if(i==null)return"";if(typeof i=="string")return i;if(Array.isArray(i))return i.map(VR).join(",");const t=String(i);return t==="0"&&Object.is(Number(i),-0)?"-0":t}function pC(i){if(!i||typeof i!="object")return!1;const t=Object.getPrototypeOf(i);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(i)==="[object Object]":!1}function zR(i,t,e){return kh(i,t,void 0,void 0,void 0,void 0,e)}function kh(i,t,e,n,s,r,o){const c=o(i,t,e,n,s,r);if(c!==void 0)return c;if(typeof i==typeof t)switch(typeof i){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return i===t;case"number":return i===t||Object.is(i,t);case"function":return i===t;case"object":return Oh(i,t,r,o)}return Oh(i,t,r,o)}function Oh(i,t,e,n){if(Object.is(i,t))return!0;let s=dd(i),r=dd(t);if(s===hd&&(s=Rh),r===hd&&(r=Rh),s!==r)return!1;switch(s){case fd:return i.toString()===t.toString();case Om:{const u=i.valueOf(),f=t.valueOf();return $h(u,f)}case Im:case cb:case lb:return Object.is(i.valueOf(),t.valueOf());case ab:return i.source===t.source&&i.flags===t.flags;case jM:return i===t}e=e??new Map;const o=e.get(i),c=e.get(t);if(o!=null&&c!=null)return o===t;e.set(i,t),e.set(t,i);try{switch(s){case ub:{if(i.size!==t.size)return!1;for(const[u,f]of i.entries())if(!t.has(u)||!kh(f,t.get(u),u,i,t,e,n))return!1;return!0}case db:{if(i.size!==t.size)return!1;const u=Array.from(i.values()),f=Array.from(t.values());for(let p=0;p<u.length;p++){const g=u[p],v=f.findIndex(_=>kh(g,_,void 0,i,t,e,n));if(v===-1)return!1;f.splice(v,1)}return!0}case vx:case yx:case wx:case xx:case _x:case MM:case Ex:case kx:case Cx:case FM:case Sx:case Ax:{if(typeof Buffer<"u"&&Buffer.isBuffer(i)!==Buffer.isBuffer(t)||i.length!==t.length)return!1;for(let u=0;u<i.length;u++)if(!kh(i[u],t[u],u,i,t,e,n))return!1;return!0}case fb:return i.byteLength!==t.byteLength?!1:Oh(new Uint8Array(i),new Uint8Array(t),e,n);case hb:return i.byteLength!==t.byteLength||i.byteOffset!==t.byteOffset?!1:Oh(new Uint8Array(i),new Uint8Array(t),e,n);case DM:return i.name===t.name&&i.message===t.message;case Rh:{if(!(Oh(i.constructor,t.constructor,e,n)||pC(i)&&pC(t)))return!1;const f=[...Object.keys(i),...g0(i)],p=[...Object.keys(t),...g0(t)];if(f.length!==p.length)return!1;for(let g=0;g<f.length;g++){const v=f[g],_=i[v];if(!Object.hasOwn(t,v))return!1;const E=t[v];if(!kh(_,E,v,i,t,e,n))return!1}return!0}default:return!1}}finally{e.delete(i),e.delete(t)}}function qR(){}function gC(i,t){return zR(i,t,qR)}function s7(i){return typeof Buffer<"u"&&Buffer.isBuffer(i)}function r7(i){const t=i==null?void 0:i.constructor,e=typeof t=="function"?t.prototype:Object.prototype;return i===e}function Nx(i){return Tx(i)}function o7(i,t){if(i=$M(i),i<1||!Number.isSafeInteger(i))return[];const e=new Array(i);for(let n=0;n<i;n++)e[n]=typeof t=="function"?t(n):n;return e}function a7(i){if(i==null)return[];switch(typeof i){case"object":case"function":return NM(i)?c7(i):r7(i)?l7(i):v0(i);default:return v0(Object(i))}}function v0(i){const t=[];for(const e in i)t.push(e);return t}function l7(i){return v0(i).filter(e=>e!=="constructor")}function c7(i){const t=o7(i.length,n=>`${n}`),e=new Set(t);return s7(i)&&(e.add("offset"),e.add("parent")),Nx(i)&&(e.add("buffer"),e.add("byteLength"),e.add("byteOffset")),[...t,...v0(i).filter(n=>!e.has(n))]}function HR(i,...t){for(let e=0;e<t.length;e++)u7(i,t[e]);return i}function u7(i,t){const e=a7(t);for(let n=0;n<e.length;n++){const s=e[n];(!(s in i)||!$h(i[s],t[s]))&&(i[s]=t[s])}}function d7(i){if(Rm(i))return i;const t=dd(i);if(!f7(i))return{};if(e7(i)){const n=Array.from(i);return i.length>0&&typeof i[0]=="string"&&Object.hasOwn(i,"index")&&(n.index=i.index,n.input=i.input),n}if(Nx(i)){const n=i,s=n.constructor;return new s(n.buffer,n.byteOffset,n.length)}if(t===fb)return new ArrayBuffer(i.byteLength);if(t===hb){const n=i,s=n.buffer,r=n.byteOffset,o=n.byteLength,c=new ArrayBuffer(o),u=new Uint8Array(s,r,o);return new Uint8Array(c).set(u),new DataView(c)}if(t===Im||t===Om||t===fd){const n=i.constructor,s=new n(i.valueOf());return t===fd?m7(s,i):Ny(s,i),s}if(t===cb)return new Date(Number(i));if(t===ab){const n=i,s=new RegExp(n.source,n.flags);return s.lastIndex=n.lastIndex,s}if(t===lb)return Object(Symbol.prototype.valueOf.call(i));if(t===ub){const n=i,s=new Map;return n.forEach((r,o)=>{s.set(o,r)}),s}if(t===db){const n=i,s=new Set;return n.forEach(r=>{s.add(r)}),s}if(t===hd){const n=i,s={};return Ny(s,n),s.length=n.length,s[Symbol.iterator]=n[Symbol.iterator],s}const e={};return p7(e,i),Ny(e,i),h7(e,i),e}function f7(i){switch(dd(i)){case hd:case vx:case fb:case hb:case Im:case cb:case Sx:case Ax:case Ex:case kx:case Cx:case ub:case Om:case Rh:case ab:case db:case fd:case lb:case yx:case wx:case xx:case _x:return!0;default:return!1}}function Ny(i,t){for(const e in t)Object.hasOwn(t,e)&&(i[e]=t[e])}function h7(i,t){const e=Object.getOwnPropertySymbols(t);for(let n=0;n<e.length;n++){const s=e[n];Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}}function m7(i,t){const e=t.valueOf().length;for(const n in t)Object.hasOwn(t,n)&&(Number.isNaN(Number(n))||Number(n)>=e)&&(i[n]=t[n])}function p7(i,t){const e=Object.getPrototypeOf(t);e!==null&&typeof t.constructor=="function"&&Object.setPrototypeOf(i,e)}function Zo(i){var e;if(typeof i!="object"||i==null)return!1;if(Object.getPrototypeOf(i)===null)return!0;if(Object.prototype.toString.call(i)!=="[object Object]"){const n=i[Symbol.toStringTag];return n==null||!((e=Object.getOwnPropertyDescriptor(i,Symbol.toStringTag))!=null&&e.writable)?!1:i.toString()===`[object ${n}]`}let t=i;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(i)===t}function g7(i,t){const e={},n=Object.keys(i);for(let s=0;s<n.length;s++){const r=n[s],o=i[r];e[r]=t(o,r,i)}return e}function b7(i,t=BR){return i==null?{}:g7(i,KM(t))}function v7(i){if(Rm(i))return i;if(Array.isArray(i)||Tx(i)||i instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&i instanceof SharedArrayBuffer)return i.slice(0);const t=Object.getPrototypeOf(i),e=t.constructor;if(i instanceof Date||i instanceof Map||i instanceof Set)return new e(i);if(i instanceof RegExp){const n=new e(i);return n.lastIndex=i.lastIndex,n}if(i instanceof DataView)return new e(i.buffer.slice(0));if(i instanceof Error){const n=new e(i.message);return n.stack=i.stack,n.name=i.name,n.cause=i.cause,n}if(typeof File<"u"&&i instanceof File)return new e([i],i.name,{type:i.type,lastModified:i.lastModified});if(typeof i=="object"){const n=Object.create(t);return Object.assign(n,i)}return i}function y7(i,...t){const e=t.slice(0,-1),n=t[t.length-1];let s=i;for(let r=0;r<e.length;r++){const o=e[r];s=Xg(s,o,n,new Map)}return s}function Xg(i,t,e,n){if(Rm(i)&&(i=Object(i)),t==null||typeof t!="object")return i;if(n.has(t))return v7(n.get(t));if(n.set(t,i),Array.isArray(t)){t=t.slice();for(let r=0;r<t.length;r++)t[r]=t[r]??void 0}const s=[...Object.keys(t),...g0(t)];for(let r=0;r<s.length;r++){const o=s[r];if(Yh(o))continue;let c=t[o],u=i[o];if(Bw(c)&&(c={...c}),Bw(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=ks(c)),Array.isArray(c))if(typeof u=="object"&&u!=null){const p=[],g=Reflect.ownKeys(u);for(let v=0;v<g.length;v++){const _=g[v];p[_]=u[_]}u=p}else u=[];const f=e(u,c,o,i,t,n);f!=null?i[o]=f:Array.isArray(c)||Lw(u)&&Lw(c)?i[o]=Xg(u,c,e,n):u==null&&Zo(c)?i[o]=Xg({},c,e,n):u==null&&Nx(c)?i[o]=ks(c):(u===void 0||c!==void 0)&&(i[o]=c)}return i}function Rx(i,...t){return y7(i,...t,qR)}function y0(i){return typeof i=="function"}function gl(i){return Lw(i)&&i.nodeType===1&&!Zo(i)}function bC(i,t){if(!Number.isInteger(i)||i<0)throw new Error("n must be a non-negative integer.");let e=0;return(...n)=>{if(++e>=i)return t(...n)}}function jw(i,t,e){return typeof e!="function"&&(e=()=>{}),zR(i,t,(...n)=>{const s=e(...n);if(s!==void 0)return!!s;if(i instanceof Map&&t instanceof Map||i instanceof Set&&t instanceof Set)return jw(Array.from(i),Array.from(t),bC(2,e))})}function w7(i){return i.substring(0,1).toUpperCase()+i.substring(1)}function x7(i){return w7(VR(i))}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let Be;try{Be={window,document}}catch{/* istanbul ignore next -- @preserve */Be={window:{},document:{}}}function _7(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const nc=_7(),Ge={isMac:UR(nc),isWindows:E7(nc),isGecko:k7(nc),isSafari:C7(nc),isiOS:S7(nc),isAndroid:A7(nc),isBlink:T7(nc)};function UR(i){return i.indexOf("macintosh")>-1}function E7(i){return i.indexOf("windows")>-1}function k7(i){return!!i.match(/gecko\/\d+/)}function C7(i){return i.indexOf(" applewebkit/")>-1&&i.indexOf("chrome")===-1}function S7(i){return!!i.match(/iphone|ipad/i)||UR(i)&&navigator.maxTouchPoints>0}function A7(i){return i.indexOf("android")>-1}function T7(i){return i.indexOf("chrome/")>-1&&i.indexOf("edge/")<0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function WR(i,t,e,n){e=e||function(u,f){return u===f};const s=Array.isArray(i)?i:Array.prototype.slice.call(i),r=Array.isArray(t)?t:Array.prototype.slice.call(t),o=N7(s,r,e);return n?O7(o,r.length):R7(r,o)}function N7(i,t,e){const n=vC(i,t,e);if(n===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=yC(i,n),r=yC(t,n),o=vC(s,r,e),c=i.length-o,u=t.length-o;return{firstIndex:n,lastIndexOld:c,lastIndexNew:u}}function vC(i,t,e){for(let n=0;n<Math.max(i.length,t.length);n++)if(i[n]===void 0||t[n]===void 0||!e(i[n],t[n]))return n;return-1}function yC(i,t){return i.slice(t).reverse()}function R7(i,t){const e=[],{firstIndex:n,lastIndexOld:s,lastIndexNew:r}=t;return r-n>0&&e.push({index:n,type:"insert",values:i.slice(n,r)}),s-n>0&&e.push({index:n+(r-n),type:"delete",howMany:s-n}),e}function O7(i,t){const{firstIndex:e,lastIndexOld:n,lastIndexNew:s}=i;if(e===-1)return Array(t).fill("equal");let r=[];return e>0&&(r=r.concat(Array(e).fill("equal"))),s-e>0&&(r=r.concat(Array(s-e).fill("insert"))),n-e>0&&(r=r.concat(Array(n-e).fill("delete"))),s<t&&(r=r.concat(Array(t-s).fill("equal"))),r}function Xu(i,t,e){e=e||function(C,T){return C===T};const n=i.length,s=t.length;if(n>200||s>200||n+s>300)return Xu.fastDiff(i,t,e,!0);let r,o;if(s<n){const C=i;i=t,t=C,r="delete",o="insert"}else r="insert",o="delete";const c=i.length,u=t.length,f=u-c,p={},g={};function v(C){const T=(g[C-1]!==void 0?g[C-1]:-1)+1,R=g[C+1]!==void 0?g[C+1]:-1,P=T>R?-1:1;p[C+P]&&(p[C]=p[C+P].slice(0)),p[C]||(p[C]=[]),p[C].push(T>R?r:o);let B=Math.max(T,R),V=B-C;for(;V<c&&B<u&&e(i[V],t[B]);)V++,B++,p[C].push("equal");return B}let _=0,E;do{for(E=-_;E<f;E++)g[E]=v(E);for(E=f+_;E>f;E--)g[E]=v(E);g[f]=v(f),_++}while(g[f]!==u);return p[f].slice(1)}Xu.fastDiff=WR;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wC(){return function i(){i.called=!0}}class la{constructor(t,e){x(this,"source");x(this,"name");x(this,"path");x(this,"stop");x(this,"off");x(this,"return");this.source=t,this.name=e,this.path=[],this.stop=wC(),this.off=wC()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Fi=new Array(256).fill("").map((i,t)=>("0"+t.toString(16)).slice(-2));function Cs(){const[i,t,e,n]=crypto.getRandomValues(new Uint32Array(4));return"e"+Fi[i>>0&255]+Fi[i>>8&255]+Fi[i>>16&255]+Fi[i>>24&255]+Fi[t>>0&255]+Fi[t>>8&255]+Fi[t>>16&255]+Fi[t>>24&255]+Fi[e>>0&255]+Fi[e>>8&255]+Fi[e>>16&255]+Fi[e>>24&255]+Fi[n>>0&255]+Fi[n>>8&255]+Fi[n>>16&255]+Fi[n>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const dl={get(i="normal"){return typeof i!="number"?this[i]||this.normal:i},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function I7(i,t){const e=dl.get(t.priority);let n=0,s=i.length;for(;n<s;){const r=n+s>>1;dl.get(i[r].priority)<e?s=r:n=r+1}i.splice(n,0,t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const P7="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class q extends Error{constructor(e,n,s,r){super(L7(e,s,r));x(this,"context");x(this,"data");this.name="CKEditorError",this.context=n,this.data=s,r&&(this.stack=r.stack)}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,n){throw e.is&&e.is("CKEditorError")?e:new q("unexpected-error",n,void 0,e)}}function zn(i,t){console.warn(...KR(i,t))}function B7(i,t){console.error(...KR(i,t))}function GR(i){return`
Read more: ${P7}#error-${i}`}function L7(i,t,e){const n=new WeakSet,r=t?` ${JSON.stringify(t,(u,f)=>{if(typeof f=="object"&&f!==null){if(n.has(f))return`[object ${f.constructor.name}]`;n.add(f)}return f})}`:"",o=GR(i),c=e?`
Original error: ${e.name}: ${e.message}`:"";return i+r+o+c}function KR(i,t){const e=GR(i);return t?[i,t,e]:[i,e]}const j7="47.2.0",D7=new Date(2025,10,5);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new q("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=j7;const qu=Symbol("listeningTo"),Dw=Symbol("emitterId"),Wo=Symbol("delegations"),M7=an(Object);function an(i){if(!i)return M7;class t extends i{on(n,s,r){this.listenTo(this,n,s,r)}once(n,s,r){let o=!1;const c=(u,...f)=>{o||(o=!0,u.off(),s.call(this,u,...f))};this.listenTo(this,n,c,r)}off(n,s){this.stopListening(this,n,s)}listenTo(n,s,r,o={}){let c,u;this[qu]||(this[qu]={});const f=this[qu];Ry(n)||QR(n);const p=Ry(n);(c=f[p])||(c=f[p]={emitter:n,callbacks:{}}),(u=c.callbacks[s])||(u=c.callbacks[s]=[]),u.push(r),H7(this,n,s,r,o)}stopListening(n,s,r){const o=this[qu];let c=n&&Ry(n);const u=o&&c?o[c]:void 0,f=u&&s?u.callbacks[s]:void 0;if(!(!o||n&&!u||s&&!f))if(r)Oy(this,n,s,r),f.indexOf(r)!==-1&&(f.length===1?delete u.callbacks[s]:Oy(this,n,s,r));else if(f){for(;r=f.pop();)Oy(this,n,s,r);delete u.callbacks[s]}else if(u){for(s in u.callbacks)this.stopListening(n,s);delete o[c]}else{for(c in o)this.stopListening(o[c].emitter);delete this[qu]}}fire(n,...s){try{const r=n instanceof la?n:new la(this,n),o=r.name;let c=q7(this,o);if(r.path.push(this),c){c=c.slice();for(let f=0;f<c.length;f++){const p=c[f].callback;if(p.call(this,r,...s),r.off.called&&(delete r.off.called,this._removeEventListener(o,p)),r.stop.called)break}}const u=this[Wo];if(u){const f=u.get(o),p=u.get("*");f&&xC(f,r,s),p&&xC(p,r,s)}return r.return}catch(r){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(r,this)}}delegate(...n){return{to:(s,r)=>{this[Wo]||(this[Wo]=new Map),n.forEach(o=>{const c=this[Wo].get(o);c?c.set(s,r):this[Wo].set(o,new Map([[s,r]]))})}}}stopDelegating(n,s){if(this[Wo])if(!n)this[Wo].clear();else if(!s)this[Wo].delete(n);else{const r=this[Wo].get(n);r&&r.delete(s)}}_addEventListener(n,s,r){z7(this,n);const o=Mw(this,n),c=dl.get(r.priority),u={callback:s,priority:c};for(const f of o)I7(f,u)}_removeEventListener(n,s){const r=Mw(this,n);for(const o of r)for(let c=0;c<o.length;c++)o[c].callback==s&&(o.splice(c,1),c--)}}return t}function F7(i,t){const e=i[qu];return e&&e[t]?e[t].emitter:null}function QR(i,t){i[Dw]||(i[Dw]=t||Cs())}function Ry(i){return i[Dw]}function YR(i){return i._events||Object.defineProperty(i,"_events",{value:{}}),i._events}function V7(){return{callbacks:[],childEvents:[]}}function z7(i,t){const e=YR(i);if(e[t])return;let n=t,s=null;const r=[];for(;n!==""&&!e[n];)e[n]=V7(),r.push(e[n]),s&&e[n].childEvents.push(s),s=n,n=n.substr(0,n.lastIndexOf(":"));if(n!==""){for(const o of r)o.callbacks=e[n].callbacks.slice();e[n].childEvents.push(s)}}function Mw(i,t){const e=YR(i)[t];if(!e)return[];let n=[e.callbacks];for(let s=0;s<e.childEvents.length;s++){const r=Mw(i,e.childEvents[s]);n=n.concat(r)}return n}function q7(i,t){if(!i._events)return null;let e=t;do{const n=i._events[e];if(n&&n.callbacks&&n.callbacks.length)return n.callbacks;const s=e.lastIndexOf(":");e=s>-1?e.substring(0,s):""}while(e);return null}function xC(i,t,e){for(let[n,s]of i){s?typeof s=="function"&&(s=s(t.name)):s=t.name;const r=new la(t.source,s);r.path=[...t.path],n.fire(r,...e)}}function H7(i,t,e,n,s){t._addEventListener?t._addEventListener(e,n,s):i._addEventListener.call(t,e,n,s)}function Oy(i,t,e,n){t._removeEventListener?t._removeEventListener(e,n):i._removeEventListener.call(t,e,n)}const Ih=Symbol("observableProperties"),Xh=Symbol("boundObservables"),Ph=Symbol("boundProperties"),ic=Symbol("decoratedMethods"),_C=Symbol("decoratedOriginal"),U7=Fn(an());function Fn(i){var e,n,s,r,o;if(!i)return U7;class t extends(o=i,r=Ih,s=ic,n=Ph,e=Xh,o){constructor(){super(...arguments);x(this,r);x(this,s);x(this,n);x(this,e)}set(f,p){if(cr(f)){Object.keys(f).forEach(v=>{this.set(v,f[v])},this);return}Iy(this);const g=this[Ih];if(f in this&&!g.has(f))throw new q("observable-set-cannot-override",this);Object.defineProperty(this,f,{enumerable:!0,configurable:!0,get(){return g.get(f)},set(v){const _=g.get(f);let E=this.fire(`set:${f}`,f,v,_);E===void 0&&(E=v),(_!==E||!g.has(f))&&(g.set(f,E),this.fire(`change:${f}`,f,E,_))}}),this[f]=p}bind(...f){if(!f.length||!EC(f))throw new q("observable-bind-wrong-properties",this);if(new Set(f).size!==f.length)throw new q("observable-bind-duplicate-properties",this);Iy(this);const p=this[Ph];f.forEach(v=>{if(p.has(v))throw new q("observable-bind-rebind",this)});const g=new Map;return f.forEach(v=>{const _={property:v,to:[]};p.set(v,_),g.set(v,_)}),{to:W7,toMany:G7,_observable:this,_bindProperties:f,_to:[],_bindings:g}}unbind(...f){if(!this[Ih])return;const p=this[Ph],g=this[Xh];if(f.length){if(!EC(f))throw new q("observable-unbind-wrong-properties",this);f.forEach(v=>{const _=p.get(v);_&&(_.to.forEach(([E,C])=>{const T=g.get(E),R=T[C];R.delete(_),R.size||delete T[C],Object.keys(T).length||(g.delete(E),this.stopListening(E,"change"))}),p.delete(v))})}else g.forEach((v,_)=>{this.stopListening(_,"change")}),g.clear(),p.clear()}decorate(f){Iy(this);const p=this[f];if(!p)throw new q("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:f});this.on(f,(g,v)=>{g.return=p.apply(this,v)}),this[f]=function(...g){return this.fire(f,g)},this[f][_C]=p,this[ic]||(this[ic]=[]),this[ic].push(f)}stopListening(f,p,g){if(!f&&this[ic]){for(const v of this[ic])this[v]=this[v][_C];delete this[ic]}super.stopListening(f,p,g)}}return t}function Iy(i){i[Ih]||(Object.defineProperty(i,Ih,{value:new Map}),Object.defineProperty(i,Xh,{value:new Map}),Object.defineProperty(i,Ph,{value:new Map}))}function W7(...i){const t=Q7(...i),e=Array.from(this._bindings.keys()),n=e.length;if(!t.callback&&t.to.length>1)throw new q("observable-bind-to-no-callback",this);if(n>1&&t.callback)throw new q("observable-bind-to-extra-callback",this);t.to.forEach(s=>{if(s.properties.length&&s.properties.length!==n)throw new q("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(e[0]).callback=t.callback),X7(this._observable,this._to),$7(this),this._bindProperties.forEach(s=>{$R(this._observable,s)})}function G7(i,t,e){if(this._bindings.size>1)throw new q("observable-bind-to-many-not-one-binding",this);this.to(...K7(i,t),e)}function K7(i,t){const e=i.map(n=>[n,t]);return Array.prototype.concat.apply([],e)}function EC(i){return i.every(t=>typeof t=="string")}function Q7(...i){if(!i.length)throw new q("observable-bind-to-parse-error",null);const t={to:[]};let e;return typeof i[i.length-1]=="function"&&(t.callback=i.pop()),i.forEach(n=>{if(typeof n=="string")e.properties.push(n);else if(typeof n=="object")e={observable:n,properties:[]},t.to.push(e);else throw new q("observable-bind-to-parse-error",null)}),t}function Y7(i,t,e,n){const s=i[Xh],r=s.get(e),o=r||{};o[n]||(o[n]=new Set),o[n].add(t),r||s.set(e,o)}function $7(i){let t;i._bindings.forEach((e,n)=>{i._to.forEach(s=>{t=s.properties[e.callback?0:i._bindProperties.indexOf(n)],e.to.push([s.observable,t]),Y7(i._observable,e,s.observable,t)})})}function $R(i,t){const n=i[Ph].get(t);let s;n.callback?s=n.callback.apply(i,n.to.map(r=>r[0][r[1]])):(s=n.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(i,t)?i[t]=s:i.set(t,s)}function X7(i,t){t.forEach(e=>{const n=i[Xh];let s;n.get(e.observable)||i.listenTo(e.observable,"change",(r,o)=>{s=n.get(e.observable)[o],s&&s.forEach(c=>{$R(i,c.property)})})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Z7{constructor(){x(this,"_replacedElements");this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Fw(i){let t=0;for(const e of i)t++;return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ti(i,t){const e=Math.min(i.length,t.length);for(let n=0;n<e;n++)if(i[n]!=t[n])return n;return i.length==t.length?"same":i.length<t.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Fs(i){return!!(i&&i[Symbol.iterator])}function Rr(i,t,e={},n=[]){const s=e&&e.xmlns,r=s?i.createElementNS(s,t):i.createElement(t);for(const o in e)r.setAttribute(o,e[o]);(mC(n)||!Fs(n))&&(n=[n]);for(let o of n)mC(o)&&(o=i.createTextNode(o)),r.appendChild(o);return r}class XR{constructor(t,e){x(this,"_config");this._config=Object.create(null),e&&this.define(kC(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,s=!1){if(Zo(e)){this._setObjectToTarget(t,e,s);return}const r=e.split(".");e=r.pop();for(const o of r)Zo(t[o])||(t[o]=Object.create(null)),t=t[o];if(Zo(n)){Zo(t[e])||(t[e]=Object.create(null)),t=t[e],this._setObjectToTarget(t,n,s);return}s&&typeof t[e]<"u"||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const s of n){if(!Zo(t[s])){t=null;break}t=t[s]}return t?kC(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(s=>{this._setToTarget(t,s,e[s],n)})}}function kC(i){return mb(i,J7)}function J7(i){return gl(i)||typeof i=="function"?i:void 0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function bl(i){if(i){if(i.defaultView)return i instanceof i.defaultView.Document;if(i.ownerDocument&&i.ownerDocument.defaultView)return i instanceof i.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function w0(i){const t=Object.prototype.toString.apply(i);return t=="[object Window]"||t=="[object global]"}const e9=zr(an());function zr(i){if(!i)return e9;class t extends i{listenTo(n,s,r,o={}){if(bl(n)||w0(n)||n instanceof Be.window.EventTarget){const c={capture:!!o.useCapture,passive:!!o.usePassive},u=this._getProxyEmitter(n,c)||new t9(n,c);this.listenTo(u,s,r,o)}else super.listenTo(n,s,r,o)}stopListening(n,s,r){if(bl(n)||w0(n)||n instanceof Be.window.EventTarget){const o=this._getAllProxyEmitters(n);for(const c of o)this.stopListening(c,s,r)}else super.stopListening(n,s,r)}_getProxyEmitter(n,s){return F7(this,ZR(n,s))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(n,s)).filter(s=>!!s)}}return t}class t9 extends an(){constructor(e,n){super();x(this,"_domNode");x(this,"_options");x(this,"_domListeners");QR(this,ZR(e,n)),this._domNode=e,this._options=n}attach(e){if(this._domListeners&&this._domListeners[e])return;const n=this._createDomListener(e);this._domNode.addEventListener(e,n,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=n}detach(e){let n;this._domListeners[e]&&(!(n=this._events[e])||!n.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,n,s){this.attach(e),an().prototype._addEventListener.call(this,e,n,s)}_removeEventListener(e,n){an().prototype._removeEventListener.call(this,e,n),this.detach(e)}_createDomListener(e){const n=s=>{this.fire(e,s)};return n.removeListener=()=>{this._domNode.removeEventListener(e,n,this._options),delete this._domListeners[e]},n}}function n9(i){return i["data-ck-expando"]||(i["data-ck-expando"]=Cs())}function ZR(i,t){let e=n9(i);for(const n of Object.keys(t).sort())t[n]&&(e+="-"+n);return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function i9(i){const t=[];let e=i;for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function s9(i){return i instanceof HTMLTextAreaElement?i.value:i.innerHTML}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function JR(i){const t=i.ownerDocument.defaultView.getComputedStyle(i);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function eO(i){if(!i.target)return null;const t=i.target.ownerDocument,e=i.clientX,n=i.clientY;let s=null;return t.caretRangeFromPoint&&t.caretRangeFromPoint(e,n)?s=t.caretRangeFromPoint(e,n):i.rangeParent&&(s=t.createRange(),s.setStart(i.rangeParent,i.rangeOffset),s.collapse(!0)),s}function tO(i){return!i||!i.parentNode||i.offsetParent===Be.document.body?null:i.offsetParent}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Sn(i){return Object.prototype.toString.call(i)=="[object Text]"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function pb(i){return Object.prototype.toString.apply(i)=="[object Range]"}const nO=["top","right","bottom","left","width","height"];class wt{constructor(t){x(this,"top");x(this,"right");x(this,"bottom");x(this,"left");x(this,"width");x(this,"height");x(this,"_source");const e=pb(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Vw(t)||e)if(e){const n=wt.getDomRangeRects(t);_g(this,wt.getBoundingRect(n))}else _g(this,t.getBoundingClientRect());else if(w0(t)){const{innerWidth:n,innerHeight:s}=t;_g(this,{top:0,right:n,bottom:s,left:0,width:n,height:s})}else _g(this,t)}clone(){return new wt(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0)return null;{const n=new wt(e);return n._source=this._source,n}}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(CC(t))return e;let n=t,s=t.parentNode||t.commonAncestorContainer,r;for(;s&&!CC(s);){const o=r9(s)==="visible";n instanceof HTMLElement&&SC(n)==="absolute"&&(r=n);const c=SC(s);if(o||r&&(c==="relative"&&o||c!=="relative")){n=s,s=s.parentNode;continue}const u=new wt(s),f=e.getIntersection(u);if(f)f.getArea()<e.getArea()&&(e=f);else return null;n=s,s=s.parentNode}return e}isEqual(t){for(const e of nO)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!!(e&&e.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:e}=Be.window,n=this.clone().moveBy(t,e);if(Vw(n._source)){const s=tO(n._source);s&&o9(n,s)}return n}excludeScrollbarsAndBorders(){const t=this._source;let e,n,s;if(w0(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,s=t.getComputedStyle(t.document.documentElement).direction;else{const r=JR(t);e=t.offsetWidth-t.clientWidth-r.left-r.right,n=t.offsetHeight-t.clientHeight-r.top-r.bottom,s=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,s==="ltr"?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const s of n)e.push(new wt(s));else{let s=t.startContainer;Sn(s)&&(s=s.parentNode);const r=new wt(s.getBoundingClientRect());r.right=r.left,r.width=0,e.push(r)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const s of t)n++,e.left=Math.min(e.left,s.left),e.top=Math.min(e.top,s.top),e.right=Math.max(e.right,s.right),e.bottom=Math.max(e.bottom,s.bottom);return n==0?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new wt(e))}}function _g(i,t){for(const e of nO)i[e]=t[e]}function CC(i){return Vw(i)?i===i.ownerDocument.body:!1}function Vw(i){return i!==null&&typeof i=="object"&&i.nodeType===1&&typeof i.getBoundingClientRect=="function"}function SC(i){return i instanceof HTMLElement?i.ownerDocument.defaultView.getComputedStyle(i).position:"static"}function r9(i){return i instanceof HTMLElement?i.ownerDocument.defaultView.getComputedStyle(i).overflow:"visible"}function o9(i,t){const e=new wt(t),n=JR(t);let s=0,r=0;s-=e.left,r-=e.top,s+=t.scrollLeft,r+=t.scrollTop,s-=n.left,r-=n.top,i.moveBy(s,r)}const kn=class kn{constructor(t,e){x(this,"_element");x(this,"_callback");kn._observerInstance||kn._createObserver(),this._element=t,this._callback=e,kn._addElementCallback(t,e),kn._observerInstance.observe(t)}get element(){return this._element}destroy(){kn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){kn._elementCallbacks||(kn._elementCallbacks=new Map);let n=kn._elementCallbacks.get(t);n||(n=new Set,kn._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=kn._getElementCallbacks(t);n&&(n.delete(e),n.size||(kn._elementCallbacks.delete(t),kn._observerInstance.unobserve(t))),kn._elementCallbacks&&!kn._elementCallbacks.size&&(kn._observerInstance=null,kn._elementCallbacks=null)}static _getElementCallbacks(t){return kn._elementCallbacks?kn._elementCallbacks.get(t):null}static _createObserver(){kn._observerInstance=new Be.window.ResizeObserver(t=>{for(const e of t){const n=kn._getElementCallbacks(e.target);if(n)for(const s of n)s(e)}})}};x(kn,"_observerInstance",null),x(kn,"_elementCallbacks",null);let Zh=kn;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function AC(i,t){i instanceof HTMLTextAreaElement&&(i.value=t),i.innerHTML=t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Pm(i){return t=>t+i}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ku(i){let t=0;for(;i.previousSibling;)i=i.previousSibling,t++;return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function iO(i,t,e){i.insertBefore(e,i.childNodes[t]||null)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Bh(i){return i&&i.nodeType===Node.COMMENT_NODE}function a9(i){try{Be.document.createAttribute(i)}catch{return!1}return!0}function ca(i){return i?Sn(i)?ca(i.parentElement):i.getClientRects?!!i.getClientRects().length:!1:!1}function Ox({element:i,target:t,positions:e,limiter:n,fitInViewport:s,viewportOffsetConfig:r}){y0(t)&&(t=t()),y0(n)&&(n=n());const o=tO(i),c=sO(r),u=new wt(i),f=TC(t,c);let p;if(!f||!c.getIntersection(f))return null;const g={targetRect:f,elementRect:u,positionedElementAncestor:o,viewportRect:c};if(!n&&!s)p=new rO(e[0],g);else{if(n){const v=TC(n,c);v&&(g.limiterRect=v)}p=l9(e,g)}return p}function TC(i,t){const e=new wt(i).getVisible();return e?e.getIntersection(t):null}function sO(i){i=Object.assign({top:0,bottom:0,left:0,right:0},i);const t=new wt(Be.window);return t.top+=i.top,t.height-=i.top,t.bottom-=i.bottom,t.height-=i.bottom,t.left+=i.left,t.right-=i.right,t.width-=i.left+i.right,t}function l9(i,t){const{elementRect:e}=t,n=e.getArea(),s=i.map(c=>new rO(c,t)).filter(c=>!!c.name);let r=0,o=null;for(const c of s){const{limiterIntersectionArea:u,viewportIntersectionArea:f}=c;if(u===n)return c;const p=f**2+u**2;p>r&&(r=p,o=c)}return o}class rO{constructor(t,e){x(this,"name");x(this,"config");x(this,"_positioningFunctionCoordinates");x(this,"_options");x(this,"_cachedRect");x(this,"_cachedAbsoluteRect");const n=t(e.targetRect,e.elementRect,e.viewportRect,e.limiterRect);if(!n)return;const{left:s,top:r,name:o,config:c}=n;this.name=o,this.config=c,this._positioningFunctionCoordinates={left:s,top:r},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function NC(i){const t=i.parentNode;t&&t.removeChild(i)}function Zg(){const i=Be.window.visualViewport;if(!i||!(Ge.isiOS||Ge.isSafari))return{left:0,top:0};const t=Math.max(Math.round(i.offsetLeft),0),e=Math.max(Math.round(i.offsetTop),0);return{left:t,top:e}}function c9({target:i,viewportOffset:t=0,ancestorOffset:e=0,alignToTop:n,forceScroll:s}){const r=Ix(i);let o=r,c=null;for(t=f9(t);o;){let u;o==r?u=RC(i):u=RC(c),d9({parent:u,getRect:()=>Py(i,o),alignToTop:n,ancestorOffset:e,forceScroll:s});let f=Py(i,o);const p=Py(u,o);if(f.height>p.height){const g=f.getIntersection(p);g&&(f=g)}if(u9({window:o,rect:f,viewportOffset:t,alignToTop:n,forceScroll:s}),o.parent!=o){if(c=o.frameElement,o=o.parent,!c)return}else o=null}}function u9({window:i,rect:t,alignToTop:e,forceScroll:n,viewportOffset:s}){const r=t.clone().moveBy(0,s.bottom),o=t.clone().moveBy(0,-s.top),c=new wt(i).excludeScrollbarsAndBorders(),u=[o,r],f=e&&n,p=u.every(C=>c.contains(C));let{scrollX:g,scrollY:v}=i;const _=g,E=v;f?v-=c.top-t.top+s.top:p||(aO(o,c)?v-=c.top-t.top+s.top:oO(r,c)&&(e?v+=t.top-c.top-s.top:v+=t.bottom-c.bottom+s.bottom)),p||(lO(t,c)?g-=c.left-t.left+s.left:cO(t,c)&&(g+=t.right-c.right+s.right)),(g!=_||v!==E)&&i.scrollTo(g,v)}function d9({parent:i,getRect:t,alignToTop:e,forceScroll:n,ancestorOffset:s=0,limiterElement:r}){const o=Ix(i),c=e&&n;let u,f,p;const g=r||o.document.body;for(;i!=g;)f=t(),u=new wt(i).excludeScrollbarsAndBorders(),p=u.contains(f),c?i.scrollTop-=u.top-f.top+s:p||(aO(f,u)?i.scrollTop-=u.top-f.top+s:oO(f,u)&&(e?i.scrollTop+=f.top-u.top-s:i.scrollTop+=f.bottom-u.bottom+s)),p||(lO(f,u)?i.scrollLeft-=u.left-f.left+s:cO(f,u)&&(i.scrollLeft+=f.right-u.right+s)),i=i.parentNode}function oO(i,t){return i.bottom>t.bottom}function aO(i,t){return i.top<t.top}function lO(i,t){return i.left<t.left}function cO(i,t){return i.right>t.right}function Ix(i){return pb(i)?i.startContainer.ownerDocument.defaultView:i.ownerDocument.defaultView}function RC(i){if(pb(i)){let t=i.commonAncestorContainer;return Sn(t)&&(t=t.parentNode),t}else return i.parentNode}function Py(i,t){const e=Ix(i),n=new wt(i);if(e===t)return n;{let s=e;for(;s!=t;){const r=s.frameElement,o=new wt(r).excludeScrollbarsAndBorders();n.moveBy(o.left,o.top),s=s.parent}}return n}function f9(i){return typeof i=="number"?{top:i,bottom:i,left:i,right:i}:i}const h9={ctrl:"",cmd:"",alt:"",shift:""},m9={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},OC={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},vt=y9(),p9=Object.fromEntries(Object.entries(vt).map(([i,t])=>{let e;return t in OC?e=OC[t]:e=i.charAt(0).toUpperCase()+i.slice(1),[t,e]}));function md(i){let t;if(typeof i=="string"){if(t=vt[i.toLowerCase()],!t)throw new q("keyboard-unknown-key",null,{key:i})}else t=i.keyCode+(i.altKey?vt.alt:0)+(i.ctrlKey?vt.ctrl:0)+(i.shiftKey?vt.shift:0)+(i.metaKey?vt.cmd:0);return t}function Px(i){return typeof i=="string"&&(i=w9(i)),i.map(t=>typeof t=="string"?b9(t):t).reduce((t,e)=>e+t,0)}function x0(i,t){let e=Px(i);const n=Ge.isMac||Ge.isiOS;return Object.entries(n?h9:m9).reduce((o,[c,u])=>((e&vt[c])!=0&&(e&=~vt[c],o+=u),o),"")+(e?p9[e]:"")}function g9(i){return i==vt.arrowright||i==vt.arrowleft||i==vt.arrowup||i==vt.arrowdown}function uO(i,t){const e=t==="ltr";switch(i){case vt.arrowleft:return e?"left":"right";case vt.arrowright:return e?"right":"left";case vt.arrowup:return"up";case vt.arrowdown:return"down"}}function b9(i){if(i.endsWith("!"))return md(i.slice(0,-1));const t=md(i);return(Ge.isMac||Ge.isiOS)&&t==vt.ctrl?vt.cmd:t}function v9(i,t){const e=uO(i,t);return e==="down"||e==="right"}function y9(){const i={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){const e=String.fromCharCode(t);i[e.toLowerCase()]=t}for(let t=48;t<=57;t++)i[t-48]=t;for(let t=112;t<=123;t++)i["f"+(t-111)]=t;return Object.assign(i,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),i}function w9(i){return i.split("+").map(t=>t.trim())}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const x9=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig","ur","urd"];function IC(i){return x9.includes(i)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Zn(i){return Array.isArray(i)?i:[i]}/* istanbul ignore else -- @preserve */Be.window.CKEDITOR_TRANSLATIONS||(Be.window.CKEDITOR_TRANSLATIONS={});function _9(i,t,e=1,n){if(typeof e!="number")throw new q("translation-service-quantity-not-a-number",null,{quantity:e});const s=n||Be.window.CKEDITOR_TRANSLATIONS,r=C9(s);r===1&&(i=Object.keys(s)[0]);const o=t.id||t.string;if(r===0||!k9(i,o,s))return e!==1?t.plural:t.string;const c=s[i].dictionary,u=s[i].getPluralForm||(g=>g===1?0:1),f=c[o];if(typeof f=="string")return f;const p=Number(u(e));return f[p]}function E9(i){return Array.isArray(i)?i.reduce((t,e)=>Rx(t,e)):i}function k9(i,t,e){return!!e[i]&&!!e[i].dictionary[t]}function C9(i){return Object.keys(i).length}class S9{constructor({uiLanguage:t="en",contentLanguage:e,translations:n}={}){x(this,"uiLanguage");x(this,"uiLanguageDirection");x(this,"contentLanguage");x(this,"contentLanguageDirection");x(this,"t");x(this,"translations");this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=IC(this.uiLanguage),this.contentLanguageDirection=IC(this.contentLanguage),this.translations=E9(n),this.t=(s,r)=>this._t(s,r)}_t(t,e=[]){e=Zn(e),typeof t=="string"&&(t={string:t});const s=!!t.plural?e[0]:1,r=_9(this.uiLanguage,t,s,this.translations);return A9(r,e)}}function A9(i,t){return i.replace(/%(\d+)/g,(e,n)=>n<t.length?t[n]:e)}class ma extends an(){constructor(e={},n={}){super();x(this,"_items");x(this,"_itemMap");x(this,"_idProperty");x(this,"_bindToCollection");x(this,"_bindToExternalToInternalMap");x(this,"_bindToInternalToExternalMap");x(this,"_skippedIndexesFromExternal");const s=Fs(e);if(s||(n=e),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const r of e)this._items.push(r),this._itemMap.set(this._getItemIdBeforeAdding(r),r)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,n){return this.addMany([e],n)}addMany(e,n){if(n===void 0)n=this._items.length;else if(n>this._items.length||n<0)throw new q("collection-add-item-invalid-index",this);let s=0;for(const r of e){const o=this._getItemIdBeforeAdding(r),c=n+s;this._items.splice(c,0,r),this._itemMap.set(o,r),this.fire("add",r,c),s++}return this.fire("change",{added:e,removed:[],index:n}),this}get(e){let n;if(typeof e=="string")n=this._itemMap.get(e);else if(typeof e=="number")n=this._items[e];else throw new q("collection-get-invalid-arg",this);return n||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const n=this._idProperty,s=e[n];return s&&this._itemMap.has(s)}}getIndex(e){let n;return typeof e=="string"?n=this._itemMap.get(e):n=e,n?this._items.indexOf(n):-1}remove(e){const[n,s]=this._remove(e);return this.fire("change",{added:[],removed:[n],index:s}),n}map(e,n){return this._items.map(e,n)}forEach(e,n){this._items.forEach(e,n)}find(e,n){return this._items.find(e,n)}filter(e,n){return this._items.filter(e,n)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new q("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:n=>{this._setUpBindToBinding(s=>new n(s))},using:n=>{typeof n=="function"?this._setUpBindToBinding(n):this._setUpBindToBinding(s=>s[n])}}}_setUpBindToBinding(e){const n=this._bindToCollection,s=(r,o,c)=>{const u=n._bindToCollection==this,f=n._bindToInternalToExternalMap.get(o);if(u&&f)this._bindToExternalToInternalMap.set(o,f),this._bindToInternalToExternalMap.set(f,o);else{const p=e(o);if(!p){this._skippedIndexesFromExternal.push(c);return}let g=c;for(const v of this._skippedIndexesFromExternal)c>v&&g--;for(const v of n._skippedIndexesFromExternal)g>=v&&g++;this._bindToExternalToInternalMap.set(o,p),this._bindToInternalToExternalMap.set(p,o),this.add(p,g);for(let v=0;v<n._skippedIndexesFromExternal.length;v++)g<=n._skippedIndexesFromExternal[v]&&n._skippedIndexesFromExternal[v]++}};for(const r of n)s(null,r,n.getIndex(r));this.listenTo(n,"add",s),this.listenTo(n,"remove",(r,o,c)=>{const u=this._bindToExternalToInternalMap.get(o);u&&this.remove(u),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((f,p)=>(c<p&&f.push(p-1),c>p&&f.push(p),f),[])})}_getItemIdBeforeAdding(e){const n=this._idProperty;let s;if(n in e){if(s=e[n],typeof s!="string")throw new q("collection-add-invalid-id",this);if(this.get(s))throw new q("collection-add-item-already-exists",this)}else e[n]=s=Cs();return s}_remove(e){let n,s,r,o=!1;const c=this._idProperty;if(typeof e=="string"?(s=e,r=this._itemMap.get(s),o=!r,r&&(n=this._items.indexOf(r))):typeof e=="number"?(n=e,r=this._items[n],o=!r,r&&(s=r[c])):(r=e,s=r[c],n=this._items.indexOf(r),o=n==-1||!this._itemMap.get(s)),o)throw new q("collection-remove-404",this);this._items.splice(n,1),this._itemMap.delete(s);const u=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(u),this.fire("remove",r,n),[r,n]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Lr(i){const t=i.next();return t.done?null:t.value}class Ss extends zr(Fn()){constructor(){super();x(this,"_elements",new Set);x(this,"_externalViews",new Set);x(this,"_blurTimeout",null);this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(e){if(BC(e))this._addElement(e);else if(PC(e))this._addView(e);else{if(!e.element)throw new q("focustracker-add-view-missing-element",{focusTracker:this,view:e});this._addElement(e.element)}}remove(e){BC(e)?this._removeElement(e):PC(e)?this._removeView(e):this._removeElement(e.element)}_addElement(e){if(this._elements.has(e))throw new q("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>{const n=this.externalViews.find(s=>T9(e,s));n?this._focus(n.element):this._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(e)}_removeElement(e){this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e)),e===this.focusedElement&&this._blur()}_addView(e){e.element&&this._addElement(e.element),this.listenTo(e.focusTracker,"change:focusedElement",()=>{e.focusTracker.focusedElement?e.element&&this._focus(e.element):this._blur()}),this._externalViews.add(e)}_removeView(e){e.element&&this._removeElement(e.element),this.stopListening(e.focusTracker),this._externalViews.delete(e)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(e){this._clearBlurTimeout(),this.focusedElement=e,this.isFocused=!0}_blur(){this.elements.find(s=>s.contains(document.activeElement))||this.externalViews.find(s=>s.focusTracker.isFocused&&!s.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function PC(i){return"focusTracker"in i&&i.focusTracker instanceof Ss}function BC(i){return gl(i)}function T9(i,t){return LC(i,t)?!0:!!t.focusTracker.externalViews.find(e=>LC(i,e))}function LC(i,t){return!!t.element&&t.element.contains(document.activeElement)&&i.contains(t.element)}class qr{constructor(){x(this,"_listener");this._listener=new(zr())}listenTo(t){this._listener.listenTo(t,"keydown",(e,n)=>{this._listener.fire("_keydown:"+md(n),n)})}set(t,e,n={}){const s=Px(t),r=n.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(o,c)=>{n.filter&&!n.filter(c)||(e(c,()=>{c.preventDefault(),c.stopPropagation(),o.stop()}),o.return=!0)},{priority:r})}press(t){return!!this._listener.fire("_keydown:"+md(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function N9(i){const t=new Map;for(const e in i)t.set(e,i[e]);return t}function ua(i){return Fs(i)?new Map(i):N9(i)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function jC(i,t,e){const n=i.length,s=t.length;for(let r=n-1;r>=e;r--)i[r+s]=i[r];for(let r=0;r<s;r++)i[e+r]=t[r]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Bx(i,t){let e;function n(...s){n.cancel(),e=setTimeout(()=>i(...s),t)}return n.cancel=()=>{clearTimeout(e)},n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Lx(i){try{if(!i.startsWith("ey"))return null;const t=atob(i.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(t)}catch{return null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function R9(){const i=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;i[t]=e}return i}function O9(i){const t=Array.isArray(i)?i:[i],e=R9();let n=-1;const s=t.map(r=>Array.isArray(r)?r.join(""):String(r)).join("");for(let r=0;r<s.length;r++){const o=s.charCodeAt(r);n=n>>>8^e[(n^o)&255]}return n=(n^-1)>>>0,n.toString(16).padStart(8,"0")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function I9(i){return!!i&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i)}function P9(i){return!!i&&i.length==1&&/[\ud800-\udbff]/.test(i)}function B9(i){return!!i&&i.length==1&&/[\udc00-\udfff]/.test(i)}function jx(i,t){return P9(i.charAt(t-1))&&B9(i.charAt(t))}function Dx(i,t){return I9(i.charAt(t))}const L9=j9();function dO(i,t){const e=String(i).matchAll(L9);return Array.from(e).some(n=>n.index<t&&t<n.index+n[0].length)}function j9(){const i=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],t=new RegExp("\\p{Regional_Indicator}{2}","u").source,e="(?:"+i.map(s=>s.source).join("|")+")",n=`${t}|${e}(?:${e})*`;return new RegExp(n,"ug")}function DC(i){if(!i)return null;const t=D9(i);return t?Lx(t):null}function D9(i){const t=i.split(".");return t.length!=3?null:t[1]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function M9(i,t){return(i.removeFeatures||[]).includes(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const ah=new WeakMap;let MC=!1;function F9({view:i,element:t,text:e,isDirectHost:n=!0,keepOnFocus:s=!1}){const r=i.document;ah.has(r)||(ah.set(r,new Map),r.registerPostFixer(c=>By(ah.get(r),c)),r.on("change:isComposing",()=>{i.change(c=>By(ah.get(r),c))},{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",(c,u,f)=>o(f)),t.placeholder?o(t.placeholder):e&&o(e),e&&U9();function o(c){const u={text:c,isDirectHost:n,keepOnFocus:s,hostElement:n?t:null};ah.get(r).set(t,u),i.change(f=>By([[t,u]],f))}}function V9(i,t){return t.hasClass("ck-placeholder")?!1:(i.addClass("ck-placeholder",t),!0)}function fO(i,t){return t.hasClass("ck-placeholder")?(i.removeClass("ck-placeholder",t),!0):!1}function z9(i,t){if(!i.isAttached()||q9(i))return!1;const e=i.document,s=e.selection.anchor;return e.isComposing&&s&&s.parent===i?!1:t||!e.isFocused?!0:!!s&&s.parent!==i}function q9(i){for(const t of i.getChildren())if(!t.is("uiElement"))return!0;return!1}function By(i,t){const e=[];let n=!1;for(const[s,r]of i)r.isDirectHost&&(e.push(s),FC(t,s,r)&&(n=!0));for(const[s,r]of i){if(r.isDirectHost)continue;const o=H9(s);o!==r.hostElement&&r.hostElement&&(t.removeAttribute("data-placeholder",r.hostElement),fO(t,r.hostElement),r.hostElement=null,n=!0),o&&(e.includes(o)||(r.hostElement=o,FC(t,s,r)&&(n=!0)))}return n}function FC(i,t,e){const{text:n,isDirectHost:s,hostElement:r}=e;let o=!1;return r.getAttribute("data-placeholder")!==n&&(i.setAttribute("data-placeholder",n,r),o=!0),(s||t.childCount==1)&&z9(r,e.keepOnFocus)?V9(i,r)&&(o=!0):fO(i,r)&&(o=!0),o}function H9(i){if(i.childCount){const t=i.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}function U9(){MC||zn("enableViewPlaceholder-deprecated-text-option"),MC=!0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Ic{is(){throw new Error("is() method is abstract")}}class Pc extends an(Ic){constructor(e){super();x(this,"document");x(this,"parent");this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new q("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let n=this;for(;n.parent;)e.unshift(n.index),n=n.parent;return e}getAncestors(e={}){const n=[];let s=e.includeSelf?this:this.parent;for(;s;)n[e.parentFirst?"push":"unshift"](s),s=s.parent;return n}getCommonAncestor(e,n={}){const s=this.getAncestors(n),r=e.getAncestors(n);let o=0;for(;s[o]==r[o]&&s[o];)o++;return o===0?null:s[o-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const n=this.getPath(),s=e.getPath(),r=Ti(n,s);switch(r){case"prefix":return!0;case"extension":return!1;default:return n[r]<s[r]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,n,s){this.fire(`change:${e}`,n,s),this.parent&&this.parent._fireChange(e,n,s)}toJSON(){const e={path:this.getPath(),type:"Node"};return this!==this.root&&this.root.is("rootElement")&&(e.root=this.root.toJSON()),e}}Pc.prototype.is=function(i){return i==="node"||i==="view:node"};class ri extends Pc{constructor(e,n){super(e);x(this,"_textData");this._textData=n}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof ri?this===e||this.data===e.data:!1}toJSON(){const e=super.toJSON();return e.type="Text",e.data=this.data,e}_clone(){return new ri(this.document,this.data)}}ri.prototype.is=function(i){return i==="$text"||i==="view:$text"||i==="text"||i==="view:text"||i==="node"||i==="view:node"};class Xo extends Ic{constructor(e,n,s){super();x(this,"textNode");x(this,"data");x(this,"offsetInText");if(this.textNode=e,n<0||n>e.data.length)throw new q("view-textproxy-wrong-offsetintext",this);if(s<0||n+s>e.data.length)throw new q("view-textproxy-wrong-length",this);this.data=e.data.substring(n,n+s),this.offsetInText=n}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const n=[];let s=e.includeSelf?this.textNode:this.parent;for(;s!==null;)n[e.parentFirst?"push":"unshift"](s),s=s.parent;return n}}Xo.prototype.is=function(i){return i==="$textProxy"||i==="view:$textProxy"||i==="textProxy"||i==="view:textProxy"};class _0{constructor(){x(this,"_consumables",new Map)}add(t,e){let n;if(t.is("$text")||t.is("documentFragment")){this._consumables.set(t,!0);return}this._consumables.has(t)?n=this._consumables.get(t):(n=new W9(t),this._consumables.set(t,n)),n.add(e?Ch(e):t._getConsumables())}test(t,e){const n=this._consumables.get(t);return n===void 0?null:t.is("$text")||t.is("documentFragment")?n:n.test(Ch(e))}consume(t,e){if(t.is("$text")||t.is("documentFragment"))return this.test(t,e)?(this._consumables.set(t,!1),!0):!1;const n=this._consumables.get(t);return n===void 0?!1:n.consume(Ch(e))}revert(t,e){const n=this._consumables.get(t);n!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(Ch(e)))}static createFrom(t,e){if(e||(e=new _0),t.is("$text"))e.add(t);else if(t.is("element")||t.is("documentFragment")){e.add(t);for(const n of t.getChildren())_0.createFrom(n,e)}return e}}class W9{constructor(t){x(this,"element");x(this,"_canConsumeName",null);x(this,"_attributes",new Map);this.element=t}add(t){t.name&&(this._canConsumeName=!0);for(const[e,n]of t.attributes)if(n){let s=this._attributes.get(e);(!s||typeof s=="boolean")&&(s=new Map,this._attributes.set(e,s)),s.set(n,!0)}else{if(e=="style"||e=="class")throw new q("viewconsumable-invalid-attribute",this);this._attributes.set(e,!0)}}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const[e,n]of t.attributes){const s=this._attributes.get(e);if(s===void 0)return null;if(s===!1)return!1;if(s!==!0){if(n){const r=s.get(n);if(r===void 0)return null;if(!r)return!1}else for(const r of s.values())if(!r)return!1}}return!0}consume(t){if(!this.test(t))return!1;t.name&&(this._canConsumeName=!1);for(const[e,n]of t.attributes){const s=this._attributes.get(e);if(typeof s=="boolean")for(const[r]of this.element._getConsumables(e,n).attributes)this._attributes.set(r,!1);else if(n)for(const[,r]of this.element._getConsumables(e,n).attributes)s.set(r,!1);else for(const r of s.keys())s.set(r,!1)}return!0}revert(t){t.name&&(this._canConsumeName=!0);for(const[e,n]of t.attributes){const s=this._attributes.get(e);if(s===!1){this._attributes.set(e,!0);continue}if(!(s===void 0||s===!0))if(n)s.get(n)===!1&&s.set(n,!0);else for(const r of s.keys())s.set(r,!0)}}}function Ch(i){const t=[];return"attributes"in i&&i.attributes&&Ly(t,i.attributes),"classes"in i&&i.classes&&Ly(t,i.classes,"class"),"styles"in i&&i.styles&&Ly(t,i.styles,"style"),{name:i.name||!1,attributes:t}}function Ly(i,t,e){if(typeof t=="string"){i.push(e?[e,t]:[t]);return}for(const n of t)Array.isArray(n)?i.push(n):i.push(e?[e,n]:[n])}class Jh{constructor(...t){x(this,"_patterns",[]);this.add(...t)}add(...t){for(let e of t)(typeof e=="string"||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const n of this._patterns){const s=this._isElementMatching(e,n);if(s)return{element:e,pattern:n,match:s}}return null}matchAll(...t){const e=[];for(const n of t)for(const s of this._patterns){const r=this._isElementMatching(n,s);r&&e.push({element:n,pattern:s,match:r})}return e.length>0?e:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],e=t.name;return typeof t!="function"&&e&&!(e instanceof RegExp)?e:null}_isElementMatching(t,e){if(typeof e=="function"){const r=e(t);return!r||typeof r!="object"?r:Ch(r)}const n={};if(e.name&&(n.name=G9(e.name,t.name),!n.name))return null;const s=[];return e.attributes&&!K9(e.attributes,t,s)||e.classes&&!Q9(e.classes,t,s)||e.styles&&!Y9(e.styles,t,s)?null:(s.length&&(n.attributes=s),n)}}function E0(i,t){return i===!0||i===t||i instanceof RegExp&&!!String(t).match(i)}function G9(i,t){return i instanceof RegExp?!!t.match(i):i===t}function Mx(i,t){if(Array.isArray(i))return i.map(n=>typeof n!="object"||n instanceof RegExp?t?[t,n,!0]:[n,!0]:((n.key===void 0||n.value===void 0)&&zn("matcher-pattern-missing-key-or-value",n),t?[t,n.key,n.value]:[n.key,n.value]));if(typeof i!="object"||i instanceof RegExp)return[t?[t,i,!0]:[i,!0]];const e=[];for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.push(t?[t,n,i[n]]:[n,i[n]]);return e}function K9(i,t,e){let n;return typeof i=="object"&&!(i instanceof RegExp)&&!Array.isArray(i)?(i.style!==void 0&&zn("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&zn("matcher-pattern-deprecated-attributes-class-key",i)):n=["class","style"],t._collectAttributesMatch(Mx(i),e,n)}function Q9(i,t,e){return t._collectAttributesMatch(Mx(i,"class"),e)}function Y9(i,t,e){return t._collectAttributesMatch(Mx(i,"style"),e)}class Lh{constructor(t){x(this,"_styles");x(this,"_cachedStyleNames",null);x(this,"_cachedExpandedStyleNames",null);x(this,"_styleProcessor");this._styles={},this._styleProcessor=t}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=X9(t);for(const[n,s]of e)this._styleProcessor.toNormalizedForm(n,s,this._styles);return this}has(t){if(this.isEmpty)return!1;const n=this._styleProcessor.getReducedForm(t,this._styles).find(([s])=>s===t);return Array.isArray(n)}set(t,e){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,cr(t))for(const[n,s]of Object.entries(t))this._styleProcessor.toNormalizedForm(n,s,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){const e={};for(const n of Zn(t)){const s=zw(n),r=pl(this._styles,s);if(r)Jg(e,s,r);else{const o=this.getAsString(n);o!==void 0&&this._styleProcessor.toNormalizedForm(n,o,e)}}Object.keys(e).length&&(hO(this._styles,e),this._cachedStyleNames=null,this._cachedExpandedStyleNames=null)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!cr(this._styles[t]))return this._styles[t];const n=this._styleProcessor.getReducedForm(t,this._styles).find(([s])=>s===t);if(Array.isArray(n))return n[1]}getStyleNames(t=!1){return this.isEmpty?[]:t?(this._cachedExpandedStyleNames||(this._cachedExpandedStyleNames=this._styleProcessor.getStyleNames(this._styles)),this._cachedExpandedStyleNames):(this._cachedStyleNames||(this._cachedStyleNames=this.getStylesEntries().map(([e])=>e)),this._cachedStyleNames)}keys(){return this.getStyleNames()}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}isSimilar(t){if(this.size!==t.size)return!1;for(const e of this.getStyleNames())if(!t.has(e)||t.getAsString(e)!==this.getAsString(e))return!1;return!0}getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const n of e)t.push(...this._styleProcessor.getReducedForm(n,this._styles));return t}_clone(){const t=new this.constructor(this._styleProcessor);return t.set(this.getNormalized()),t}_getTokensMatch(t,e){const n=[];for(const s of this.getStyleNames(!0))if(E0(t,s)){if(e===!0){n.push(s);continue}const r=this.getAsString(s);E0(e,r)&&n.push(s)}return n.length?n:void 0}_getConsumables(t){const e=[];if(t){e.push(t);for(const n of this._styleProcessor.getRelatedStyles(t))e.push(n)}else for(const n of this.getStyleNames()){for(const s of this._styleProcessor.getRelatedStyles(n))e.push(s);e.push(n)}return e}_canMergeFrom(t){for(const e of t.getStyleNames())if(this.has(e)&&this.getAsString(e)!==t.getAsString(e))return!1;return!0}_mergeFrom(t){for(const e of t.getStyleNames())this.has(e)||this.set(e,t.getAsString(e))}_isMatching(t){for(const e of t.getStyleNames())if(!this.has(e)||this.getAsString(e)!==t.getAsString(e))return!1;return!0}}class $9{constructor(){x(this,"_normalizers");x(this,"_extractors");x(this,"_reducers");x(this,"_consumables");this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,n){if(cr(e)){Jg(n,zw(t),e);return}if(this._normalizers.has(t)){const s=this._normalizers.get(t),{path:r,value:o}=s(e);Jg(n,r,o)}else Jg(n,t,e)}getNormalized(t,e){if(!t)return Rx({},e);if(e[t]!==void 0)return e[t];if(this._extractors.has(t)){const n=this._extractors.get(t);if(typeof n=="string")return pl(e,n);const s=n(t,e);if(s)return s}return pl(e,zw(t))}getReducedForm(t,e){const n=this.getNormalized(t,e);return n===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}getStyleNames(t){const e=new Set;for(const n of this._consumables.keys()){const s=this.getNormalized(n,t);s&&(typeof s!="object"||Object.keys(s).length)&&e.add(n)}for(const n of Object.keys(t))e.add(n);return Array.from(e)}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const n of e)this._mapStyleNames(n,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function X9(i){let t=null,e=0,n=0,s=null;const r=new Map;if(i==="")return r;i.charAt(i.length-1)!=";"&&(i=i+";");for(let o=0;o<i.length;o++){const c=i.charAt(o);if(t===null)switch(c){case":":s||(s=i.substr(e,o-e),n=o+1);break;case'"':case"'":t=c;break;case";":{const u=i.substr(n,o-n);s&&r.set(s.trim(),u.trim()),s=null,e=o+1;break}}else c===t&&(t=null)}return r}function zw(i){return i.replace("-",".")}function Jg(i,t,e){let n=e;cr(e)&&(n=Rx({},pl(i,t),e)),FR(i,t,n)}function hO(i,t){for(const e of Object.keys(t))i[e]!==null&&!Array.isArray(i[e])&&typeof i[e]=="object"&&typeof t[e]=="object"?(hO(i[e],t[e]),Object.keys(i[e]).length||delete i[e]):delete i[e]}class jy{constructor(){x(this,"_set",new Set)}get isEmpty(){return this._set.size==0}get size(){return this._set.size}has(t){return this._set.has(t)}keys(){return Array.from(this._set.keys())}setTo(t){this.clear();for(const e of t.split(/\s+/))e&&this._set.add(e);return this}set(t){for(const e of Zn(t))e&&this._set.add(e)}remove(t){for(const e of Zn(t))this._set.delete(e)}clear(){this._set.clear()}toString(){return Array.from(this._set).join(" ")}isSimilar(t){if(this.size!==t.size)return!1;for(const e of this.keys())if(!t.has(e))return!1;return!0}_clone(){const t=new this.constructor;return t._set=new Set(this._set),t}_getTokensMatch(t){const e=[];if(t===!0){for(const n of this._set.keys())e.push(n);return e}if(typeof t=="string"){for(const n of t.split(/\s+/))if(this._set.has(n))e.push(n);else return;return e}for(const n of this._set.keys())n.match(t)&&e.push(n);return e.length?e:void 0}_getConsumables(t){return t?[t]:this.keys()}_canMergeFrom(){return!0}_mergeFrom(t){for(const e of t._set.keys())this._set.has(e)||this._set.add(e)}_isMatching(t){for(const e of t._set.keys())if(!this._set.has(e))return!1;return!0}}class pa extends Pc{constructor(e,n,s,r){super(e);x(this,"name");x(this,"_unsafeAttributesToRender",[]);x(this,"_attrs");x(this,"_children");x(this,"_customProperties",new Map);this.name=n,this._attrs=this._parseAttributes(s),this._children=[],r&&this._insertChild(0,r)}get _classes(){return this._attrs.get("class")}get _styles(){return this._attrs.get("style")}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes&&(yield"class"),this._styles&&(yield"style");for(const e of this._attrs.keys())e!="class"&&e!="style"&&(yield e)}*getAttributes(){for(const[e,n]of this._attrs.entries())yield[e,String(n)]}getAttribute(e){return this._attrs.has(e)?String(this._attrs.get(e)):void 0}hasAttribute(e,n){return this._attrs.has(e)?n!==void 0?Ru(this.name,e)||lh(this.name,e)?this._attrs.get(e).has(n):this._attrs.get(e)===n:!0:!1}isSimilar(e){if(!(e instanceof pa))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size)return!1;for(const[n,s]of this._attrs){const r=e._attrs.get(n);if(r===void 0)return!1;if(typeof s=="string"||typeof r=="string"){if(r!==s)return!1}else if(!s.isSimilar(r))return!1}return!0}hasClass(...e){for(const n of e)if(!this._classes||!this._classes.has(n))return!1;return!0}getClassNames(){const e=this._classes?this._classes.keys():[],n=e[Symbol.iterator]();return Object.assign(e,{next:n.next.bind(n)})}getStyle(e){return this._styles&&this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles&&this._styles.getNormalized(e)}getStyleNames(e){return this._styles?this._styles.getStyleNames(e):[]}hasStyle(...e){for(const n of e)if(!this._styles||!this._styles.has(n))return!1;return!0}findAncestor(...e){const n=new Jh(...e);let s=this.parent;for(;s&&!s.is("documentFragment");){if(n.match(s))return s;s=s.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=this._classes?this._classes.keys().sort().join(","):"",n=this._styles&&String(this._styles),s=Array.from(this._attrs).filter(([r])=>r!="style"&&r!="class").map(r=>`${r[0]}="${r[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(n?` style="${n}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}toJSON(){const e=super.toJSON();if(e.name=this.name,e.type="Element",this._attrs.size&&(e.attributes=Object.fromEntries(this.getAttributes())),this._children.length>0){e.children=[];for(const n of this._children)e.children.push(n.toJSON())}return e}_clone(e=!1){const n=[];if(e)for(const r of this.getChildren())n.push(r._clone(e));const s=new this.constructor(this.document,this.name,this._attrs,n);return s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,n){this._fireChange("children",this,{index:e});let s=0;const r=Z9(this.document,n);for(const o of r)o.parent!==null&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(e,0,o),e++,s++;return s}_removeChildren(e,n=1){this._fireChange("children",this,{index:e});for(let s=e;s<e+n;s++)this._children[s].parent=null;return this._children.splice(e,n)}_setAttribute(e,n,s=!0){if(this._fireChange("attributes",this),Ru(this.name,e)||lh(this.name,e)){let r=this._attrs.get(e);r||(r=Ru(this.name,e)?new Lh(this.document.stylesProcessor):new jy,this._attrs.set(e,r)),s?r.setTo(String(n)):Ru(this.name,e)?Array.isArray(n)?r.set(n[0],n[1]):r.set(n):r.set(typeof n=="string"?n.split(/\s+/):n)}else this._attrs.set(e,String(n))}_removeAttribute(e,n){if(this._fireChange("attributes",this),n!==void 0&&(Ru(this.name,e)||lh(this.name,e))){const s=this._attrs.get(e);return s?(lh(this.name,e)&&typeof n=="string"&&(n=n.split(/\s+/)),s.remove(n),s.isEmpty?this._attrs.delete(e):!1):!1}return this._attrs.delete(e)}_addClass(e){this._setAttribute("class",e,!1)}_removeClass(e){this._removeAttribute("class",e)}_setStyle(e,n){typeof e!="string"?this._setAttribute("style",e,!1):this._setAttribute("style",[e,n],!1)}_removeStyle(e){this._removeAttribute("style",e)}_collectAttributesMatch(e,n,s){for(const[r,o,c]of e){let u=!1,f=!1;for(const[p,g]of this._attrs)if(!(s&&s.includes(p)||!E0(r,p)))if(u=!0,typeof g=="string"){if(E0(o,g))n.push([p]),f=!0;else if(!(r instanceof RegExp))return!1}else{const v=g._getTokensMatch(o,c||!0);if(v){f=!0;for(const _ of v)n.push([p,_])}else if(!(r instanceof RegExp))return!1}if(!u||!f)return!1}return!0}_getConsumables(e,n){const s=[];if(e){const r=this._attrs.get(e);if(r!==void 0)if(typeof r=="string")s.push([e]);else for(const o of r._getConsumables(n))s.push([e,o])}else for(const[r,o]of this._attrs)if(typeof o=="string")s.push([r]);else for(const c of o._getConsumables())s.push([r,c]);return{name:!e,attributes:s}}_canMergeAttributesFrom(e){if(this.name!=e.name)return!1;for(const[n,s]of e._attrs){const r=this._attrs.get(n);if(r!==void 0){if(typeof r=="string"||typeof s=="string"){if(r!==s)return!1}else if(!r._canMergeFrom(s))return!1}}return!0}_mergeAttributesFrom(e){this._fireChange("attributes",this);for(const[n,s]of e._attrs){const r=this._attrs.get(n);r===void 0||typeof r=="string"||typeof s=="string"?this._setAttribute(n,s):r._mergeFrom(s)}}_canSubtractAttributesOf(e){if(this.name!=e.name)return!1;for(const[n,s]of e._attrs){const r=this._attrs.get(n);if(r===void 0)return!1;if(typeof r=="string"||typeof s=="string"){if(r!==s)return!1}else if(!r._isMatching(s))return!1}return!0}_subtractAttributesOf(e){this._fireChange("attributes",this);for(const[n,s]of e._attrs){const r=this._attrs.get(n);typeof r=="string"||typeof s=="string"?this._attrs.delete(n):(r.remove(s.keys()),r.isEmpty&&this._attrs.delete(n))}}_setCustomProperty(e,n){this._customProperties.set(e,n)}_removeCustomProperty(e){return this._customProperties.delete(e)}_parseAttributes(e){const n=ua(e);for(const[s,r]of n)if(r===null)n.delete(s);else if(Ru(this.name,s)){const o=r instanceof Lh?r._clone():new Lh(this.document.stylesProcessor).setTo(String(r));n.set(s,o)}else if(lh(this.name,s)){const o=r instanceof jy?r._clone():new jy().setTo(String(r));n.set(s,o)}else typeof r!="string"&&n.set(s,String(r));return n}}pa.prototype.is=function(i,t){return t?t===this.name&&(i==="element"||i==="view:element"):i==="element"||i==="view:element"||i==="node"||i==="view:node"};function Z9(i,t){if(typeof t=="string")return[new ri(i,t)];Fs(t)||(t=[t]);const e=[];for(const n of t)typeof n=="string"?e.push(new ri(i,n)):n instanceof Xo?e.push(new ri(i,n.data)):e.push(n);return e}function lh(i,t){return t=="class"||i=="a"&&t=="rel"}function Ru(i,t){return t=="style"}class em extends pa{constructor(t,e,n,s){super(t,e,n,s),this.getFillerOffset=J9}toJSON(){const t=super.toJSON();return t.type="ContainerElement",t}}em.prototype.is=function(i,t){return t?t===this.name&&(i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function J9(){const i=[...this.getChildren()],t=i[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const e of i)if(!e.is("uiElement"))return null;return this.childCount}class gb extends Fn(em){constructor(t,e,n,s){super(t,e,n,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",r=>r&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}toJSON(){const t=super.toJSON();return t.type="EditableElement",t.isReadOnly=this.isReadOnly,t.isFocused=this.isFocused,t}}gb.prototype.is=function(i,t){return t?t===this.name&&(i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};const VC=Symbol("rootName");class mO extends gb{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(VC)}set rootName(t){this._setCustomProperty(VC,t)}toJSON(){return this.rootName}set _name(t){this.name=t}}mO.prototype.is=function(i,t){return t?t===this.name&&(i==="rootElement"||i==="view:rootElement"||i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="rootElement"||i==="view:rootElement"||i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};class vc{constructor(t={}){x(this,"direction");x(this,"boundaries");x(this,"singleCharacters");x(this,"shallow");x(this,"ignoreElementEnd");x(this,"_position");x(this,"_boundaryStartParent");x(this,"_boundaryEndParent");if(!t.boundaries&&!t.startPosition)throw new q("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new q("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=Ce._createAt(t.startPosition):this._position=Ce._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,n;do n=this.position,e=this.next();while(!e.done&&t(e.value));e.done||(this._position=n)}jumpTo(t){this._boundaryStartParent&&t.isBefore(this.boundaries.start)?t=this.boundaries.start:this._boundaryEndParent&&t.isAfter(this.boundaries.end)&&(t=this.boundaries.end),this._position=t.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(n.parent===null&&t.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(n&&n.is("view:$text")){if(t.isAtEnd)return this._position=Ce._createAfter(n),this._next();s=n.data[t.offset]}else s=n.getChild(t.offset);if(typeof s=="string"){let r;this.singleCharacters?r=1:r=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;const o=new Xo(n,t.offset,r);return t.offset+=r,this._position=t,this._formatReturnValue("text",o,e,t,r)}if(s&&s.is("view:element")){if(!this.shallow)t=new Ce(s,0);else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,this._formatReturnValue("elementStart",s,e,t,1)}if(s&&s.is("view:$text")){if(this.singleCharacters)return t=new Ce(s,0),this._position=t,this._next();let r=s.data.length,o;return s==this._boundaryEndParent?(r=this.boundaries.end.offset,o=new Xo(s,0,r),t=Ce._createAfter(o)):(o=new Xo(s,0,s.data.length),t.offset++),this._position=t,this._formatReturnValue("text",o,e,t,r)}return t=Ce._createAfter(n),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(n.is("view:$text")){if(t.isAtStart)return this._position=Ce._createBefore(n),this._previous();s=n.data[t.offset-1]}else s=n.getChild(t.offset-1);if(typeof s=="string"){let r;if(this.singleCharacters)r=1;else{const c=n===this._boundaryStartParent?this.boundaries.start.offset:0;r=t.offset-c}t.offset-=r;const o=new Xo(n,t.offset,r);return this._position=t,this._formatReturnValue("text",o,e,t,r)}if(s&&s.is("view:element"))return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",s,e,t,1)):(t=new Ce(s,s.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,e,t));if(s&&s.is("view:$text")){if(this.singleCharacters)return t=new Ce(s,s.data.length),this._position=t,this._previous();let r=s.data.length,o;if(s==this._boundaryStartParent){const c=this.boundaries.start.offset;o=new Xo(s,c,s.data.length-c),r=o.data.length,t=Ce._createBefore(o)}else o=new Xo(s,0,s.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",o,e,t,r)}return t=Ce._createBefore(n),this._position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,s,r){return e.is("view:$textProxy")&&(e.offsetInText+e.data.length==e.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=Ce._createAfter(e.textNode),this._position=s):n=Ce._createAfter(e.textNode)),e.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=Ce._createBefore(e.textNode),this._position=s):n=Ce._createBefore(e.textNode))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:s,length:r}}}}class Ce extends Ic{constructor(e,n){super();x(this,"parent");x(this,"offset");this.parent=e,this.offset=n}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof gb);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const n=Ce._createAt(this),s=n.offset+e;return n.offset=s<0?0:s,n}getLastMatchingPosition(e,n={}){n.startPosition=this;const s=new vc(n);return s.skip(e),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const n=this.getAncestors(),s=e.getAncestors();let r=0;for(;n[r]==s[r]&&n[r];)r++;return r===0?null:n[r-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const n=this.parent.is("node")?this.parent.getPath():[],s=e.parent.is("node")?e.parent.getPath():[];n.push(this.offset),s.push(e.offset);const r=Ti(n,s);switch(r){case"prefix":return"before";case"extension":return"after";default:return n[r]<s[r]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new vc(e)}clone(){return new Ce(this.parent,this.offset)}toJSON(){return{parent:this.parent.toJSON(),offset:this.offset}}static _createAt(e,n){if(e instanceof Ce)return new this(e.parent,e.offset);{const s=e;if(n=="end")n=s.is("$text")?s.data.length:s.childCount;else{if(n=="before")return this._createBefore(s);if(n=="after")return this._createAfter(s);if(n!==0&&!n)throw new q("view-createpositionat-offset-required",s)}return new Ce(s,n)}}static _createAfter(e){if(e.is("$textProxy"))return new Ce(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new q("view-position-after-root",e,{root:e});return new Ce(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Ce(e.textNode,e.offsetInText);if(!e.parent)throw new q("view-position-before-root",e,{root:e});return new Ce(e.parent,e.index)}}Ce.prototype.is=function(i){return i==="position"||i==="view:position"};class ut extends Ic{constructor(e,n=null){super();x(this,"start");x(this,"end");this.start=e.clone(),this.end=n?n.clone():e.clone()}*[Symbol.iterator](){yield*new vc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Eg,{direction:"backward"}),n=this.end.getLastMatchingPosition(Eg);return e.parent.is("$text")&&e.isAtStart&&(e=Ce._createBefore(e.parent)),n.parent.is("$text")&&n.isAtEnd&&(n=Ce._createAfter(n.parent)),new ut(e,n)}getTrimmed(){let e=this.start.getLastMatchingPosition(Eg);if(e.isAfter(this.end)||e.isEqual(this.end))return new ut(e,e);let n=this.end.getLastMatchingPosition(Eg,{direction:"backward"});const s=e.nodeAfter,r=n.nodeBefore;return s&&s.is("$text")&&(e=new Ce(s,0)),r&&r.is("$text")&&(n=new Ce(r,r.data.length)),new ut(e,n)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,n=!1){e.isCollapsed&&(n=!1);const s=this.containsPosition(e.start)||n&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||n&&this.end.isEqual(e.end);return s&&r}getDifference(e){const n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new ut(this.start,e.start)),this.containsPosition(e.end)&&n.push(new ut(e.end,this.end))):n.push(this.clone()),n}getIntersection(e){if(this.isIntersecting(e)){let n=this.start,s=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(s=e.end),new ut(n,s)}return null}getWalker(e={}){return e.boundaries=this,new vc(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,n=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(n=this.end.parent.previousSibling),e&&e.is("element")&&e===n?e:null}clone(){return new ut(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const n=new vc(e);for(const s of n)yield s.item}*getPositions(e={}){e.boundaries=this;const n=new vc(e);yield n.position;for(const s of n)yield s.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}static _createFromParentsAndOffsets(e,n,s,r){return new this(new Ce(e,n),new Ce(s,r))}static _createFromPositionAndShift(e,n){const s=e,r=e.getShiftedBy(n);return n>0?new this(s,r):new this(r,s)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const n=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Ce._createBefore(e),n)}}ut.prototype.is=function(i){return i==="range"||i==="view:range"};function Eg(i){return!!(i.item.is("attributeElement")||i.item.is("uiElement"))}class yo extends an(Ic){constructor(...e){super();x(this,"_ranges");x(this,"_lastRangeBackward");x(this,"_isFake");x(this,"_fakeSelectionLabel");this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const n of this._ranges)(!e||n.start.isBefore(e.start))&&(e=n);return e?e.clone():null}getLastRange(){let e=null;for(const n of this._ranges)(!e||n.end.isAfter(e.end))&&(e=n);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const n of this._ranges){let s=!1;for(const r of e._ranges)if(n.isEqual(r)){s=!0;break}if(!s)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const n=Fw(this.getRanges()),s=Fw(e.getRanges());if(n!=s)return!1;if(n==0)return!0;for(let r of this.getRanges()){r=r.getTrimmed();let o=!1;for(let c of e.getRanges())if(c=c.getTrimmed(),r.start.isEqual(c.start)&&r.end.isEqual(c.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[n,s,r]=e;if(typeof s=="object"&&(r=s,s=void 0),n===null)this._setRanges([]),this._setFakeOptions(r);else if(n instanceof yo||n instanceof Fx)this._setRanges(n.getRanges(),n.isBackward),this._setFakeOptions({fake:n.isFake,label:n.fakeSelectionLabel});else if(n instanceof ut)this._setRanges([n],r&&r.backward),this._setFakeOptions(r);else if(n instanceof Ce)this._setRanges([new ut(n)]),this._setFakeOptions(r);else if(n instanceof Pc){const o=!!r&&!!r.backward;let c;if(s===void 0)throw new q("view-selection-setto-required-second-parameter",this);s=="in"?c=ut._createIn(n):s=="on"?c=ut._createOn(n):c=new ut(Ce._createAt(n,s)),this._setRanges([c],o),this._setFakeOptions(r)}else if(Fs(n))this._setRanges(n,r&&r.backward),this._setFakeOptions(r);else throw new q("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,n){if(this.anchor===null)throw new q("view-selection-setfocus-no-ranges",this);const s=Ce._createAt(e,n);if(s.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.pop(),s.compareWith(r)=="before"?this._addRange(new ut(s,r),!0):this._addRange(new ut(r,s)),this.fire("change")}toJSON(){const e={ranges:Array.from(this.getRanges()).map(n=>n.toJSON())};return this.isBackward&&(e.isBackward=!0),this.isFake&&(e.isFake=!0),e}_setRanges(e,n=!1){e=Array.from(e),this._ranges=[];for(const s of e)this._addRange(s);this._lastRangeBackward=!!n}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,n=!1){if(!(e instanceof ut))throw new q("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!n}_pushRange(e){for(const n of this._ranges)if(e.isIntersecting(n))throw new q("view-selection-range-intersects",this,{addedRange:e,intersectingRange:n});this._ranges.push(new ut(e.start,e.end))}}yo.prototype.is=function(i){return i==="selection"||i==="view:selection"};class Fx extends an(Ic){constructor(...e){super();x(this,"_selection");this._selection=new yo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}toJSON(){return this._selection.toJSON()}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,n){this._selection.setFocus(e,n)}}Fx.prototype.is=function(i){return i==="selection"||i=="documentSelection"||i=="view:selection"||i=="view:documentSelection"};class Bc extends la{constructor(e,n,s){super(e,n);x(this,"startRange");x(this,"_eventPhase");x(this,"_currentTarget");this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Dy=Symbol("bubblingEmitter"),My=Symbol("bubblingCallbacks"),Fy=Symbol("bubblingContexts");function eF(i){class t extends i{fire(n,...s){try{const r=n instanceof la?n:new la(this,n),o=Vy(this),c=qC(this);if(ch(r,"capturing",this),kg(o,"$capture",r,...s))return r.return;const u=r.startRange||this.selection.getFirstRange(),f=u?u.getContainedElement():null,p=f?nF(c,f):!1;let g=f||iF(u);if(ch(r,"atTarget",g),!p){if(kg(o,"$text",r,...s))return r.return;ch(r,"bubbling",g)}for(;g;){if(g.is("element")&&kg(o,g,r,...s))return r.return;g=g.parent,ch(r,"bubbling",g)}return ch(r,"bubbling",this),kg(o,"$document",r,...s),r.return}catch(r){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(r,this)}}_addEventListener(n,s,r){const o=Zn(r.context||"$document"),c=Vy(this),u=zC(this);for(const p of o)typeof p=="function"&&qC(this).add(p);const f=tF(this,o,s);u.set(s,f),this.listenTo(c,n,f,r)}_removeEventListener(n,s){const r=Vy(this),o=zC(this),c=o.get(s);c&&(o.delete(s),this.stopListening(r,n,c))}}return t}function ch(i,t,e){i instanceof Bc&&(i._eventPhase=t,i._currentTarget=e)}function kg(i,t,e,...n){return i.fire(e,{currentTarget:t,eventArgs:n}),!!e.stop.called}function tF(i,t,e){return function(n,s){const{currentTarget:r,eventArgs:o}=s;if(typeof r=="string"){t.includes(r)&&e.call(i,n,...o);return}if(r.is("rootElement")&&t.includes("$root")){e.call(i,n,...o);return}if(t.includes(r.name)){e.call(i,n,...o);return}for(const c of t)if(typeof c=="function"&&c(r)){e.call(i,n,...o);return}}}function Vy(i){return i[Dy]||(i[Dy]=new(an())),i[Dy]}function zC(i){return i[My]||(i[My]=new Map),i[My]}function qC(i){return i[Fy]||(i[Fy]=new Set),i[Fy]}function nF(i,t){for(const e of i)if(e(t))return!0;return!1}function iF(i){if(!i)return null;const t=i.start.parent,e=i.end.parent,n=t.getPath(),s=e.getPath();return n.length>s.length?t:e}class pO extends eF(Fn()){constructor(e){super();x(this,"selection");x(this,"roots");x(this,"stylesProcessor");x(this,"_postFixers",new Set);this.selection=new Fx,this.roots=new ma({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let n=!1;do for(const s of this._postFixers)if(n=s(e),n)break;while(n)}}const HC=10;class xc extends pa{constructor(e,n,s,r){super(e,n,s,r);x(this,"_priority",HC);x(this,"_id",null);x(this,"_clonesGroup",null);this.getFillerOffset=sF}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new q("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}toJSON(){const e=super.toJSON();return e.type="AttributeElement",e}_clone(e=!1){const n=super._clone(e);return n._priority=this._priority,n._id=this._id,n}_canMergeAttributesFrom(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canMergeAttributesFrom(e)}_canSubtractAttributesOf(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canSubtractAttributesOf(e)}}x(xc,"DEFAULT_PRIORITY",HC);xc.prototype.is=function(i,t){return t?t===this.name&&(i==="attributeElement"||i==="view:attributeElement"||i==="element"||i==="view:element"):i==="attributeElement"||i==="view:attributeElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function sF(){if(zy(this))return null;let i=this.parent;for(;i&&i.is("attributeElement");){if(zy(i)>1)return null;i=i.parent}return!i||zy(i)>1?null:this.childCount}function zy(i){return Array.from(i.getChildren()).filter(t=>!t.is("uiElement")).length}class Vx extends pa{constructor(t,e,n,s){super(t,e,n,s),this.getFillerOffset=rF}toJSON(){const t=super.toJSON();return t.type="EmptyElement",t}_insertChild(t,e){if(e&&(e instanceof Pc||Array.from(e).length>0))throw new q("view-emptyelement-cannot-add",[this,e]);return 0}}Vx.prototype.is=function(i,t){return t?t===this.name&&(i==="emptyElement"||i==="view:emptyElement"||i==="element"||i==="view:element"):i==="emptyElement"||i==="view:emptyElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function rF(){return null}class bb extends pa{constructor(t,e,n,s){super(t,e,n,s),this.getFillerOffset=aF}_insertChild(t,e){if(e&&(e instanceof Pc||Array.from(e).length>0))throw new q("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const n of this.getAttributeKeys())e.setAttribute(n,this.getAttribute(n));return e}toJSON(){const t=super.toJSON();return t.type="UIElement",t}}bb.prototype.is=function(i,t){return t?t===this.name&&(i==="uiElement"||i==="view:uiElement"||i==="element"||i==="view:element"):i==="uiElement"||i==="view:uiElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function oF(i){i.document.on("arrowKey",(t,e)=>lF(t,e,i.domConverter),{priority:"low"})}function aF(){return null}function lF(i,t,e){if(t.keyCode==vt.arrowright){const n=t.domTarget.ownerDocument.defaultView.getSelection(),s=n.rangeCount==1&&n.getRangeAt(0).collapsed;if(s||t.shiftKey){const r=n.focusNode,o=n.focusOffset,c=e.domPositionToView(r,o);if(c===null)return;let u=!1;const f=c.getLastMatchingPosition(p=>(p.item.is("uiElement")&&(u=!0),!!(p.item.is("uiElement")||p.item.is("attributeElement"))));if(u){const p=e.viewPositionToDom(f);s?n.collapse(p.parent,p.offset):n.extend(p.parent,p.offset)}}}}class zx extends pa{constructor(t,e,n,s){super(t,e,n,s),this.getFillerOffset=cF}toJSON(){const t=super.toJSON();return t.type="RawElement",t}_insertChild(t,e){if(e&&(e instanceof Pc||Array.from(e).length>0))throw new q("view-rawelement-cannot-add",[this,e]);return 0}render(t,e){}}zx.prototype.is=function(i,t){return t?t===this.name&&(i==="rawElement"||i==="view:rawElement"||i==="element"||i==="view:element"):i==="rawElement"||i==="view:rawElement"||i===this.name||i==="view:"+this.name||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function cF(){return null}class Zu extends an(Ic){constructor(e,n){super();x(this,"document");x(this,"_children",[]);x(this,"_customProperties",new Map);this.document=e,n&&this._insertChild(0,n)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}toJSON(){const e=[];for(const n of this._children)e.push(n.toJSON());return e}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,n){this._fireChange("children",this,{index:e});let s=0;const r=uF(this.document,n);for(const o of r)o.parent!==null&&o._remove(),o.parent=this,this._children.splice(e,0,o),e++,s++;return s}_removeChildren(e,n=1){this._fireChange("children",this,{index:e});for(let s=e;s<e+n;s++)this._children[s].parent=null;return this._children.splice(e,n)}_fireChange(e,n,s){this.fire(`change:${e}`,n,s)}_setCustomProperty(e,n){this._customProperties.set(e,n)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Zu.prototype.is=function(i){return i==="documentFragment"||i==="view:documentFragment"};function uF(i,t){return typeof t=="string"?[new ri(i,t)]:(Fs(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new ri(i,e):e instanceof Xo?new ri(i,e.data):e))}class gO{constructor(t){x(this,"document");x(this,"_cloneGroups",new Map);x(this,"_slotFactory",null);this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new Zu(this.document,t)}createText(t){return new ri(this.document,t)}createAttributeElement(t,e,n={}){const s=new xc(this.document,t,e);return typeof n.priority=="number"&&(s._priority=n.priority),n.id&&(s._id=n.id),n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createContainerElement(t,e,n={},s={}){let r;mF(n)?s=n:r=n;const o=new em(this.document,t,e,r);return s.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),o}createEditableElement(t,e,n={}){const s=new gb(this.document,t,e);return n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createEmptyElement(t,e,n={}){const s=new Vx(this.document,t,e);return n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createUIElement(t,e,n){const s=new bb(this.document,t,e);return n&&(s.render=n),s}createRawElement(t,e,n,s={}){const r=new zx(this.document,t,e);return n&&(r.render=n),s.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),r}setAttribute(t,e,n,s){s!==void 0?s._setAttribute(t,e,n):n._setAttribute(t,e)}removeAttribute(t,e,n){n!==void 0?n._removeAttribute(t,e):e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){Zo(t)&&n===void 0?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof Ce?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new q("view-writer-break-non-container-element",this.document);if(!e.parent)throw new q("view-writer-break-root",this.document);if(t.isAtStart)return Ce._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(Ce._createAfter(e),n);const s=new ut(t,Ce._createAt(e,"end")),r=new Ce(n,0);this.move(s,r)}return Ce._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&n.childCount===0){const o=n.parent,c=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Ce(o,c))}const s=n.getChild(e-1),r=n.getChild(e);if(!s||!r)return t;if(s.is("$text")&&r.is("$text"))return WC(s,r);if(s.is("attributeElement")&&r.is("attributeElement")&&s.isSimilar(r)){const o=s.childCount;return s._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new Ce(s,o))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!e||!n||!e.is("containerElement")||!n.is("containerElement"))throw new q("view-writer-merge-containers-invalid-position",this.document);const s=e.getChild(e.childCount-1),r=s instanceof ri?Ce._createAt(s,"end"):Ce._createAt(e,"end");return this.move(ut._createIn(n),Ce._createAt(e,"end")),this.remove(ut._createOn(n)),r}insert(t,e){e=Fs(e)?[...e]:[e],bO(e,this.document);const n=e.reduce((o,c)=>{const u=o[o.length-1],f=!c.is("uiElement");return!u||u.breakAttributes!=f?o.push({breakAttributes:f,nodes:[c]}):u.nodes.push(c),o},[]);let s=null,r=t;for(const{nodes:o,breakAttributes:c}of n){const u=this._insertNodes(r,o,c);s||(s=u.start),r=u.end}return s?new ut(s,r):new ut(t)}remove(t){const e=t instanceof ut?t:ut._createOn(t);if(uh(e,this.document),e.isCollapsed)return new Zu(this.document);const{start:n,end:s}=this._breakAttributesRange(e,!0),r=n.parent,o=s.offset-n.offset,c=r._removeChildren(n.offset,o);for(const f of c)this._removeFromClonedElementsGroup(f);const u=this.mergeAttributes(n);return e.start=u,e.end=u.clone(),new Zu(this.document,c)}clear(t,e){uh(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of n){const r=s.item;let o;if(r.is("element")&&e.isSimilar(r))o=ut._createOn(r);else if(!s.nextPosition.isAfter(t.start)&&r.is("$textProxy")){const c=r.getAncestors().find(u=>u.is("element")&&e.isSimilar(u));c&&(o=ut._createIn(c))}o&&(o.end.isAfter(t.end)&&(o.end=t.end),o.start.isBefore(t.start)&&(o.start=t.start),this.remove(o))}}move(t,e){let n;if(e.isAfter(t.end)){e=this._breakAttributes(e,!0);const s=e.parent,r=s.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=s.childCount-r}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof xc))throw new q("view-writer-wrap-invalid-attribute",this.document);if(uh(t,this.document),t.isCollapsed){let n=t.start;n.parent.is("element")&&!dF(n.parent)&&(n=n.getLastMatchingPosition(r=>r.item.is("uiElement"))),n=this._wrapPosition(n,e);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new ut(n)}else return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof xc))throw new q("view-writer-unwrap-invalid-attribute",this.document);if(uh(t,this.document),t.isCollapsed)return t;const{start:n,end:s}=this._breakAttributesRange(t,!0),r=n.parent,o=this._unwrapChildren(r,n.offset,s.offset,e),c=this.mergeAttributes(o.start);c.isEqual(o.start)||o.end.offset--;const u=this.mergeAttributes(o.end);return new ut(c,u)}rename(t,e){const n=new em(this.document,t,e.getAttributes());return this.insert(Ce._createAfter(e),n),this.move(ut._createIn(e),Ce._createAt(n,0)),this.remove(ut._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return Ce._createAt(t,e)}createPositionAfter(t){return Ce._createAfter(t)}createPositionBefore(t){return Ce._createBefore(t)}createRange(t,e){return new ut(t,e)}createRangeOn(t){return ut._createOn(t)}createRangeIn(t){return ut._createIn(t)}createSelection(...t){return new yo(...t)}createSlot(t="children"){if(!this._slotFactory)throw new q("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,n){let s;if(n?s=qw(t):s=t.parent.is("$text")?t.parent.parent:t.parent,!s)throw new q("view-writer-invalid-position-container",this.document);let r;n?r=this._breakAttributes(t,!0):r=t.parent.is("$text")?qy(t):t;const o=s._insertChild(r.offset,e);for(const p of e)this._addToClonedElementsGroup(p);const c=r.getShiftedBy(o),u=this.mergeAttributes(r);u.isEqual(r)||c.offset--;const f=this.mergeAttributes(c);return new ut(u,f)}_wrapChildren(t,e,n,s){let r=e;const o=[];for(;r<n;){const u=t.getChild(r),f=u.is("$text"),p=u.is("attributeElement");if(p&&u._canMergeAttributesFrom(s))u._mergeAttributesFrom(s),o.push(new Ce(t,r));else if(f||!p||fF(s,u)){const g=s._clone();u._remove(),g._appendChild(u),t._insertChild(r,g),this._addToClonedElementsGroup(g),o.push(new Ce(t,r))}else this._wrapChildren(u,0,u.childCount,s);r++}let c=0;for(const u of o){if(u.offset-=c,u.offset==e)continue;this.mergeAttributes(u).isEqual(u)||(c++,n--)}return ut._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,s){let r=e;const o=[];for(;r<n;){const u=t.getChild(r);if(!u.is("attributeElement")){r++;continue}if(u.isSimilar(s)){const f=u.getChildren(),p=u.childCount;u._remove(),t._insertChild(r,f),this._removeFromClonedElementsGroup(u),o.push(new Ce(t,r),new Ce(t,r+p)),r+=p,n+=p-1;continue}if(u._canSubtractAttributesOf(s)){u._subtractAttributesOf(s),o.push(new Ce(t,r),new Ce(t,r+1)),r++;continue}this._unwrapChildren(u,0,u.childCount,s),r++}let c=0;for(const u of o){if(u.offset-=c,u.offset==e||u.offset==n)continue;this.mergeAttributes(u).isEqual(u)||(c++,n--)}return ut._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:s}=this._breakAttributesRange(t,!0),r=n.parent,o=this._wrapChildren(r,n.offset,s.offset,e),c=this.mergeAttributes(o.start);c.isEqual(o.start)||o.end.offset--;const u=this.mergeAttributes(o.end);return new ut(c,u)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return UC(t.clone());t.parent.is("$text")&&(t=qy(t));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const s=new ut(t,t.getShiftedBy(1));this.wrap(s,e);const r=new Ce(n.parent,n.index);n._remove();const o=r.nodeBefore,c=r.nodeAfter;return o&&o.is("view:$text")&&c&&c.is("view:$text")?WC(o,c):UC(r)}_breakAttributesRange(t,e=!1){const n=t.start,s=t.end;if(uh(t,this.document),t.isCollapsed){const u=this._breakAttributes(t.start,e);return new ut(u,u)}const r=this._breakAttributes(s,e),o=r.parent.childCount,c=this._breakAttributes(n,e);return r.offset+=r.parent.childCount-o,new ut(c,r)}_breakAttributes(t,e=!1){const n=t.offset,s=t.parent;if(t.parent.is("emptyElement"))throw new q("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new q("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new q("view-writer-cannot-break-raw-element",this.document);if(!e&&s.is("$text")&&Hw(s.parent)||Hw(s))return t.clone();if(s.is("$text"))return this._breakAttributes(qy(t),e);const r=s.childCount;if(n==r){const o=new Ce(s.parent,s.index+1);return this._breakAttributes(o,e)}else if(n===0){const o=new Ce(s.parent,s.index);return this._breakAttributes(o,e)}else{const o=s.index+1,c=s._clone();s.parent._insertChild(o,c),this._addToClonedElementsGroup(c);const u=s.childCount-n,f=s._removeChildren(n,u);c._appendChild(f);const p=new Ce(s.parent,o);return this._breakAttributes(p,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const s of t.getChildren())this._addToClonedElementsGroup(s);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const s of t.getChildren())this._removeFromClonedElementsGroup(s);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function dF(i){return Array.from(i.getChildren()).some(t=>!t.is("uiElement"))}function qw(i){let t=i.parent;for(;!Hw(t);){if(!t)return;t=t.parent}return t}function fF(i,t){return i.priority<t.priority?!0:i.priority>t.priority?!1:i.getIdentity()<t.getIdentity()}function UC(i){const t=i.nodeBefore;if(t&&t.is("$text"))return new Ce(t,t.data.length);const e=i.nodeAfter;return e&&e.is("$text")?new Ce(e,0):i}function qy(i){if(i.offset==i.parent.data.length)return new Ce(i.parent.parent,i.parent.index+1);if(i.offset===0)return new Ce(i.parent.parent,i.parent.index);const t=i.parent.data.slice(i.offset);return i.parent._data=i.parent.data.slice(0,i.offset),i.parent.parent._insertChild(i.parent.index+1,new ri(i.root.document,t)),new Ce(i.parent.parent,i.parent.index+1)}function WC(i,t){const e=i.data.length;return i._data+=t.data,t._remove(),new Ce(i,e)}const hF=[ri,xc,em,Vx,zx,bb];function bO(i,t){for(const e of i){if(!hF.some(n=>e instanceof n))throw new q("view-writer-insert-invalid-node-type",t);e.is("$text")||bO(e.getChildren(),t)}}function Hw(i){return i&&(i.is("containerElement")||i.is("documentFragment"))}function uh(i,t){const e=qw(i.start),n=qw(i.end);if(!e||!n||e!==n)throw new q("view-writer-invalid-range-container",t)}function mF(i){return Zo(i)}const vO=i=>i.createTextNode(""),yO=i=>{const t=i.createElement("span");return t.dataset.ckeFiller="true",t.innerText="",t},wO=i=>{const t=i.createElement("br");return t.dataset.ckeFiller="true",t},js=7,tm="".repeat(js);function es(i){return typeof i=="string"?i.substr(0,js)===tm:Sn(i)&&i.data.substr(0,js)===tm}function Qu(i){return i.data.length==js&&es(i)}function GC(i){const t=typeof i=="string"?i:i.data;return es(i)?t.slice(js):t}function pF(i){i.document.on("arrowKey",gF,{priority:"low"})}function gF(i,t){if(t.keyCode==vt.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const n=e.getRangeAt(0).startContainer,s=e.getRangeAt(0).startOffset;es(n)&&s<=js&&e.collapse(n,0)}}}class bF extends Fn(){constructor(e,n){super();x(this,"domDocuments",new Set);x(this,"domConverter");x(this,"markedAttributes",new Set);x(this,"markedChildren",new Set);x(this,"markedTexts",new Set);x(this,"selection");x(this,"_inlineFiller",null);x(this,"_fakeSelectionContainer",null);this.domConverter=e,this.selection=n,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),Ge.isBlink&&!Ge.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,n){if(e==="text")this.domConverter.mapViewToDom(n.parent)&&this.markedTexts.add(n);else{if(!this.domConverter.mapViewToDom(n))return;if(e==="attributes")this.markedAttributes.add(n);else if(e==="children")this.markedChildren.add(n);else throw new q("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!Ge.isAndroid)return;let e=null;const n=Ge.isBlink&&!Ge.isAndroid?!this.isSelecting:!0;for(const s of this.markedChildren)this._updateChildrenMappings(s);n?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Ce._createBefore(e.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:e});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:e});if(n)if(e){const s=this.domConverter.viewPositionToDom(e),r=s.parent.ownerDocument;es(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=KC(r,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const n=this.domConverter.mapViewToDom(e);if(!n)return;const s=Array.from(n.childNodes),r=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),o=this._diffNodeLists(s,r),c=this._findUpdateActions(o,s,r,yF);if(c.indexOf("update")!==-1){const u={equal:0,insert:0,delete:0};for(const f of c)if(f==="update"){const p=u.equal+u.insert,g=u.equal+u.delete,v=e.getChild(p);v&&!v.is("uiElement")&&!v.is("rawElement")&&this._updateElementMappings(v,s[g]),NC(r[p]),u.equal++}else u[f]++}}_updateElementMappings(e,n){this.domConverter.unbindDomElement(n),this.domConverter.bindElements(n,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Ce._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),n=this.domConverter.viewPositionToDom(e);return!!(n&&Sn(n.parent)&&es(n.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!es(e))throw new q("view-renderer-filler-was-lost",this);Qu(e)?e.remove():e.data=e.data.substr(js),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),n=e.parent,s=e.offset;if(!this.domConverter.mapViewToDom(n.root)||!n.is("element")||!vF(n))return!1;const r=e.nodeBefore,o=e.nodeAfter;return!(r instanceof ri||o instanceof ri||s===n.getFillerOffset()&&(!r||!r.is("element","br"))||Ge.isAndroid&&(r||o))}_updateText(e,n){const s=this.domConverter.findCorrespondingDomText(e);let o=this.domConverter.viewToDom(e).data;const c=n.inlineFillerPosition;c&&c.parent==e.parent&&c.offset==e.index&&(o=tm+o),this._updateTextNode(s,o)}_updateAttrs(e){const n=this.domConverter.mapViewToDom(e);if(n){for(const s of Array.from(n.attributes)){const r=s.name;e.hasAttribute(r)||this.domConverter.removeDomElementAttribute(n,r)}for(const s of e.getAttributeKeys())this.domConverter.setDomElementAttribute(n,s,e.getAttribute(s),e)}}_updateChildren(e,n){const s=this.domConverter.mapViewToDom(e);if(!s)return;if(Ge.isAndroid){let v=null;for(const _ of Array.from(s.childNodes)){if(v&&Sn(v)&&Sn(_)){s.normalize();break}v=_}}const r=n.inlineFillerPosition,o=s.childNodes,c=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));r&&r.parent===e&&KC(s.ownerDocument,c,r.offset);const u=this._diffNodeLists(o,c),f=this._findUpdateActions(u,o,c,wF);let p=0;const g=new Set;for(const v of f)v==="delete"?(g.add(o[p]),NC(o[p])):(v==="equal"||v==="update")&&p++;p=0;for(const v of f)v==="insert"?(iO(s,p,c[p]),p++):v==="update"?(this._updateTextNode(o[p],c[p].data),p++):v==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(c[p])),p++);for(const v of g)v.parentNode||this.domConverter.unbindDomElement(v)}_diffNodeLists(e,n){return e=EF(e,this._fakeSelectionContainer),Xu(e,n,xF.bind(null,this.domConverter))}_findUpdateActions(e,n,s,r){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let o=[],c=[],u=[];const f={equal:0,insert:0,delete:0};for(const p of e)p==="insert"?u.push(s[f.equal+f.insert]):p==="delete"?c.push(n[f.equal+f.delete]):(o=o.concat(Xu(c,u,r).map(g=>g==="equal"?"update":g)),o.push("equal"),c=[],u=[]),f[p]++;return o.concat(Xu(c,u,r).map(p=>p==="equal"?"update":p))}_updateTextNode(e,n){const s=e.data;s!=n&&(Ge.isAndroid&&this.isComposing&&s.replace(/\u00A0/g," ")==n.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,n))}_updateTextNodeInternal(e,n){const s=WR(e.data,n);for(const r of s)r.type==="insert"?e.insertData(r.index,r.values.join("")):e.deleteData(r.index,r.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const n of e.getChildren())this._markDescendantTextToSync(n)}}_updateSelection(){if(Ge.isBlink&&!Ge.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);if(!this.isFocused||!e){!this.selection.isFake&&this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected&&this._removeFakeSelection();return}this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&Ge.isAndroid||this._updateDomSelection(e)}_updateFakeSelection(e){const n=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=kF(n));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!s.parentElement||s.parentElement!=e)&&e.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||"";const r=n.getSelection(),o=n.createRange();r.removeAllRanges(),o.selectNodeContents(s),r.addRange(o)}_updateDomSelection(e){const n=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(n))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);n.setBaseAndExtent(s.parent,s.offset,r.parent,r.offset),Ge.isGecko&&_F(r,n)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const n=e&&this.domConverter.domSelectionToView(e);return!(n&&this.selection.isEqual(n)||!this.selection.isCollapsed&&this.selection.isSimilar(n))}_fakeSelectionNeedsUpdate(e){const n=this._fakeSelectionContainer,s=e.ownerDocument.getSelection();return!n||n.parentElement!==e||s.anchorNode!==n&&!n.contains(s.anchorNode)?!0:n.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const n=e.getSelection();if(n.rangeCount){const s=e.activeElement,r=this.domConverter.mapDomToView(s);s&&r&&n.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function vF(i){if(i.getAttribute("contenteditable")=="false")return!1;const t=i.findAncestor(e=>e.hasAttribute("contenteditable"));return!t||t.getAttribute("contenteditable")=="true"}function KC(i,t,e){const n=t instanceof Array?t:t.childNodes,s=n[e];if(Sn(s))return s.data=tm+s.data,s;{const r=i.createTextNode(tm);return Array.isArray(t)?n.splice(e,0,r):iO(t,e,r),r}}function yF(i,t){return bl(i)&&bl(t)&&!Sn(i)&&!Sn(t)&&!Bh(i)&&!Bh(t)&&i.tagName.toLowerCase()===t.tagName.toLowerCase()}function wF(i,t){return bl(i)&&bl(t)&&Sn(i)&&Sn(t)}function xF(i,t,e){return t===e?!0:Sn(t)&&Sn(e)?t.data===e.data:!!(i.isBlockFiller(t)&&i.isBlockFiller(e))}function _F(i,t){let e=i.parent,n=i.offset;if(Sn(e)&&Qu(e)&&(n=Ku(e)+1,e=e.parentNode),e.nodeType!=Node.ELEMENT_NODE||n!=e.childNodes.length-1)return;const s=e.childNodes[n];s&&s.tagName=="BR"&&t.addRange(t.getRangeAt(0))}function EF(i,t){const e=Array.from(i);return e.length==0||!t||e[e.length-1]==t&&e.pop(),e}function kF(i){const t=i.createElement("div");return t.className="ck-fake-selection-container",Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="",t}const CF=wO(Be.document),SF=vO(Be.document),AF=yO(Be.document),Cg="data-ck-unsafe-attribute-",QC="data-ck-unsafe-element";class xO{constructor(t,{blockFillerMode:e,renderingMode:n="editing"}={}){x(this,"document");x(this,"renderingMode");x(this,"blockFillerMode");x(this,"preElements");x(this,"blockElements");x(this,"inlineObjectElements");x(this,"unsafeElements");x(this,"_domDocument");x(this,"_domToViewMapping",new WeakMap);x(this,"_viewToDomMapping",new WeakMap);x(this,"_fakeSelectionMapping",new WeakMap);x(this,"_rawContentElementMatcher",new Jh);x(this,"_inlineObjectElementMatcher",new Jh);x(this,"_elementsWithTemporaryCustomProperties",new Set);this.document=t,this.renderingMode=n,this.blockFillerMode=e||(n==="editing"?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Be.document:Be.document.implementation.createHTMLDocument("")}get domDocument(){return this._domDocument}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new yo(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const n of t.children)this.unbindDomElement(n)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,n){return this.renderingMode==="data"?!0:(t=t.toLowerCase(),t.startsWith("on")||t==="srcdoc"&&e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:n==="img"&&(t==="src"||t==="srcset")||n==="source"&&t==="srcset"?!0:!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,e){if(this.renderingMode==="data"){t.innerHTML=e;return}const n=new DOMParser().parseFromString(e,"text/html"),s=n.createDocumentFragment(),r=n.body.childNodes;for(;r.length>0;)s.appendChild(r[0]);const o=n.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),c=[];let u;for(;u=o.nextNode();)c.push(u);for(const f of c){for(const g of f.getAttributeNames())this.setDomElementAttribute(f,g,f.getAttribute(g));const p=f.tagName.toLowerCase();this._shouldRenameElement(p)&&(ZC(p),f.replaceWith(this._createReplacementDomElement(p,f)))}for(;t.firstChild;)t.firstChild.remove();t.append(s)}viewToDom(t,e={}){if(t.is("$text")){const n=this._processDataFromViewText(t);return this._domDocument.createTextNode(n)}else{const n=t;if(this.mapViewToDom(n))if(n.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(n);else return this.mapViewToDom(n);let s;if(n.is("documentFragment"))s=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(s,n);else{if(n.is("uiElement"))return n.name==="$comment"?s=this._domDocument.createComment(n.getCustomProperty("$rawContent")):s=n.render(this._domDocument,this),e.bind&&this.bindElements(s,n),s;this._shouldRenameElement(n.name)?(ZC(n.name),s=this._createReplacementDomElement(n.name)):n.hasAttribute("xmlns")?s=this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):s=this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(s,this),e.bind&&this.bindElements(s,n);for(const r of n.getAttributeKeys())this.setDomElementAttribute(s,r,n.getAttribute(r),n)}if(e.withChildren!==!1)for(const r of this.viewChildrenToDom(n,e))s instanceof HTMLTemplateElement?s.content.appendChild(r):s.appendChild(r);return s}}setDomElementAttribute(t,e,n,s){const r=this.shouldRenderAttribute(e,n,t.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(e);if(r||zn("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:n}),!a9(e)){zn("domconverter-invalid-attribute-detected",{domElement:t,key:e,value:n});return}t.hasAttribute(e)&&!r?t.removeAttribute(e):t.hasAttribute(Cg+e)&&r&&t.removeAttribute(Cg+e),t.setAttribute(r?e:Cg+e,n)}removeDomElementAttribute(t,e){e!=QC&&(t.removeAttribute(e),t.removeAttribute(Cg+e))}*viewChildrenToDom(t,e={}){const n=t.getFillerOffset&&t.getFillerOffset();let s=0;for(const r of t.getChildren()){n===s&&(yield this._getBlockFiller());const o=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!Lr(r.getAttributes());if(o&&this.renderingMode=="data")if(r.is("rawElement")){const c=this._domDocument.createElement(r.name);r.render(c,this),yield*[...c.childNodes]}else yield*this.viewChildrenToDom(r,e);else o&&zn("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,e);s++}n===s&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),s=this._domDocument.createRange();return s.setStart(e.parent,e.offset),s.setEnd(n.parent,n.offset),s}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let s=t.offset;return es(n)&&(s+=js),n.data&&s>n.data.length&&(s=n.data.length),{parent:n,offset:s}}else{let n,s,r;if(t.offset===0){if(n=this.mapViewToDom(e),!n)return null;r=n.childNodes[0]}else{const c=t.nodeBefore;if(s=c.is("$text")?this.findCorrespondingDomText(c):this.mapViewToDom(c),!s)return null;n=s.parentNode,r=s.nextSibling}if(Sn(r)&&es(r))return{parent:r,offset:js};const o=s?Ku(s)+1:0;return{parent:n,offset:o}}}domToView(t,e={}){const n=[],s=this._domToView(t,e,n),r=s.next().value;return!r||(s.next(),this._processDomInlineNodes(null,n,e),this.blockFillerMode=="br"&&$C(r))||r.is("$text")&&r.data.length==0?null:r}*domChildrenToView(t,e={},n=[]){let s=[];t instanceof HTMLTemplateElement?s=[...t.content.childNodes]:s=[...t.childNodes];for(let r=0;r<s.length;r++){const o=s[r],c=this._domToView(o,e,n),u=c.next().value;u!==null&&(this._isBlockViewElement(u)&&this._processDomInlineNodes(t,n,e),this.blockFillerMode=="br"&&$C(u)||(yield u),c.next())}this._processDomInlineNodes(t,n,e)}domSelectionToView(t){if(IF(t))return new yo([]);if(t.rangeCount===1){let s=t.getRangeAt(0).startContainer;Sn(s)&&(s=s.parentNode);const r=this.fakeSelectionToView(s);if(r)return r}const e=this.isDomSelectionBackward(t),n=[];for(let s=0;s<t.rangeCount;s++){const r=t.getRangeAt(s),o=this.domRangeToView(r);o&&n.push(o)}return new yo(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new ut(e,n):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Ku(t));const n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return Ce._createBefore(n);if(Sn(t)){if(Qu(t))return this.domPositionToView(t.parentNode,Ku(t));const s=this.findCorrespondingViewText(t);let r=e;return s?(es(t)&&(r-=js,r=r<0?0:r),new Ce(s,r)):null}else{if(e===0){const s=this.mapDomToView(t);if(s)return new Ce(s,0)}else{const s=t.childNodes[e-1];if(Sn(s)&&Qu(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,Ku(s));const r=Sn(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(r&&r.parent)return new Ce(r.parent,r.index+1)}return null}}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Qu(t))return null;const e=this.getHostViewElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const s=this.mapDomToView(n);if(s){const r=s.nextSibling;return r instanceof ri?r:null}}else{const s=this.mapDomToView(t.parentNode);if(s){const r=s.getChild(0);return r instanceof ri?r:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(!e||e.ownerDocument.activeElement===e)return;const{scrollX:n,scrollY:s}=Be.window,r=[];YC(e,o=>{const{scrollLeft:c,scrollTop:u}=o;r.push([c,u])}),e.focus({preventScroll:!0}),YC(e,o=>{const[c,u]=r.shift();o.scrollLeft=c,o.scrollTop=u}),Be.window.scrollTo(n,s)}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const e=t.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(e);n&&n.rangeCount>0&&e.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(CF):XC(t,this.blockElements)?!0:t.isEqualNode(AF)||NF(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch{return!1}const n=e.collapsed;return e.detach(),n}getHostViewElement(t){const e=i9(t);for(e.pop();e.length;){const n=e.pop(),s=this._domToViewMapping.get(n);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_clearTemporaryCustomProperties(){for(const t of this._elementsWithTemporaryCustomProperties)t._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return vO(this._domDocument);case"markedNbsp":return yO(this._domDocument);case"br":return wO(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if(Sn(t)&&es(t)&&e<js||this.isElement(t)&&es(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!(n&&(n.is("uiElement")||n.is("rawElement")))}*_domToView(t,e,n){if(this.blockFillerMode!="br"&&XC(t,this.blockElements))return null;const s=this.getHostViewElement(t);if(s)return s;if(Bh(t)&&e.skipComments)return null;if(Sn(t)){if(Qu(t))return null;{const r=t.data;if(r==="")return null;const o=new ri(this.document,r);return n.push(o),o}}else{let r=this.mapDomToView(t);if(r)return this._isInlineObjectElement(r)&&n.push(r),r;if(this.isDocumentFragment(t))r=new Zu(this.document),e.bind&&this.bindDocumentFragments(t,r);else{r=this._createViewElement(t,e),e.bind&&this.bindElements(t,r);const c=t.attributes;if(c)for(let u=c.length,f=0;f<u;f++)r._setAttribute(c[f].name,c[f].value);if(this._isViewElementWithRawContent(r,e))return r._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(r)||n.push(r),r;if(Bh(t))return r._setCustomProperty("$rawContent",t.data),r}yield r;const o=[];if(e.withChildren!==!1)for(const c of this.domChildrenToView(t,e,o))r._appendChild(c);if(this._isInlineObjectElement(r))n.push(r),this._processDomInlineNodes(null,o,e);else for(const c of o)n.push(c)}}_processDomInlineNodes(t,e,n){if(!e.length||t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let s=!1;for(let r=0;r<e.length;r++){const o=e[r];if(!o.is("$text")){s=!1;continue}let c,u=!1;if(this._isPreFormatted(o))c=GC(o.data);else{c=o.data.replace(/[ \n\t\r]{1,}/g," "),u=/[^\S\u00A0]/.test(c.charAt(c.length-1));const f=r>0?e[r-1]:null,p=r+1<e.length?e[r+1]:null,g=!f||f.is("element")&&f.name=="br"||s,v=p?!1:!es(o.data);n.withChildren!==!1&&(g&&(c=c.replace(/^ /,"")),v&&(c=c.replace(/ $/,""))),c=GC(c),this.blockFillerMode!="br"&&o.parent&&(OF(o.parent,c)?(c="",o.parent.parent&&(o.parent.parent._setCustomProperty("$hasBlockFiller",!0),o.parent._remove())):RF(o.parent,c,this.blockElements)&&(c="",o.parent._setCustomProperty("$hasBlockFiller",!0))),c=c.replace(/ \u00A0/g,"  ");const _=p&&p.is("element")&&p.name!="br",E=p&&p.is("$text")&&p.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(c)||!p||_||E)&&(c=c.replace(/\u00A0$/," ")),(g||f&&f.is("element")&&f.name!="br")&&(c=c.replace(/^\u00A0/," "))}c.length==0&&o.parent?(o._remove(),e.splice(r,1),r--):(o._data=c,s=u)}e.length=0}_processDataFromViewText(t){let e=t.data;if(this._isPreFormatted(t))return e;if(e.charAt(0)==" "){const n=this._getTouchingInlineViewNode(t,!1);(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n)||!n)&&(e=""+e.substr(1))}if(e.charAt(e.length-1)==" "){const n=this._getTouchingInlineViewNode(t,!0),s=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";(e.charAt(e.length-2)==" "||!n||s)&&(e=e.substr(0,e.length-1)+"")}return e.replace(/ {2}/g," ")}_nodeEndsWithSpace(t){if(this._isPreFormatted(t))return!1;const e=this._processDataFromViewText(t);return e.charAt(e.length-1)==" "}_isPreFormatted(t){if(TF(t,this.preElements))return!0;for(const e of t.getAncestors({parentFirst:!0}))if(!(!e.is("element")||!e.hasStyle("white-space")||e.getStyle("white-space")==="inherit"))return["pre","pre-wrap","break-spaces"].includes(e.getStyle("white-space"));return!1}_getTouchingInlineViewNode(t,e){const n=new vc({startPosition:e?Ce._createAfter(t):Ce._createBefore(t),direction:e?"forward":"backward"});for(const{item:s}of n){if(s.is("$textProxy"))return s;if(s.is("element")&&s.getCustomProperty("dataPipeline:transparentRendering"))continue;if(s.is("element","br"))return null;if(this._isInlineObjectElement(s))return s;if(s.is("containerElement")||this._isBlockViewElement(s))return null}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return t.is("element")?t.name=="br"||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t):!1}_createViewElement(t,e){if(Bh(t))return new bb(this.document,"$comment");const n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new pa(this.document,n)}_isViewElementWithRawContent(t,e){return e.withChildren!==!1&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const n=this._domDocument.createElement("span");if(n.setAttribute(QC,t),e){for(;e.firstChild;)n.appendChild(e.firstChild);for(const s of e.getAttributeNames())n.setAttribute(s,e.getAttribute(s))}return n}}function TF(i,t){return i.getAncestors().some(e=>e.is("element")&&t.includes(e.name))}function YC(i,t){let e=i;for(;e;)t(e),e=e.parentElement}function NF(i,t){return i.isEqualNode(SF)&&_O(i,t)&&i.parentNode.childNodes.length===1}function _O(i,t){const e=i.parentNode;return!!e&&!!e.tagName&&t.includes(e.tagName.toLowerCase())}function RF(i,t,e){return t==""&&i&&i.is("element")&&i.childCount==1&&e.includes(i.name)}function OF(i,t){return t==""&&i&&i.is("element","span")&&i.childCount==1&&i.hasAttribute("data-cke-filler")}function $C(i){return i.is("element","br")&&i.hasAttribute("data-cke-filler")}function XC(i,t){return i.tagName==="BR"&&_O(i,t)&&i.parentNode.childNodes.length===1}function ZC(i){i==="script"&&zn("domconverter-unsafe-script-element-detected"),i==="style"&&zn("domconverter-unsafe-style-element-detected")}function IF(i){if(!Ge.isGecko||!i.rangeCount)return!1;const t=i.getRangeAt(0).startContainer;try{Object.prototype.toString.call(t)}catch{return!0}return!1}class ga extends zr(){constructor(e){super();x(this,"view");x(this,"document");x(this,"_isEnabled",!1);this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class Rc{constructor(t,e,n){x(this,"view");x(this,"document");x(this,"domEvent");x(this,"domTarget");this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,HR(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ba extends ga{constructor(){super(...arguments);x(this,"useCapture",!1);x(this,"usePassive",!1)}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(s=>{this.listenTo(e,s,(r,o)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(o.target)&&this.onDomEvent(o)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,n,s){this.isEnabled&&this.document.fire(e,new Rc(this.view,n,s))}}class PF extends ba{constructor(){super(...arguments);x(this,"domEventType",["keydown","keyup"])}onDomEvent(e){const n={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return md(this)}};this.fire(e.type,e,n)}}class BF extends ga{constructor(e){super(e);x(this,"_fireSelectionChangeDoneDebounced");this._fireSelectionChangeDoneDebounced=Nc(n=>{this.document.fire("selectionChangeDone",n)},200)}observe(){const e=this.document;e.on("arrowKey",(n,s)=>{e.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),e.on("arrowKey",(n,s)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const n=this.document.selection,s=new yo(n.getRanges(),{backward:n.isBackward,fake:!1});(e==vt.arrowleft||e==vt.arrowup)&&s.setTo(s.getFirstPosition()),(e==vt.arrowright||e==vt.arrowdown)&&s.setTo(s.getLastPosition());const r={oldSelection:n,newSelection:s,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}let EO=class extends ga{constructor(e){super(e);x(this,"domConverter");x(this,"_config");x(this,"_domElements");x(this,"_mutationObserver");this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const n=this.domConverter,s=new Set,r=new Set;for(const c of e){const u=n.mapDomToView(c.target);u&&(u.is("uiElement")||u.is("rawElement")||c.type==="childList"&&!this._isBogusBrMutation(c)&&r.add(u))}for(const c of e){const u=n.mapDomToView(c.target);if(!(u&&(u.is("uiElement")||u.is("rawElement")))&&c.type==="characterData"){const f=n.findCorrespondingViewText(c.target);f&&!r.has(f.parent)?s.add(f):!f&&es(c.target)&&r.add(n.mapDomToView(c.target.parentNode))}}const o=[];for(const c of s)o.push({type:"text",node:c});for(const c of r){const u=n.mapViewToDom(c),f=Array.from(c.getChildren()),p=Array.from(n.domChildrenToView(u,{withChildren:!1}));jw(f,p,LF)||o.push({type:"children",node:c})}o.length&&this.document.fire("mutations",{mutations:o})}_isBogusBrMutation(e){let n=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(n=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),n&&n.is("element","br")}};function LF(i,t){if(!Array.isArray(i))return i===t?!0:i.is("$text")&&t.is("$text")?i.data===t.data:!1}class k0 extends ba{constructor(e){super(e);x(this,"_renderTimeoutId",null);x(this,"_isFocusChanging",!1);x(this,"domEventType",["focus","blur"]);this.useCapture=!0;const n=this.document;n.on("focus",()=>this._handleFocus()),n.on("blur",(s,r)=>this._handleBlur(r)),n.on("beforeinput",()=>{n.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const n=this.document.selection.editableElement;(n===null||n===e.target)&&(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class jF extends ga{constructor(e){super(e);x(this,"mutationObserver");x(this,"focusObserver");x(this,"selection");x(this,"domConverter");x(this,"_documents",new WeakSet);x(this,"_fireSelectionChangeDoneDebounced");x(this,"_clearInfiniteLoopInterval");x(this,"_documentIsSelectingInactivityTimeoutDebounced");x(this,"_loopbackCounter",0);x(this,"_pendingSelectionChange",new Set);this.mutationObserver=e.getObserver(EO),this.focusObserver=e.getObserver(k0),this.selection=this.document.selection,this.domConverter=e.domConverter,this._fireSelectionChangeDoneDebounced=Nc(n=>{this.document.fire("selectionChangeDone",n)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Nc(()=>this.document.isSelecting=!1,5e3),this.view.document.on("change:isFocused",(n,s,r)=>{if(r&&this._pendingSelectionChange.size){for(const o of Array.from(this._pendingSelectionChange))this._handleSelectionChange(o);this._pendingSelectionChange.clear()}})}observe(e){const n=e.ownerDocument,s=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},r=()=>{this.document.isSelecting&&(this._handleSelectionChange(n),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",s,{priority:"highest"}),this.listenTo(e,"keydown",r,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",r,{priority:"highest",useCapture:!0}),!this._documents.has(n)&&(this.listenTo(n,"mouseup",r,{priority:"highest",useCapture:!0}),this.listenTo(n,"selectionchange",()=>{this.document.isComposing&&!Ge.isAndroid||(this._handleSelectionChange(n),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(n)},{priority:"lowest"}),this._documents.add(n))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const n=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(n);if(s.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.view.document.isFocused&&!this.view.document.isReadOnly){this._pendingSelectionChange.add(e);return}if(this._pendingSelectionChange.delete(e),!(this.selection.isEqual(s)&&this.domConverter.isDomSelectionCorrect(n))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(!DF(s))this.view.forceRender();else if(this.selection.isSimilar(s))this.view.forceRender();else{const r={oldSelection:this.selection,newSelection:s,domSelection:n};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}function DF(i){return Array.from(i.getRanges()).flatMap(t=>[t.start.root,t.end.root]).every(t=>t&&t.is("rootElement"))}class MF extends ba{constructor(e){super(e);x(this,"domEventType",["compositionstart","compositionupdate","compositionend"]);const n=this.document;n.on("compositionstart",()=>{n.isComposing=!0}),n.on("compositionend",()=>{n.isComposing=!1})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class kO{constructor(t,e={}){x(this,"_files");x(this,"_native");this._files=e.cacheFiles?JC(t):null,this._native=t}get files(){return this._files||(this._files=JC(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,e,n){this._native.setDragImage(t,e,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function JC(i){const t=Array.from(i.files||[]),e=Array.from(i.items||[]);return t.length?t:e.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class FF extends ba{constructor(){super(...arguments);x(this,"domEventType","beforeinput")}onDomEvent(e){const n=e.getTargetRanges(),s=this.view,r=s.document;let o=null,c=null,u=[];if(e.dataTransfer&&(o=new kO(e.dataTransfer)),e.data!==null?c=e.data:o&&(c=o.getData("text/plain")),r.selection.isFake)u=Array.from(r.selection.getRanges()),e.preventDefault();else if(n.length)u=n.map(f=>{let p=s.domConverter.domPositionToView(f.startContainer,f.startOffset);const g=s.domConverter.domPositionToView(f.endContainer,f.endOffset);if(p&&es(f.startContainer)&&f.startOffset<js){e.preventDefault();let v=js-f.startOffset;p=p.getLastMatchingPosition(_=>!!(_.item.is("attributeElement")||_.item.is("uiElement")||_.item.is("$textProxy")&&v--),{direction:"backward",singleCharacters:!0})}if(VF(f.endContainer,f.endOffset)&&e.preventDefault(),p)return s.createRange(p,g);if(g)return s.createRange(g)}).filter(f=>!!f);else if(Ge.isAndroid){const f=e.target.ownerDocument.defaultView.getSelection();u=Array.from(s.domConverter.domSelectionToView(f).getRanges())}if(Ge.isAndroid&&e.inputType=="insertCompositionText"&&c&&c.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[s.createRange(u[0].end)]});return}if(["insertText","insertReplacementText"].includes(e.inputType)&&c&&c.includes(`
`)){const f=c.split(/\n{1,2}/g);let p=u;e.preventDefault();for(let g=0;g<f.length;g++){const v=f[g];v!=""&&(this.fire(e.type,e,{data:v,dataTransfer:o,targetRanges:p,inputType:e.inputType,isComposing:e.isComposing}),p=[r.selection.getFirstRange()]),g+1<f.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:p}),p=[r.selection.getFirstRange()])}return}this.fire(e.type,e,{data:c,dataTransfer:o,targetRanges:u,inputType:e.inputType,isComposing:e.isComposing})}}function VF(i,t){for(;i.parentNode;){if(Sn(i)){if(t!=i.data.length)return!1}else if(t!=i.childNodes.length)return!1;if(t=Ku(i)+1,i=i.parentNode,t<i.childNodes.length&&es(i.childNodes[t]))return!0}return!1}class zF extends ga{constructor(t){super(t),this.document.on("keydown",(e,n)=>{if(this.isEnabled&&g9(n.keyCode)){const s=new Bc(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(s,n),s.stop.called&&e.stop()}})}observe(){}stopObserving(){}}class qF extends ga{constructor(t){super(t);const e=this.document;e.on("keydown",(n,s)=>{if(!this.isEnabled||s.keyCode!=vt.tab||s.ctrlKey)return;const r=new Bc(e,"tab",e.selection.getFirstRange());e.fire(r,s),r.stop.called&&n.stop()})}observe(){}stopObserving(){}}class HF extends Fn(){constructor(e){super();x(this,"document");x(this,"domConverter");x(this,"domRoots",new Map);x(this,"_renderer");x(this,"_initialDomRootAttributes",new WeakMap);x(this,"_observers",new Map);x(this,"_writer");x(this,"_ongoingChange",!1);x(this,"_postFixersInProgress",!1);x(this,"_renderingDisabled",!1);x(this,"_hasChangedSinceTheLastRendering",!1);this.document=new pO(e),this.domConverter=new xO(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new bF(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new gO(this.document),this.addObserver(EO),this.addObserver(k0),this.addObserver(jF),this.addObserver(PF),this.addObserver(BF),this.addObserver(MF),this.addObserver(zF),this.addObserver(FF),this.addObserver(qF),pF(this),oF(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),Ge.isiOS&&this.listenTo(this.document,"blur",(n,s)=>{this.domConverter.mapDomToView(s.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(n,{mutations:s})=>{s.forEach(r=>this._renderer.markToSync(r.type,r.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,n="main"){const s=this.document.getRoot(n);s._name=e.tagName.toLowerCase();const r={};for(const{name:c,value:u}of Array.from(e.attributes))r[c]=u,c==="class"?this._writer.addClass(u.split(" "),s):s.hasAttribute(c)||this._writer.setAttribute(c,u,s);this._initialDomRootAttributes.set(e,r);const o=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};o(),this.domRoots.set(n,e),this.domConverter.bindElements(e,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(e.ownerDocument),s.on("change:children",(c,u)=>this._renderer.markToSync("children",u)),s.on("change:attributes",(c,u)=>this._renderer.markToSync("attributes",u)),s.on("change:text",(c,u)=>this._renderer.markToSync("text",u)),s.on("change:isReadOnly",()=>this.change(o)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const c of this._observers.values())c.observe(e,n)}detachDomRoot(e){const n=this.domRoots.get(e);Array.from(n.attributes).forEach(({name:r})=>n.removeAttribute(r));const s=this._initialDomRootAttributes.get(n);for(const r in s)n.setAttribute(r,s[r]);this.domRoots.delete(e),this.domConverter.unbindDomElement(n);for(const r of this._observers.values())r.stopObserving(n)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let n=this._observers.get(e);if(n)return n;n=new e(this),this._observers.set(e,n);for(const[s,r]of this.domRoots)n.observe(r,s);return n.enable(),n}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:n,viewportOffset:s=20,ancestorOffset:r=20}={}){const o=this.document.selection.getFirstRange();if(!o)return;const c=ks({alignToTop:e,forceScroll:n,viewportOffset:s,ancestorOffset:r});typeof s=="number"&&(s={top:s,bottom:s,left:s,right:s});const u={target:this.domConverter.viewRangeToDom(o),viewportOffset:s,ancestorOffset:r,alignToTop:e,forceScroll:n};this.fire("scrollToTheSelection",u,c),c9(u)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new q("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const n=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),n}catch(n){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(n,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(k0).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,n){return Ce._createAt(e,n)}createPositionAfter(e){return Ce._createAfter(e)}createPositionBefore(e){return Ce._createBefore(e)}createRange(e,n){return new ut(e,n)}createRangeOn(e){return ut._createOn(e)}createRangeIn(e){return ut._createIn(e)}createSelection(...e){return new yo(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class El{is(){throw new Error("is() method is abstract")}}class Pr extends El{constructor(e,n,s){super();x(this,"textNode");x(this,"data");x(this,"offsetInText");if(this.textNode=e,n<0||n>e.offsetSize)throw new q("model-textproxy-wrong-offsetintext",this);if(s<0||n+s>e.offsetSize)throw new q("model-textproxy-wrong-length",this);this.data=e.data.substring(n,n+s),this.offsetInText=n}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const n=[];let s=e.includeSelf?this:this.parent;for(;s;)n[e.parentFirst?"push":"unshift"](s),s=s.parent;return n}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Pr.prototype.is=function(i){return i==="$textProxy"||i==="model:$textProxy"||i==="textProxy"||i==="model:textProxy"};class ea{constructor(t){x(this,"direction");x(this,"boundaries");x(this,"singleCharacters");x(this,"shallow");x(this,"ignoreElementEnd");x(this,"_position");x(this,"_boundaryStartParent");x(this,"_boundaryEndParent");x(this,"_visitedParent");if(!t||!t.boundaries&&!t.startPosition)throw new q("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if(e!="forward"&&e!="backward")throw new q("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=me._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,n,s,r;do s=this.position,r=this._visitedParent,{done:e,value:n}=this.next();while(!e&&t(n));e||(this._position=s,this._visitedParent=r)}jumpTo(t){this._boundaryStartParent&&t.isBefore(this.boundaries.start)?t=this.boundaries.start:this._boundaryEndParent&&t.isAfter(this.boundaries.end)&&(t=this.boundaries.end),this._position=t.clone(),this._visitedParent=t.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(n.parent===null&&e.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=jh(e,n),r=s||CO(e,n,s);if(r&&r.is("model:element")){if(!this.shallow)e.path.push(0),this._visitedParent=r;else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,sc("elementStart",r,t,e,1)}if(r&&r.is("model:$text")){let o;if(this.singleCharacters)o=1;else{let f=r.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<f&&(f=this.boundaries.end.offset),o=f-e.offset}const c=e.offset-r.startOffset,u=new Pr(r,c,o);return e.offset+=o,this._position=e,sc("text",u,t,e,o)}return e.path.pop(),e.offset++,this._position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():sc("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=e.parent,r=jh(e,s),o=r||SO(e,s,r);if(o&&o.is("model:element"))return e.offset--,this.shallow?(this._position=e,sc("elementStart",o,t,e,1)):(e.path.push(o.maxOffset),this._position=e,this._visitedParent=o,this.ignoreElementEnd?this._previous():sc("elementEnd",o,t,e));if(o&&o.is("model:$text")){let c;if(this.singleCharacters)c=1;else{let p=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>p&&(p=this.boundaries.start.offset),c=e.offset-p}const u=e.offset-o.startOffset,f=new Pr(o,u-c,c);return e.offset-=c,this._position=e,sc("text",f,t,e,c)}return e.path.pop(),this._position=e,this._visitedParent=n.parent,sc("elementStart",n,t,e,1)}}function sc(i,t,e,n,s){return{done:!1,value:{type:i,item:t,previousPosition:e,nextPosition:n,length:s}}}class me extends El{constructor(e,n,s="toNone"){super();x(this,"root");x(this,"path");x(this,"stickiness");if(!e.is("element")&&!e.is("documentFragment"))throw new q("model-position-root-invalid",e);if(!Array.isArray(n)||n.length===0)throw new q("model-position-path-incorrect-format",e,{path:n});e.is("rootElement")?n=n.slice():(n=[...e.getPath(),...n],e=e.root),this.root=e,this.path=n,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let n=0;n<this.path.length-1;n++)if(e=e.getChildAtOffset(this.path[n]),!e)throw new q("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new q("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return jh(this,this.parent)}get nodeAfter(){const e=this.parent;return CO(this,e,jh(this,e))}get nodeBefore(){const e=this.parent;return SO(this,e,jh(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let e=this.root;for(let n=0;n<this.path.length-1;n++)if(e=e.getChildAtOffset(this.path[n]),!e)return!1;return this.offset<=e.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const n=Ti(this.path,e.path);switch(n){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[n]<e.path[n]?"before":"after"}}getLastMatchingPosition(e,n={}){n.startPosition=this;const s=new ea(n);return s.skip(e),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const n=this.parent;return n.is("element")?n.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const n=Ti(this.path,e.path),s=typeof n=="string"?Math.min(this.path.length,e.path.length):n;return this.path.slice(0,s)}getCommonAncestor(e){const n=this.getAncestors(),s=e.getAncestors();let r=0;for(;n[r]==s[r]&&n[r];)r++;return r===0?null:n[r-1]}getShiftedBy(e){const n=this.clone(),s=n.offset+e;return n.offset=s<0?0:s,n}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const n=Math.min(this.path.length,e.path.length);for(let s=0;s<n;s++){const r=this.path[s]-e.path[s];if(r<-1||r>1)return!1;if(r===1)return eS(e,this,s);if(r===-1)return eS(this,e,s)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?Uw(this.path,n):Uw(e.path,n)}hasSameParentAs(e){if(this.root!==e.root)return!1;const n=this.getParentPath(),s=e.getParentPath();return Ti(n,s)=="same"}getTransformedByOperation(e){let n;switch(e.type){case"insert":n=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(e);break;case"split":n=this._getTransformedBySplitOperation(e);break;case"merge":n=this._getTransformedByMergeOperation(e);break;default:n=me._createAt(this);break}return n}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const n=e.movedRange;return n.containsPosition(this)||n.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const n=e.movedRange,s=n.containsPosition(this)||n.start.isEqual(this);let r;return s?(r=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(r=r._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?r=me._createAt(e.deletionPosition):r=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),r}_getTransformedByDeletion(e,n){const s=me._createAt(this);if(this.root!=e.root)return s;if(Ti(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+n>this.offset)return null;s.offset-=n}}else if(Ti(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+n>this.path[r])return null;s.path[r]-=n}}return s}_getTransformedByInsertion(e,n){const s=me._createAt(this);if(this.root!=e.root)return s;if(Ti(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=n);else if(Ti(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;e.offset<=this.path[r]&&(s.path[r]+=n)}return s}_getTransformedByMove(e,n,s){if(n=n._getTransformedByDeletion(e,s),e.isEqual(n))return me._createAt(this);const r=this._getTransformedByDeletion(e,s);return r===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,n):r._getTransformedByInsertion(n,s)}_getCombined(e,n){const s=e.path.length-1,r=me._createAt(n);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[s]-e.offset,r.path=[...r.path,...this.path.slice(s+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,n,s="toNone"){if(e.is("model:position"))return new me(e.root,e.path,e.stickiness);{const r=e;if(n=="end")n=r.maxOffset;else{if(n=="before")return this._createBefore(r,s);if(n=="after")return this._createAfter(r,s);if(n!==0&&!n)throw new q("model-createpositionat-offset-required",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new q("model-position-parent-incorrect",[this,e]);const o=r.getPath();return o.push(n),new this(r.root,o,s)}}static _createAfter(e,n){if(!e.parent)throw new q("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,n)}static _createBefore(e,n){if(!e.parent)throw new q("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,n)}static fromJSON(e,n){if(e.root==="$graveyard"){const s=new me(n.graveyard,e.path);return s.stickiness=e.stickiness,s}if(!n.getRoot(e.root))throw new q("model-position-fromjson-no-root",n,{rootName:e.root});return new me(n.getRoot(e.root),e.path,e.stickiness)}}me.prototype.is=function(i){return i==="position"||i==="model:position"};function jh(i,t){const e=t.getChildAtOffset(i.offset);return e&&e.is("$text")&&e.startOffset<i.offset?e:null}function CO(i,t,e){return e!==null?null:t.getChildAtOffset(i.offset)}function SO(i,t,e){return e!==null?null:t.getChild(t.offsetToIndex(i.offset)-1)}function eS(i,t,e){return!(e+1===i.path.length||!Uw(t.path,e+1)||!UF(i,e+1))}function Uw(i,t){for(;t<i.length;){if(i[t]!==0)return!1;t++}return!0}function UF(i,t){let e=i.parent,n=i.path.length-1,s=0;for(;n>=t;){if(i.path[n]+s!==e.maxOffset)return!1;s=1,n--,e=e.parent}return!0}class te extends El{constructor(e,n){super();x(this,"start");x(this,"end");this.start=me._createAt(e),this.end=n?me._createAt(n):me._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new ea({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),n=this.end.getParentPath();return Ti(e,n)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,n=!1){e.isCollapsed&&(n=!1);const s=this.containsPosition(e.start)||n&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||n&&this.end.isEqual(e.end);return s&&r}containsItem(e){const n=me._createBefore(e);return this.containsPosition(n)||this.start.isEqual(n)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new te(this.start,e.start)),this.containsPosition(e.end)&&n.push(new te(e.end,this.end))):n.push(new te(this.start,this.end)),n}getIntersection(e){if(this.isIntersecting(e)){let n=this.start,s=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(s=e.end),new te(n,s)}return null}getJoined(e,n=!1){let s=this.isIntersecting(e);if(s||(this.start.isBefore(e.start)?s=n?this.end.isTouching(e.start):this.end.isEqual(e.start):s=n?e.end.isTouching(this.start):e.end.isEqual(this.start)),!s)return null;let r=this.start,o=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(o)&&(o=e.end),new te(r,o)}getMinimalFlatRanges(){const e=[],n=this.start.getCommonPath(this.end).length,s=me._createAt(this.start);let r=s.parent;for(;s.path.length>n+1;){const o=r.maxOffset-s.offset;o!==0&&e.push(new te(s,s.getShiftedBy(o))),s.path=s.path.slice(0,-1),s.offset++,r=r.parent}for(;s.path.length<=this.end.path.length;){const o=this.end.path[s.path.length-1],c=o-s.offset;c!==0&&e.push(new te(s,s.getShiftedBy(c))),s.offset=o,s.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new ea(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const n=new ea(e);for(const s of n)yield s.item}*getPositions(e={}){e.boundaries=this;const n=new ea(e);yield n.position;for(const s of n)yield s.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new te(this.start,this.end)]}getTransformedByOperations(e){const n=[new te(this.start,this.end)];for(const s of e)for(let r=0;r<n.length;r++){const o=n[r].getTransformedByOperation(s);n.splice(r,1,...o),r+=o.length-1}for(let s=0;s<n.length;s++){const r=n[s];for(let o=s+1;o<n.length;o++){const c=n[o];(r.containsRange(c)||c.containsRange(r)||r.isEqual(c))&&n.splice(o,1)}}return n}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,n=this.end.nodeBefore;return e&&e.is("element")&&e===n?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,n=!1){return this._getTransformedByInsertion(e.position,e.howMany,n)}_getTransformedByMoveOperation(e,n=!1){const s=e.sourcePosition,r=e.howMany,o=e.targetPosition;return this._getTransformedByMove(s,o,r,n)}_getTransformedBySplitOperation(e){const n=this.start._getTransformedBySplitOperation(e);let s=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(s=this.end.getShiftedBy(1)),n.root!=s.root&&(s=this.end.getShiftedBy(-1)),new te(n,s)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new te(this.start);let n=this.start._getTransformedByMergeOperation(e),s=this.end._getTransformedByMergeOperation(e);return n.root!=s.root&&(s=this.end.getShiftedBy(-1)),n.isAfter(s)?(e.sourcePosition.isBefore(e.targetPosition)?(n=me._createAt(s),n.offset=0):(e.deletionPosition.isEqual(n)||(s=e.deletionPosition),n=e.targetPosition),new te(n,s)):new te(n,s)}_getTransformedByInsertion(e,n,s=!1){if(s&&this.containsPosition(e))return[new te(this.start,e),new te(e.getShiftedBy(n),this.end._getTransformedByInsertion(e,n))];{const r=new te(this.start,this.end);return r.start=r.start._getTransformedByInsertion(e,n),r.end=r.end._getTransformedByInsertion(e,n),[r]}}_getTransformedByMove(e,n,s,r=!1){if(this.isCollapsed){const v=this.start._getTransformedByMove(e,n,s);return[new te(v)]}const o=te._createFromPositionAndShift(e,s),c=n._getTransformedByDeletion(e,s);if(this.containsPosition(n)&&!r&&(o.containsPosition(this.start)||o.containsPosition(this.end))){const v=this.start._getTransformedByMove(e,n,s),_=this.end._getTransformedByMove(e,n,s);return[new te(v,_)]}let u;const f=this.getDifference(o);let p=null;const g=this.getIntersection(o);if(f.length==1?p=new te(f[0].start._getTransformedByDeletion(e,s),f[0].end._getTransformedByDeletion(e,s)):f.length==2&&(p=new te(this.start,this.end._getTransformedByDeletion(e,s))),p?u=p._getTransformedByInsertion(c,s,g!==null||r):u=[],g){const v=new te(g.start._getCombined(o.start,c),g.end._getCombined(o.start,c));u.length==2?u.splice(1,0,v):u.push(v)}return u}_getTransformedByDeletion(e,n){let s=this.start._getTransformedByDeletion(e,n),r=this.end._getTransformedByDeletion(e,n);return s==null&&r==null?null:(s==null&&(s=e),r==null&&(r=e),new te(s,r))}static _createFromPositionAndShift(e,n){const s=e,r=e.getShiftedBy(n);return n>0?new this(s,r):new this(r,s)}static _createIn(e){return new this(me._createAt(e,0),me._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(me._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new q("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const n=e[0];e.sort((o,c)=>o.start.isAfter(c.start)?1:-1);const s=e.indexOf(n),r=new this(n.start,n.end);for(let o=s-1;o>=0&&e[o].end.isEqual(r.start);o--)r.start=me._createAt(e[o].start);for(let o=s+1;o<e.length&&e[o].start.isEqual(r.end);o++)r.end=me._createAt(e[o].end);return r}static fromJSON(e,n){return new this(me.fromJSON(e.start,n),me.fromJSON(e.end,n))}}te.prototype.is=function(i){return i==="range"||i==="model:range"};class AO extends an(){constructor(){super();x(this,"_modelToViewMapping",new WeakMap);x(this,"_viewToModelMapping",new WeakMap);x(this,"_viewToModelLengthCallbacks",new Map);x(this,"_markerNameToElements",new Map);x(this,"_elementToMarkerNames",new Map);x(this,"_deferredBindingRemovals",new Map);x(this,"_unboundMarkerNames",new Set);x(this,"_cache",new WF);this.on("modelToViewPosition",(e,n)=>{if(n.viewPosition)return;const s=this._modelToViewMapping.get(n.modelPosition.parent);if(!s)throw new q("mapping-model-position-view-parent-not-found",this,{modelPosition:n.modelPosition});n.viewPosition=this.findPositionIn(s,n.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,n)=>{if(n.modelPosition)return;const s=this.findMappedViewAncestor(n.viewPosition),r=this._viewToModelMapping.get(s),o=this._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,s);n.modelPosition=me._createAt(r,o)},{priority:"low"})}bindElements(e,n){this._modelToViewMapping.set(e,n),this._viewToModelMapping.set(n,e)}unbindViewElement(e,n={}){const s=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const r of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(r);n.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e)&&this._cache.stopTracking(e),this._modelToViewMapping.get(s)==e&&this._modelToViewMapping.delete(s))}unbindModelElement(e){const n=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(n)==e&&this._viewToModelMapping.delete(n)&&this._cache.stopTracking(n)}bindElementToMarker(e,n){const s=this._markerNameToElements.get(n)||new Set;s.add(e);const r=this._elementToMarkerNames.get(e)||new Set;r.add(n),this._markerNameToElements.set(n,s),this._elementToMarkerNames.set(e,r)}unbindElementFromMarkerName(e,n){const s=this._markerNameToElements.get(n);s&&(s.delete(e),s.size==0&&this._markerNameToElements.delete(n));const r=this._elementToMarkerNames.get(e);r&&(r.delete(n),r.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,n]of this._deferredBindingRemovals)e.root==n&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new te(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ut(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const n={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",n),n.modelPosition}toViewPosition(e,n={}){const s={modelPosition:e,mapper:this,isPhantom:n.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(e){const n=this._markerNameToElements.get(e);if(!n)return null;const s=new Set;for(const r of n)if(r.is("attributeElement"))for(const o of r.getElementsWithSameId())s.add(o);else s.add(r);return s}registerViewToModelLength(e,n){this._viewToModelLengthCallbacks.set(e,n)}findMappedViewAncestor(e){let n=e.parent;for(;!this._viewToModelMapping.has(n);)n=n.parent;return n}_toModelOffset(e,n,s){if(s!=e){const o=this._toModelOffset(e.parent,e.index,s),c=this._toModelOffset(e,n,e);return o+c}if(e.is("$text"))return n;let r=0;for(let o=0;o<n;o++)r+=this.getModelLength(e.getChild(o));return r}getModelLength(e){const n=[e];let s=0;for(;n.length>0;){const r=n.pop(),o=r.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(r.name);if(o)s+=o(r);else if(this._viewToModelMapping.has(r))s+=1;else if(r.is("$text"))s+=r.data.length;else{if(r.is("uiElement"))continue;for(const c of r.getChildren())n.push(c)}}return s}findPositionIn(e,n){if(n===0)return this._moveViewPositionToTextNode(new Ce(e,0));if(this._viewToModelLengthCallbacks.size==0&&this._viewToModelMapping.has(e)){const r=this._cache.getClosest(e,n);return this._findPositionStartingFrom(r.viewPosition,r.modelOffset,n,e,!0)}else return this._findPositionStartingFrom(new Ce(e,0),0,n,e,!1)}_findPositionStartingFrom(e,n,s,r,o){let c=e.parent,u=e.offset;if(c.is("$text"))return new Ce(c,s-n);let f,p=n,g=0;for(;p<s;){if(f=c.getChild(u),!f){if(c==r)throw new q("mapping-model-offset-not-found",this,{modelOffset:s,viewContainer:r});u=c.parent.getChildIndex(c)+1,c=c.parent,o&&this._cache.save(c,u,r,p);continue}o?g=this._getModelLengthAndCache(f,r,p):g=this.getModelLength(f),p+=g,u++}let v=new Ce(c,u);if(o)for(;v.isAtEnd&&v.parent!==r&&v.parent.parent;){const _=v.parent.parent,E=_.getChildIndex(v.parent)+1;this._cache.save(_,E,r,p),v=new Ce(_,E)}return p==s?this._moveViewPositionToTextNode(v):this._findPositionStartingFrom(new Ce(f,0),p-g,s,r,o)}_getModelLengthAndCache(e,n,s){let r=0;if(this._viewToModelMapping.has(e))r=1;else if(e.is("$text"))r=e.data.length;else if(!e.is("uiElement"))for(const o of e.getChildren())r+=this._getModelLengthAndCache(o,n,s+r);return this._cache.save(e.parent,e.index+1,n,s+r),r}_moveViewPositionToTextNode(e){const n=e.nodeBefore,s=e.nodeAfter;return n&&n.is("view:$text")?new Ce(n,n.data.length):s&&s.is("view:$text")?new Ce(s,0):e}}class WF extends an(){constructor(){super(...arguments);x(this,"_cachedMapping",new WeakMap);x(this,"_nodeToCacheListIndex",new WeakMap);x(this,"_invalidateOnChildrenChangeCallback",(e,n,s)=>{this._clearCacheInsideParent(n,s.index)});x(this,"_invalidateOnTextChangeCallback",(e,n)=>{this._clearCacheAfter(n)})}save(e,n,s,r){const o=this._cachedMapping.get(s),c=o.cacheMap.get(r);if(c){const g=e.getChild(n-1),v=c.viewPosition.nodeBefore?this._nodeToCacheListIndex.get(c.viewPosition.nodeBefore):0;this._nodeToCacheListIndex.set(g,v);return}const f={viewPosition:new Ce(e,n),modelOffset:r};o.maxModelOffset=r>o.maxModelOffset?r:o.maxModelOffset,o.cacheMap.set(r,f);let p=o.cacheList.length-1;for(;p>=0&&o.cacheList[p].modelOffset>r;)p--;if(o.cacheList.splice(p+1,0,f),n>0){const g=e.getChild(n-1);this._nodeToCacheListIndex.set(g,p+1)}}getClosest(e,n){const s=this._cachedMapping.get(e);let r;if(s)if(n>s.maxModelOffset)r=s.cacheList[s.cacheList.length-1];else{const o=s.cacheMap.get(n);o?r=o:r=this._findInCacheList(s.cacheList,n)}else r=this.startTracking(e);return{modelOffset:r.modelOffset,viewPosition:r.viewPosition.clone()}}startTracking(e){const s={viewPosition:new Ce(e,0),modelOffset:0},r={maxModelOffset:0,cacheList:[s],cacheMap:new Map([[0,s]])};return this._cachedMapping.set(e,r),e.on("change:children",this._invalidateOnChildrenChangeCallback),e.on("change:text",this._invalidateOnTextChangeCallback),s}stopTracking(e){e.off("change:children",this._invalidateOnChildrenChangeCallback),e.off("change:text",this._invalidateOnTextChangeCallback),this._cachedMapping.delete(e)}_clearCacheInsideParent(e,n){if(n==0)this._cachedMapping.has(e)?this._clearCacheAll(e):this._clearCacheInsideParent(e.parent,e.index);else{const s=e.getChild(n-1);this._clearCacheAfter(s)}}_clearCacheAll(e){const n=this._cachedMapping.get(e);n.maxModelOffset>0&&(n.maxModelOffset=0,n.cacheList.length=1,n.cacheMap.clear(),n.cacheMap.set(0,n.cacheList[0]))}_clearCacheAfter(e){const n=this._nodeToCacheListIndex.get(e);if(n===void 0){const r=e.parent;this._cachedMapping.has(r)||this._clearCacheInsideParent(r.parent,r.index);return}let s=e.parent;for(;!this._cachedMapping.has(s);)s=s.parent;this._clearCacheFromCacheIndex(s,n)}_clearCacheFromCacheIndex(e,n){n===0&&(n=1);const s=this._cachedMapping.get(e),r=s.cacheList[n-1];if(!r)return;s.maxModelOffset=r.modelOffset;const o=s.cacheList.splice(n);for(const c of o){s.cacheMap.delete(c.modelOffset);const u=c.viewPosition.nodeBefore;this._nodeToCacheListIndex.delete(u)}}_findInCacheList(e,n){let s=0,r=e.length-1,o=r-s>>1,c=e[o];for(;s<r;)c.modelOffset<n?s=o+1:r=o-1,o=s+(r-s>>1),c=e[o];return c.modelOffset<=n?c:e[o-1]}}class GF{constructor(){x(this,"_consumable",new Map);x(this,"_textProxyRegistry",new Map)}add(t,e){e=Sg(e),t instanceof Pr&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=Sg(e),t instanceof Pr&&(t=this._getSymbolForTextProxy(t)),this.test(t,e)?(this._consumable.get(t).set(e,!1),!0):!1}test(t,e){e=Sg(e),t instanceof Pr&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(n===void 0)return null;const s=n.get(e);return s===void 0?null:s}revert(t,e){e=Sg(e),t instanceof Pr&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return n===!1?(this._consumable.get(t).set(e,!0),!0):n===!0?!1:null}verifyAllConsumed(t){const e=[];for(const[n,s]of this._consumable)for(const[r,o]of s){const c=r.split(":")[0];o&&t==c&&e.push({event:r,item:n.name||n.description})}if(e.length)throw new q("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const s=n.get(t.endOffset);s&&(e=s.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,n=t.endOffset,s=t.parent,r=Symbol("$textProxy:"+t.data);let o,c;return o=this._textProxyRegistry.get(e),o||(o=new Map,this._textProxyRegistry.set(e,o)),c=o.get(n),c||(c=new Map,o.set(n,c)),c.set(s,r),r}}function Sg(i){const t=i.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?i:t.length>1?t[0]+":"+t[1]:t[0]}class TO extends an(){constructor(e){super();x(this,"_conversionApi");x(this,"_firedEventsMap");this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,n,s){const r=e.getRefreshedItems(),o=this._createConversionApi(s,r);for(const u of e.getMarkersToRemove())this._convertMarkerRemove(u.name,u.range,o);const c=this._reduceChanges(e.getChanges(),r);for(const u of c)u.type==="insert"?this._convertInsert(te._createFromPositionAndShift(u.position,u.length),o):u.type==="reinsert"?this._convertReinsert(te._createFromPositionAndShift(u.position,u.length),o):u.type==="remove"?this._convertRemove(u.position,u.length,u.name,o):this._convertAttribute(u.range,u.attributeKey,u.attributeOldValue,u.attributeNewValue,o);o.mapper.flushDeferredBindings();for(const u of o.mapper.flushUnboundMarkerNames()){const f=n.get(u).getRange();this._convertMarkerRemove(u,f,o),this._convertMarkerAdd(u,f,o)}for(const u of e.getMarkersToAdd())this._convertMarkerAdd(u.name,u.range,o);o.consumable.verifyAllConsumed("insert")}convert(e,n,s,r={}){const o=this._createConversionApi(s,void 0,r);this._convertInsert(e,o);for(const[c,u]of n)this._convertMarkerAdd(c,u,o);o.consumable.verifyAllConsumed("insert")}convertSelection(e,n,s){const r=this._createConversionApi(s);this.fire("cleanSelection",{selection:e},r);const o=e.getFirstPosition().root;if(!r.mapper.toViewElement(o))return;const c=Array.from(n.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(r.consumable,e,c),this.fire("selection",{selection:e},r),!!e.isCollapsed){for(const u of c)if(r.consumable.test(e,"addMarker:"+u.name)){const f=u.getRange();if(!KF(e.getFirstPosition(),u,r.mapper))continue;const p={item:e,markerName:u.name,markerRange:f};this.fire(`addMarker:${u.name}`,p,r)}for(const u of e.getAttributeKeys())if(r.consumable.test(e,"attribute:"+u)){const f={item:e,range:e.getFirstRange(),attributeKey:u,attributeOldValue:null,attributeNewValue:e.getAttribute(u)};this.fire(`attribute:${u}:$text`,f,r)}}}_convertInsert(e,n,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(n.consumable,e);for(const r of e.getWalker({shallow:!0}))this._testAndFire("insert",tS(r),n)}_convertRemove(e,n,s,r){this.fire(`remove:${s}`,{position:e,length:n},r)}_convertAttribute(e,n,s,r,o){this._addConsumablesForRange(o.consumable,e,`attribute:${n}`);for(const c of e){const u={item:c.item,range:te._createFromPositionAndShift(c.previousPosition,c.length),attributeKey:n,attributeOldValue:s,attributeNewValue:r};this._testAndFire(`attribute:${n}`,u,o)}}_convertReinsert(e,n){const s=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(n.consumable,s);for(const r of s.map(tS))this.fire(`remove:${r.item.is("element")?r.item.name:"$text"}`,{position:r.range.start,length:r.item.offsetSize,reconversion:!0},n),this._testAndFire("insert",{...r,reconversion:!0},n)}_convertMarkerAdd(e,n,s){if(n.root.rootName=="$graveyard")return;const r=`addMarker:${e}`;if(s.consumable.add(n,r),this.fire(r,{markerName:e,markerRange:n},s),!!s.consumable.consume(n,r)){this._addConsumablesForRange(s.consumable,n,r);for(const o of n.getItems()){if(!s.consumable.test(o,r))continue;const c={item:o,range:te._createOn(o),markerName:e,markerRange:n};this.fire(r,c,s)}}}_convertMarkerRemove(e,n,s){n.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:n},s)}_reduceChanges(e,n){const s={changes:e,refreshedItems:n};return this.fire("reduceChanges",s),s.changes}_addConsumablesForInsert(e,n){for(const s of n){const r=s.item;if(e.test(r,"insert")===null){e.add(r,"insert");for(const o of r.getAttributeKeys())e.add(r,"attribute:"+o)}}return e}_addConsumablesForRange(e,n,s){for(const r of n.getItems())e.add(r,s);return e}_addConsumablesForSelection(e,n,s){e.add(n,"selection");for(const r of s)e.add(n,"addMarker:"+r.name);for(const r of n.getAttributeKeys())e.add(n,"attribute:"+r);return e}_testAndFire(e,n,s){const r=QF(e,n),o=n.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(n.item):n.item,c=this._firedEventsMap.get(s),u=c.get(o);if(!u)c.set(o,new Set([r]));else if(!u.has(r))u.add(r);else return;this.fire(r,n,s)}_testAndFireAddAttributes(e,n){const s={item:e,range:te._createOn(e)};for(const r of s.item.getAttributeKeys())s.attributeKey=r,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(r),this._testAndFire(`attribute:${r}`,s,n)}_createConversionApi(e,n=new Set,s={}){const r={...this._conversionApi,consumable:new GF,writer:e,options:s,convertItem:o=>this._convertInsert(te._createOn(o),r),convertChildren:o=>this._convertInsert(te._createIn(o),r,{doNotAddConsumables:!0}),convertAttributes:o=>this._testAndFireAddAttributes(o,r),canReuseView:o=>!n.has(r.mapper.toModelElement(o))};return this._firedEventsMap.set(r,new Map),r}}function KF(i,t,e){const n=t.getRange(),s=Array.from(i.getAncestors());return s.shift(),s.reverse(),!s.some(o=>{if(n.containsItem(o))return!!e.toViewElement(o).getCustomProperty("addHighlight")})}function QF(i,t){const e=t.item.is("element")?t.item.name:"$text";return`${i}:${e}`}function tS(i){return{item:i.item,range:te._createFromPositionAndShift(i.previousPosition,i.length)}}class Lc extends El{constructor(e){super();x(this,"parent",null);x(this,"_attrs");x(this,"_index",null);x(this,"_startOffset",null);this._attrs=ua(e)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let n=this;for(;n.parent;)e.unshift(n.startOffset),n=n.parent;return e}getAncestors(e={}){const n=[];let s=e.includeSelf?this:this.parent;for(;s;)n[e.parentFirst?"push":"unshift"](s),s=s.parent;return n}getCommonAncestor(e,n={}){const s=this.getAncestors(n),r=e.getAncestors(n);let o=0;for(;s[o]==r[o]&&s[o];)o++;return o===0?null:s[o-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const n=this.getPath(),s=e.getPath(),r=Ti(n,s);switch(r){case"prefix":return!0;case"extension":return!1;default:return n[r]<s[r]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((n,s)=>(n[s[0]]=s[1],n),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,n){this._attrs.set(e,n)}_setAttributesTo(e){this._attrs=ua(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Lc.prototype.is=function(i){return i==="node"||i==="model:node"};class Ls extends an(El){constructor(...e){super();x(this,"_lastRangeBackward",!1);x(this,"_attrs",new Map);x(this,"_ranges",[]);e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const n of this._ranges){let s=!1;for(const r of e._ranges)if(n.isEqual(r)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new te(e.start,e.end)}getFirstRange(){let e=null;for(const n of this._ranges)(!e||n.start.isBefore(e.start))&&(e=n);return e?new te(e.start,e.end):null}getLastRange(){let e=null;for(const n of this._ranges)(!e||n.end.isAfter(e.end))&&(e=n);return e?new te(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[n,s,r]=e;if(typeof s=="object"&&(r=s,s=void 0),n===null)this._setRanges([]);else if(n instanceof Ls)this._setRanges(n.getRanges(),n.isBackward);else if(n&&typeof n.getRanges=="function")this._setRanges(n.getRanges(),n.isBackward);else if(n instanceof te)this._setRanges([n],!!r&&!!r.backward);else if(n instanceof me)this._setRanges([new te(n)]);else if(n instanceof Lc){const o=!!r&&!!r.backward;let c;if(s=="in")c=te._createIn(n);else if(s=="on")c=te._createOn(n);else if(s!==void 0)c=new te(me._createAt(n,s));else throw new q("model-selection-setto-required-second-parameter",[this,n]);this._setRanges([c],o)}else if(Fs(n))this._setRanges(n,r&&!!r.backward);else throw new q("model-selection-setto-not-selectable",[this,n])}_setRanges(e,n=!1){const s=Array.from(e),r=s.some(o=>{if(!(o instanceof te))throw new q("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(c=>!c.isEqual(o))});s.length===this._ranges.length&&!r||(this._replaceAllRanges(s),this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0}))}setFocus(e,n){if(this.anchor===null)throw new q("model-selection-setfocus-no-ranges",[this,e]);const s=me._createAt(e,n);if(s.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(r)=="before"?(this._pushRange(new te(s,r)),this._lastRangeBackward=!0):(this._pushRange(new te(r,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,n){this.getAttribute(e)!==n&&(this._attrs.set(e,n),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const n of this.getRanges()){const s=nS(n.start,e);$F(s,n)&&(yield s);const r=n.getWalker();for(const c of r){const u=c.item;c.type=="elementEnd"&&YF(u,e,n)?yield u:c.type=="elementStart"&&u.is("model:element")&&u.root.document.model.schema.isBlock(u)&&r.jumpTo(me._createAt(u,"end"))}const o=nS(n.end,e);XF(o,n)&&(yield o)}}containsEntireContent(e=this.anchor.root){const n=me._createAt(e,0),s=me._createAt(e,"end");return n.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}toJSON(){const e={ranges:Array.from(this.getRanges()).map(s=>s.toJSON())},n=Object.fromEntries(this.getAttributes());return Object.keys(n).length&&(e.attributes=n),this.isBackward&&(e.isBackward=!0),e}_pushRange(e){this._checkRange(e),this._ranges.push(new te(e.start,e.end))}_checkRange(e){for(let n=0;n<this._ranges.length;n++)if(e.isIntersecting(this._ranges[n]))throw new q("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[n]})}_replaceAllRanges(e){this._removeAllRanges();for(const n of e)this._pushRange(n)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Ls.prototype.is=function(i){return i==="selection"||i==="model:selection"};function NO(i,t){return t.has(i)?!1:(t.add(i),i.root.document.model.schema.isBlock(i)&&!!i.parent)}function YF(i,t,e){return NO(i,t)&&qx(i,e)}function nS(i,t){const n=i.parent.root.document.model.schema,s=i.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const o=s.find(c=>r?!1:(r=n.isLimit(c),!r&&NO(c,t)));return s.forEach(c=>t.add(c)),o}function qx(i,t){const e=ZF(i);return e?!t.containsRange(te._createOn(e),!0):!0}function $F(i,t){return i?t.isCollapsed||i.isEmpty?!0:t.start.isTouching(me._createAt(i,i.maxOffset))?!1:qx(i,t):!1}function XF(i,t){return i?t.isCollapsed||i.isEmpty?!0:t.end.isTouching(me._createAt(i,0))?!1:qx(i,t):!1}function ZF(i){const t=i.root.document.model.schema;let e=i.parent;for(;e;){if(t.isBlock(e))return e;e=e.parent}}class rr extends an(te){constructor(t,e){super(t,e),JF.call(this)}detach(){this.stopListening()}toRange(){return new te(this.start,this.end)}static fromRange(t){return new rr(t.start,t.end)}}rr.prototype.is=function(i){return i==="liveRange"||i==="model:liveRange"||i=="range"||i==="model:range"};function JF(){this.listenTo(this.root.document.model,"applyOperation",(i,t)=>{const e=t[0];e.isDocumentOperation&&eV.call(this,e)},{priority:"low"})}function eV(i){const t=this.getTransformedByOperation(i),e=te._createFromRanges(t),n=!e.isEqual(this),s=tV(this,i);let r=null;if(n){e.root.rootName=="$graveyard"&&(i.type=="remove"?r=i.sourcePosition:r=i.deletionPosition);const o=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",o,{deletionPosition:r})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:r})}function tV(i,t){switch(t.type){case"insert":return i.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return i.containsPosition(t.sourcePosition)||i.start.isEqual(t.sourcePosition)||i.containsPosition(t.targetPosition);case"split":return i.containsPosition(t.splitPosition)||i.containsPosition(t.insertionPosition)}return!1}class mn extends Lc{constructor(e,n){super(n);x(this,"_data");this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new mn(this.data,this.getAttributes())}static fromJSON(e){return new mn(e.data,e.attributes)}}mn.prototype.is=function(i){return i==="$text"||i==="model:$text"||i==="text"||i==="model:text"||i==="node"||i==="model:node"};const nm="selection:";class jr extends an(El){constructor(e){super();x(this,"_selection");this._selection=new nV(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}toJSON(){return this._selection.toJSON()}_setFocus(e,n){this._selection.setFocus(e,n)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,n){this._selection.setAttribute(e,n)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return nm+e}static _isStoreAttributeKey(e){return e.startsWith(nm)}}jr.prototype.is=function(i){return i==="selection"||i=="model:selection"||i=="documentSelection"||i=="model:documentSelection"};class nV extends Ls{constructor(e){super();x(this,"markers",new ma({idProperty:"name"}));x(this,"_model");x(this,"_document");x(this,"_attributePriority",new Map);x(this,"_selectionRestorePosition",null);x(this,"_hasChangedRange",!1);x(this,"_overriddenGravityRegister",new Set);x(this,"_observedMarkers",new Set);this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(n,s)=>{const r=s[0];!r.isDocumentOperation||r.type=="marker"||r.type=="rename"||r.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(n,s,r,o)=>{this._updateMarker(s,o)}),this.listenTo(this._document,"change",(n,s)=>{iV(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,n){super.setFocus(e,n),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,n){if(this._setAttribute(e,n)){const s=[e];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}overrideGravity(){const e=Cs();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new q("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const n=this._prepareRange(e);n&&this._ranges.push(n)}toJSON(){const e=super.toJSON();return this.markers.length&&(e.markers=this.markers.map(n=>n.toJSON())),e}_validateSelectionRanges(e){for(const n of e)if(!this._document._validateSelectionRange(n))throw new q("document-selection-wrong-position",this,{range:n})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const n=rr.fromRange(e);return n.on("change:range",(s,r,o)=>{if(this._hasChangedRange=!0,n.root==this._document.graveyard){this._selectionRestorePosition=o.deletionPosition;const c=this._ranges.indexOf(n);this._ranges.splice(c,1),n.detach()}}),n}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let n=!1;for(const r of this._model.markers){const o=r.name.split(":",1)[0];if(!this._observedMarkers.has(o))continue;const c=r.getRange();for(const u of this.getRanges())c.containsRange(u,!u.isCollapsed)&&e.push(r)}const s=Array.from(this.markers);for(const r of e)this.markers.has(r)||(this.markers.add(r),n=!0);for(const r of Array.from(this.markers))e.includes(r)||(this.markers.remove(r),n=!0);n&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(e,n){const s=e.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let r=!1;const o=Array.from(this.markers),c=this.markers.has(e);if(!n)c&&(this.markers.remove(e),r=!0);else{let u=!1;for(const f of this.getRanges())if(n.containsRange(f,!f.isCollapsed)){u=!0;break}u&&!c?(this.markers.add(e),r=!0):!u&&c&&(this.markers.remove(e),r=!0)}r&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateAttributes(e){const n=ua(this._getSurroundingAttributes()),s=ua(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[o,c]of this._attributePriority)c=="low"&&(this._attrs.delete(o),this._attributePriority.delete(o));this._setAttributesTo(n);const r=[];for(const[o,c]of this.getAttributes())(!s.has(o)||s.get(o)!==c)&&r.push(o);for(const[o]of s)this.hasAttribute(o)||r.push(o);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(e,n,s=!0){const r=s?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===n?!1:(this._attrs.set(e,n),this._attributePriority.set(e,r),!0)}_removeAttribute(e,n=!0){const s=n?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,s),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const n=new Set;for(const[s,r]of this.getAttributes())e.get(s)!==r&&this._removeAttribute(s,!1);for(const[s,r]of e)this._setAttribute(s,r,!1)&&n.add(s);return n}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const n of e.getAttributeKeys())n.startsWith(nm)&&(yield[n.substr(nm.length),e.getAttribute(n)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),n=this._model.schema;if(e.root.rootName=="$graveyard")return null;let s=null;if(this.isCollapsed){const r=e.textNode?e.textNode:e.nodeBefore,o=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(s=dh(r,n)),s||(s=dh(o,n)),!this.isGravityOverridden&&!s){let c=r;for(;c&&!s;)c=c.previousSibling,s=dh(c,n)}if(!s){let c=o;for(;c&&!s;)c=c.nextSibling,s=dh(c,n)}s||(s=this.getStoredAttributes())}else{const r=this.getFirstRange();for(const o of r){if(o.item.is("element")&&n.isObject(o.item)){s=dh(o.item,n);break}if(o.type=="text"){s=o.item.getAttributes();break}}}return s}_fixGraveyardSelection(e){const n=this._model.schema.getNearestSelectionRange(e);n&&this._pushRange(n)}}function dh(i,t){if(!i)return null;if(i instanceof Pr||i instanceof mn)return i.getAttributes();if(!t.isInline(i))return null;if(!t.isObject(i))return[];const e=[];for(const[n,s]of i.getAttributes())t.checkAttribute("$text",n)&&t.getAttributeProperties(n).copyFromObject!==!1&&e.push([n,s]);return e}function iV(i,t){const e=i.document.differ;for(const n of e.getChanges()){if(n.type!="insert")continue;const s=n.position.parent;n.length===s.maxOffset&&i.enqueueChange(t,o=>{const c=Array.from(s.getAttributeKeys()).filter(u=>u.startsWith(nm));for(const u of c)o.removeAttribute(u,s)})}}class Dh{constructor(t){x(this,"_nodes",[]);x(this,"_offsetToNode",[]);t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(t){return this._nodes[t]||null}getNodeAtOffset(t){return this._offsetToNode[t]||null}getNodeIndex(t){return t.index}getNodeStartOffset(t){return t.startOffset}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new q("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){if(t==this._offsetToNode.length)return this._nodes.length;const e=this._offsetToNode[t];if(!e)throw new q("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.getNodeIndex(e)}_insertNodes(t,e){const n=[];for(const r of e){if(!(r instanceof Lc))throw new q("model-nodelist-insertnodes-not-node",this);n.push(r)}let s=this.indexToOffset(t);jC(this._nodes,n,t),jC(this._offsetToNode,sV(n),s);for(let r=t;r<this._nodes.length;r++)this._nodes[r]._index=r,this._nodes[r]._startOffset=s,s+=this._nodes[r].offsetSize}_removeNodes(t,e=1){if(e==0)return[];let n=this.indexToOffset(t);const s=this._nodes.splice(t,e),r=s[s.length-1],o=r.startOffset+r.offsetSize-n;this._offsetToNode.splice(n,o);for(const c of s)c._index=null,c._startOffset=null;for(let c=t;c<this._nodes.length;c++)this._nodes[c]._index=c,this._nodes[c]._startOffset=n,n+=this._nodes[c].offsetSize;return s}_removeNodesArray(t){if(t.length==0)return;for(const n of t)n._index=null,n._startOffset=null;this._nodes=this._nodes.filter(n=>n.index!==null),this._offsetToNode=this._offsetToNode.filter(n=>n.index!==null);let e=0;for(let n=0;n<this._nodes.length;n++)this._nodes[n]._index=n,this._nodes[n]._startOffset=e,e+=this._nodes[n].offsetSize}toJSON(){return this._nodes.map(t=>t.toJSON())}}function sV(i){const t=[];let e=0;for(const n of i)for(let s=0;s<n.offsetSize;s++)t[e++]=n;return t}class fn extends Lc{constructor(e,n,s){super(n);x(this,"name");x(this,"_children",new Dh);this.name=e,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let n=this;for(const s of e)n=n.getChildAtOffset(s);return n}findAncestor(e,n={}){let s=n.includeSelf?this:this.parent;for(;s;){if(s.name===e)return s;s=s.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const n of this._children)e.children.push(n.toJSON())}return e}_clone(e=!1){const n=e?oV(this._children):void 0;return new fn(this.name,this.getAttributes(),n)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,n){const s=rV(n);for(const r of s)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,n=1){const s=this._children._removeNodes(e,n);for(const r of s)r.parent=null;return s}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const n of e)n.parent=null}static fromJSON(e){let n;if(e.children){n=[];for(const s of e.children)s.name?n.push(fn.fromJSON(s)):n.push(mn.fromJSON(s))}return new fn(e.name,e.attributes,n)}}fn.prototype.is=function(i,t){return t?t===this.name&&(i==="element"||i==="model:element"):i==="element"||i==="model:element"||i==="node"||i==="model:node"};function rV(i){if(typeof i=="string")return[new mn(i)];Fs(i)||(i=[i]);const t=[];for(const e of i)typeof e=="string"?t.push(new mn(e)):e instanceof Pr?t.push(new mn(e.data,e.getAttributes())):t.push(e);return t}function oV(i){const t=[];for(const e of i)t.push(e._clone(!0));return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class RO{constructor(t){x(this,"_dispatchers");this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}class aV extends RO{elementToElement(t){return this.add(CV(t))}elementToStructure(t){return this.add(SV(t))}attributeToElement(t){return this.add(AV(t))}attributeToAttribute(t){return this.add(TV(t))}markerToElement(t){return this.add(NV(t))}markerToHighlight(t){return this.add(OV(t))}markerToData(t){return this.add(RV(t))}}function OO(){return(i,t,e)=>{if(!e.consumable.consume(t.item,i.name))return;const n=e.writer,s=e.mapper.toViewPosition(t.range.start),r=n.createText(t.item.data);n.insert(s,r)}}function IO(){return(i,t,e)=>{e.convertAttributes(t.item),!t.reconversion&&t.item.is("element")&&!t.item.isEmpty&&e.convertChildren(t.item)}}function lV(){return(i,t,e)=>{if(t.reconversion)return;const n=e.mapper.toViewPosition(t.position),s=t.position.getShiftedBy(t.length),r=e.mapper.toViewPosition(s,{isPhantom:!0}),o=e.writer.createRange(n,r);BO(o.getTrimmed(),e)}}function PO(i,t){const e=i.createAttributeElement("span",t.attributes);return t.classes&&e._addClass(t.classes),typeof t.priority=="number"&&(e._priority=t.priority),e._id=t.id,e}function cV(){return(i,t,e)=>{const n=t.selection;if(n.isCollapsed||!e.consumable.consume(n,"selection"))return;const s=[];for(const r of n.getRanges())s.push(e.mapper.toViewRange(r));e.writer.setSelection(s,{backward:n.isBackward})}}function uV(){return(i,t,e)=>{const n=t.selection;if(!n.isCollapsed||!e.consumable.consume(n,"selection"))return;const s=e.writer,r=n.getFirstPosition(),o=e.mapper.toViewPosition(r),c=s.breakAttributes(o);s.setSelection(c)}}function dV(){return(i,t,e)=>{const n=e.writer,s=n.document.selection;for(const r of s.getRanges())r.isCollapsed&&r.end.parent.isAttached()&&e.writer.mergeAttributes(r.start);n.setSelection(null)}}function fV(i){return(t,e,n)=>{if(!n.consumable.test(e.item,t.name))return;const s=i(e.attributeOldValue,n,e),r=i(e.attributeNewValue,n,e);if(!s&&!r)return;n.consumable.consume(e.item,t.name);const o=n.writer,c=o.document.selection;if(e.item instanceof Ls||e.item instanceof jr)o.wrap(c.getFirstRange(),r);else{let u=n.mapper.toViewRange(e.range);e.attributeOldValue!==null&&s&&(u=o.unwrap(u,s)),e.attributeNewValue!==null&&r&&o.wrap(u,r)}}}function hV(i,t=MV){return(e,n,s)=>{if(!t(n.item,s.consumable,{preflight:!0}))return;const r=i(n.item,s,n);if(!r)return;t(n.item,s.consumable);const o=n.reconversion&&LO(n.item,s)||s.mapper.toViewPosition(n.range.start);s.mapper.bindElements(n.item,r),s.writer.insert(o,r),s.convertAttributes(n.item),VO(r,n.item.getChildren(),s,{reconversion:n.reconversion})}}function mV(i,t){return(e,n,s)=>{if(!t(n.item,s.consumable,{preflight:!0}))return;const r=new Map;s.writer._registerSlotFactory(BV(n.item,r,s));const o=i(n.item,s,n);if(s.writer._clearSlotFactory(),!o)return;LV(n.item,r,s),t(n.item,s.consumable);const c=n.reconversion&&LO(n.item,s)||s.mapper.toViewPosition(n.range.start);s.mapper.bindElements(n.item,o),s.writer.insert(c,o),s.convertAttributes(n.item),jV(o,r,s,{reconversion:n.reconversion})}}function pV(i){return(t,e,n)=>{e.isOpening=!0;const s=i(e,n);e.isOpening=!1;const r=i(e,n);if(!s||!r)return;const o=e.markerRange;if(o.isCollapsed&&!n.consumable.consume(o,t.name))return;for(const f of o)if(!n.consumable.consume(f.item,t.name))return;const c=n.mapper,u=n.writer;u.insert(c.toViewPosition(o.start),s),n.mapper.bindElementToMarker(s,e.markerName),o.isCollapsed||(u.insert(c.toViewPosition(o.end),r),n.mapper.bindElementToMarker(r,e.markerName)),t.stop()}}function BO(i,t){const e=t.writer.remove(i);for(const n of t.writer.createRangeIn(e).getItems())t.mapper.unbindViewElement(n,{defer:!0});return i.start}function LO(i,t){const e=t.mapper.toViewElement(i);return e&&BO(t.writer.createRangeOn(e),t)}function gV(){return(i,t,e)=>{const n=e.mapper.markerNameToElements(t.markerName);if(n){for(const s of n)e.mapper.unbindElementFromMarkerName(s,t.markerName),e.writer.clear(e.writer.createRangeOn(s),s);e.writer.clearClonedElementsGroup(t.markerName),i.stop()}}}function bV(i){return(t,e,n)=>{const s=i(e.markerName,n);if(!s)return;const r=e.markerRange;n.consumable.consume(r,t.name)&&(iS(r,!1,n,e,s),iS(r,!0,n,e,s),t.stop())}}function iS(i,t,e,n,s){const r=t?i.start:i.end,o=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,c=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(o||c){let f,p;t&&o||!t&&!c?(f=o,p=!0):(f=c,p=!1);const g=e.mapper.toViewElement(f);if(g){vV(g,t,p,e,n,s);return}}const u=e.mapper.toViewPosition(r);yV(u,t,e,n,s)}function vV(i,t,e,n,s,r){const o=`data-${r.group}-${t?"start":"end"}-${e?"before":"after"}`,c=i.hasAttribute(o)?i.getAttribute(o).split(","):[];c.unshift(r.name),n.writer.setAttribute(o,c.join(","),i),n.mapper.bindElementToMarker(i,s.markerName)}function yV(i,t,e,n,s){const r=`${s.group}-${t?"start":"end"}`,o=s.name?{name:s.name}:null,c=e.writer.createUIElement(r,o);e.writer.insert(i,c),e.mapper.bindElementToMarker(c,n.markerName)}function wV(i){return(t,e,n)=>{const s=i(e.markerName,n);if(!s)return;const r=n.mapper.markerNameToElements(e.markerName);if(!r)return;for(const c of r)n.mapper.unbindElementFromMarkerName(c,e.markerName),c.is("containerElement")?(o(`data-${s.group}-start-before`,c),o(`data-${s.group}-start-after`,c),o(`data-${s.group}-end-before`,c),o(`data-${s.group}-end-after`,c)):n.writer.clear(n.writer.createRangeOn(c),c);n.writer.clearClonedElementsGroup(e.markerName),t.stop();function o(c,u){if(u.hasAttribute(c)){const f=new Set(u.getAttribute(c).split(","));f.delete(s.name),f.size==0?n.writer.removeAttribute(c,u):n.writer.setAttribute(c,Array.from(f).join(","),u)}}}}function xV(i){return(t,e,n)=>{if(!n.consumable.test(e.item,t.name))return;const s=i(e.attributeOldValue,n,e),r=i(e.attributeNewValue,n,e);if(!s&&!r)return;n.consumable.consume(e.item,t.name);const o=n.mapper.toViewElement(e.item),c=n.writer;if(!o)throw new q("conversion-attribute-to-attribute-on-text",n.dispatcher,e);if(e.attributeOldValue!==null&&s){let u=s.value;s.key=="style"&&(typeof s.value=="string"?u=new Lh(c.document.stylesProcessor).setTo(s.value).getStylesEntries().map(([f])=>f):u=Object.keys(s.value)),c.removeAttribute(s.key,u,o)}if(e.attributeNewValue!==null&&r){let u=r.value;r.key=="style"&&typeof r.value=="string"&&(u=Object.fromEntries(new Lh(c.document.stylesProcessor).setTo(r.value).getStylesEntries())),c.setAttribute(r.key,u,!1,o)}}}function _V(i){return(t,e,n)=>{if(!e.item||!(e.item instanceof Ls||e.item instanceof jr)&&!e.item.is("$textProxy"))return;const s=Hx(i,e,n);if(!s||!n.consumable.consume(e.item,t.name))return;const r=n.writer,o=PO(r,s),c=r.document.selection;if(e.item instanceof Ls||e.item instanceof jr)r.wrap(c.getFirstRange(),o);else{const u=n.mapper.toViewRange(e.range),f=r.wrap(u,o);for(const p of f.getItems())if(p.is("attributeElement")&&p.isSimilar(o)){n.mapper.bindElementToMarker(p,e.markerName);break}}}}function EV(i){return(t,e,n)=>{if(!e.item||!(e.item instanceof fn))return;const s=Hx(i,e,n);if(!s||!n.consumable.test(e.item,t.name))return;const r=n.mapper.toViewElement(e.item);if(r&&r.getCustomProperty("addHighlight")){n.consumable.consume(e.item,t.name);for(const c of te._createIn(e.item))n.consumable.consume(c.item,t.name);r.getCustomProperty("addHighlight")(r,s,n.writer),n.mapper.bindElementToMarker(r,e.markerName)}}}function kV(i){return(t,e,n)=>{if(e.markerRange.isCollapsed)return;const s=Hx(i,e,n);if(!s)return;const r=PO(n.writer,s),o=n.mapper.markerNameToElements(e.markerName);if(o){for(const c of o)n.mapper.unbindElementFromMarkerName(c,e.markerName),c.is("attributeElement")?n.writer.unwrap(n.writer.createRangeOn(c),r):c.getCustomProperty("removeHighlight")(c,s.id,n.writer);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}}function CV(i){const t=jO(i.model),e=im(i.view,"container");return t.attributes.length&&(t.children=!0),n=>{n.on(`insert:${t.name}`,hV(e,FO(t)),{priority:i.converterPriority||"normal"}),(t.children||t.attributes.length)&&n.on("reduceChanges",MO(t),{priority:"low"})}}function SV(i){const t=jO(i.model),e=im(i.view,"container");return t.children=!0,n=>{if(n._conversionApi.schema.checkChild(t.name,"$text"))throw new q("conversion-element-to-structure-disallowed-text",n,{elementName:t.name});n.on(`insert:${t.name}`,mV(e,FO(t)),{priority:i.converterPriority||"normal"}),n.on("reduceChanges",MO(t),{priority:"low"})}}function AV(i){i=ks(i);let t=i.model;typeof t=="string"&&(t={key:t});let e=`attribute:${t.key}`;if(t.name&&(e+=":"+t.name),t.values)for(const s of t.values)i.view[s]=im(i.view[s],"attribute");else i.view=im(i.view,"attribute");const n=DO(i);return s=>{s.on(e,fV(n),{priority:i.converterPriority||"normal"})}}function TV(i){i=ks(i);let t=i.model;typeof t=="string"&&(t={key:t});let e=`attribute:${t.key}`;if(t.name&&(e+=":"+t.name),t.values)for(const s of t.values)i.view[s]=sS(i.view[s]);else i.view=sS(i.view);const n=DO(i);return s=>{s.on(e,xV(n),{priority:i.converterPriority||"normal"})}}function NV(i){const t=im(i.view,"ui");return e=>{e.on(`addMarker:${i.model}`,pV(t),{priority:i.converterPriority||"normal"}),e.on(`removeMarker:${i.model}`,gV(),{priority:i.converterPriority||"normal"})}}function RV(i){i=ks(i);const t=i.model;let e=i.view;return e||(e=n=>({group:t,name:n.substr(i.model.length+1)})),n=>{n.on(`addMarker:${t}`,bV(e),{priority:i.converterPriority||"normal"}),n.on(`removeMarker:${t}`,wV(e),{priority:i.converterPriority||"normal"})}}function OV(i){return t=>{t.on(`addMarker:${i.model}`,_V(i.view),{priority:i.converterPriority||"normal"}),t.on(`addMarker:${i.model}`,EV(i.view),{priority:i.converterPriority||"normal"}),t.on(`removeMarker:${i.model}`,kV(i.view),{priority:i.converterPriority||"normal"})}}function jO(i){return typeof i=="string"&&(i={name:i}),{name:i.name,attributes:i.attributes?Zn(i.attributes):[],children:!!i.children}}function im(i,t){return typeof i=="function"?i:(e,n)=>IV(i,n,t)}function IV(i,t,e){typeof i=="string"&&(i={name:i});let n;const s=t.writer,r=Object.assign({},i.attributes);if(e=="container")n=s.createContainerElement(i.name,r);else if(e=="attribute"){const o={priority:i.priority||xc.DEFAULT_PRIORITY};n=s.createAttributeElement(i.name,r,o)}else n=s.createUIElement(i.name,r);if(i.styles){const o=Object.keys(i.styles);for(const c of o)s.setStyle(c,i.styles[c],n)}if(i.classes){const o=i.classes;if(typeof o=="string")s.addClass(o,n);else for(const c of o)s.addClass(c,n)}return n}function DO(i){return i.model.values?(t,e,n)=>{const s=i.view[t];return s?s(t,e,n):null}:i.view}function sS(i){return typeof i=="string"?t=>({key:i,value:t}):typeof i=="object"?i.value?()=>i:t=>({key:i.key,value:t}):i}function Hx(i,t,e){const n=typeof i=="function"?i(t,e):{...i};return n?(n.priority||(n.priority=10),n.id||(n.id=t.markerName),n):null}function PV(i){return(t,e)=>{if(!t.is("element",i.name))return!1;if(e.type=="attribute"){if(i.attributes.includes(e.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(i.children)return!0}return!1}}function MO(i){const t=PV(i);return(e,n)=>{const s=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const r of n.changes){const o=r.type=="attribute"?r.range.start.nodeAfter:r.position.parent;if(!o||!t(o,r)||r.type=="reinsert"){s.push(r);continue}if(r.type=="insert"&&r.action=="rename"&&n.refreshedItems.add(r.position.nodeAfter),!n.reconvertedElements.has(o)){n.reconvertedElements.add(o);const c=me._createBefore(o);let u=s.length;for(let f=s.length-1;f>=0;f--){const p=s[f],v=(p.type=="attribute"?p.range.start:p.position).compareWith(c);if(v=="before"||p.type=="remove"&&v=="same")break;u=f}s.splice(u,0,{type:"reinsert",name:o.name,position:c,length:1})}}n.changes=s}}function FO(i){return(t,e,n={})=>{const s=["insert"];for(const r of i.attributes)t.hasAttribute(r)&&s.push(`attribute:${r}`);return s.every(r=>e.test(t,r))?(n.preflight||s.forEach(r=>e.consume(t,r)),!0):!1}}function BV(i,t,e){return(n,s)=>{const r=n.createContainerElement("$slot");let o=null;if(s==="children")o=Array.from(i.getChildren());else if(typeof s=="function")o=Array.from(i.getChildren()).filter(c=>s(c));else throw new q("conversion-slot-mode-unknown",e.dispatcher,{modeOrFilter:s});return t.set(r,o),r}}function LV(i,t,e){const n=Array.from(t.values()).flat(),s=new Set(n);if(s.size!=n.length)throw new q("conversion-slot-filter-overlap",e.dispatcher,{element:i});if(s.size!=i.childCount)throw new q("conversion-slot-filter-incomplete",e.dispatcher,{element:i})}function jV(i,t,e,n){e.mapper.on("modelToViewPosition",o,{priority:"highest"});let s=null,r=null;for([s,r]of t)VO(i,r,e,n),e.writer.setCustomProperty("$structureSlotParent",!0,s.parent),e.writer.move(e.writer.createRangeIn(s),e.writer.createPositionBefore(s)),e.writer.remove(s);e.mapper.off("modelToViewPosition",o);function o(c,u){const f=u.modelPosition.nodeAfter,p=r.indexOf(f);p<0||(u.viewPosition=u.mapper.findPositionIn(s,p))}}function VO(i,t,e,n){for(const s of t)DV(i.root,s,e,n)||e.convertItem(s)}function DV(i,t,e,n){const{writer:s,mapper:r}=e;if(!n.reconversion)return!1;const o=r.toViewElement(t);return!o||o.root==i||!e.canReuseView(o)?!1:(s.move(s.createRangeOn(o),r.toViewPosition(me._createBefore(t))),!0)}function MV(i,t,{preflight:e}={}){return e?t.test(i,"insert"):t.consume(i,"insert")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function zO(i){const{schema:t,document:e}=i.model;for(const n of e.getRoots())if(n.isEmpty&&!t.checkChild(n,"$text")&&t.checkChild(n,"paragraph"))return i.insertElement("paragraph",n),!0;return!1}function qO(i,t,e){const n=e.createContext(i);return!(!e.checkChild(n,"paragraph")||!e.checkChild(n.push("paragraph"),t))}function HO(i,t){const e=t.createElement("paragraph");return t.insert(e,i),t.createPositionAt(e,0)}class FV extends RO{elementToElement(t){return this.add(UO(t))}elementToAttribute(t){return this.add(qV(t))}attributeToAttribute(t){return this.add(HV(t))}elementToMarker(t){return this.add(UV(t))}dataToMarker(t){return this.add(WV(t))}}function rS(){return(i,t,e)=>{if(!t.modelRange&&e.consumable.consume(t.viewItem,{name:!0})){const{modelRange:n,modelCursor:s}=e.convertChildren(t.viewItem,t.modelCursor);t.modelRange=n,t.modelCursor=s}}}function VV(){return(i,t,{schema:e,consumable:n,writer:s})=>{let r=t.modelCursor;if(!n.test(t.viewItem))return;if(!e.checkChild(r,"$text")){if(!qO(r,"$text",e)||t.viewItem.data.trim().length==0)return;r=HO(r,s)}n.consume(t.viewItem);const o=s.createText(t.viewItem.data);s.insert(o,r),t.modelRange=s.createRange(r,r.getShiftedBy(o.offsetSize)),t.modelCursor=t.modelRange.end}}function zV(i,t){return(e,n)=>{const s=n.newSelection,r=[];for(const c of s.getRanges())r.push(t.toModelRange(c));const o=i.createSelection(r,{backward:s.isBackward});o.isEqual(i.document.selection)||i.change(c=>{c.setSelection(o)})}}function UO(i){i=ks(i);const t=Ww(i),e=Ux(i.view),n=e?`element:${e}`:"element";return s=>{s.on(n,t,{priority:i.converterPriority||"normal"})}}function qV(i){i=ks(i),WO(i);const t=GO(i,!1),e=Ux(i.view),n=e?`element:${e}`:"element";return s=>{s.on(n,t,{priority:i.converterPriority||"low"})}}function HV(i){i=ks(i);let t=null;(typeof i.view=="string"||i.view.key)&&(t=QV(i)),WO(i,t);const e=GO(i,!0);return n=>{n.on("element",e,{priority:i.converterPriority||"low"})}}function UV(i){const t=XV(i.model);return UO({...i,model:t})}function WV(i){i=ks(i),i.model||(i.model=s=>s?i.view+":"+s:i.view);const t={view:i.view,model:i.model},e=Ww(oS(t,"start")),n=Ww(oS(t,"end"));return s=>{s.on(`element:${i.view}-start`,e,{priority:i.converterPriority||"normal"}),s.on(`element:${i.view}-end`,n,{priority:i.converterPriority||"normal"});const r=dl.low,o=dl.highest,c=dl.get(i.converterPriority)/o;s.on("element",GV(t),{priority:r+c})}}function GV(i){return(t,e,n)=>{const s=`data-${i.view}`;if(!n.consumable.test(e.viewItem,{attributes:s+"-end-after"})&&!n.consumable.test(e.viewItem,{attributes:s+"-start-after"})&&!n.consumable.test(e.viewItem,{attributes:s+"-end-before"})&&!n.consumable.test(e.viewItem,{attributes:s+"-start-before"}))return;e.modelRange||Object.assign(e,n.convertChildren(e.viewItem,e.modelCursor)),n.consumable.consume(e.viewItem,{attributes:s+"-end-after"})&&r(e.modelRange.end,e.viewItem.getAttribute(s+"-end-after").split(",")),n.consumable.consume(e.viewItem,{attributes:s+"-start-after"})&&r(e.modelRange.end,e.viewItem.getAttribute(s+"-start-after").split(",")),n.consumable.consume(e.viewItem,{attributes:s+"-end-before"})&&r(e.modelRange.start,e.viewItem.getAttribute(s+"-end-before").split(",")),n.consumable.consume(e.viewItem,{attributes:s+"-start-before"})&&r(e.modelRange.start,e.viewItem.getAttribute(s+"-start-before").split(","));function r(o,c){for(const u of c){const f=i.model(u,n),p=n.writer.createElement("$marker",{"data-name":f});n.writer.insert(p,o),e.modelCursor.isEqual(o)?e.modelCursor=e.modelCursor.getShiftedBy(1):e.modelCursor=e.modelCursor._getTransformedByInsertion(o,1),e.modelRange=e.modelRange._getTransformedByInsertion(o,1)[0]}}}}function Ux(i){return typeof i=="string"?i:typeof i=="object"&&typeof i.name=="string"?i.name:null}function Ww(i){const t=new Jh(i.view);return(e,n,s)=>{const r=t.match(n.viewItem);if(!r)return;const o=r.match;if(o.name=!0,!s.consumable.test(n.viewItem,o))return;const c=KV(i.model,n.viewItem,s);c&&s.safeInsert(c,n.modelCursor)&&(s.consumable.consume(n.viewItem,o),s.convertChildren(n.viewItem,c),s.updateConversionResult(c,n))}}function KV(i,t,e){return i instanceof Function?i(t,e):e.writer.createElement(i)}function QV(i){typeof i.view=="string"&&(i.view={key:i.view});const t=i.view.key,e=typeof i.view.value>"u"?/[\s\S]*/:i.view.value;let n;return t=="class"||t=="style"?n={[t=="class"?"classes":"styles"]:e}:n={attributes:{[t]:e}},i.view.name&&(n.name=i.view.name),i.view=n,t}function WO(i,t=null){const e=t===null?!0:r=>r.getAttribute(t),n=typeof i.model!="object"?i.model:i.model.key,s=typeof i.model!="object"||typeof i.model.value>"u"?e:i.model.value;i.model={key:n,value:s}}function GO(i,t){const e=new Jh(i.view);return(n,s,r)=>{if(!s.modelRange&&t)return;const o=e.match(s.viewItem);if(!o||(YV(i.view,s.viewItem)?o.match.name=!0:delete o.match.name,!r.consumable.test(s.viewItem,o.match)))return;const c=i.model.key,u=typeof i.model.value=="function"?i.model.value(s.viewItem,r,s):i.model.value;if(u==null)return;s.modelRange||Object.assign(s,r.convertChildren(s.viewItem,s.modelCursor)),$V(s.modelRange,{key:c,value:u},t,r)&&(r.consumable.test(s.viewItem,{name:!0})&&(o.match.name=!0),r.consumable.consume(s.viewItem,o.match))}}function YV(i,t){const e=typeof i=="function"?i(t):i;return typeof e=="object"&&!Ux(e)?!1:!e.classes&&!e.attributes&&!e.styles}function $V(i,t,e,n){let s=!1;for(const r of Array.from(i.getItems({shallow:e})))n.schema.checkAttribute(r,t.key)&&(s=!0,!r.hasAttribute(t.key)&&n.writer.setAttribute(t.key,t.value,r));return s}function XV(i){return(t,e)=>{const n=typeof i=="string"?i:i(t,e);return e.writer.createElement("$marker",{"data-name":n})}}function oS(i,t){const e=(n,s)=>{const r=n.getAttribute("name"),o=i.model(r,s);return s.writer.createElement("$marker",{"data-name":o})};return{view:`${i.view}-${t}`,model:e}}class ZV extends Fn(){constructor(e,n){super();x(this,"model");x(this,"view");x(this,"mapper");x(this,"downcastDispatcher");this.model=e,this.view=new HF(n),this.mapper=new AO,this.downcastDispatcher=new TO({mapper:this.mapper,schema:e.schema});const s=this.model.document,r=s.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(c=>{this.downcastDispatcher.convertChanges(s.differ,o,c),this.downcastDispatcher.convertSelection(r,o,c)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",zV(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",OO(),{priority:"lowest"}),this.downcastDispatcher.on("insert",IO(),{priority:"lowest"}),this.downcastDispatcher.on("remove",lV(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",dV()),this.downcastDispatcher.on("selection",cV(),{priority:"low"}),this.downcastDispatcher.on("selection",uV(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(c=>{if(c.rootName=="$graveyard")return null;const u=new mO(this.view.document,c.name);return u.rootName=c.rootName,this.mapper.bindElements(c,u),u})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const n=typeof e=="string"?e:e.name,s=this.model.markers.get(n);if(!s)throw new q("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:n});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class JV extends Fn(){constructor(){super();x(this,"_sourceDefinitions",{});x(this,"_attributeProperties",Object.create(null));x(this,"_customChildChecks",new Map);x(this,"_customAttributeChecks",new Map);x(this,"_genericCheckSymbol",Symbol("$generic"));x(this,"_compiledDefinitions");this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,n)=>{n[0]=new fl(n[0])},{priority:"highest"}),this.on("checkChild",(e,n)=>{n[0]=new fl(n[0]),n[1]=this.getDefinition(n[1])},{priority:"highest"})}register(e,n){if(this._sourceDefinitions[e])throw new q("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},n)],this._clearCache()}extend(e,n){if(!this._sourceDefinitions[e])throw new q("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},n)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let n;return typeof e=="string"?n=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?n="$text":n=e.name,this.getDefinitions()[n]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const n=this.getDefinition(e);return!!(n&&n.isBlock)}isLimit(e){const n=this.getDefinition(e);return n?!!(n.isLimit||n.isObject):!1}isObject(e){const n=this.getDefinition(e);return n?!!(n.isObject||n.isLimit&&n.isSelectable&&n.isContent):!1}isInline(e){const n=this.getDefinition(e);return!!(n&&n.isInline)}isSelectable(e){const n=this.getDefinition(e);return n?!!(n.isSelectable||n.isObject):!1}isContent(e){const n=this.getDefinition(e);return n?!!(n.isContent||n.isObject):!1}checkChild(e,n){return n?this._checkContextMatch(e,n):!1}checkAttribute(e,n){const s=this.getDefinition(e.last);if(!s)return!1;const r=this._evaluateAttributeChecks(e,n);return r!==void 0?r:s.allowAttributes.includes(n)}checkMerge(e,n){if(e instanceof me){const s=e.nodeBefore,r=e.nodeAfter;if(!(s instanceof fn))throw new q("schema-check-merge-no-element-before",this);if(!(r instanceof fn))throw new q("schema-check-merge-no-element-after",this);return this.checkMerge(s,r)}if(this.isLimit(e)||this.isLimit(n))return!1;for(const s of n.getChildren())if(!this.checkChild(e,s))return!1;return!0}addChildCheck(e,n){const s=n!==void 0?n:this._genericCheckSymbol,r=this._customChildChecks.get(s)||[];r.push(e),this._customChildChecks.set(s,r)}addAttributeCheck(e,n){const s=n!==void 0?n:this._genericCheckSymbol,r=this._customAttributeChecks.get(s)||[];r.push(e),this._customAttributeChecks.set(s,r)}setAttributeProperties(e,n){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),n)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let n;for(e instanceof me?n=e.parent:n=(e instanceof te?[e]:Array.from(e.getRanges())).reduce((r,o)=>{const c=o.getCommonAncestor();return r?r.getCommonAncestor(c,{includeSelf:!0}):c},null);!this.isLimit(n)&&n.parent;)n=n.parent;return n}checkAttributeInSelection(e,n){if(e.isCollapsed){const r=[...e.getFirstPosition().getAncestors(),new mn("",e.getAttributes())];return this.checkAttribute(r,n)}else{const s=e.getRanges();for(const r of s)for(const o of r)if(this.checkAttribute(o.item,n))return!0}return!1}*getValidRanges(e,n){e=pz(e);for(const s of e)yield*this._getValidRangesForRange(s,n)}getNearestSelectionRange(e,n="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new te(e);let s,r;const o=e.getAncestors().reverse().find(c=>this.isLimit(c))||e.root;(n=="both"||n=="backward")&&(s=new ea({boundaries:te._createIn(o),startPosition:e,direction:"backward"})),(n=="both"||n=="forward")&&(r=new ea({boundaries:te._createIn(o),startPosition:e}));for(const c of mz(s,r)){const u=c.walker==s?"elementEnd":"elementStart",f=c.value;if(f.type==u&&this.isObject(f.item))return te._createOn(f.item);if(this.checkChild(f.nextPosition,"$text"))return new te(f.nextPosition)}return null}findAllowedParent(e,n){let s=e.parent;for(;s;){if(this.checkChild(s,n))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(e,n,s){const r=s.model;for(const[o,c]of Object.entries(n))r.schema.checkAttribute(e,o)&&s.setAttribute(o,c,e)}removeDisallowedAttributes(e,n){for(const s of e)if(s.is("$text"))aS(this,s,n);else{const o=te._createIn(s).getPositions();for(const c of o){const u=c.nodeBefore||c.parent;aS(this,u,n)}}}getAttributesWithProperty(e,n,s){const r={};for(const[o,c]of e.getAttributes()){const u=this.getAttributeProperties(o);u[n]!==void 0&&(s===void 0||s===u[n])&&(r[o]=c)}return r}createContext(e){return new fl(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},n=this._sourceDefinitions,s=Object.keys(n);for(const o of s)e[o]=ez(n[o],o);const r=Object.values(e);for(const o of r)tz(e,o),nz(e,o),iz(e,o),sz(e,o);for(const o of r)rz(e,o);for(const o of r)oz(e,o);for(const o of r)az(e,o);for(const o of r)cz(e,o);for(const o of r)uz(e,o);this._compiledDefinitions=lz(e)}_checkContextMatch(e,n){const s=e.last;let r=this._evaluateChildChecks(e,n);if(r=r!==void 0?r:n.allowIn.includes(s.name),!r)return!1;const o=this.getDefinition(s),c=e.trimLast();return o?c.length==0?!0:this._checkContextMatch(c,o):!1}_evaluateChildChecks(e,n){const s=this._customChildChecks.get(this._genericCheckSymbol)||[],r=this._customChildChecks.get(n.name)||[];for(const o of[...s,...r]){const c=o(e,n);if(c!==void 0)return c}}_evaluateAttributeChecks(e,n){const s=this._customAttributeChecks.get(this._genericCheckSymbol)||[],r=this._customAttributeChecks.get(n)||[];for(const o of[...s,...r]){const c=o(e,n);if(c!==void 0)return c}}*_getValidRangesForRange(e,n){let s=e.start,r=e.start;for(const o of e.getItems({shallow:!0}))o.is("element")&&(yield*this._getValidRangesForRange(te._createIn(o),n)),this.checkAttribute(o,n)||(s.isEqual(r)||(yield new te(s,r)),s=me._createAfter(o)),r=me._createAfter(o);s.isEqual(r)||(yield new te(s,r))}findOptimalInsertionRange(e,n){const s=e.getSelectedElement();if(s&&this.isObject(s)&&!this.isInline(s))return n=="before"||n=="after"?new te(me._createAt(s,n)):te._createOn(s);const r=Lr(e.getSelectedBlocks());if(!r)return new te(e.focus);if(r.isEmpty)return new te(me._createAt(r,0));const o=me._createAfter(r);return e.focus.isTouching(o)?new te(o):new te(me._createBefore(r))}}class fl{constructor(t){x(this,"_items");if(t instanceof fl)return t;let e;typeof t=="string"?e=[t]:Array.isArray(t)?e=t:e=t.getAncestors({includeSelf:!0}),this._items=e.map(hz)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new fl([t]);return e._items=[...this._items,...e._items],e}trimLast(){const t=new fl([]);return t._items=this._items.slice(0,-1),t}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function ez(i,t){const e={name:t,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return dz(i,e),ao(i,e,"allowIn"),ao(i,e,"allowChildren"),ao(i,e,"disallowIn"),ao(i,e,"disallowChildren"),ao(i,e,"allowContentOf"),ao(i,e,"allowWhere"),ao(i,e,"allowAttributes"),ao(i,e,"disallowAttributes"),ao(i,e,"allowAttributesOf"),ao(i,e,"inheritTypesFrom"),fz(i,e),e}function tz(i,t){for(const e of t.allowIn){const n=i[e];n?n.allowChildren.add(t.name):t.allowIn.delete(e)}}function nz(i,t){for(const e of t.allowChildren){const n=i[e];n?n.allowIn.add(t.name):t.allowChildren.delete(e)}}function iz(i,t){for(const e of t.disallowIn){const n=i[e];n?n.disallowChildren.add(t.name):t.disallowIn.delete(e)}}function sz(i,t){for(const e of t.disallowChildren){const n=i[e];n?n.disallowIn.add(t.name):t.disallowChildren.delete(e)}}function rz(i,t){for(const e of t.disallowChildren)t.allowChildren.delete(e);for(const e of t.disallowIn)t.allowIn.delete(e);for(const e of t.disallowAttributes)t.allowAttributes.delete(e)}function oz(i,t){for(const e of t.allowContentOf){const n=i[e];n&&(n.disallowChildren.forEach(s=>{t.allowChildren.has(s)||(t.disallowChildren.add(s),i[s].disallowIn.add(t.name))}),n.allowChildren.forEach(s=>{t.disallowChildren.has(s)||(t.allowChildren.add(s),i[s].allowIn.add(t.name))}))}}function az(i,t){for(const e of t.allowWhere){const n=i[e];n&&(n.disallowIn.forEach(s=>{t.allowIn.has(s)||(t.disallowIn.add(s),i[s].disallowChildren.add(t.name))}),n.allowIn.forEach(s=>{t.disallowIn.has(s)||(t.allowIn.add(s),i[s].allowChildren.add(t.name))}))}}function lz(i){const t={};for(const e of Object.values(i))t[e.name]={name:e.name,isBlock:!!e.isBlock,isContent:!!e.isContent,isInline:!!e.isInline,isLimit:!!e.isLimit,isObject:!!e.isObject,isSelectable:!!e.isSelectable,allowIn:Array.from(e.allowIn).filter(n=>!!i[n]),allowChildren:Array.from(e.allowChildren).filter(n=>!!i[n]),allowAttributes:Array.from(e.allowAttributes)};return t}function cz(i,t){for(const e of t.allowAttributesOf){const n=i[e];if(!n)return;n.allowAttributes.forEach(s=>{t.disallowAttributes.has(s)||t.allowAttributes.add(s)})}}function uz(i,t){for(const e of t.inheritTypesFrom){const n=i[e];if(n){const s=Object.keys(n).filter(r=>r.startsWith("is"));for(const r of s)r in t||(t[r]=n[r])}}}function dz(i,t){for(const e of i){const n=Object.keys(e).filter(s=>s.startsWith("is"));for(const s of n)t[s]=!!e[s]}}function ao(i,t,e){for(const n of i){let s=n[e];typeof s=="string"&&(s=[s]),Array.isArray(s)&&s.forEach(r=>t[e].add(r))}}function fz(i,t){for(const e of i){const n=e.inheritAllFrom;n&&(t.allowContentOf.add(n),t.allowWhere.add(n),t.allowAttributesOf.add(n),t.inheritTypesFrom.add(n))}}function hz(i){return typeof i=="string"||i.is("documentFragment")?{name:typeof i=="string"?i:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:i.is("element")?i.name:"$text",*getAttributeKeys(){yield*i.getAttributeKeys()},getAttribute(t){return i.getAttribute(t)}}}function*mz(i,t){let e=!1;for(;!e;){if(e=!0,i){const n=i.next();n.done||(e=!1,yield{walker:i,value:n.value})}if(t){const n=t.next();n.done||(e=!1,yield{walker:t,value:n.value})}}}function*pz(i){for(const t of i)yield*t.getMinimalFlatRanges()}function aS(i,t,e){for(const n of t.getAttributeKeys())i.checkAttribute(t,n)||e.removeAttribute(n,t)}class gz extends an(){constructor(e){super();x(this,"conversionApi");x(this,"_splitParts",new Map);x(this,"_cursorParents",new Map);x(this,"_modelCursor",null);x(this,"_emptyElementsToKeep",new Set);this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(n,s)=>this._convertItem(n,s),convertChildren:(n,s)=>this._convertChildren(n,s),safeInsert:(n,s)=>this._safeInsert(n,s),updateConversionResult:(n,s)=>this._updateConversionResult(n,s),splitToAllowedParent:(n,s)=>this._splitToAllowedParent(n,s),getSplitParts:n=>this._getSplitParts(n),keepEmptyElement:n=>this._keepEmptyElement(n)}}convert(e,n,s=["$root"]){this.fire("viewCleanup",e),this._modelCursor=vz(s,n),this.conversionApi.writer=n,this.conversionApi.consumable=_0.createFrom(e),this.conversionApi.store={};const{modelRange:r}=this._convertItem(e,this._modelCursor),o=n.createDocumentFragment();if(r){this._removeEmptyElements();const c=this._modelCursor.parent,u=c._removeChildren(0,c.childCount);o._insertChild(0,u),o.markers=bz(o,n)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}_convertItem(e,n){const s={viewItem:e,modelCursor:n,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,s,this.conversionApi):e.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof te))throw new q("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(e,n){let s=n.is("position")?n:me._createAt(n,0);const r=new te(s);for(const o of Array.from(e.getChildren())){const c=this._convertItem(o,s);c.modelRange instanceof te&&(r.end=c.modelRange.end,s=c.modelCursor)}return{modelRange:r,modelCursor:s}}_safeInsert(e,n){const s=this._splitToAllowedParent(e,n);return s?(this.conversionApi.writer.insert(e,s.position),!0):!1}_updateConversionResult(e,n){const s=this._getSplitParts(e),r=this.conversionApi.writer;n.modelRange||(n.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(s[s.length-1])));const o=this._cursorParents.get(e);o?n.modelCursor=r.createPositionAt(o,0):n.modelCursor=n.modelRange.end}_splitToAllowedParent(e,n){const{schema:s,writer:r}=this.conversionApi;let o=s.findAllowedParent(n,e);if(o){if(o===n.parent)return{position:n};this._modelCursor.parent.getAncestors().includes(o)&&(o=null)}if(!o)return qO(n,e,s)?{position:HO(n,r)}:null;const c=this.conversionApi.writer.split(n,o),u=[];for(const p of c.range.getWalker())if(p.type=="elementEnd")u.push(p.item);else{const g=u.pop(),v=p.item;this._registerSplitPair(g,v)}const f=c.range.end.parent;return this._cursorParents.set(e,f),{position:c.position,cursorParent:f}}_registerSplitPair(e,n){this._splitParts.has(e)||this._splitParts.set(e,[e]);const s=this._splitParts.get(e);this._splitParts.set(n,s),s.push(n)}_getSplitParts(e){let n;return this._splitParts.has(e)?n=this._splitParts.get(e):n=[e],n}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){const e=new Map;for(const n of this._splitParts.keys())if(n.isEmpty&&!this._emptyElementsToKeep.has(n)){const s=e.get(n.parent)||[];s.push(n),this._splitParts.delete(n),e.set(n.parent,s)}for(const[n,s]of e)n._removeChildrenArray(s);e.size&&this._removeEmptyElements()}}function bz(i,t){const e=new Set,n=new Map,s=te._createIn(i).getItems();for(const r of s)r.is("element","$marker")&&e.add(r);for(const r of e){const o=r.getAttribute("data-name"),c=t.createPositionBefore(r);n.has(o)?n.get(o).end=c.clone():n.set(o,new te(c.clone())),t.remove(r)}return n}function vz(i,t){let e;for(const n of new fl(i)){const s={};for(const o of n.getAttributeKeys())s[o]=n.getAttribute(o);const r=t.createElement(n.name,s);e&&t.insert(r,e),e=me._createAt(r,0)}return e}class yz{getHtml(t){const n=Be.document.implementation.createHTMLDocument("").createElement("div");return n.appendChild(t),n.innerHTML}}class wz{constructor(t){x(this,"domParser");x(this,"domConverter");x(this,"htmlWriter");x(this,"skipComments",!0);this.domParser=new DOMParser,this.domConverter=new xO(t,{renderingMode:"data"}),this.htmlWriter=new yz}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(t.trim().slice(0,1e4))||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),s=e.body.childNodes;for(;s.length>0;)n.appendChild(s[0]);return n}}class xz extends an(){constructor(e,n){super();x(this,"model");x(this,"mapper");x(this,"downcastDispatcher");x(this,"upcastDispatcher");x(this,"viewDocument");x(this,"stylesProcessor");x(this,"htmlProcessor");x(this,"processor");x(this,"_viewWriter");this.model=e,this.mapper=new AO,this.downcastDispatcher=new TO({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",OO(),{priority:"lowest"}),this.downcastDispatcher.on("insert",IO(),{priority:"lowest"}),this.upcastDispatcher=new gz({schema:e.schema}),this.viewDocument=new pO(n),this.stylesProcessor=n,this.htmlProcessor=new wz(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new gO(this.viewDocument),this.upcastDispatcher.on("text",VV(),{priority:"lowest"}),this.upcastDispatcher.on("element",rS(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",rS(),{priority:"lowest"}),Fn().prototype.decorate.call(this,"init"),Fn().prototype.decorate.call(this,"set"),Fn().prototype.decorate.call(this,"get"),Fn().prototype.decorate.call(this,"toView"),Fn().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},zO)},{priority:"lowest"})}get(e={}){const{rootName:n="main",trim:s="empty"}=e;if(!this._checkIfRootsExists([n]))throw new q("datacontroller-get-non-existent-root",this);const r=this.model.document.getRoot(n);return r.isAttached()||zn("datacontroller-get-detached-root",this),s==="empty"&&!this.model.hasContent(r,{ignoreWhitespaces:!0})?"":this.stringify(r,e)}stringify(e,n={}){const s=this.toView(e,n);return this.processor.toData(s)}toView(e,n={}){const s=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();const o=te._createIn(e),c=new Zu(s);this.mapper.bindElements(e,c);const u=e.is("documentFragment")?e.markers:_z(e);return this.downcastDispatcher.convert(o,u,r,n),c}init(e){if(this.model.document.version)throw new q("datacontroller-init-document-not-empty",this);let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new q("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const r of Object.keys(n)){const o=this.model.document.getRoot(r);s.insert(this.parse(n[r],o),o,0)}}),Promise.resolve()}set(e,n={}){let s={};if(typeof e=="string"?s.main=e:s=e,!this._checkIfRootsExists(Object.keys(s)))throw new q("datacontroller-set-non-existent-root",this);this.model.enqueueChange(n.batchType||{},r=>{r.setSelection(null),r.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const o of Object.keys(s)){const c=this.model.document.getRoot(o);r.remove(r.createRangeIn(c)),r.insert(this.parse(s[o],c),c,0)}})}parse(e,n="$root"){const s=this.processor.toView(e);return this.toModel(s,n)}toModel(e,n="$root"){return this.model.change(s=>this.upcastDispatcher.convert(e,s,n))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const n of e)if(!this.model.document.getRoot(n))return!1;return!0}}function _z(i){const t=[],e=i.root.document;if(!e)return new Map;const n=te._createIn(i);for(const s of e.model.markers){const r=s.getRange(),o=r.isCollapsed,c=r.start.isEqual(n.start)||r.end.isEqual(n.end);if(o&&c)t.push([s.name,r]);else{const u=n.getIntersection(r);u&&t.push([s.name,u])}}return t.sort(([s,r],[o,c])=>{if(r.end.compareWith(c.start)!=="after")return 1;if(r.start.compareWith(c.end)!=="before")return-1;switch(r.start.compareWith(c.start)){case"before":return 1;case"after":return-1;default:switch(r.end.compareWith(c.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(s)}}}),new Map(t)}class Ez{constructor(t,e){x(this,"_helpers",new Map);x(this,"_downcast");x(this,"_upcast");this._downcast=Zn(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Zn(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new q("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new q("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of Hy(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of Hy(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of Hy(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new q("conversion-group-exists",this);const s=n?new aV(e):new FV(e);this._helpers.set(t,s)}}function*Hy(i){if(i.model.values)for(const t of i.model.values){const e={key:i.model.key,value:t},n=i.view[t],s=i.upcastAlso?i.upcastAlso[t]:void 0;yield*lS(e,n,s)}else yield*lS(i.model,i.view,i.upcastAlso)}function*lS(i,t,e){if(yield{model:i,view:t},e)for(const n of Zn(e))yield{model:i,view:n}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Vs{constructor(t){x(this,"baseVersion");x(this,"isDocumentOperation");x(this,"batch");this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function Wx(i,t){const e=QO(t),n=e.reduce((o,c)=>o+c.offsetSize,0),s=i.parent;om(i);const r=i.index;return s._insertChild(r,e),rm(s,r+e.length),rm(s,r),new te(i,i.getShiftedBy(n))}function KO(i){if(!i.isFlat)throw new q("operation-utils-remove-range-not-flat",this);const t=i.start.parent;om(i.start),om(i.end);const e=t._removeChildren(i.start.index,i.end.index-i.start.index);return rm(t,i.start.index),e}function sm(i,t){if(!i.isFlat)throw new q("operation-utils-move-range-not-flat",this);const e=KO(i);return t=t._getTransformedByDeletion(i.start,i.end.offset-i.start.offset),Wx(t,e)}function kz(i,t,e){om(i.start),om(i.end);for(const n of i.getItems({shallow:!0})){const s=n.is("$textProxy")?n.textNode:n;e!==null?s._setAttribute(t,e):s._removeAttribute(t),rm(s.parent,s.index)}rm(i.end.parent,i.end.index)}function QO(i){const t=[];function e(n){if(typeof n=="string")t.push(new mn(n));else if(n instanceof Pr)t.push(new mn(n.data,n.getAttributes()));else if(n instanceof Lc)t.push(n);else if(Fs(n))for(const s of n)e(s)}e(i);for(let n=1;n<t.length;n++){const s=t[n],r=t[n-1];s instanceof mn&&r instanceof mn&&YO(s,r)&&(t.splice(n-1,2,new mn(r.data+s.data,r.getAttributes())),n--)}return t}function rm(i,t){const e=i.getChild(t-1),n=i.getChild(t);if(e&&n&&e.is("$text")&&n.is("$text")&&YO(e,n)){const s=new mn(e.data+n.data,e.getAttributes());i._removeChildren(t-1,2),i._insertChild(t-1,s)}}function om(i){const t=i.textNode,e=i.parent;if(t){const n=i.offset-t.startOffset,s=t.index;e._removeChildren(s,1);const r=new mn(t.data.substr(0,n),t.getAttributes()),o=new mn(t.data.substr(n),t.getAttributes());e._insertChild(s,[r,o])}}function YO(i,t){const e=i.getAttributes(),n=t.getAttributes();for(const s of e){if(s[1]!==t.getAttribute(s[0]))return!1;n.next()}return n.next().done}class zt extends Vs{constructor(e,n,s,r){super(r);x(this,"sourcePosition");x(this,"howMany");x(this,"targetPosition");this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=n,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName==this.sourcePosition.root.rootName?"move":this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[te._createFromPositionAndShift(this.sourcePosition,this.howMany),te._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new zt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new zt(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,n=this.targetPosition.parent,s=this.sourcePosition.offset,r=this.targetPosition.offset;if(s+this.howMany>e.maxOffset)throw new q("move-operation-nodes-do-not-exist",this);if(e===n&&s<r&&r<s+this.howMany)throw new q("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Ti(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const o=this.sourcePosition.path.length-1;if(this.targetPosition.path[o]>=s&&this.targetPosition.path[o]<s+this.howMany)throw new q("move-operation-node-into-itself",this)}}_execute(){sm(te._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,n){const s=me.fromJSON(e.sourcePosition,n),r=me.fromJSON(e.targetPosition,n);return new this(s,e.howMany,r,e.baseVersion)}}class xi extends Vs{constructor(e,n,s){super(s);x(this,"position");x(this,"nodes");x(this,"shouldReceiveAttributes");this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Dh(QO(n)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Dh([...this.nodes].map(s=>s._clone(!0))),n=new xi(this.position,e,this.baseVersion);return n.shouldReceiveAttributes=this.shouldReceiveAttributes,n}getReversed(){const e=this.position.root.document.graveyard,n=new me(e,[0]);return new zt(this.position,this.nodes.maxOffset,n,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new q("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Dh([...e].map(n=>n._clone(!0))),Wx(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,n){const s=[];for(const o of e.nodes)o.name?s.push(fn.fromJSON(o)):s.push(mn.fromJSON(o));const r=new xi(me.fromJSON(e.position,n),s,e.baseVersion);return r.shouldReceiveAttributes=e.shouldReceiveAttributes,r}}class nn extends Vs{constructor(e,n,s,r,o){super(o);x(this,"splitPosition");x(this,"howMany");x(this,"insertionPosition");x(this,"graveyardPosition");this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=n,this.insertionPosition=s,this.graveyardPosition=r?r.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new me(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new te(this.splitPosition,e)}get affectedSelectable(){const e=[te._createFromPositionAndShift(this.splitPosition,0),te._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(te._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new nn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,n=new me(e,[0]);return new Vn(this.moveTargetPosition,this.howMany,this.splitPosition,n,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,n=this.splitPosition.offset;if(!e||e.maxOffset<n)throw new q("split-operation-position-invalid",this);if(e.parent){if(this.howMany!==Number.NEGATIVE_INFINITY&&this.howMany!=e.maxOffset-this.splitPosition.offset)throw new q("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new q("split-operation-graveyard-position-invalid",this)}else throw new q("split-operation-split-in-root",this);this.howMany=this.splitPosition.parent.maxOffset-this.splitPosition.offset}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)sm(te._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=e._clone();Wx(this.insertionPosition,s)}const n=new te(me._createAt(e,this.splitPosition.offset),me._createAt(e,e.maxOffset));sm(n,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const n=e.path.slice(0,-1);return n[n.length-1]++,new me(e.root,n,"toPrevious")}static fromJSON(e,n){const s=me.fromJSON(e.splitPosition,n),r=me.fromJSON(e.insertionPosition,n),o=e.graveyardPosition?me.fromJSON(e.graveyardPosition,n):null;return new this(s,e.howMany,r,o,e.baseVersion)}}class Vn extends Vs{constructor(e,n,s,r,o){super(o);x(this,"sourcePosition");x(this,"howMany");x(this,"targetPosition");x(this,"graveyardPosition");this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=n,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new me(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new te(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[te._createOn(e),te._createFromPositionAndShift(this.targetPosition,0),te._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Vn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),n=this.sourcePosition.path.slice(0,-1),s=new me(this.sourcePosition.root,n)._getTransformedByMergeOperation(this);return new nn(e,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,n=this.targetPosition.parent;if(e.parent)if(n.parent){if(this.howMany!==Number.NEGATIVE_INFINITY&&this.howMany!=e.maxOffset)throw new q("merge-operation-how-many-invalid",this)}else throw new q("merge-operation-target-position-invalid",this);else throw new q("merge-operation-source-position-invalid",this);this.howMany=this.sourcePosition.parent.maxOffset}_execute(){const e=this.sourcePosition.parent,n=te._createIn(e);sm(n,this.targetPosition),sm(te._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,n){const s=me.fromJSON(e.sourcePosition,n),r=me.fromJSON(e.targetPosition,n),o=me.fromJSON(e.graveyardPosition,n);return new this(s,e.howMany,r,o,e.baseVersion)}}class ns extends Vs{constructor(e,n,s,r,o,c){super(c);x(this,"name");x(this,"oldRange");x(this,"newRange");x(this,"affectsData");x(this,"_markers");this.name=e,this.oldRange=n?n.clone():null,this.newRange=s?s.clone():null,this.affectsData=o,this._markers=r}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new ns(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new ns(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,n){return new ns(e.name,e.oldRange?te.fromJSON(e.oldRange,n):null,e.newRange?te.fromJSON(e.newRange,n):null,n.model.markers,e.affectsData,e.baseVersion)}}class Hn extends Vs{constructor(e,n,s,r,o){super(o);x(this,"range");x(this,"key");x(this,"oldValue");x(this,"newValue");this.range=e.clone(),this.key=n,this.oldValue=s===void 0?null:s,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Hn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Hn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new q("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!gC(e.getAttribute(this.key),this.oldValue))throw new q("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new q("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){gC(this.oldValue,this.newValue)||kz(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,n){return new Hn(te.fromJSON(e.range,n),e.key,e.oldValue,e.newValue,e.baseVersion)}}class oi extends Vs{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new oi(this.baseVersion)}getReversed(){return new oi(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class _s extends Vs{constructor(e,n,s,r){super(r);x(this,"position");x(this,"oldName");x(this,"newName");this.position=e,this.position.stickiness="toNext",this.oldName=n,this.newName=s}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new _s(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new _s(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof fn){if(this.oldName!==""&&e.name!==this.oldName)throw new q("rename-operation-wrong-name",this)}else throw new q("rename-operation-wrong-position",this);this.oldName=e.name}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,n){return new _s(me.fromJSON(e.position,n),e.oldName,e.newName,e.baseVersion)}}class ia extends Vs{constructor(e,n,s,r,o){super(o);x(this,"root");x(this,"key");x(this,"oldValue");x(this,"newValue");this.root=e,this.key=n,this.oldValue=s===void 0?null:s,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new ia(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ia(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new q("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new q("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new q("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,n){if(!n.getRoot(e.root))throw new q("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new ia(n.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class wo extends Vs{constructor(e,n,s,r,o){super(o);x(this,"rootName");x(this,"elementName");x(this,"isAdd");x(this,"_document");if(this.rootName=e,this.elementName=n,this.isAdd=s,this._document=r,!this._document.getRoot(this.rootName)){const c=this._document.createRoot(this.elementName,this.rootName);c._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new wo(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new wo(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,n){return new wo(e.rootName,e.elementName,e.isAdd,n,e.baseVersion)}}const fr={};fr[Hn.className]=Hn;fr[xi.className]=xi;fr[ns.className]=ns;fr[zt.className]=zt;fr[oi.className]=oi;fr[Vs.className]=Vs;fr[_s.className]=_s;fr[ia.className]=ia;fr[wo.className]=wo;fr[nn.className]=nn;fr[Vn.className]=Vn;class Cz{static fromJSON(t,e){return fr[t.__className].fromJSON(t,e)}}const Gw=new Map;function Pt(i,t,e){let n=Gw.get(i);n||(n=new Map,Gw.set(i,n)),n.set(t,e)}function Sz(i,t){const e=Gw.get(i);return e&&e.has(t)?e.get(t):Az}function Az(i){return[i]}function cS(i,t,e={}){const n=Sz(i.constructor,t.constructor);try{return i=i.clone(),n(i,t,e)}catch(s){throw s}}function Tz(i,t,e){i=i.slice(),t=t.slice();const n=new Nz(e.document,e.useRelations,e.forceWeakRemove);n.setOriginalOperations(i),n.setOriginalOperations(t);const s=n.originalOperations;if(i.length==0||t.length==0)return{operationsA:i,operationsB:t,originalOperations:s};const r=new WeakMap;for(const u of i)r.set(u,0);const o={nextBaseVersionA:i[i.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:i.length,originalOperationsBCount:t.length};let c=0;for(;c<i.length;){const u=i[c],f=r.get(u);if(f==t.length){c++;continue}const p=t[f],g=cS(u,p,n.getContext(u,p,!0)),v=cS(p,u,n.getContext(p,u,!1));n.updateRelation(u,p),n.setOriginalOperations(g,u),n.setOriginalOperations(v,p);for(const _ of g)r.set(_,f+v.length);i.splice(c,1,...g),t.splice(f,1,...v)}return dS(i),dS(t),uS(i,o.nextBaseVersionB),uS(t,o.nextBaseVersionA),{operationsA:i,operationsB:t,originalOperations:s}}class Nz{constructor(t,e,n=!1){x(this,"originalOperations");x(this,"_history");x(this,"_useRelations");x(this,"_forceWeakRemove");x(this,"_relations");this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const s of t)this.originalOperations.set(s,n||s)}updateRelation(t,e){if(t instanceof zt)e instanceof Vn?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)?this._setRelation(t,e,"moveTargetAfter"):t.howMany>1&&t.sourcePosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"firstToMoveMerged"):t.howMany>1&&t.sourcePosition.getShiftedBy(t.howMany-1).isEqual(e.deletionPosition)&&this._setRelation(t,e,"lastToMoveMerged"):e instanceof zt&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof nn){if(e instanceof Vn)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof zt)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const n=te._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)){const s=n.end.offset-t.splitPosition.offset,r=t.splitPosition.offset-n.start.offset;this._setRelation(t,e,{howMany:s,offset:r})}}}else if(t instanceof Vn)e instanceof Vn?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof nn?t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource"):e instanceof zt&&e.howMany>0&&(t.sourcePosition.isEqual(e.sourcePosition.getShiftedBy(e.howMany))&&this._setRelation(t,e,"mergeSourceAffected"),t.targetPosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeTargetWasBefore"));else if(t instanceof ns){const n=t.newRange;if(!n)return;if(e instanceof Vn){const s=n.start.isEqual(e.targetPosition),r=n.start.isEqual(e.deletionPosition),o=n.end.isEqual(e.deletionPosition),c=n.end.isEqual(e.sourcePosition);(s||r||o||c)&&this._setRelation(t,e,{wasInLeftElement:s,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:c})}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),s=this._history.getUndoneOperation(n);if(!s)return null;const r=this.originalOperations.get(t),o=this._relations.get(r);return o&&o.get(s)||null}_setRelation(t,e,n){const s=this.originalOperations.get(t),r=this.originalOperations.get(e);let o=this._relations.get(s);o||(o=new Map,this._relations.set(s,o)),o.set(r,n)}}function uS(i,t){for(const e of i)e.baseVersion=t++}function dS(i){const t=new Map;for(let e=0;e<i.length;e++){const n=i[e];n instanceof ns&&(n.baseVersion!==-1?t.set(n.name,{op:n,ranges:n.newRange?[n.newRange]:[]}):(n.newRange&&t.get(n.name).ranges.push(n.newRange),i.splice(e,1),e--))}for(const{op:e,ranges:n}of t.values())n.length?e.newRange=te._createFromRanges(n):e.newRange=null}Pt(Hn,Hn,(i,t,e)=>{if(i.key===t.key&&i.range.start.hasSameParentAs(t.range.start)){const n=i.range.getDifference(t.range).map(r=>new Hn(r,i.key,i.oldValue,i.newValue,0)),s=i.range.getIntersection(t.range);return s&&e.aIsStrong&&n.push(new Hn(s,t.key,t.newValue,i.newValue,0)),n.length==0?[new oi(0)]:n}else return[i]});Pt(Hn,xi,(i,t)=>{if(i.range.start.hasSameParentAs(t.position)&&i.range.containsPosition(t.position)){const n=i.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(s=>new Hn(s,i.key,i.oldValue,i.newValue,i.baseVersion));if(t.shouldReceiveAttributes){const s=$O(t,i.key,i.oldValue);s&&n.unshift(s)}return n}return i.range=i.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[i]});function $O(i,t,e){const s=i.nodes.getNode(0).getAttribute(t);if(s==e)return null;const r=new te(i.position,i.position.getShiftedBy(i.howMany));return new Hn(r,t,s,e,0)}Pt(Hn,Vn,(i,t)=>{const e=[];i.range.start.hasSameParentAs(t.deletionPosition)&&(i.range.containsPosition(t.deletionPosition)||i.range.start.isEqual(t.deletionPosition))&&e.push(te._createFromPositionAndShift(t.graveyardPosition,1));const n=i.range._getTransformedByMergeOperation(t);return n.isCollapsed||e.push(n),e.map(s=>new Hn(s,i.key,i.oldValue,i.newValue,i.baseVersion))});Pt(Hn,zt,(i,t)=>Rz(i.range,t).map(n=>new Hn(n,i.key,i.oldValue,i.newValue,i.baseVersion)));function Rz(i,t){const e=te._createFromPositionAndShift(t.sourcePosition,t.howMany);let n=null,s=[];e.containsRange(i,!0)?n=i:i.start.hasSameParentAs(e.start)?(s=i.getDifference(e),n=i.getIntersection(e)):s=[i];const r=[];for(let o of s){o=o._getTransformedByDeletion(t.sourcePosition,t.howMany);const c=t.getMovedRangeStart(),u=o.start.hasSameParentAs(c),f=o._getTransformedByInsertion(c,t.howMany,u);r.push(...f)}return n&&r.push(n._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),r}Pt(Hn,nn,(i,t)=>{if(i.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||i.range.end.offset++,[i];if(i.range.start.hasSameParentAs(t.splitPosition)&&i.range.containsPosition(t.splitPosition)){const e=i.clone();return e.range=new te(t.moveTargetPosition.clone(),i.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),i.range.end=t.splitPosition.clone(),i.range.end.stickiness="toPrevious",[i,e]}return i.range=i.range._getTransformedBySplitOperation(t),[i]});Pt(xi,Hn,(i,t)=>{const e=[i];if(i.shouldReceiveAttributes&&i.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(i.position)){const n=$O(i,t.key,t.newValue);n&&e.push(n)}return e});Pt(xi,xi,(i,t,e)=>i.position.isEqual(t.position)&&e.aIsStrong?[i]:(i.position=i.position._getTransformedByInsertOperation(t),[i]));Pt(xi,zt,(i,t)=>(i.position=i.position._getTransformedByMoveOperation(t),[i]));Pt(xi,nn,(i,t)=>(i.position=i.position._getTransformedBySplitOperation(t),[i]));Pt(xi,Vn,(i,t)=>(i.position=i.position._getTransformedByMergeOperation(t),[i]));Pt(ns,xi,(i,t)=>(i.oldRange&&(i.oldRange=i.oldRange._getTransformedByInsertOperation(t)[0]),i.newRange&&(i.newRange=i.newRange._getTransformedByInsertOperation(t)[0]),[i]));Pt(ns,ns,(i,t,e)=>{if(i.name==t.name)if(e.aIsStrong)i.oldRange=t.newRange?t.newRange.clone():null;else return[new oi(0)];return[i]});Pt(ns,Vn,(i,t)=>(i.oldRange&&(i.oldRange=i.oldRange._getTransformedByMergeOperation(t)),i.newRange&&(i.newRange=i.newRange._getTransformedByMergeOperation(t)),[i]));Pt(ns,zt,(i,t)=>{const e=[i];if(i.oldRange&&(i.oldRange=te._createFromRanges(i.oldRange._getTransformedByMoveOperation(t))),i.newRange){const n=i.newRange._getTransformedByMoveOperation(t);i.newRange=n[0];for(let s=1;s<n.length;s++){const r=i.clone();r.oldRange=null,r.newRange=n[s],r.baseVersion=-1,e.push(r)}}return e});Pt(ns,nn,(i,t,e)=>{if(i.oldRange&&(i.oldRange=i.oldRange._getTransformedBySplitOperation(t)),i.newRange){if(e.abRelation){const n=i.newRange._getTransformedBySplitOperation(t);return i.newRange.start.isEqual(t.splitPosition)?e.abRelation.wasStartBeforeMergedElement?i.newRange.start=me._createAt(t.insertionPosition):e.abRelation.wasInLeftElement?i.newRange.start=me._createAt(i.newRange.start):i.newRange.start=me._createAt(t.moveTargetPosition):i.newRange.start=n.start,i.newRange.end.isEqual(t.splitPosition)?i.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?i.newRange.end=me._createAt(t.insertionPosition):e.abRelation.wasInRightElement?i.newRange.end=me._createAt(t.moveTargetPosition):i.newRange.end=me._createAt(i.newRange.end):i.newRange.end=n.end,[i]}i.newRange=i.newRange._getTransformedBySplitOperation(t)}return[i]});Pt(Vn,xi,(i,t)=>(i.sourcePosition.hasSameParentAs(t.position)&&(i.howMany+=t.howMany),i.sourcePosition=i.sourcePosition._getTransformedByInsertOperation(t),i.targetPosition=i.targetPosition._getTransformedByInsertOperation(t),[i]));Pt(Vn,Vn,(i,t,e)=>{if(i.sourcePosition.isEqual(t.sourcePosition)&&i.targetPosition.isEqual(t.targetPosition))if(e.bWasUndone){const n=t.graveyardPosition.path.slice();return n.push(0),i.sourcePosition=new me(t.graveyardPosition.root,n),i.howMany=0,[i]}else return[new oi(0)];if(i.sourcePosition.isEqual(t.sourcePosition)&&!i.targetPosition.isEqual(t.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){const n=i.targetPosition.root.rootName=="$graveyard",s=t.targetPosition.root.rootName=="$graveyard";if(s&&!n||!(n&&!s)&&e.aIsStrong){const u=t.targetPosition._getTransformedByMergeOperation(t),f=i.targetPosition._getTransformedByMergeOperation(t);return[new zt(u,i.howMany,f,0)]}else return[new oi(0)]}return i.sourcePosition.hasSameParentAs(t.targetPosition)&&(i.howMany+=t.howMany),i.sourcePosition=i.sourcePosition._getTransformedByMergeOperation(t),i.targetPosition=i.targetPosition._getTransformedByMergeOperation(t),(!i.graveyardPosition.isEqual(t.graveyardPosition)||!e.aIsStrong)&&(i.graveyardPosition=i.graveyardPosition._getTransformedByMergeOperation(t)),[i]});Pt(Vn,zt,(i,t,e)=>{const n=te._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!e.bWasUndone&&i.deletionPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(i.sourcePosition)?[new oi(0)]:(t.sourcePosition.getShiftedBy(t.howMany).isEqual(i.sourcePosition)?i.sourcePosition.stickiness="toNone":t.targetPosition.isEqual(i.sourcePosition)&&e.abRelation=="mergeSourceAffected"?i.sourcePosition.stickiness="toNext":t.sourcePosition.isEqual(i.targetPosition)?(i.targetPosition.stickiness="toNone",i.howMany-=t.howMany):t.targetPosition.isEqual(i.targetPosition)&&e.abRelation=="mergeTargetWasBefore"?(i.targetPosition.stickiness="toPrevious",i.howMany+=t.howMany):(i.sourcePosition.hasSameParentAs(t.targetPosition)&&(i.howMany+=t.howMany),i.sourcePosition.hasSameParentAs(t.sourcePosition)&&(i.howMany-=t.howMany)),i.sourcePosition=i.sourcePosition._getTransformedByMoveOperation(t),i.targetPosition=i.targetPosition._getTransformedByMoveOperation(t),i.sourcePosition.stickiness="toPrevious",i.targetPosition.stickiness="toNext",i.graveyardPosition.isEqual(t.targetPosition)||(i.graveyardPosition=i.graveyardPosition._getTransformedByMoveOperation(t)),[i])});Pt(Vn,nn,(i,t,e)=>{if(t.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),i.deletionPosition.isEqual(t.graveyardPosition)&&(i.howMany=t.howMany)),i.targetPosition.isEqual(t.splitPosition)&&(t.graveyardPosition&&i.deletionPosition.isEqual(t.graveyardPosition)||e.abRelation=="mergeTargetNotMoved"))return i.sourcePosition=i.sourcePosition._getTransformedBySplitOperation(t),[i];if(i.sourcePosition.isEqual(t.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return i.howMany=0,i.targetPosition=i.targetPosition._getTransformedBySplitOperation(t),[i];if(e.abRelation=="mergeSameElement"||i.sourcePosition.offset>0)return i.sourcePosition=t.moveTargetPosition.clone(),i.targetPosition=i.targetPosition._getTransformedBySplitOperation(t),[i]}return i.sourcePosition.hasSameParentAs(t.splitPosition)&&(i.howMany=t.splitPosition.offset),i.sourcePosition=i.sourcePosition._getTransformedBySplitOperation(t),i.targetPosition=i.targetPosition._getTransformedBySplitOperation(t),[i]});Pt(zt,xi,(i,t)=>{const n=te._createFromPositionAndShift(i.sourcePosition,i.howMany)._getTransformedByInsertOperation(t,!1)[0];return i.sourcePosition=n.start,i.howMany=n.end.offset-n.start.offset,i.targetPosition.isEqual(t.position)||(i.targetPosition=i.targetPosition._getTransformedByInsertOperation(t)),[i]});Pt(zt,zt,(i,t,e)=>{const n=te._createFromPositionAndShift(i.sourcePosition,i.howMany),s=te._createFromPositionAndShift(t.sourcePosition,t.howMany);let r=e.aIsStrong,o=!e.aIsStrong;e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?o=!0:(e.abRelation=="insertAfter"||e.baRelation=="insertBefore")&&(o=!1);let c;if(i.targetPosition.isEqual(t.targetPosition)&&o?c=i.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):c=i.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),fS(i,t)&&fS(t,i))return[t.getReversed()];if(n.containsPosition(t.targetPosition)&&n.containsRange(s,!0))return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Yu([n],c);if(s.containsPosition(i.targetPosition)&&s.containsRange(n,!0))return n.start=n.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.end=n.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),Yu([n],c);const p=Ti(i.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(p=="prefix"||p=="extension")return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Yu([n],c);i.type=="remove"&&t.type!="remove"&&!e.aWasUndone&&!e.forceWeakRemove?r=!0:i.type!="remove"&&t.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&(r=!1);const g=[],v=n.getDifference(s);for(const E of v){E.start=E.start._getTransformedByDeletion(t.sourcePosition,t.howMany),E.end=E.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const C=Ti(E.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",T=E._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,C);g.push(...T)}const _=n.getIntersection(s);return _!==null&&r&&(_.start=_.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),_.end=_.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),g.length===0?g.push(_):g.length==1?s.start.isBefore(n.start)||s.start.isEqual(n.start)?g.unshift(_):g.push(_):g.splice(1,0,_)),g.length===0?[new oi(i.baseVersion)]:Yu(g,c)});Pt(zt,nn,(i,t,e)=>{let n=i.targetPosition.clone();if((!i.targetPosition.isEqual(t.insertionPosition)||!t.graveyardPosition||e.abRelation=="moveTargetAfter")&&(n=i.targetPosition._getTransformedBySplitOperation(t)),i.sourcePosition.isEqual(t.insertionPosition)&&e.abRelation=="firstToMoveMerged")return i.howMany++,i.targetPosition=n,[i];const s=te._createFromPositionAndShift(i.sourcePosition,i.howMany);if(s.end.isEqual(t.insertionPosition))return(!t.graveyardPosition||e.abRelation=="lastToMoveMerged")&&i.howMany++,i.targetPosition=n,[i];if(s.start.hasSameParentAs(t.splitPosition)&&s.containsPosition(t.splitPosition)){let c=new te(t.splitPosition,s.end);c=c._getTransformedBySplitOperation(t);const u=[new te(s.start,t.splitPosition),c];return Yu(u,n)}i.targetPosition.isEqual(t.splitPosition)&&e.abRelation=="insertAtSource"&&(n=t.moveTargetPosition),i.targetPosition.isEqual(t.insertionPosition)&&e.abRelation=="insertBetween"&&(n=i.targetPosition);const o=[s._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const c=s.start.isEqual(t.graveyardPosition)||s.containsPosition(t.graveyardPosition);i.howMany>1&&c&&!e.aWasUndone&&o.push(te._createFromPositionAndShift(t.insertionPosition,1))}return Yu(o,n)});Pt(zt,Vn,(i,t,e)=>{const n=te._createFromPositionAndShift(i.sourcePosition,i.howMany);if(t.deletionPosition.hasSameParentAs(i.sourcePosition)&&n.containsPosition(t.sourcePosition)){if(i.type=="remove"&&!e.forceWeakRemove){if(!e.aWasUndone){const o=[];let c=t.graveyardPosition.clone(),u=t.targetPosition._getTransformedByMergeOperation(t);const f=i.targetPosition.getTransformedByOperation(t);i.howMany>1&&(o.push(new zt(i.sourcePosition,i.howMany-1,f,0)),c=c._getTransformedByMove(i.sourcePosition,f,i.howMany-1),u=u._getTransformedByMove(i.sourcePosition,f,i.howMany-1));const p=t.deletionPosition._getCombined(i.sourcePosition,f),g=new zt(c,1,p,0),v=g.getMovedRangeStart().path.slice();v.push(0);const _=new me(g.targetPosition.root,v);u=u._getTransformedByMove(c,p,1);const E=new zt(u,t.howMany,_,0);return o.push(g),o.push(E),o}}else if(i.howMany==1)return e.bWasUndone?(i.sourcePosition=t.graveyardPosition.clone(),i.targetPosition=i.targetPosition._getTransformedByMergeOperation(t),[i]):[new oi(0)]}const r=te._createFromPositionAndShift(i.sourcePosition,i.howMany)._getTransformedByMergeOperation(t);return i.sourcePosition=r.start,i.howMany=r.end.offset-r.start.offset,i.targetPosition=i.targetPosition._getTransformedByMergeOperation(t),[i]});Pt(_s,xi,(i,t)=>(i.position=i.position._getTransformedByInsertOperation(t),[i]));Pt(_s,Vn,(i,t)=>i.position.isEqual(t.deletionPosition)?(i.position=t.graveyardPosition.clone(),i.position.stickiness="toNext",[i]):(i.position=i.position._getTransformedByMergeOperation(t),[i]));Pt(_s,zt,(i,t)=>(i.position=i.position._getTransformedByMoveOperation(t),[i]));Pt(_s,_s,(i,t,e)=>{if(i.position.isEqual(t.position))if(e.aIsStrong)i.oldName=t.newName;else return[new oi(0)];return[i]});Pt(_s,nn,(i,t)=>{const e=i.position.path,n=t.splitPosition.getParentPath();if(Ti(e,n)=="same"&&!t.graveyardPosition){const s=new _s(i.position.getShiftedBy(1),i.oldName,i.newName,0);return[i,s]}return i.position=i.position._getTransformedBySplitOperation(t),[i]});Pt(ia,ia,(i,t,e)=>{if(i.root===t.root&&i.key===t.key){if(!e.aIsStrong||i.newValue===t.newValue)return[new oi(0)];i.oldValue=t.newValue}return[i]});Pt(wo,wo,(i,t)=>i.rootName===t.rootName&&i.isAdd===t.isAdd?[new oi(0)]:[i]);Pt(nn,xi,(i,t)=>(i.splitPosition.hasSameParentAs(t.position)&&i.splitPosition.offset<t.position.offset&&(i.howMany+=t.howMany),i.splitPosition=i.splitPosition._getTransformedByInsertOperation(t),i.insertionPosition=i.insertionPosition._getTransformedByInsertOperation(t),[i]));Pt(nn,Vn,(i,t,e)=>{if(!i.graveyardPosition&&!e.bWasUndone&&i.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const s=new me(t.graveyardPosition.root,n),r=nn.getInsertionPosition(new me(t.graveyardPosition.root,n)),o=new nn(s,0,r,null,0);return i.splitPosition=i.splitPosition._getTransformedByMergeOperation(t),i.insertionPosition=nn.getInsertionPosition(i.splitPosition),i.graveyardPosition=o.insertionPosition.clone(),i.graveyardPosition.stickiness="toNext",[o,i]}return i.splitPosition.hasSameParentAs(t.deletionPosition)&&!i.splitPosition.isAfter(t.deletionPosition)&&i.howMany--,i.splitPosition.hasSameParentAs(t.targetPosition)&&(i.howMany+=t.howMany),i.splitPosition=i.splitPosition._getTransformedByMergeOperation(t),i.insertionPosition=nn.getInsertionPosition(i.splitPosition),i.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedByMergeOperation(t)),[i]});Pt(nn,zt,(i,t,e)=>{const n=te._createFromPositionAndShift(t.sourcePosition,t.howMany);if(i.graveyardPosition){const r=n.start.isEqual(i.graveyardPosition)||n.containsPosition(i.graveyardPosition);if(!e.bWasUndone&&r){const o=i.splitPosition._getTransformedByMoveOperation(t),c=i.graveyardPosition._getTransformedByMoveOperation(t),u=c.path.slice();u.push(0);const f=new me(c.root,u);return[new zt(o,i.howMany,f,0)]}i.graveyardPosition=i.graveyardPosition._getTransformedByMoveOperation(t)}const s=i.splitPosition.isEqual(t.targetPosition);if(s&&(e.baRelation=="insertAtSource"||e.abRelation=="splitBefore"))return i.howMany+=t.howMany,i.splitPosition=i.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),i.insertionPosition=nn.getInsertionPosition(i.splitPosition),[i];if(s&&e.abRelation&&e.abRelation.howMany){const{howMany:r,offset:o}=e.abRelation;return i.howMany+=r,i.splitPosition=i.splitPosition.getShiftedBy(o),[i]}if(i.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(i.splitPosition)){const r=t.howMany-(i.splitPosition.offset-t.sourcePosition.offset);return i.howMany-=r,i.splitPosition.hasSameParentAs(t.targetPosition)&&i.splitPosition.offset<t.targetPosition.offset&&(i.howMany+=t.howMany),i.splitPosition=t.sourcePosition.clone(),i.insertionPosition=nn.getInsertionPosition(i.splitPosition),[i]}return t.sourcePosition.isEqual(t.targetPosition)||(i.splitPosition.hasSameParentAs(t.sourcePosition)&&i.splitPosition.offset<=t.sourcePosition.offset&&(i.howMany-=t.howMany),i.splitPosition.hasSameParentAs(t.targetPosition)&&i.splitPosition.offset<t.targetPosition.offset&&(i.howMany+=t.howMany)),i.splitPosition.stickiness="toNone",i.splitPosition=i.splitPosition._getTransformedByMoveOperation(t),i.splitPosition.stickiness="toNext",i.graveyardPosition?i.insertionPosition=i.insertionPosition._getTransformedByMoveOperation(t):i.insertionPosition=nn.getInsertionPosition(i.splitPosition),[i]});Pt(nn,nn,(i,t,e)=>{if(i.splitPosition.isEqual(t.splitPosition)){if(!i.graveyardPosition&&!t.graveyardPosition)return[new oi(0)];if(i.graveyardPosition&&t.graveyardPosition&&i.graveyardPosition.isEqual(t.graveyardPosition))return[new oi(0)];if(e.abRelation=="splitBefore")return i.howMany=0,i.graveyardPosition=i.graveyardPosition._getTransformedBySplitOperation(t),[i]}if(i.graveyardPosition&&t.graveyardPosition&&i.graveyardPosition.isEqual(t.graveyardPosition)){const n=i.splitPosition.root.rootName=="$graveyard",s=t.splitPosition.root.rootName=="$graveyard";if(s&&!n||!(n&&!s)&&e.aIsStrong){const u=[];return t.howMany&&u.push(new zt(t.moveTargetPosition,t.howMany,t.splitPosition,0)),i.howMany&&u.push(new zt(i.splitPosition,i.howMany,i.moveTargetPosition,0)),u}else return[new oi(0)]}if(i.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedBySplitOperation(t)),i.splitPosition.isEqual(t.insertionPosition)&&e.abRelation=="splitBefore")return i.howMany++,[i];if(t.splitPosition.isEqual(i.insertionPosition)&&e.baRelation=="splitBefore"){const n=t.insertionPosition.path.slice();n.push(0);const s=new me(t.insertionPosition.root,n),r=new zt(i.insertionPosition,1,s,0);return[i,r]}return i.splitPosition.hasSameParentAs(t.splitPosition)&&i.splitPosition.offset<t.splitPosition.offset&&(i.howMany-=t.howMany),i.splitPosition=i.splitPosition._getTransformedBySplitOperation(t),i.insertionPosition=nn.getInsertionPosition(i.splitPosition),[i]});function fS(i,t){return i.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function Yu(i,t){const e=[];for(let n=0;n<i.length;n++){const s=i[n],r=new zt(s.start,s.end.offset-s.start.offset,t,0);e.push(r);for(let o=n+1;o<i.length;o++)i[o]=i[o]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];t=t._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return e}class yi extends an(me){constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new q("model-liveposition-root-not-rootelement",t);Oz.call(this)}detach(){this.stopListening()}toPosition(){return new me(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}yi.prototype.is=function(i){return i==="livePosition"||i==="model:livePosition"||i=="position"||i==="model:position"};function Oz(){this.listenTo(this.root.document.model,"applyOperation",(i,t)=>{const e=t[0];e.isDocumentOperation&&Iz.call(this,e)},{priority:"low"})}function Iz(i){const t=this.getTransformedByOperation(i);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}class Ou{constructor(t={}){x(this,"operations");x(this,"isUndoable");x(this,"isLocal");x(this,"isUndo");x(this,"isTyping");typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},zn("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:n=!0,isUndo:s=!1,isTyping:r=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=n,this.isUndo=s,this.isTyping=r}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.isDocumentOperation&&(t.batch=this,this.operations.push(t)),t}}const qh=class qh{constructor(t){x(this,"_markerCollection");x(this,"_changesInElement",new Map);x(this,"_elementsSnapshots",new Map);x(this,"_elementChildrenSnapshots",new Map);x(this,"_elementState",new Map);x(this,"_changedMarkers",new Map);x(this,"_changedRoots",new Map);x(this,"_changeCount",0);x(this,"_cachedChanges",null);x(this,"_cachedChangesWithGraveyard",null);x(this,"_refreshedItems",new Set);this._markerCollection=t}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(t){const e=t;switch(e.type){case"insert":{if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const n of e.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break}case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const n=this._isInInsertedElement(e.sourcePosition.parent),s=this._isInInsertedElement(e.targetPosition.parent);n||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),s||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);const r=te._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const o of r.getItems({shallow:!0}))this._setElementState(o,"move");break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const n=te._createFromPositionAndShift(e.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(n)){const r=s.getData();this.bufferMarkerChange(s.name,r,r)}this._setElementState(e.position.nodeAfter,"rename");break}case"split":{const n=e.splitPosition.parent;if(!this._isInInsertedElement(n)){this._markRemove(n,e.splitPosition.offset,e.howMany);const s=te._createFromPositionAndShift(e.splitPosition,e.howMany);for(const r of s.getItems({shallow:!0}))this._setElementState(r,"move")}this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&(this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1),this._setElementState(e.graveyardPosition.nodeAfter,"move"));break}case"merge":{const n=e.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const s=e.graveyardPosition.parent;this._markInsert(s,e.graveyardPosition.offset,1),this._setElementState(n,"move");const r=e.targetPosition.parent;if(!this._isInInsertedElement(r)){this._markInsert(r,e.targetPosition.offset,n.maxOffset);const o=te._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const c of o.getItems({shallow:!0}))this._setElementState(c,"move")}break}case"detachRoot":case"addRoot":{const n=e.affectedSelectable;if(!n._isLoaded||n.isAttached()==e.isAdd)return;this._bufferRootStateChange(e.rootName,e.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!e.root._isLoaded)return;const n=e.root.rootName;this._bufferRootAttributeChange(n,e.key,e.oldValue,e.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n){e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded&&(e.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let s=this._changedMarkers.get(t);s?s.newMarkerData=n:(s={newMarkerData:n,oldMarkerData:e},this._changedMarkers.set(t,s)),s.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)n.oldMarkerData.range!=null&&t.push({name:e,range:n.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)n.newMarkerData.range!=null&&t.push({name:e,range:n.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const n=t.range&&!e.range,s=!t.range&&e.range,r=t.range&&e.range&&!t.range.isEqual(e.range);if(n||s||r)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const n of this._changesInElement.keys()){const s=this._changesInElement.get(n).sort((p,g)=>p.offset===g.offset?p.type!=g.type?p.type=="remove"?-1:1:0:p.offset<g.offset?-1:1),r=this._elementChildrenSnapshots.get(n),o=mS(n.getChildren()),c=Pz(r.length,s);let u=0,f=0;for(const p of c)if(p==="i"){const g=this._getDiffActionForNode(o[u].node,"insert"),v=this._elementsSnapshots.get(o[u].node),_=this._getInsertDiff(n,u,g,o[u],v);e.push(_),u++}else if(p==="r"){const g=this._getDiffActionForNode(r[f].node,"remove"),v=this._getRemoveDiff(n,u,g,r[f]);e.push(v),f++}else if(p==="a"){const g=r[f].attributes,v=o[u].attributes;let _;if(o[u].name=="$text")_=new te(me._createAt(n,u),me._createAt(n,u+1));else{const C=n.offsetToIndex(u);_=new te(me._createAt(n,u),me._createAt(n.getChild(C),0))}const E=this._getAttributesDiff(_,g,v);e.push(...E),u++,f++}else u++,f++}e.sort((n,s)=>n.position.root!=s.position.root?n.position.root.rootName<s.position.root.rootName?-1:1:n.position.isEqual(s.position)?n.changeCount-s.changeCount:n.position.isBefore(s.position)?-1:1);for(let n=1,s=0;n<e.length;n++){const r=e[s],o=e[n],c=r.type=="remove"&&o.type=="remove"&&r.name=="$text"&&o.name=="$text"&&r.position.isEqual(o.position),u=r.type=="insert"&&o.type=="insert"&&r.name=="$text"&&o.name=="$text"&&r.position.parent==o.position.parent&&r.position.offset+r.length==o.position.offset,f=r.type=="attribute"&&o.type=="attribute"&&r.position.parent==o.position.parent&&r.range.isFlat&&o.range.isFlat&&r.position.offset+r.length==o.position.offset&&r.attributeKey==o.attributeKey&&r.attributeOldValue==o.attributeOldValue&&r.attributeNewValue==o.attributeNewValue;c||u||f?(r.length++,f&&(r.range.end=r.range.end.getShiftedBy(1)),e[n]=null):s=n}e=e.filter(n=>n);for(const n of e)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(Bz),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(t=>{const e={...t};return e.state!==void 0&&delete e.attributes,e})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t),this._setElementState(t,"refresh");const e=te._createOn(t);for(const n of this._markerCollection.getMarkersIntersectingRange(e)){const s=n.getData();this.bufferMarkerChange(n.name,s,s)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const e of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,e,null,t.getAttribute(e));for(const e of this._markerCollection)if(e.getRange().root==t){const n=e.getData();this.bufferMarkerChange(e.name,{...n,range:null},n)}}}_bufferRootStateChange(t,e){if(!this._changedRoots.has(t)){this._changedRoots.set(t,{name:t,state:e?"attached":"detached"});return}const n=this._changedRoots.get(t);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(t)):n.state=e?"attached":"detached"}_bufferRootAttributeChange(t,e,n,s){const r=this._changedRoots.get(t)||{name:t},o=r.attributes||{};if(o[e]){const c=o[e];s===c.oldValue?delete o[e]:c.newValue=s}else o[e]={oldValue:n,newValue:s};Object.entries(o).length===0?(delete r.attributes,r.state===void 0&&this._changedRoots.delete(t)):(r.attributes=o,this._changedRoots.set(t,r))}_markInsert(t,e,n){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const s={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,s)}_markRemove(t,e,n){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const s={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,s),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshots(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let s=0;s<n.length;s++)n[s].howMany<1&&(n.splice(s,1),s--)}_setElementState(t,e){if(!t.is("element"))return;const n=qh._statesPriority.indexOf(this._elementState.get(t));qh._statesPriority.indexOf(e)>n&&this._elementState.set(t,e)}_getDiffActionForNode(t,e){if(!t.is("element")||!this._elementsSnapshots.has(t))return e;const n=this._elementState.get(t);return!n||n=="move"?e:n}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshots(t){if(this._elementChildrenSnapshots.has(t))return;const e=mS(t.getChildren());this._elementChildrenSnapshots.set(t,e);for(const n of e)this._elementsSnapshots.set(n.node,n)}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const s=t.offset+t.howMany,r=n.offset+n.howMany;if(t.type=="insert"&&(n.type=="insert"&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<r&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),n.type=="remove"&&t.offset<n.offset&&(n.offset+=t.howMany),n.type=="attribute")){if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<r){const o=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:s,howMany:o-n.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(n.type=="insert"){if(s<=n.offset)n.offset-=t.howMany;else if(s<=r)if(t.offset<n.offset){const o=s-n.offset;n.offset=t.offset,n.howMany-=o,t.nodesToHandle-=o}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<r){const o=r-t.offset;n.howMany-=o,t.nodesToHandle-=o}}if(n.type=="remove"&&(s<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(s<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const o=s-n.offset;n.offset=t.offset,n.howMany-=o}else if(t.offset<r)if(s<=r){const o=n.howMany;n.howMany=t.offset-n.offset;const c=o-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:c,count:this._changeCount++})}else n.howMany-=r-t.offset}}if(t.type=="attribute"){if(n.type=="insert")if(t.offset<n.offset&&s>n.offset){if(s>r){const o={type:"attribute",offset:r,howMany:s-r,count:this._changeCount++};this._handleChange(o,e),e.push(o)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<r&&(s>r?(t.nodesToHandle=s-r,t.offset=r):t.nodesToHandle=0);if(n.type=="remove"&&t.offset<n.offset&&s>n.offset){const o={type:"attribute",offset:n.offset,howMany:s-n.offset,count:this._changeCount++};this._handleChange(o,e),e.push(o),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}n.type=="attribute"&&(t.offset>=n.offset&&s<=r?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&s>=r&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n,s,r){const o={type:"insert",position:me._createAt(t,e),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++,action:n};return n!="insert"&&r&&(o.before={name:r.name,attributes:new Map(r.attributes)}),o}_getRemoveDiff(t,e,n,s){return{type:"remove",action:n,position:me._createAt(t,e),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const s=[];n=new Map(n);for(const[r,o]of e){const c=n.has(r)?n.get(r):null;c!==o&&s.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:c,changeCount:this._changeCount++}),n.delete(r)}for(const[r,o]of n)s.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return s}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),s=t.startOffset;if(n){for(const r of n)if(r.type=="insert"&&s>=r.offset&&s<r.offset+r.howMany)return!0}return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const s=new te(me._createAt(t,e),me._createAt(t,e+n));for(const r of s.getItems({shallow:!0}))r.is("element")&&(this._changesInElement.delete(r),this._removeAllNestedChanges(r,0,r.maxOffset))}};x(qh,"_statesPriority",[void 0,"refresh","rename","move"]);let Kw=qh;function hS(i){return{node:i,name:i.is("$text")?"$text":i.name,attributes:new Map(i.getAttributes())}}function mS(i){const t=[];for(const e of i)if(e.is("$text"))for(let n=0;n<e.data.length;++n)t.push(hS(e));else t.push(hS(e));return t}function Pz(i,t){const e=[];let n=0,s=0;for(const r of t){if(r.offset>n){for(let o=0;o<r.offset-n;o++)e.push("e");s+=r.offset-n}if(r.type=="insert"){for(let o=0;o<r.howMany;o++)e.push("i");n=r.offset+r.howMany}else if(r.type=="remove"){for(let o=0;o<r.howMany;o++)e.push("r");n=r.offset,s+=r.howMany}else{if(r.howMany>1500)for(let o=0;o<r.howMany;o++)e.push("a");else e.push(..."a".repeat(r.howMany).split(""));n=r.offset+r.howMany,s+=r.howMany}}if(s<i)for(let r=0;r<i-s-n;r++)e.push("e");return e}function Bz(i){const t="position"in i&&i.position.root.rootName=="$graveyard",e="range"in i&&i.range.root.rootName=="$graveyard";return!t&&!e}class Lz{constructor(){x(this,"_operations",[]);x(this,"_undoPairs",new Map);x(this,"_undoneOperations",new Set);x(this,"_baseVersionToOperationIndex",new Map);x(this,"_version",0);x(this,"_gaps",new Map)}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new q("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const n=this._operations[0];t===void 0&&(t=n.baseVersion);let s=e-1;for(const[c,u]of this._gaps)t>c&&t<u&&(t=u),s>c&&s<u&&(s=c-1);if(s<n.baseVersion||t>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(t);r===void 0&&(r=0);let o=this._baseVersionToOperationIndex.get(s);return o===void 0&&(o=this._operations.length-1),this._operations.slice(r,o+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(e!==void 0)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class C0 extends fn{constructor(e,n,s="main"){super(n);x(this,"rootName");x(this,"_document");x(this,"_isAttached",!0);x(this,"_isLoaded",!0);this._document=e,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}C0.prototype.is=function(i,t){return t?t===this.name&&(i==="rootElement"||i==="model:rootElement"||i==="element"||i==="model:element"):i==="rootElement"||i==="model:rootElement"||i==="element"||i==="model:element"||i==="node"||i==="model:node"};const pS="$graveyard";class jz extends an(){constructor(e){super();x(this,"model");x(this,"history");x(this,"selection");x(this,"roots");x(this,"differ");x(this,"isReadOnly");x(this,"_postFixers");x(this,"_hasSelectionChangedFromTheLastChangeBlock");this.model=e,this.history=new Lz,this.selection=new jr(this),this.roots=new ma({idProperty:"rootName"}),this.differ=new Kw(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",pS),this.listenTo(e,"applyOperation",(n,s)=>{const r=s[0];r.isDocumentOperation&&this.differ.bufferOperation(r)},{priority:"high"}),this.listenTo(e,"applyOperation",(n,s)=>{const r=s[0];r.isDocumentOperation&&this.history.addOperation(r)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(n,s,r,o,c)=>{const u={...s.getData(),range:o};this.differ.bufferMarkerChange(s.name,c,u),r===null&&s.on("change",(f,p)=>{const g=s.getData();this.differ.bufferMarkerChange(s.name,{...g,range:p},g)})}),this.registerPostFixer(n=>{let s=!1;for(const r of this.roots)!r.isAttached()&&!r.isEmpty&&(n.remove(n.createRangeIn(r)),s=!0);for(const r of this.model.markers)r.getRange().root.isAttached()||(n.removeMarker(r),s=!0);return s})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(pS)}createRoot(e="$root",n="main"){if(this.roots.get(n))throw new q("model-document-createroot-name-exists",this,{name:n});const s=new C0(this,e,n);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(n=>n.rootName)}getRoots(e=!1){return this.roots.filter(n=>n!=this.graveyard&&(e||n.isAttached())&&n._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=d7(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),n=this.model,s=n.schema,r=n.createPositionFromPath(e,[0]);return s.getNearestSelectionRange(r)||n.createRange(r)}_validateSelectionRange(e){return e.start.isValid()&&e.end.isValid()&&gS(e.start)&&gS(e.end)}_callPostFixers(e){let n=!1;do for(const s of this._postFixers)if(this.selection.refresh(),n=s(e),n)break;while(n)}}function gS(i){const t=i.textNode;if(t){const e=t.data,n=i.offset-t.startOffset;return!jx(e,n)&&!Dx(e,n)}return!0}class Dz extends an(){constructor(){super(...arguments);x(this,"_markers",new Map)}[Symbol.iterator](){return this._markers.values()}has(e){const n=e instanceof Hu?e.name:e;return this._markers.has(n)}get(e){return this._markers.get(e)||null}_set(e,n,s=!1,r=!1){const o=e instanceof Hu?e.name:e;if(o.includes(","))throw new q("markercollection-incorrect-marker-name",this);const c=this._markers.get(o);if(c){const p=c.getData(),g=c.getRange();let v=!1;return g.isEqual(n)||(c._attachLiveRange(rr.fromRange(n)),v=!0),s!=c.managedUsingOperations&&(c._managedUsingOperations=s,v=!0),typeof r=="boolean"&&r!=c.affectsData&&(c._affectsData=r,v=!0),v&&this.fire(`update:${o}`,c,g,n,p),c}const u=rr.fromRange(n),f=new Hu(o,u,s,r);return this._markers.set(o,f),this.fire(`update:${o}`,f,null,n,{...f.getData(),range:null}),f}_remove(e){const n=e instanceof Hu?e.name:e,s=this._markers.get(n);return s?(this._markers.delete(n),this.fire(`update:${n}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0):!1}_refresh(e){const n=e instanceof Hu?e.name:e,s=this._markers.get(n);if(!s)throw new q("markercollection-refresh-marker-not-exists",this);const r=s.getRange();this.fire(`update:${n}`,s,r,r,s.getData())}*getMarkersAtPosition(e){for(const n of this)n.getRange().containsPosition(e)&&(yield n)}*getMarkersIntersectingRange(e){for(const n of this)n.getRange().getIntersection(e)!==null&&(yield n)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const n of this._markers.values())n.name.startsWith(e+":")&&(yield n)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Hu extends an(El){constructor(e,n,s,r){super();x(this,"name");x(this,"_managedUsingOperations");x(this,"_affectsData");x(this,"_liveRange");this.name=e,this._liveRange=this._attachLiveRange(n),this._managedUsingOperations=s,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.toRange()}toJSON(){var e;return{name:this.name,range:(e=this._liveRange)==null?void 0:e.toJSON(),usingOperations:this._managedUsingOperations,affectsData:this._affectsData}}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Hu.prototype.is=function(i){return i==="marker"||i==="model:marker"};class Mz extends Vs{constructor(e,n){super(null);x(this,"sourcePosition");x(this,"howMany");this.sourcePosition=e.clone(),this.howMany=n}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new q("detach-operation-on-document-node",this)}_execute(){KO(te._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class fo extends El{constructor(e){super();x(this,"markers",new Map);x(this,"_children",new Dh);e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let n=this;for(const s of e)n=n.getChildAtOffset(s);return n}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const n of this._children)e.push(n.toJSON());return e}static fromJSON(e){const n=[];for(const s of e)s.name?n.push(fn.fromJSON(s)):n.push(mn.fromJSON(s));return new fo(n)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,n){const s=Fz(n);for(const r of s)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,n=1){const s=this._children._removeNodes(e,n);for(const r of s)r.parent=null;return s}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const n of e)n.parent=null}}fo.prototype.is=function(i){return i==="documentFragment"||i==="model:documentFragment"};function Fz(i){return typeof i=="string"?[new mn(i)]:(Fs(i)||(i=[i]),Array.from(i).map(t=>typeof t=="string"?new mn(t):t instanceof Pr?new mn(t.data,t.getAttributes()):t))}class Vz{constructor(t,e){x(this,"model");x(this,"batch");this.model=t,this.batch=e}createText(t,e){return new mn(t,e)}createElement(t,e){return new fn(t,e)}createDocumentFragment(){return new fo}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof mn&&t.data=="")return;const s=me._createAt(e,n);if(t.parent)if(yS(t.root,s.root)){this.move(te._createOn(t),s);return}else{if(t.root.document)throw new q("model-writer-insert-forbidden-move",this);this.remove(t)}const r=s.root.document?s.root.document.version:null,o=t instanceof fo?t._removeChildren(0,t.childCount):t,c=new xi(s,o,r);if(t instanceof mn&&(c.shouldReceiveAttributes=!0),this.batch.addOperation(c),this.model.applyOperation(c),t instanceof fo)for(const[u,f]of t.markers){const p=me._createAt(f.root,0),v={range:new te(f.start._getCombined(p,s),f.end._getCombined(p,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(u)?this.updateMarker(u,v):this.addMarker(u,v)}}insertText(t,e,n,s){e instanceof fo||e instanceof fn||e instanceof me?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,s)}insertElement(t,e,n,s){e instanceof fo||e instanceof fn||e instanceof me?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,s)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof fo||e instanceof fn?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof fo||e instanceof fn?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof te){const s=n.getMinimalFlatRanges();for(const r of s)bS(this,t,e,r)}else vS(this,t,e,n)}setAttributes(t,e){for(const[n,s]of ua(t))this.setAttribute(n,s,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof te){const n=e.getMinimalFlatRanges();for(const s of n)bS(this,t,null,s)}else vS(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=n=>{for(const s of n.getAttributeKeys())this.removeAttribute(s,n)};if(!(t instanceof te))e(t);else for(const n of t.getItems())e(n)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof te))throw new q("writer-move-invalid-range",this);if(!t.isFlat)throw new q("writer-move-range-not-flat",this);const s=me._createAt(e,n);if(s.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!yS(t.root,s.root))throw new q("writer-move-different-document",this);const r=t.root.document?t.root.document.version:null,o=new zt(t.start,t.end.offset-t.start.offset,s,r);this.batch.addOperation(o),this.model.applyOperation(o)}remove(t){this._assertWriterUsedCorrectly();const n=(t instanceof te?t:te._createOn(t)).getMinimalFlatRanges().reverse();for(const s of n)this._addOperationForAffectedMarkers("move",s),zz(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof fn))throw new q("writer-merge-no-element-before",this);if(!(n instanceof fn))throw new q("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(te._createIn(n),me._createAt(e,"end")),this.remove(n)}_merge(t){const e=me._createAt(t.nodeBefore,"end"),n=me._createAt(t.nodeAfter,0),s=t.root.document.graveyard,r=new me(s,[0]),o=t.root.document.version,c=new Vn(n,t.nodeAfter.maxOffset,e,r,o);this.batch.addOperation(c),this.model.applyOperation(c)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof fn))throw new q("writer-rename-not-element-instance",this);const n=t.root.document?t.root.document.version:null,s=new _s(me._createBefore(t),t.name,e,n);this.batch.addOperation(s),this.model.applyOperation(s)}split(t,e){this._assertWriterUsedCorrectly();let n=t.parent;if(!n.parent)throw new q("writer-split-element-no-parent",this);if(e||(e=n.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new q("writer-split-invalid-limit-element",this);let s,r;do{const o=n.root.document?n.root.document.version:null,c=n.maxOffset-t.offset,u=nn.getInsertionPosition(t),f=new nn(t,c,u,null,o);this.batch.addOperation(f),this.model.applyOperation(f),!s&&!r&&(s=n,r=t.parent.nextSibling),t=this.createPositionAfter(t.parent),n=t.parent}while(n!==e);return{position:t,range:new te(me._createAt(s,"end"),me._createAt(r,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new q("writer-wrap-range-not-flat",this);const n=e instanceof fn?e:new fn(e);if(n.childCount>0)throw new q("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new q("writer-wrap-element-attached",this);this.insert(n,t.start);const s=new te(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(s,me._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new q("writer-unwrap-element-no-parent",this);this.move(te._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||typeof e.usingOperation!="boolean")throw new q("writer-addmarker-no-usingoperation",this);const n=e.usingOperation,s=e.range,r=e.affectsData===void 0?!1:e.affectsData;if(this.model.markers.has(t))throw new q("writer-addmarker-marker-exists",this);if(!s)throw new q("writer-addmarker-no-range",this);return n?(fh(this,t,null,s,r),this.model.markers.get(t)):this.model.markers._set(t,s,n,r)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n=typeof t=="string"?t:t.name,s=this.model.markers.get(n);if(!s)throw new q("writer-updatemarker-marker-not-exists",this);if(!e){zn("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),this.model.markers._refresh(s);return}const r=typeof e.usingOperation=="boolean",o=typeof e.affectsData=="boolean",c=o?e.affectsData:s.affectsData;if(!r&&!e.range&&!o)throw new q("writer-updatemarker-wrong-options",this);const u=s.getRange(),f=e.range?e.range:u;if(r&&e.usingOperation!==s.managedUsingOperations){e.usingOperation?fh(this,n,null,f,c):(fh(this,n,u,null,c),this.model.markers._set(n,f,void 0,c));return}s.managedUsingOperations?fh(this,n,u,f,c):this.model.markers._set(n,f,void 0,c)}removeMarker(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?t:t.name;if(!this.model.markers.has(e))throw new q("writer-removemarker-no-marker",this);const n=this.model.markers.get(e);if(!n.managedUsingOperations){this.model.markers._remove(e);return}const s=n.getRange();fh(this,e,s,null,n.affectsData)}addRoot(t,e="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(t);if(n&&n.isAttached())throw new q("writer-addroot-root-exists",this);const s=this.model.document,r=new wo(t,e,!0,s,s.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?this.model.document.getRoot(t):t;if(!e||!e.isAttached())throw new q("writer-detachroot-no-root",this);for(const r of this.model.markers)r.getRange().root===e&&this.removeMarker(r);for(const r of e.getAttributeKeys())this.removeAttribute(r,e);this.remove(this.createRangeIn(e));const n=this.model.document,s=new wo(e.rootName,e.name,!1,n,n.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,e);else for(const[n,s]of ua(t))this._setSelectionAttribute(n,s)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const s=jr._getStoreAttributeKey(t);this.setAttribute(s,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=jr._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new q("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const s=n.getRange();let r=!1;if(t==="move"){const o=e;r=o.containsPosition(s.start)||o.start.isEqual(s.start)||o.containsPosition(s.end)||o.end.isEqual(s.end)}else{const o=e,c=o.nodeBefore,u=o.nodeAfter,f=s.start.parent==c&&s.start.isAtEnd,p=s.end.parent==u&&s.end.offset==0,g=s.end.nodeAfter==u,v=s.start.nodeAfter==u;r=f||p||g||v}r&&this.updateMarker(n.name,{range:s})}}}function bS(i,t,e,n){const s=i.model,r=s.document;let o=n.start,c,u,f;for(const g of n.getWalker({shallow:!0}))f=g.item.getAttribute(t),c&&u!=f&&(u!=e&&p(),o=c),c=g.nextPosition,u=f;c instanceof me&&c!=o&&u!=e&&p();function p(){const g=new te(o,c),v=g.root.document?r.version:null,_=new Hn(g,t,u,e,v);i.batch.addOperation(_),s.applyOperation(_)}}function vS(i,t,e,n){const s=i.model,r=s.document,o=n.getAttribute(t);let c,u;if(o!=e){if(n.root===n){const p=n.document?r.version:null;u=new ia(n,t,o,e,p)}else{c=new te(me._createBefore(n),i.createPositionAfter(n));const p=c.root.document?r.version:null;u=new Hn(c,t,o,e,p)}i.batch.addOperation(u),s.applyOperation(u)}}function fh(i,t,e,n,s){const r=i.model,o=r.document,c=new ns(t,e,n,r.markers,!!s,o.version);i.batch.addOperation(c),r.applyOperation(c)}function zz(i,t,e,n){let s;if(i.root.document){const r=n.document,o=new me(r.graveyard,[0]);s=new zt(i,t,o,r.version)}else s=new Mz(i,t);e.addOperation(s),n.applyOperation(s)}function yS(i,t){return i===t||i instanceof C0&&t instanceof C0}function qz(i){i.document.registerPostFixer(t=>Hz(t,i))}function Hz(i,t){const e=t.document.selection,n=t.schema,s=[];let r=!1;for(const o of e.getRanges()){const c=Gx(o,n);c&&!c.isEqual(o)?(s.push(c),r=!0):s.push(o)}return r&&i.setSelection(Kz(s),{backward:e.isBackward}),!1}function Gx(i,t){return i.isCollapsed?Uz(i,t):Wz(i,t)}function Uz(i,t){const e=i.start,n=t.getNearestSelectionRange(e);if(!n){const r=e.getAncestors().reverse().find(o=>t.isObject(o));return r?te._createOn(r):null}if(!n.isCollapsed)return n;const s=n.start;return e.isEqual(s)?null:new te(s)}function Wz(i,t){const{start:e,end:n}=i,s=t.checkChild(e,"$text"),r=t.checkChild(n,"$text"),o=t.getLimitElement(e),c=t.getLimitElement(n);if(o===c){if(s&&r)return null;if(Gz(e,n,t)){const g=e.nodeAfter&&t.isSelectable(e.nodeAfter)?null:t.getNearestSelectionRange(e,"forward"),_=n.nodeBefore&&t.isSelectable(n.nodeBefore)?null:t.getNearestSelectionRange(n,"backward"),E=g?g.start:e,C=_?_.end:n;return new te(E,C)}}const u=o&&!o.is("rootElement"),f=c&&!c.is("rootElement");if(u||f){const p=e.nodeAfter&&n.nodeBefore&&e.nodeAfter.parent===n.nodeBefore.parent,g=u&&(!p||!xS(e.nodeAfter,t)),v=f&&(!p||!xS(n.nodeBefore,t));let _=e,E=n;return g&&(_=me._createBefore(wS(o,t))),v&&(E=me._createAfter(wS(c,t))),new te(_,E)}return null}function wS(i,t){let e=i,n=e;for(;t.isLimit(n)&&n.parent;)e=n,n=n.parent;return e}function Gz(i,t,e){const n=i.nodeAfter&&!e.isLimit(i.nodeAfter)||e.checkChild(i,"$text"),s=t.nodeBefore&&!e.isLimit(t.nodeBefore)||e.checkChild(t,"$text");return n||s}function Kz(i){const t=[...i],e=new Set;let n=1;for(;n<t.length;){const r=t[n],o=t.slice(0,n);for(const[c,u]of o.entries())if(!e.has(c)){if(r.isEqual(u))e.add(c);else if(r.isIntersecting(u)){e.add(c),e.add(n);const f=r.getJoined(u);t.push(f)}}n++}return t.filter((r,o)=>!e.has(o))}function xS(i,t){return i&&t.isSelectable(i)}function Qz(i,t,e={}){if(t.isCollapsed)return;const n=t.getFirstRange();if(n.root.rootName=="$graveyard")return;const s=i.schema;i.change(r=>{if(!e.doNotResetEntireContent&&iq(s,t)){nq(r,t);return}const o={};if(!e.doNotAutoparagraph){const f=t.getSelectedElement();f&&Object.assign(o,s.getAttributesWithProperty(f,"copyOnReplace",!0))}let c,u;e.doNotFixSelection?(c=yi.fromPosition(n.start,"toPrevious"),u=yi.fromPosition(n.end,"toNext")):[c,u]=Yz(n),c.isTouching(u)||r.remove(r.createRange(c,u)),e.leaveUnmerged||(Xz(r,c,u),s.removeDisallowedAttributes(c.parent.getChildren(),r)),e5(r,t,c),!e.doNotAutoparagraph&&eq(s,c)&&JO(r,c,t,o),c.detach(),u.detach()})}function Yz(i){const t=i.root.document.model,e=i.start;let n=i.end;if(t.hasContent(i,{ignoreMarkers:!0})){const s=$z(n);if(s&&n.isTouching(t.createPositionAt(s,0))){const r=t.createSelection(i);t.modifySelection(r,{direction:"backward"});const o=r.getLastPosition(),c=t.createRange(o,n);t.hasContent(c,{ignoreMarkers:!0})||(n=o)}}return[yi.fromPosition(e,"toPrevious"),yi.fromPosition(n,"toNext")]}function $z(i){const t=i.parent,e=t.root.document.model.schema,n=t.getAncestors({parentFirst:!0,includeSelf:!0});for(const s of n){if(e.isLimit(s))return null;if(e.isBlock(s))return s}}function Xz(i,t,e){const n=i.model;if(!Kx(i.model.schema,t,e))return;const[s,r]=Jz(t,e);!s||!r||(!n.hasContent(s,{ignoreMarkers:!0})&&n.hasContent(r,{ignoreMarkers:!0})?ZO(i,t,e,s.parent):XO(i,t,e,s.parent))}function XO(i,t,e,n){const s=t.parent,r=e.parent;if(!(s==n||r==n)){for(t=i.createPositionAfter(s),e=i.createPositionBefore(r),e.isEqual(t)||i.insert(r,t),i.merge(t);e.parent.isEmpty;){const o=e.parent;e=i.createPositionBefore(o),i.remove(o)}Kx(i.model.schema,t,e)&&XO(i,t,e,n)}}function ZO(i,t,e,n){const s=t.parent,r=e.parent;if(!(s==n||r==n)){for(t=i.createPositionAfter(s),e=i.createPositionBefore(r),e.isEqual(t)||i.insert(s,e);t.parent.isEmpty;){const o=t.parent;t=i.createPositionBefore(o),i.remove(o)}e=i.createPositionBefore(r),Zz(i,e),Kx(i.model.schema,t,e)&&ZO(i,t,e,n)}}function Zz(i,t){const e=t.nodeBefore,n=t.nodeAfter;e.name!=n.name&&i.rename(e,n.name),i.clearAttributes(e),i.setAttributes(Object.fromEntries(n.getAttributes()),e),i.merge(t)}function Kx(i,t,e){const n=t.parent,s=e.parent;return n==s||i.isLimit(n)||i.isLimit(s)?!1:tq(t,e,i)}function Jz(i,t){const e=i.getAncestors(),n=t.getAncestors();let s=0;for(;e[s]&&e[s]==n[s];)s++;return[e[s],n[s]]}function eq(i,t){const e=i.checkChild(t,"$text"),n=i.checkChild(t,"paragraph");return!e&&n}function tq(i,t,e){const n=new te(i,t);for(const s of n.getWalker())if(e.isLimit(s.item))return!1;return!0}function JO(i,t,e,n={}){const s=i.createElement("paragraph");i.model.schema.setAllowedAttributes(s,n,i),i.insert(s,t),e5(i,e,i.createPositionAt(s,0))}function nq(i,t){const e=i.model.schema.getLimitElement(t);i.remove(i.createRangeIn(e)),JO(i,i.createPositionAt(e,0),t)}function iq(i,t){const e=i.getLimitElement(t);if(!t.containsEntireContent(e))return!1;const n=t.getFirstRange();return n.start.parent==n.end.parent?!1:i.checkChild(e,"paragraph")}function e5(i,t,e){t instanceof jr?i.setSelection(e):t.setTo(e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sq(i,t){return i.change(e=>{const n=e.createDocumentFragment(),s=t.getFirstRange();if(!s||s.isCollapsed)return n;const r=s.start.root,o=s.start.getCommonPath(s.end),c=r.getNodeByPath(o);let u;s.start.parent==s.end.parent?u=s:u=e.createRange(e.createPositionAt(c,s.start.path[o.length]),e.createPositionAt(c,s.end.path[o.length]+1));const f=u.end.offset-u.start.offset;for(const p of u.getItems({shallow:!0}))p.is("$textProxy")?e.appendText(p.data,p.getAttributes(),n):e.append(e.cloneElement(p,!0),n);if(u!=s){const p=s._getTransformedByMove(u.start,e.createPositionAt(n,0),f)[0],g=e.createRange(e.createPositionAt(n,0),p.start),v=e.createRange(p.end,e.createPositionAt(n,"end"));_S(v,e),_S(g,e)}return n})}function _S(i,t){const e=[];Array.from(i.getItems({direction:"backward"})).map(n=>t.createRangeOn(n)).filter(n=>(n.start.isAfter(i.start)||n.start.isEqual(i.start))&&(n.end.isBefore(i.end)||n.end.isEqual(i.end))).forEach(n=>{e.push(n.start.parent),t.remove(n)}),e.forEach(n=>{let s=n;for(;s.parent&&s.isEmpty;){const r=t.createRangeOn(s);s=s.parent,t.remove(r)}})}function rq(i,t,e){return i.change(n=>{const s=e||i.document.selection;s.isCollapsed||i.deleteContent(s,{doNotAutoparagraph:!0});const r=new oq(i,n,s.anchor),o=[];let c;if(t.is("documentFragment")){if(t.markers.size){const p=[];for(const[g,v]of t.markers){const{start:_,end:E}=v,C=_.isEqual(E);p.push({position:_,name:g,isCollapsed:C},{position:E,name:g,isCollapsed:C})}p.sort(({position:g},{position:v})=>g.isBefore(v)?1:-1);for(const{position:g,name:v,isCollapsed:_}of p){let E=null,C=null;const T=g.parent===t&&g.isAtStart,R=g.parent===t&&g.isAtEnd;!T&&!R?(E=n.createElement("$marker"),n.insert(E,g)):_&&(C=T?"start":"end"),o.push({name:v,element:E,collapsed:C})}}c=t.getChildren()}else c=[t];r.handleNodes(c);let u=r.getSelectionRange();if(t.is("documentFragment")&&o.length){const p=u?rr.fromRange(u):null,g={};for(let v=o.length-1;v>=0;v--){const{name:_,element:E,collapsed:C}=o[v],T=!g[_];if(T&&(g[_]=[]),E){const R=n.createPositionAt(E,"before");g[_].push(R),n.remove(E)}else{const R=r.getAffectedRange();if(!R){C&&g[_].push(r.position);continue}C?g[_].push(R[C]):g[_].push(T?R.start:R.end)}}for(const[v,[_,E]]of Object.entries(g))_&&E&&_.root===E.root&&_.root.document&&!n.model.markers.has(v)&&n.addMarker(v,{usingOperation:!0,affectsData:!0,range:new te(_,E)});p&&(u=p.toRange(),p.detach())}/* istanbul ignore else -- @preserve */u&&(s instanceof jr?n.setSelection(u):s.setTo(u));const f=r.getAffectedRange()||i.createRange(s.anchor);return r.destroy(),f})}class oq{constructor(t,e,n){x(this,"model");x(this,"writer");x(this,"position");x(this,"canMergeWith");x(this,"schema");x(this,"_documentFragment");x(this,"_documentFragmentPosition");x(this,"_firstNode",null);x(this,"_lastNode",null);x(this,"_lastAutoParagraph",null);x(this,"_filterAttributesOf",[]);x(this,"_affectedStart",null);x(this,"_affectedEnd",null);x(this,"_nodeToSelect",null);this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const e of Array.from(t))e.offsetSize>0&&this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){this._lastNode=t;/* istanbul ignore if -- @preserve */if(this.position.parent!=t||!this.position.isAtEnd)throw new q("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?te._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new te(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(!this._checkAndSplitToAllowedPosition(t)){this.schema.isObject(t)||this._handleDisallowedNode(t);return}t=this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=yi.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleDisallowedNode(t){t.is("element")&&this.handleNodes(t.getChildren())}_appendToFragment(t){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,t))throw new q("insertcontent-wrong-position",this,{node:t,position:this.position});return this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),t.parent||(t=this._documentFragmentPosition.nodeBefore),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t),t}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=yi.fromPosition(t,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(t))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=yi.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof fn)||!this._canMergeLeft(t))return;const e=yi._createBefore(t);e.stickiness="toNext";const n=yi.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=yi._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=yi._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof fn)||!this._canMergeRight(t))return;const e=yi._createAfter(t);e.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(e))throw new q("insertcontent-invalid-insertion-position",this);this.position=me._createAt(e.nodeBefore,"end");const n=yi.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=yi._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=yi._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof fn&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof fn&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_insertAutoParagraph(){this._insertPartialFragment();const t=this.writer.createElement("paragraph");this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0)}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===e&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,t)||this._insertAutoParagraph(),!0}_getAllowedIn(t,e){const n=this.schema.createContext(t);return this.schema.checkChild(n,e)||this.schema.checkChild(n,"paragraph")&&this.schema.checkChild(n.push("paragraph"),e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function aq(i,t,e,n={}){if(!i.schema.isObject(t))throw new q("insertobject-element-not-an-object",i,{object:t});const s=e||i.document.selection;let r=s;n.findOptimalPosition&&i.schema.isBlock(t)&&(r=i.createSelection(i.schema.findOptimalInsertionRange(s,n.findOptimalPosition)));const o=Lr(s.getSelectedBlocks()),c={};return o&&Object.assign(c,i.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),i.change(u=>{r.isCollapsed||i.deleteContent(r,{doNotAutoparagraph:!0});let f=t;const p=r.anchor.parent,g=i.schema.createContext(p);!i.schema.checkChild(g,t)&&i.schema.checkChild(g,"paragraph")&&i.schema.checkChild(g.push("paragraph"),t)&&(f=u.createElement("paragraph"),u.insert(t,f)),i.schema.setAllowedAttributes(f,c,u);const v=i.insertContent(f,r);return v.isCollapsed||n.setSelection&&lq(u,t,n.setSelection,c),v})}function lq(i,t,e,n){const s=i.model;if(e=="on"){i.setSelection(t,"on");return}if(e!="after")throw new q("insertobject-invalid-place-parameter-value",s);let r=t.nextSibling;if(s.schema.isInline(t)){i.setSelection(t,"after");return}!(r&&s.schema.checkChild(r,"$text"))&&s.schema.checkChild(t.parent,"paragraph")&&(r=i.createElement("paragraph"),s.schema.setAllowedAttributes(r,n,i),s.insertContent(r,i.createPositionAfter(t))),r&&i.setSelection(r,0)}const cq=' ,.?!:;"-()';function uq(i,t,e={}){const n=i.schema,s=e.direction!="backward",r=e.unit?e.unit:"character",o=!!e.treatEmojiAsSingleUnit,c=t.focus,u=new ea({boundaries:mq(c,s),singleCharacters:!0,direction:s?"forward":"backward"}),f={walker:u,schema:n,isForward:s,unit:r,treatEmojiAsSingleUnit:o};let p;for(;p=u.next();){if(p.done)return;const g=dq(f,p.value);if(g){t instanceof jr?i.change(v=>{v.setSelectionFocus(g)}):t.setFocus(g);return}}}function dq(i,t){const{isForward:e,walker:n,unit:s,schema:r,treatEmojiAsSingleUnit:o}=i,{type:c,item:u,nextPosition:f}=t;if(c=="text")return i.unit==="word"?hq(n,e):fq(n,s,o);if(c==(e?"elementStart":"elementEnd")){if(r.isSelectable(u))return me._createAt(u,e?"after":"before");if(r.checkChild(f,"$text"))return f}else{if(r.isLimit(u)){n.skip(()=>!0);return}if(r.checkChild(f,"$text"))return f}}function fq(i,t,e){const n=i.position.textNode;if(n){const s=n.data;let r=i.position.offset-n.startOffset;for(;jx(s,r)||t=="character"&&Dx(s,r)||e&&dO(s,r);)i.next(),r=i.position.offset-n.startOffset}return i.position}function hq(i,t){let e=i.position.textNode;for(e||(e=t?i.position.nodeAfter:i.position.nodeBefore);e&&e.is("$text");){const n=i.position.offset-e.startOffset;if(gq(e,n,t))e=t?i.position.nodeAfter:i.position.nodeBefore;else{if(pq(e.data,n,t))break;i.next()}}return i.position}function mq(i,t){const e=i.root,n=me._createAt(e,t?"end":0);return t?new te(i,n):new te(n,i)}function pq(i,t,e){const n=t+(e?0:-1);return cq.includes(i.charAt(n))}function gq(i,t,e){return t===(e?i.offsetSize:0)}class bq extends Fn(){constructor(){super();x(this,"markers");x(this,"document");x(this,"schema");x(this,"_pendingChanges");x(this,"_currentWriter");this.markers=new Dz,this.document=new jz(this),this.schema=new JV,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,n)=>{n[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),qz(this),this.document.registerPostFixer(zO),this.on("insertContent",(e,[n,s])=>{e.return=rq(this,n,s)}),this.on("insertObject",(e,[n,s,r])=>{e.return=aq(this,n,s,r)}),this.on("canEditAt",e=>{const n=!this.document.isReadOnly;e.return=n,n||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ou,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(n){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(n,this)}}enqueueChange(e,n){try{e?typeof e=="function"?(n=e,e=new Ou):e instanceof Ou||(e=new Ou(e)):e=new Ou,this._pendingChanges.push({batch:e,callback:n}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(s,this)}}applyOperation(e){e._execute()}insertContent(e,n,s,...r){const o=Uy(n,s);return this.fire("insertContent",[e,o,s,...r])}insertObject(e,n,s,r,...o){const c=Uy(n,s);return this.fire("insertObject",[e,c,r,r,...o])}deleteContent(e,n){Qz(this,e,n)}modifySelection(e,n){uq(this,e,n)}getSelectedContent(e){return sq(this,e)}hasContent(e,n={}){const s=e instanceof te?e:te._createIn(e);if(s.isCollapsed)return!1;const{ignoreWhitespaces:r=!1,ignoreMarkers:o=!1}=n;if(!o){for(const c of this.markers.getMarkersIntersectingRange(s))if(c.affectsData)return!0}for(const c of s.getItems())if(this.schema.isContent(c))if(c.is("$textProxy"))if(r){if(c.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const n=Uy(e);return this.fire("canEditAt",[n])}createPositionFromPath(e,n,s){return new me(e,n,s)}createPositionAt(e,n){return me._createAt(e,n)}createPositionAfter(e){return me._createAfter(e)}createPositionBefore(e){return me._createBefore(e)}createRange(e,n){return new te(e,n)}createRangeIn(e){return te._createIn(e)}createRangeOn(e){return te._createOn(e)}createSelection(...e){return new Ls(...e)}createBatch(e){return new Ou(e)}createOperationFromJSON(e){return Cz.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const n=this._pendingChanges[0].batch;this._currentWriter=new Vz(this,n);const s=this._pendingChanges[0].callback(this._currentWriter);e.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Uy(i,t){if(i)return i instanceof Ls||i instanceof jr?i:i instanceof Lc?t||t===0?new Ls(i,t):i.is("rootElement")?new Ls(i,"in"):new Ls(i,"on"):new Ls(i)}class vq extends ba{constructor(){super(...arguments);x(this,"domEventType","click")}onDomEvent(e){this.fire(e.type,e)}}class t5 extends ba{constructor(){super(...arguments);x(this,"domEventType",["mousedown","mouseup","mouseover","mouseout"])}onDomEvent(e){this.fire(e.type,e)}}class yq extends ba{constructor(){super(...arguments);x(this,"domEventType",["touchstart","touchend","touchmove"])}onDomEvent(e){this.fire(e.type,e)}}class n5 extends ba{constructor(){super(...arguments);x(this,"domEventType",["pointerdown","pointerup","pointermove"])}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class i5{constructor(t){x(this,"crashes",[]);x(this,"state","initializing");x(this,"_crashNumberLimit");x(this,"_now",Date.now);x(this,"_minimumNonErrorTimePeriod");x(this,"_boundErrorHandler");x(this,"_listeners");if(this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const n="error"in e?e.error:e.reason;n instanceof Error&&this._handleError(n,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(n=>n!==e)}_fire(t,...e){const n=this._listeners[t]||[];for(const s of n)s.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const t=this.crashes[this.crashes.length-1].date,e=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-e)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Qw(i,t=new Set){const e=[i],n=new Set;let s=0;for(;e.length>s;){const r=e[s++];if(!(n.has(r)||!wq(r)||t.has(r)))if(n.add(r),Symbol.iterator in r)try{for(const o of r)e.push(o)}catch{}else for(const o in r)o!=="defaultValue"&&e.push(r[o])}return n}function wq(i){const t=Object.prototype.toString.call(i),e=typeof i;return!(e==="number"||e==="boolean"||e==="string"||e==="symbol"||e==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||i===void 0||i===null||i._watchdogExcluded||i instanceof EventTarget||i instanceof Event)}function s5(i,t,e=new Set){if(i===t&&xq(i))return!0;const n=Qw(i,e),s=Qw(t,e);for(const r of n)if(s.has(r))return!0;return!1}function xq(i){return typeof i=="object"&&i!==null}class r5 extends i5{constructor(e,n={}){super(n);x(this,"_editor",null);x(this,"_lifecyclePromise",null);x(this,"_throttledSave");x(this,"_data");x(this,"_lastDocumentVersion");x(this,"_elementOrData");x(this,"_initUsingData",!0);x(this,"_editables",{});x(this,"_config");x(this,"_excludedProps");this._throttledSave=b0(this._save.bind(this),typeof n.saveInterval=="number"?n.saveInterval:5e3),e&&(this._creator=(s,r)=>e.create(s,r)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},n=[],s=this._config.rootsAttributes||{},r={};for(const[c,u]of Object.entries(this._data.roots))u.isLoaded?(e[c]="",r[c]=s[c]||{}):n.push(c);const o={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:n,rootsAttributes:r,_watchdogInitialData:this._data};return delete o.initialData,o.extraPlugins.push(_q),this._initUsingData?this.create(e,o,o.context):gl(this._elementOrData)?this.create(this._elementOrData,o,o.context):this.create(this._editables,o,o.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,n=this._config,s){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(n)||{},this._config.context=s,this._creator(e,this._config))).then(r=>{this._editor=r,r.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=r.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(n){console.error(n,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,n=e.model.document.roots.filter(u=>u.isAttached()&&u.rootName!="$graveyard"),{plugins:s}=e,r=s.has("CommentsRepository")&&s.get("CommentsRepository"),o=s.has("TrackChanges")&&s.get("TrackChanges"),c={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};n.forEach(u=>{c.roots[u.rootName]={content:JSON.stringify(Array.from(u.getChildren())),attributes:JSON.stringify(Array.from(u.getAttributes())),isLoaded:u._isLoaded}});for(const u of e.model.markers)u._affectsData&&(c.markers[u.name]={rangeJSON:u.getRange().toJSON(),usingOperation:u._managedUsingOperations,affectsData:u._affectsData});return r&&(c.commentThreads=JSON.stringify(r.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),o&&(c.suggestions=JSON.stringify(o.getSuggestions({toJSON:!0,skipNotAttached:!0}))),c}_getEditables(){const e={};for(const n of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(n);s&&(e[n]=s)}return e}_isErrorComingFromThisItem(e){return s5(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return mb(e,(n,s)=>{if(gl(n)||s==="context")return n})}}class _q{constructor(t){x(this,"editor");x(this,"_data");this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},e=>{this._restoreCollaborationData(),this._restoreEditorData(e)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,e){if("name"in e){const n=t.createElement(e.name,e.attributes);if(e.children)for(const s of e.children)n._appendChild(this._createNode(t,s));return n}else return t.createText(e.data,e.attributes)}_restoreEditorData(t){const e=this.editor;Object.entries(this._data.roots).forEach(([n,{content:s,attributes:r}])=>{const o=JSON.parse(s),c=JSON.parse(r),u=e.model.document.getRoot(n);for(const[f,p]of c)t.setAttribute(f,p,u);for(const f of o){const p=this._createNode(t,f);t.insert(p,u,"end")}}),Object.entries(this._data.markers).forEach(([n,s])=>{const{document:r}=e.model,{rangeJSON:{start:o,end:c},...u}=s,f=r.getRoot(o.root),p=t.createPositionFromPath(f,o.path,o.stickiness),g=t.createPositionFromPath(f,c.path,c.stickiness),v=t.createRange(p,g);t.addMarker(n,{range:v,...u})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);if(this.editor.plugins.has("CommentsRepository")){const n=this.editor.plugins.get("CommentsRepository");for(const s of n.getCommentThreads())n._removeCommentThread({threadId:s.id});t.forEach(s=>{const r=this.editor.config.get("collaboration.channelId");this.editor.plugins.get("CommentsRepository").addCommentThread({channelId:r,...s})})}if(this.editor.plugins.has("TrackChangesEditing")){const n=this.editor.plugins.get("TrackChangesEditing");for(const s of n.getSuggestions())n._removeSuggestion(s);e.forEach(s=>{n.addSuggestionData(s)})}}}const Mh=Symbol("MainQueueId");class Eq extends i5{constructor(e,n={}){super(n);x(this,"_watchdogs",new Map);x(this,"_watchdogConfig");x(this,"_context",null);x(this,"_contextProps",new Set);x(this,"_actionQueues",new kq);x(this,"_contextConfig");x(this,"_item");this._watchdogConfig=n,this._creator=s=>e.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Mh,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const n=ES(e);return Promise.all(n.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let r;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return r=new r5(null,this._watchdogConfig),r.setCreator(s.creator),r._setExcludedProperties(this._contextProps),s.destructor&&r.setDestructor(s.destructor),this._watchdogs.set(s.id,r),r.on("error",(o,{error:c,causesRestart:u})=>{this._fire("itemError",{itemId:s.id,error:c}),u&&this._actionQueues.enqueue(s.id,()=>new Promise(f=>{const p=()=>{r.off("restart",p),this._fire("itemRestart",{itemId:s.id}),f()};r.on("restart",p)}))}),r.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(e){const n=ES(e);return Promise.all(n.map(s=>this._actionQueues.enqueue(s,()=>{const r=this._getWatchdog(s);return this._watchdogs.delete(s),r.destroy()})))}destroy(){return this._actionQueues.enqueue(Mh,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Mh,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Qw(this._context),Promise.all(Array.from(this._watchdogs.values()).map(n=>(n._setExcludedProperties(this._contextProps),n.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(n=>n.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const n=this._watchdogs.get(e);if(!n)throw new Error(`Item with the given id was not registered: ${e}.`);return n}_isErrorComingFromThisItem(e){for(const n of this._watchdogs.values())if(n._isErrorComingFromThisItem(e))return!1;return s5(this._context,e.context)}}class kq{constructor(){x(this,"_onEmptyCallbacks",[]);x(this,"_queues",new Map);x(this,"_activeActions",0)}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){const n=t===Mh;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const r=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Mh),this._queues.get(t)])).then(e),o=r.catch(()=>{});return this._queues.set(t,o),r.finally(()=>{this._activeActions--,this._queues.get(t)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(c=>c())})}}function ES(i){return Array.isArray(i)?i:[i]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Ye extends Fn(){constructor(e){super();x(this,"editor");x(this,"_disableStack",new Set);this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",kS,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",kS),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function kS(i){i.return=!1,i.stop()}class Ri extends Fn(){constructor(e){super();x(this,"editor");x(this,"_isEnabledBasedOnSelection");x(this,"_affectsData");x(this,"_disableStack");this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",n=>{if(!this.affectsData)return;const s=e.model.document.selection,o=!(s.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(s);(e.isReadOnly||this._isEnabledBasedOnSelection&&!o)&&(n.return=!1,n.stop())},{priority:"highest"}),this.on("execute",n=>{this.isEnabled||n.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",CS,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",CS),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function CS(i){i.return=!1,i.stop()}class Cq{constructor(){x(this,"_commands");this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new q("commandcollection-command-not-found",this,{commandName:t});return n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class o5 extends an(){constructor(e,n=[],s=[]){super();x(this,"_context");x(this,"_plugins",new Map);x(this,"_availablePlugins");x(this,"_contextPlugins");this._context=e,this._availablePlugins=new Map;for(const r of n)r.pluginName&&this._availablePlugins.set(r.pluginName,r);this._contextPlugins=new Map;for(const[r,o]of s)this._contextPlugins.set(r,o),this._contextPlugins.set(o,r),r.pluginName&&this._availablePlugins.set(r.pluginName,r)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const n=this._plugins.get(e);if(!n){let s=e;throw typeof e=="function"&&(s=e.pluginName||e.name),new q("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return n}has(e){return this._plugins.has(e)}init(e,n=[],s=[]){const r=this,o=this._context;E(e),T(e);const c=e.filter(D=>!v(D,n)),u=[...C(c)];M(u,s);const f=V(u);return I(f,"init").then(()=>I(f,"afterInit")).then(()=>f);function p(D){return typeof D=="function"}function g(D){return p(D)&&!!D.isContextPlugin}function v(D,F){return F.some(H=>H===D||_(D)===H||_(H)===D)}function _(D){return p(D)?D.pluginName||D.name:D}function E(D,F=new Set){D.forEach(H=>{p(H)&&(F.has(H)||(F.add(H),H.pluginName&&!r._availablePlugins.has(H.pluginName)&&r._availablePlugins.set(H.pluginName,H),H.requires&&E(H.requires,F)))})}function C(D,F=new Set){return D.map(H=>p(H)?H:r._availablePlugins.get(H)).reduce((H,$)=>F.has($)?H:(F.add($),$.requires&&(T($.requires,$),C($.requires,F).forEach(J=>H.add(J))),H.add($)),new Set)}function T(D,F=null){D.map(H=>p(H)?H:r._availablePlugins.get(H)||H).forEach(H=>{R(H,F),P(H,F),B(H,F)})}function R(D,F){if(!p(D))throw F?new q("plugincollection-soft-required",o,{missingPlugin:D,requiredBy:_(F)}):new q("plugincollection-plugin-not-found",o,{plugin:D})}function P(D,F){if(g(F)&&!g(D))throw new q("plugincollection-context-required",o,{plugin:_(D),requiredBy:_(F)})}function B(D,F){if(F&&v(D,n))throw new q("plugincollection-required",o,{plugin:_(D),requiredBy:_(F)})}function V(D){return D.map(F=>{let H=r._contextPlugins.get(F);return H=H||new F(o),r._add(F,H),H})}function I(D,F){return D.reduce((H,$)=>!$[F]||r._contextPlugins.has($)?H:H.then($[F].bind($)),Promise.resolve())}function M(D,F){for(const H of F){if(typeof H!="function")throw new q("plugincollection-replace-plugin-invalid-type",null,{pluginItem:H});const $=H.pluginName;if(!$)throw new q("plugincollection-replace-plugin-missing-name",null,{pluginItem:H});if(H.requires&&H.requires.length)throw new q("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:$});const J=r._availablePlugins.get($);if(!J)throw new q("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:$});const be=D.indexOf(J);if(be===-1){if(r._contextPlugins.has(J))return;throw new q("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:$})}if(J.requires&&J.requires.length)throw new q("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:$});D.splice(be,1,H),r._availablePlugins.set($,H)}}}destroy(){const e=[];for(const[,n]of this)typeof n.destroy=="function"&&!this._contextPlugins.has(n)&&e.push(n.destroy());return Promise.all(e)}_add(e,n){this._plugins.set(e,n);const s=e.pluginName;if(s){if(this._plugins.has(s))throw new q("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:e});this._plugins.set(s,n)}}}class S0{constructor(t){x(this,"config");x(this,"plugins");x(this,"locale");x(this,"t");x(this,"editors");x(this,"_contextOwner",null);const{translations:e,...n}=t||{};this.config=new XR(n,this.constructor.defaultConfig);const s=this.constructor.builtinPlugins;this.config.define("plugins",s),this.plugins=new o5(this,s);const r=this.config.get("language")||{};this.locale=new S9({uiLanguage:typeof r=="string"?r:r.ui,contentLanguage:this.config.get("language.content"),translations:e}),this.t=this.locale.t,this.editors=new ma}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const n of t.concat(e)){if(typeof n!="function")throw new q("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new q("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner)throw new q("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise(e=>{const n=new this(t);e(n.initPlugins().then(()=>n))})}}x(S0,"defaultConfig"),x(S0,"builtinPlugins");class Sq extends qr{constructor(e){super();x(this,"editor");this.editor=e}set(e,n,s={}){if(typeof n=="string"){const r=n;n=(o,c)=>{this.editor.execute(r),c()}}super.set(e,n,s)}}const Wy="contentEditing",SS="common";class Aq{constructor(t){x(this,"keystrokeInfos",new Map);x(this,"_editor");this._editor=t;const e=t.config.get("menuBar.isVisible"),n=t.locale.t;this.addKeystrokeInfoCategory({id:Wy,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")});const s=[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];e&&s.push({label:n("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:s}]})}addKeystrokeInfoCategory({id:t,label:e,description:n,groups:s}){this.keystrokeInfos.set(t,{id:t,label:e,description:n,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:t,id:SS}),s&&s.forEach(r=>{this.addKeystrokeInfoGroup({categoryId:t,...r})})}addKeystrokeInfoGroup({categoryId:t=Wy,id:e,label:n,keystrokes:s}){const r=this.keystrokeInfos.get(t);if(!r)throw new q("accessibility-unknown-keystroke-info-category",this._editor,{groupId:e,categoryId:t});r.groups.set(e,{id:e,label:n,keystrokes:s||[]})}addKeystrokeInfos({categoryId:t=Wy,groupId:e=SS,keystrokes:n}){if(!this.keystrokeInfos.has(t))throw new q("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:t,keystrokes:n});const s=this.keystrokeInfos.get(t);if(!s.groups.has(e))throw new q("accessibility-unknown-keystroke-info-group",this._editor,{groupId:e,categoryId:t,keystrokes:n});s.groups.get(e).keystrokes.push(...n)}}function Tq(i){return{sessionId:Pq(),pageSessionId:Bq(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:Nq(i),plugins:Rq(i.plugins),distribution:Oq(),env:Iq(),integration:Object.create(null),menuBar:{isVisible:!!i.config.get("menuBar.isVisible")},language:{ui:i.locale.uiLanguage,content:i.locale.contentLanguage},toolbar:{main:Gy(i.config.get("toolbar")),block:Gy(i.config.get("blockToolbar")),balloon:Gy(i.config.get("balloonToolbar"))}}}function Nq(i){return Object.getPrototypeOf(i).constructor.editorName}function Rq(i){return Array.from(i).filter(([t])=>!!t.pluginName).map(([t])=>{const{pluginName:e,isContextPlugin:n,isOfficialPlugin:s,isPremiumPlugin:r}=t;return{isContext:!!n,isOfficial:!!s,isPremium:!!r,name:e}})}function Gy(i){if(!i)return;const t=Array.isArray(i)?{items:i}:i,e=r(t.items||[]);return{isMultiline:e.includes("-"),shouldNotGroupWhenFull:!!t.shouldNotGroupWhenFull,items:s(e)};function s(o){return o.filter(c=>c!=="|"&&c!=="-")}function r(o){return o.flatMap(c=>typeof c=="string"?[c]:r(c.items))}}function Oq(){return{channel:window[Symbol.for("cke distribution")]||"sh"}}function Iq(){let i="unknown",t="unknown";return Ge.isMac?i="mac":Ge.isWindows?i="windows":Ge.isiOS?i="ios":Ge.isAndroid&&(i="android"),Ge.isGecko?t="gecko":Ge.isBlink?t="blink":Ge.isSafari&&(t="safari"),{os:i,browser:t}}function Pq(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",Cs()),localStorage.getItem("__ckeditor-session-id")}function Bq(){return Be.window.CKEDITOR_PAGE_SESSION_ID=Be.window.CKEDITOR_PAGE_SESSION_ID||Cs(),Be.window.CKEDITOR_PAGE_SESSION_ID}class Uu extends Fn(){constructor(e={}){super();x(this,"accessibility");x(this,"commands");x(this,"config");x(this,"conversion");x(this,"data");x(this,"editing");x(this,"locale");x(this,"model");x(this,"plugins");x(this,"keystrokes");x(this,"t");x(this,"_context");x(this,"_readOnlyLocks");if("sanitizeHtml"in e)throw new q("editor-config-sanitizehtml-not-supported");const n=this.constructor,{translations:s,...r}=n.defaultConfig||{},{translations:o=s,...c}=e,u=e.language||r.language;this._context=e.context||new S0({language:u,translations:o}),this._context._addEditor(this,!e.context);const f=Array.from(n.builtinPlugins||[]);this.config=new XR(c,r),this.config.define("plugins",f),this.config.define(this._context._getEditorConfig()),g(this.config),this.plugins=new o5(this,f,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Cq,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new bq,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const p=new $9;this.data=new xz(this.model,p),this.editing=new ZV(this.model,p),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Ez([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Sq(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new Aq(this),v(this);function g(_){let E=_.get("licenseKey");if(!E&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(E=window.CKEDITOR_GLOBAL_LICENSE_KEY,_.set("licenseKey",E)),!E)throw new q("license-key-missing")}function v(_){const E=_.config.get("licenseKey"),C=window[Symbol.for("cke distribution")]||"sh";function T(F,H){_.enableReadOnlyMode(Symbol("invalidLicense")),_._showLicenseError(F,H)}function R(F){return["exp","jti","vc"].every($=>$ in F)}function P(F){return Object.getOwnPropertyNames(F).sort().filter(J=>J!="vc"&&F[J]!=null).map(J=>F[J])}function B(F){const{hostname:H}=new URL(window.location.href);if(F.includes(H))return!0;const $=H.split(".");return F.filter(J=>J.includes("*")).map(J=>J.split(".")).filter(J=>J.length<=$.length).map(J=>Array($.length-J.length).fill(J[0]==="*"?"*":"").concat(J)).some(J=>$.every((be,_e)=>J[_e]===be||J[_e]==="*"))}function V(F){const H=F[0].toUpperCase()+F.slice(1),$=F==="evaluation"?"an":"a";console.info(`%cCKEditor 5 ${H} License`,"color: #ffffff; background: #743CCD; font-size: 14px; padding: 4px 8px; border-radius: 4px;"),console.warn(` You are using ${$} ${F} license of CKEditor 5${F==="trial"?" which is for evaluation purposes only":""}. For production usage, please obtain a production license at https://portal.ckeditor.com/`)}if(E=="GPL"){C=="cloud"&&T("distributionChannel");return}const I=DC(E);if(!I){T("invalid");return}if(!R(I)){T("invalid");return}if(I.distributionChannel&&!Zn(I.distributionChannel).includes(C)){T("distributionChannel");return}if(O9(P(I))!=I.vc.toLowerCase()){T("invalid");return}if(new Date(I.exp*1e3)<D7){T("expired");return}const D=I.licensedHosts;if(D&&D.length>0&&!B(D)){T("domainLimit");return}if(["evaluation","trial"].includes(I.licenseType)&&I.exp*1e3<Date.now()){T("expired");return}if(["development","evaluation","trial"].includes(I.licenseType)){const{licenseType:F}=I;window.CKEDITOR_WARNING_SUPPRESSIONS=window.CKEDITOR_WARNING_SUPPRESSIONS||{},window.CKEDITOR_WARNING_SUPPRESSIONS[F]||(V(F),window.CKEDITOR_WARNING_SUPPRESSIONS[F]=!0)}if(["evaluation","trial"].includes(I.licenseType)){const F=I.licenseType,H=setTimeout(()=>{T(`${F}Limit`)},6e5);_.on("destroy",()=>{clearTimeout(H)})}I.usageEndpoint&&_.once("ready",()=>{const F={requestId:Cs(),requestTime:Math.round(Date.now()/1e3),license:E,editor:Lq(_)};_._sendUsageRequest(I.usageEndpoint,F).then(H=>{const{status:$,message:J}=H;J&&console.warn(J),$!="ok"&&T("usageLimit")},()=>{B7("license-key-validation-endpoint-not-reachable",{url:I.usageEndpoint})})},{priority:"high"})}}static get editorName(){return"Editor"}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new q("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,n=e.get("plugins"),s=e.get("removePlugins")||[],r=e.get("extraPlugins")||[],o=e.get("substitutePlugins")||[];return this.plugins.init(n.concat(r),s,o).then(u=>(c(this),u));function c(u){const f=u.config.get("licenseKey");if(f==="GPL")return;const p=DC(f);if(!p)return;const g=[...u.plugins].map(([v])=>v).find(v=>!v.pluginName||!v.licenseFeatureCode?!1:M9(p,v.licenseFeatureCode));g&&(u.enableReadOnlyMode(Symbol("invalidLicense")),u._showLicenseError("pluginNotAllowed",g.pluginName))}}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(n=>this.once("ready",n))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...n){try{return this.commands.execute(e,...n)}catch(s){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}_showLicenseError(e,n){setTimeout(()=>{if(e=="invalid")throw new q("invalid-license-key");if(e=="expired")throw new q("license-key-expired");if(e=="domainLimit")throw new q("license-key-domain-limit");if(e=="pluginNotAllowed"){const s=n.replace(/(Editing|UI)$/,""),r=this.plugins.has(s);throw new q("license-key-plugin-not-allowed",null,{pluginName:r?s:n})}if(e=="featureNotAllowed")throw new q("license-key-feature-not-allowed",null,{featureName:n});if(e=="evaluationLimit")throw new q("license-key-evaluation-limit");if(e=="trialLimit")throw new q("license-key-trial-limit");if(e=="developmentLimit")throw new q("license-key-development-limit");if(e=="usageLimit")throw new q("license-key-usage-limit");if(e=="distributionChannel")throw new q("license-key-invalid-distribution-channel")},0),this._showLicenseError=()=>{}}async _sendUsageRequest(e,n){const s=new Headers({"Content-Type":"application/json"}),r=await fetch(new URL(e),{method:"POST",headers:s,body:JSON.stringify(n)});if(!r.ok)throw new Error(`HTTP Response: ${r.status}`);return r.json()}}x(Uu,"defaultConfig"),x(Uu,"builtinPlugins"),x(Uu,"Context",S0),x(Uu,"EditorWatchdog",r5),x(Uu,"ContextWatchdog",Eq);function Lq(i){const t=Tq(i);function e(n,s){if(pl(t,n)!==void 0)throw new q("editor-usage-data-path-already-set",{path:n});FR(t,n,s)}return i.fire("collectUsageData",{setUsageData:e}),t}function jq(i){if(!y0(i.updateSourceElement))throw new q("attachtoform-missing-elementapi-interface",i);const t=i.sourceElement;if(Dq(t)&&t.form){let e;const n=t.form,s=()=>i.updateSourceElement();y0(n.submit)&&(e=n.submit,n.submit=()=>{s(),e.apply(n)}),n.addEventListener("submit",s),i.on("destroy",()=>{n.removeEventListener("submit",s),e&&(n.submit=e)})}}function Dq(i){return!!i&&i.tagName.toLowerCase()==="textarea"}function Mq(i){class t extends i{constructor(){super(...arguments);x(this,"sourceElement")}updateSourceElement(s){if(!this.sourceElement)throw new q("editor-missing-sourceelement",this);const r=this.config.get("updateSourceElementOnDestroy"),o=this.sourceElement instanceof HTMLTextAreaElement;if(!r&&!o){AC(this.sourceElement,"");return}const c=typeof s=="string"?s:this.data.get();AC(this.sourceElement,c)}}return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */var AS='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103z"/><path d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17m0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10" clip-rule="evenodd"/></svg>',Fq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75"/></svg>',a5='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.187 17H5.773q-.956 0-1.364-.415-.41-.416-.409-1.323V4.738q0-.926.419-1.332.418-.405 1.354-.406h4.68q1.035 0 1.793.124.76.124 1.36.478.512.296.906.75a3.26 3.26 0 0 1 .808 2.162q0 2.102-2.167 3.075 2.846.879 2.847 3.421a3.76 3.76 0 0 1-2.296 3.504 6 6 0 0 1-1.517.377q-.857.11-2 .11zm-.217-6.217H7v4.087h3.069q2.965 0 2.965-2.072 0-1.061-.768-1.537-.768-.478-2.296-.478M7 5.13v3.619h2.606q1.093 0 1.69-.2a1.6 1.6 0 0 0 .91-.765q.247-.4.247-.897 0-1.06-.778-1.409-.778-.348-2.375-.348z"/></svg>',Vq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75m-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75m6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75m-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75"/></svg>',zq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414z"/></svg>',qq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.972 16.615a1 1 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a1 1 0 0 1-.745.292"/></svg>',Hq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m-7 6.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',Qx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136z"/></svg>',Uq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822zM14 5V2l3.3 3zm-3.692 12.5q.093.157.213.303L11.52 19H8v-.876a2.24 2.24 0 0 0 1.82-.624zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',Wq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m9.586 14.633.021.004q-.054.502.393.962.123.125.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15q.711-.106 1.005-.334.235-.182.404-.597l2.416-9.55a1.05 1.05 0 0 0-.281-.823 1.1 1.1 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195q-.564.084-.823.296-.323.263-.623.79z"/></svg>',Gq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.8.8 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.7.7 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294zm5.494-5.335a.8.8 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.8.8 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955m-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184"/></svg>',l5='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382z"/></svg>',Kq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75M3.5 3v5H2V3.7H1v-1h2.5zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001q-.073.607-.333.988-.263.381-1.244 1.312H4.3v1h-4zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75"/></svg>',Qq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5M5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1"/></svg>',Yq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m7.3 17.37-.061.088a1.52 1.52 0 0 1-.934.535l-4.178.663-.806-4.153a1.5 1.5 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346zM6.07 16.512l-3.276-2.295.53 2.73zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328M8 18.5 9.375 17H19v1.5z"/></svg>',$q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4"/></svg>',Xq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1"/></svg>',vb='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',Zq=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,Jq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003z"/></svg>',TS='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.75.75 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.8.8 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032z"/></svg>',eH='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',tH='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75m18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75m-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2z"/></svg>',nH=`<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.734 6.375H1.75a.75.75 0 0 1 0-1.5h1.984a2.626 2.626 0 0 1 5.032 0h9.48a.75.75 0 0 1 0 1.5h-9.48a2.626 2.626 0 0 1-5.032 0Zm1.141-.75a1.375 1.375 0 1 1 2.75 0 1.375 1.375 0 0 1-2.75 0ZM16.263 14.625h1.983a.75.75 0 0 1 0 1.5h-1.983a2.626 2.626 0 0 1-5.033 0H1.75a.75.75 0 0 1 0-1.5h9.48a2.626 2.626 0 0 1 5.033 0Zm-1.142.75a1.375 1.375 0 1 1-2.75 0 1.375 1.375 0 0 1 2.75 0Z"/></svg>
`,iH='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.816 11.5 7.038 4.785 4.261 11.5zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254z"/></svg>',Yx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',sH='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8s3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4"/></svg>',NS='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.75.75 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.8.8 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032z"/></svg>',rH='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.8.8 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.7.7 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294zm5.494-5.335a.8.8 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.8.8 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955m-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184m4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06z"/></svg>';const Yw={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(const i in Yw)Object.freeze(Yw[i]);const am=Object.freeze(Yw),c5={};for(const i of Object.keys(am))c5[am[i]]=i;const Oe={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},sa=(6/29)**3;function Ju(i){const t=i>.0031308?1.055*i**.4166666666666667-.055:i*12.92;return Math.min(Math.max(0,t),1)}function ed(i){return i>.04045?((i+.055)/1.055)**2.4:i/12.92}for(const i of Object.keys(Oe)){if(!("channels"in Oe[i]))throw new Error("missing channels property: "+i);if(!("labels"in Oe[i]))throw new Error("missing channel labels property: "+i);if(Oe[i].labels.length!==Oe[i].channels)throw new Error("channel and label counts mismatch: "+i);const{channels:t,labels:e}=Oe[i];delete Oe[i].channels,delete Oe[i].labels,Object.defineProperty(Oe[i],"channels",{value:t}),Object.defineProperty(Oe[i],"labels",{value:e})}Oe.rgb.hsl=function(i){const t=i[0]/255,e=i[1]/255,n=i[2]/255,s=Math.min(t,e,n),r=Math.max(t,e,n),o=r-s;let c,u;switch(r){case s:{c=0;break}case t:{c=(e-n)/o;break}case e:{c=2+(n-t)/o;break}case n:{c=4+(t-e)/o;break}}c=Math.min(c*60,360),c<0&&(c+=360);const f=(s+r)/2;return r===s?u=0:f<=.5?u=o/(r+s):u=o/(2-r-s),[c,u*100,f*100]};Oe.rgb.hsv=function(i){let t,e,n,s,r;const o=i[0]/255,c=i[1]/255,u=i[2]/255,f=Math.max(o,c,u),p=f-Math.min(o,c,u),g=function(v){return(f-v)/6/p+1/2};if(p===0)s=0,r=0;else{switch(r=p/f,t=g(o),e=g(c),n=g(u),f){case o:{s=n-e;break}case c:{s=1/3+t-n;break}case u:{s=2/3+e-t;break}}s<0?s+=1:s>1&&(s-=1)}return[s*360,r*100,f*100]};Oe.rgb.hwb=function(i){const t=i[0],e=i[1];let n=i[2];const s=Oe.rgb.hsl(i)[0],r=1/255*Math.min(t,Math.min(e,n));return n=1-1/255*Math.max(t,Math.max(e,n)),[s,r*100,n*100]};Oe.rgb.oklab=function(i){const t=ed(i[0]/255),e=ed(i[1]/255),n=ed(i[2]/255),s=Math.cbrt(.4122214708*t+.5363325363*e+.0514459929*n),r=Math.cbrt(.2119034982*t+.6806995451*e+.1073969566*n),o=Math.cbrt(.0883024619*t+.2817188376*e+.6299787005*n),c=.2104542553*s+.793617785*r-.0040720468*o,u=1.9779984951*s-2.428592205*r+.4505937099*o,f=.0259040371*s+.7827717662*r-.808675766*o;return[c*100,u*100,f*100]};Oe.rgb.cmyk=function(i){const t=i[0]/255,e=i[1]/255,n=i[2]/255,s=Math.min(1-t,1-e,1-n),r=(1-t-s)/(1-s)||0,o=(1-e-s)/(1-s)||0,c=(1-n-s)/(1-s)||0;return[r*100,o*100,c*100,s*100]};function oH(i,t){return(i[0]-t[0])**2+(i[1]-t[1])**2+(i[2]-t[2])**2}Oe.rgb.keyword=function(i){const t=c5[i];if(t)return t;let e=Number.POSITIVE_INFINITY,n;for(const s of Object.keys(am)){const r=am[s],o=oH(i,r);o<e&&(e=o,n=s)}return n};Oe.keyword.rgb=function(i){return am[i]};Oe.rgb.xyz=function(i){const t=ed(i[0]/255),e=ed(i[1]/255),n=ed(i[2]/255),s=t*.4124564+e*.3575761+n*.1804375,r=t*.2126729+e*.7151522+n*.072175,o=t*.0193339+e*.119192+n*.9503041;return[s*100,r*100,o*100]};Oe.rgb.lab=function(i){const t=Oe.rgb.xyz(i);let e=t[0],n=t[1],s=t[2];e/=95.047,n/=100,s/=108.883,e=e>sa?e**(1/3):7.787*e+16/116,n=n>sa?n**(1/3):7.787*n+16/116,s=s>sa?s**(1/3):7.787*s+16/116;const r=116*n-16,o=500*(e-n),c=200*(n-s);return[r,o,c]};Oe.hsl.rgb=function(i){const t=i[0]/360,e=i[1]/100,n=i[2]/100;let s,r;if(e===0)return r=n*255,[r,r,r];const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o,u=[0,0,0];for(let f=0;f<3;f++)s=t+1/3*-(f-1),s<0&&s++,s>1&&s--,6*s<1?r=c+(o-c)*6*s:2*s<1?r=o:3*s<2?r=c+(o-c)*(2/3-s)*6:r=c,u[f]=r*255;return u};Oe.hsl.hsv=function(i){const t=i[0];let e=i[1]/100,n=i[2]/100,s=e;const r=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,s*=r<=1?r:2-r;const o=(n+e)/2,c=n===0?2*s/(r+s):2*e/(n+e);return[t,c*100,o*100]};Oe.hsv.rgb=function(i){const t=i[0]/60,e=i[1]/100;let n=i[2]/100;const s=Math.floor(t)%6,r=t-Math.floor(t),o=255*n*(1-e),c=255*n*(1-e*r),u=255*n*(1-e*(1-r));switch(n*=255,s){case 0:return[n,u,o];case 1:return[c,n,o];case 2:return[o,n,u];case 3:return[o,c,n];case 4:return[u,o,n];case 5:return[n,o,c]}};Oe.hsv.hsl=function(i){const t=i[0],e=i[1]/100,n=i[2]/100,s=Math.max(n,.01);let r,o;o=(2-e)*n;const c=(2-e)*s;return r=e*s,r/=c<=1?c:2-c,r=r||0,o/=2,[t,r*100,o*100]};Oe.hwb.rgb=function(i){const t=i[0]/360;let e=i[1]/100,n=i[2]/100;const s=e+n;let r;s>1&&(e/=s,n/=s);const o=Math.floor(6*t),c=1-n;r=6*t-o,(o&1)!==0&&(r=1-r);const u=e+r*(c-e);let f,p,g;switch(o){default:case 6:case 0:{f=c,p=u,g=e;break}case 1:{f=u,p=c,g=e;break}case 2:{f=e,p=c,g=u;break}case 3:{f=e,p=u,g=c;break}case 4:{f=u,p=e,g=c;break}case 5:{f=c,p=e,g=u;break}}return[f*255,p*255,g*255]};Oe.cmyk.rgb=function(i){const t=i[0]/100,e=i[1]/100,n=i[2]/100,s=i[3]/100,r=1-Math.min(1,t*(1-s)+s),o=1-Math.min(1,e*(1-s)+s),c=1-Math.min(1,n*(1-s)+s);return[r*255,o*255,c*255]};Oe.xyz.rgb=function(i){const t=i[0]/100,e=i[1]/100,n=i[2]/100;let s,r,o;return s=t*3.2404542+e*-1.5371385+n*-.4985314,r=t*-.969266+e*1.8760108+n*.041556,o=t*.0556434+e*-.2040259+n*1.0572252,s=Ju(s),r=Ju(r),o=Ju(o),[s*255,r*255,o*255]};Oe.xyz.lab=function(i){let t=i[0],e=i[1],n=i[2];t/=95.047,e/=100,n/=108.883,t=t>sa?t**(1/3):7.787*t+16/116,e=e>sa?e**(1/3):7.787*e+16/116,n=n>sa?n**(1/3):7.787*n+16/116;const s=116*e-16,r=500*(t-e),o=200*(e-n);return[s,r,o]};Oe.xyz.oklab=function(i){const t=i[0]/100,e=i[1]/100,n=i[2]/100,s=Math.cbrt(.8189330101*t+.3618667424*e-.1288597137*n),r=Math.cbrt(.0329845436*t+.9293118715*e+.0361456387*n),o=Math.cbrt(.0482003018*t+.2643662691*e+.633851707*n),c=.2104542553*s+.793617785*r-.0040720468*o,u=1.9779984951*s-2.428592205*r+.4505937099*o,f=.0259040371*s+.7827717662*r-.808675766*o;return[c*100,u*100,f*100]};Oe.oklab.oklch=function(i){return Oe.lab.lch(i)};Oe.oklab.xyz=function(i){const t=i[0]/100,e=i[1]/100,n=i[2]/100,s=(.999999998*t+.396337792*e+.215803758*n)**3,r=(1.000000008*t-.105561342*e-.063854175*n)**3,o=(1.000000055*t-.089484182*e-1.291485538*n)**3,c=1.227013851*s-.55779998*r+.281256149*o,u=-.040580178*s+1.11225687*r-.071676679*o,f=-.076381285*s-.421481978*r+1.58616322*o;return[c*100,u*100,f*100]};Oe.oklab.rgb=function(i){const t=i[0]/100,e=i[1]/100,n=i[2]/100,s=(t+.3963377774*e+.2158037573*n)**3,r=(t-.1055613458*e-.0638541728*n)**3,o=(t-.0894841775*e-1.291485548*n)**3,c=Ju(4.0767416621*s-3.3077115913*r+.2309699292*o),u=Ju(-1.2684380046*s+2.6097574011*r-.3413193965*o),f=Ju(-.0041960863*s-.7034186147*r+1.707614701*o);return[c*255,u*255,f*255]};Oe.oklch.oklab=function(i){return Oe.lch.lab(i)};Oe.lab.xyz=function(i){const t=i[0],e=i[1],n=i[2];let s,r,o;r=(t+16)/116,s=e/500+r,o=r-n/200;const c=r**3,u=s**3,f=o**3;return r=c>sa?c:(r-16/116)/7.787,s=u>sa?u:(s-16/116)/7.787,o=f>sa?f:(o-16/116)/7.787,s*=95.047,r*=100,o*=108.883,[s,r,o]};Oe.lab.lch=function(i){const t=i[0],e=i[1],n=i[2];let s;s=Math.atan2(n,e)*360/2/Math.PI,s<0&&(s+=360);const o=Math.sqrt(e*e+n*n);return[t,o,s]};Oe.lch.lab=function(i){const t=i[0],e=i[1],s=i[2]/360*2*Math.PI,r=e*Math.cos(s),o=e*Math.sin(s);return[t,r,o]};Oe.rgb.ansi16=function(i,t=null){const[e,n,s]=i;let r=t===null?Oe.rgb.hsv(i)[2]:t;if(r=Math.round(r/50),r===0)return 30;let o=30+(Math.round(s/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return r===2&&(o+=60),o};Oe.hsv.ansi16=function(i){return Oe.rgb.ansi16(Oe.hsv.rgb(i),i[2])};Oe.rgb.ansi256=function(i){const t=i[0],e=i[1],n=i[2];return t>>4===e>>4&&e>>4===n>>4?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(e/255*5)+Math.round(n/255*5)};Oe.ansi16.rgb=function(i){i=i[0];let t=i%10;if(t===0||t===7)return i>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const e=(Math.trunc(i>50)+1)*.5,n=(t&1)*e*255,s=(t>>1&1)*e*255,r=(t>>2&1)*e*255;return[n,s,r]};Oe.ansi256.rgb=function(i){if(i=i[0],i>=232){const r=(i-232)*10+8;return[r,r,r]}i-=16;let t;const e=Math.floor(i/36)/5*255,n=Math.floor((t=i%36)/6)/5*255,s=t%6/5*255;return[e,n,s]};Oe.rgb.hex=function(i){const e=(((Math.round(i[0])&255)<<16)+((Math.round(i[1])&255)<<8)+(Math.round(i[2])&255)).toString(16).toUpperCase();return"000000".slice(e.length)+e};Oe.hex.rgb=function(i){const t=i.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!t)return[0,0,0];let e=t[0];t[0].length===3&&(e=[...e].map(c=>c+c).join(""));const n=Number.parseInt(e,16),s=n>>16&255,r=n>>8&255,o=n&255;return[s,r,o]};Oe.rgb.hcg=function(i){const t=i[0]/255,e=i[1]/255,n=i[2]/255,s=Math.max(Math.max(t,e),n),r=Math.min(Math.min(t,e),n),o=s-r;let c;const u=o<1?r/(1-o):0;return o<=0?c=0:s===t?c=(e-n)/o%6:s===e?c=2+(n-t)/o:c=4+(t-e)/o,c/=6,c%=1,[c*360,o*100,u*100]};Oe.hsl.hcg=function(i){const t=i[1]/100,e=i[2]/100,n=e<.5?2*t*e:2*t*(1-e);let s=0;return n<1&&(s=(e-.5*n)/(1-n)),[i[0],n*100,s*100]};Oe.hsv.hcg=function(i){const t=i[1]/100,e=i[2]/100,n=t*e;let s=0;return n<1&&(s=(e-n)/(1-n)),[i[0],n*100,s*100]};Oe.hcg.rgb=function(i){const t=i[0]/360,e=i[1]/100,n=i[2]/100;if(e===0)return[n*255,n*255,n*255];const s=[0,0,0],r=t%1*6,o=r%1,c=1-o;let u=0;switch(Math.floor(r)){case 0:{s[0]=1,s[1]=o,s[2]=0;break}case 1:{s[0]=c,s[1]=1,s[2]=0;break}case 2:{s[0]=0,s[1]=1,s[2]=o;break}case 3:{s[0]=0,s[1]=c,s[2]=1;break}case 4:{s[0]=o,s[1]=0,s[2]=1;break}default:s[0]=1,s[1]=0,s[2]=c}return u=(1-e)*n,[(e*s[0]+u)*255,(e*s[1]+u)*255,(e*s[2]+u)*255]};Oe.hcg.hsv=function(i){const t=i[1]/100,e=i[2]/100,n=t+e*(1-t);let s=0;return n>0&&(s=t/n),[i[0],s*100,n*100]};Oe.hcg.hsl=function(i){const t=i[1]/100,n=i[2]/100*(1-t)+.5*t;let s=0;return n>0&&n<.5?s=t/(2*n):n>=.5&&n<1&&(s=t/(2*(1-n))),[i[0],s*100,n*100]};Oe.hcg.hwb=function(i){const t=i[1]/100,e=i[2]/100,n=t+e*(1-t);return[i[0],(n-t)*100,(1-n)*100]};Oe.hwb.hcg=function(i){const t=i[1]/100,n=1-i[2]/100,s=n-t;let r=0;return s<1&&(r=(n-s)/(1-s)),[i[0],s*100,r*100]};Oe.apple.rgb=function(i){return[i[0]/65535*255,i[1]/65535*255,i[2]/65535*255]};Oe.rgb.apple=function(i){return[i[0]/255*65535,i[1]/255*65535,i[2]/255*65535]};Oe.gray.rgb=function(i){return[i[0]/100*255,i[0]/100*255,i[0]/100*255]};Oe.gray.hsl=function(i){return[0,0,i[0]]};Oe.gray.hsv=Oe.gray.hsl;Oe.gray.hwb=function(i){return[0,100,i[0]]};Oe.gray.cmyk=function(i){return[0,0,0,i[0]]};Oe.gray.lab=function(i){return[i[0],0,0]};Oe.gray.hex=function(i){const t=Math.round(i[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".slice(n.length)+n};Oe.rgb.gray=function(i){return[(i[0]+i[1]+i[2])/3/255*100]};function aH(){const i={},t=Object.keys(Oe);for(let{length:e}=t,n=0;n<e;n++)i[t[n]]={distance:-1,parent:null};return i}function lH(i){const t=aH(),e=[i];for(t[i].distance=0;e.length>0;){const n=e.pop(),s=Object.keys(Oe[n]);for(let{length:r}=s,o=0;o<r;o++){const c=s[o],u=t[c];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,e.unshift(c))}}return t}function cH(i,t){return function(e){return t(i(e))}}function uH(i,t){const e=[t[i].parent,i];let n=Oe[t[i].parent][i],s=t[i].parent;for(;t[s].parent;)e.unshift(t[s].parent),n=cH(Oe[t[s].parent][s],n),s=t[s].parent;return n.conversion=e,n}function dH(i){const t=lH(i),e={},n=Object.keys(t);for(let{length:s}=n,r=0;r<s;r++){const o=n[r];t[o].parent!==null&&(e[o]=uH(o,t))}return e}const hh={},fH=Object.keys(Oe);function hH(i){const t=function(...e){const n=e[0];return n==null?n:(n.length>1&&(e=n),i(e))};return"conversion"in i&&(t.conversion=i.conversion),t}function mH(i){const t=function(...e){const n=e[0];if(n==null)return n;n.length>1&&(e=n);const s=i(e);if(typeof s=="object")for(let{length:r}=s,o=0;o<r;o++)s[o]=Math.round(s[o]);return s};return"conversion"in i&&(t.conversion=i.conversion),t}for(const i of fH){hh[i]={},Object.defineProperty(hh[i],"channels",{value:Oe[i].channels}),Object.defineProperty(hh[i],"labels",{value:Oe[i].labels});const t=dH(i),e=Object.keys(t);for(const n of e){const s=t[n];hh[i][n]=mH(s),hh[i][n].raw=hH(s)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class _o extends ma{constructor(e=[]){super(e,{idProperty:"viewUid"});x(this,"_parentElement");this.on("add",(n,s,r)=>{this._renderViewIntoCollectionParent(s,r)}),this.on("remove",(n,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const n of this)this._renderViewIntoCollectionParent(n)}delegate(...e){if(!e.length||!pH(e))throw new q("ui-viewcollection-delegate-wrong-events",this);return{to:n=>{for(const s of this)for(const r of e)s.delegate(r).to(n);this.on("add",(s,r)=>{for(const o of e)r.delegate(o).to(n)}),this.on("remove",(s,r)=>{for(const o of e)r.stopDelegating(o,n)})}}}_renderViewIntoCollectionParent(e,n){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])}remove(e){return super.remove(e)}}function pH(i){return i.every(t=>typeof t=="string")}const gH="http://www.w3.org/1999/xhtml";class xo extends an(){constructor(e){super();x(this,"ns");x(this,"tag");x(this,"text");x(this,"attributes");x(this,"children");x(this,"eventListeners");x(this,"_isRendered");x(this,"_revertData");Object.assign(this,OS(RS(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=BS(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new q("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(n){if(n.children)for(const s of n.children)A0(s)?yield s:$x(s)&&(yield*e(s))}yield*e(this)}static bind(e,n){return{to(s,r){return new bH({eventNameOrFunction:s,attribute:s,observable:e,emitter:n,callback:r})},if(s,r,o){return new u5({observable:e,emitter:n,attribute:s,valueIfTrue:r,callback:o})}}}static extend(e,n){if(e._isRendered)throw new q("template-extend-render",[this,e]);m5(e,OS(RS(n)))}_renderNode(e){let n;if(e.node?n=this.tag&&this.text:n=this.tag?this.text:!this.text,n)throw new q("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let n=e.node;return n||(n=e.node=document.createElementNS(this.ns||gH,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),n}_renderText(e){let n=e.node;return n?e.revertData.text=n.textContent:n=e.node=document.createTextNode(""),e0(this.text)?this._bindToObservable({schema:this.text,updater:yH(n),data:e}):n.textContent=this.text.join(""),n}_renderAttributes(e){if(!this.attributes)return;const n=e.node,s=e.revertData;for(const r in this.attributes){const o=n.getAttribute(r),c=this.attributes[r];s&&(s.attributes[r]=o);const u=PS(c)?c[0].ns:null;if(e0(c)){const f=PS(c)?c[0].value:c;s&&LS(r)&&f.unshift(o),this._bindToObservable({schema:f,updater:wH(n,r,u),data:e})}else if(r=="style"&&typeof c[0]!="string")this._renderStyleAttribute(c[0],e);else{s&&o&&LS(r)&&c.unshift(o);const f=c.map(p=>p&&(p.value||p)).reduce((p,g)=>p.concat(g),[]).reduce(h5,"");pd(f)||n.setAttributeNS(u,r,f)}}}_renderStyleAttribute(e,n){const s=n.node;for(const r in e){const o=e[r];e0(o)?this._bindToObservable({schema:[o],updater:xH(s,r),data:n}):$w(r)?s.style.setProperty(r,o):s.style[r]=o}}_renderElementChildren(e){const n=e.node,s=e.intoFragment?document.createDocumentFragment():n,r=e.isApplying;let o=0;for(const c of this.children)if(Xx(c)){if(!r){c.setParent(n);for(const u of c)s.appendChild(u.element)}}else if(A0(c))r||(c.isRendered||c.render(),s.appendChild(c.element));else if(bl(c))s.appendChild(c);else if(r){const u=e.revertData,f=BS();u.children.push(f),c._renderNode({intoFragment:!1,node:s.childNodes[o++],isApplying:!0,revertData:f})}else s.appendChild(c.render());e.intoFragment&&n.appendChild(s)}_setUpListeners(e){if(this.eventListeners)for(const n in this.eventListeners){const s=this.eventListeners[n].map(r=>{const[o,c]=n.split("@");return r.activateDomEventListener(o,c,e)});e.revertData&&e.revertData.bindings.push(s)}}_bindToObservable({schema:e,updater:n,data:s}){const r=s.revertData;d5(e,n,s);const o=e.filter(c=>!pd(c)).filter(c=>c.observable).map(c=>c.activateAttributeListener(e,n,s));r&&r.bindings.push(o)}_revertTemplateFromNode(e,n){for(const r of n.bindings)for(const o of r)o();if(n.text){e.textContent=n.text;return}const s=e;for(const r in n.attributes){const o=n.attributes[r];o===null?s.removeAttribute(r):s.setAttribute(r,o)}for(let r=0;r<n.children.length;++r)this._revertTemplateFromNode(s.childNodes[r],n.children[r])}}class Bm{constructor(t){x(this,"attribute");x(this,"observable");x(this,"emitter");x(this,"callback");this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const s=()=>d5(t,e,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class bH extends Bm{constructor(e){super(e);x(this,"eventNameOrFunction");this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,n,s){const r=(o,c)=>{(!n||c.target.matches(n))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(c):this.observable.fire(this.eventNameOrFunction,c))};return this.emitter.listenTo(s.node,e,r),()=>{this.emitter.stopListening(s.node,e,r)}}}class u5 extends Bm{constructor(e){super(e);x(this,"valueIfTrue");this.valueIfTrue=e.valueIfTrue}getValue(e){const n=super.getValue(e);return pd(n)?!1:this.valueIfTrue||!0}}function e0(i){return i?(i.value&&(i=i.value),Array.isArray(i)?i.some(e0):i instanceof Bm):!1}function $w(i){return/^--[a-zA-Z_-][\w-]*$/.test(i)}function vH(i,t){return i.map(e=>e instanceof Bm?e.getValue(t):e)}function d5(i,t,{node:e}){const n=vH(i,e);let s;i.length==1&&i[0]instanceof u5?s=n[0]:s=n.reduce(h5,""),pd(s)?t.remove():t.set(s)}function yH(i){return{set(t){i.textContent=t},remove(){i.textContent=""}}}function wH(i,t,e){return{set(n){i.setAttributeNS(e,t,n)},remove(){i.removeAttributeNS(e,t)}}}function xH(i,t){return{set(e){$w(t)?i.style.setProperty(t,e):i.style[t]=e},remove(){$w(t)?i.style.removeProperty(t):i.style[t]=null}}}function RS(i){return mb(i,e=>{if(e&&(e instanceof Bm||$x(e)||A0(e)||Xx(e)))return e})}function OS(i){if(typeof i=="string"?i=kH(i):i.text&&CH(i),i.on&&(i.eventListeners=EH(i.on),delete i.on),!i.text){i.attributes&&_H(i.attributes);const t=[];if(i.children)if(Xx(i.children))t.push(i.children);else for(const e of i.children)$x(e)||A0(e)||bl(e)?t.push(e):t.push(new xo(e));i.children=t}return i}function _H(i){for(const t in i)i[t].value&&(i[t].value=Zn(i[t].value)),f5(i,t)}function EH(i){for(const t in i)f5(i,t);return i}function kH(i){return{text:[i]}}function CH(i){i.text=Zn(i.text)}function f5(i,t){i[t]=Zn(i[t])}function h5(i,t){return pd(t)?i:pd(i)?t:`${i} ${t}`}function IS(i,t){for(const e in t)i[e]?i[e].push(...t[e]):i[e]=t[e]}function m5(i,t){if(t.attributes&&(i.attributes||(i.attributes={}),IS(i.attributes,t.attributes)),t.eventListeners&&(i.eventListeners||(i.eventListeners={}),IS(i.eventListeners,t.eventListeners)),t.text&&i.text.push(...t.text),t.children&&t.children.length){if(i.children.length!=t.children.length)throw new q("ui-template-extend-children-mismatch",i);let e=0;for(const n of t.children)m5(i.children[e++],n)}}function pd(i){return!i&&i!==0}function A0(i){return i instanceof nt}function $x(i){return i instanceof xo}function Xx(i){return i instanceof _o}function PS(i){return cr(i[0])&&i[0].ns}function BS(){return{children:[],bindings:[],attributes:{}}}function LS(i){return i=="class"||i=="style"}class nt extends zr(Fn()){constructor(e){super();x(this,"element");x(this,"isRendered");x(this,"locale");x(this,"t");x(this,"template");x(this,"_viewCollections");x(this,"_unboundChildren");x(this,"_bindTemplate");this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new ma,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(n,s)=>{s.locale=e,s.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=xo.bind(this,this)}createCollection(e){const n=new _o(e);return this._viewCollections.add(n),n}registerChild(e){Fs(e)||(e=[e]);for(const n of e)this._unboundChildren.add(n)}deregisterChild(e){Fs(e)||(e=[e]);for(const n of e)this._unboundChildren.remove(n)}setTemplate(e){this.template=new xo(e)}extendTemplate(e){xo.extend(this.template,e)}render(){if(this.isRendered)throw new q("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}const jS={POLITE:"polite",ASSERTIVE:"assertive"};class SH{constructor(t){x(this,"editor");x(this,"view");this.editor=t,t.once("ready",()=>{for(const e of Object.values(jS))this.announce("",e)})}announce(t,e=jS.POLITE){const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new AH(n.locale),n.ui.view.body.add(this.view));const{politeness:s,isUnsafeHTML:r}=typeof e=="string"?{politeness:e}:e;let o=this.view.regionViews.find(c=>c.politeness===s);o||(o=new TH(n,s),this.view.regionViews.add(o)),o.announce({announcement:t,isUnsafeHTML:r})}}class AH extends nt{constructor(e){super(e);x(this,"regionViews");this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class TH extends nt{constructor(e,n){super(e.locale);x(this,"politeness");x(this,"_domConverter");x(this,"_pruneAnnouncementsInterval");this.setTemplate({tag:"div",attributes:{"aria-live":n,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=n,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:n}){if(!e.trim().length)return;const s=document.createElement("li");n?this._domConverter.setContentOf(s,e):s.innerText=e,this._listElement.appendChild(s)}get _listElement(){return this.element.querySelector("ul")}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Zx({emitter:i,activator:t,callback:e,contextElements:n,listenerOptions:s}){i.listenTo(document,"mousedown",(r,o)=>{if(!t())return;const c=typeof o.composedPath=="function"?o.composedPath():[],u=typeof n=="function"?n():n;for(const f of u)if(f.contains(o.target)||c.includes(f))return;e()},s)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function DS(i){class t extends i{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.template&&this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return t}function NH(i){class t extends i{constructor(...s){super(...s);x(this,"_onDragBound",this._onDrag.bind(this));x(this,"_onDragEndBound",this._onDragEnd.bind(this));x(this,"_lastDraggingCoordinates",{x:0,y:0});this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(Be.document,"mouseup",this._onDragEndBound),this.listenTo(Be.document,"touchend",this._onDragEndBound),this.listenTo(Be.document,"mousemove",this._onDragBound),this.listenTo(Be.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(Be.document,"mouseup",this._onDragEndBound),this.stopListening(Be.document,"touchend",this._onDragEndBound),this.stopListening(Be.document,"mousemove",this._onDragBound),this.stopListening(Be.document,"touchmove",this._onDragBound)}_onDragStart(s,r){if(!this._isHandleElementPressed(r))return;this._attachDragListeners();let o=0,c=0;r instanceof MouseEvent?(o=r.clientX,c=r.clientY):(o=r.touches[0].clientX,c=r.touches[0].clientY),this._lastDraggingCoordinates={x:o,y:c},this.isDragging=!0}_onDrag(s,r){if(!this.isDragging){this._detachDragListeners();return}let o=0,c=0;r instanceof MouseEvent?(o=r.clientX,c=r.clientY):(o=r.touches[0].clientX,c=r.touches[0].clientY),r.preventDefault(),this.fire("drag",{deltaX:Math.round(o-this._lastDraggingCoordinates.x),deltaY:Math.round(c-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:o,y:c}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(s){return this.dragHandleElement?this.dragHandleElement===s.target||s.target instanceof HTMLElement&&this.dragHandleElement.contains(s.target):!1}}return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function RH({view:i}){i.listenTo(i.element,"submit",(t,e)=>{e.preventDefault(),i.fire("submit")},{useCapture:!0})}class yb extends nt{constructor(e){super(e);x(this,"id");this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Cs()}`;const n=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:n.to("for")},children:[{text:n.to("text")}]})}}class OH extends nt{constructor(t,e){super(t);const n=t.t,s=new yb;s.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":s.id,role:"document",tabindex:-1},children:[Rr(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(e.values())),s]})}focus(){this.element.focus()}_createCategories(t){return t.map(e=>{const n=[Rr(document,"h3",{},e.label),...Array.from(e.groups.values()).map(s=>this._createGroup(s)).flat()];return e.description&&n.splice(1,0,Rr(document,"p",{},e.description)),Rr(document,"section",{},n)})}_createGroup(t){const e=t.keystrokes.sort((s,r)=>s.label.localeCompare(r.label)).map(s=>this._createGroupRow(s)).flat(),n=[Rr(document,"dl",{},e)];return t.label&&n.unshift(Rr(document,"h4",{},t.label)),n}_createGroupRow(t){const e=this.locale.t,n=Rr(document,"dt"),s=Rr(document,"dd"),r=PH(t.keystroke),o=[];for(const c of r)o.push(c.map(IH).join(""));return n.innerHTML=t.label,s.innerHTML=o.join(", ")+(t.mayRequireFn&&Ge.isMac?` ${e("(may require <kbd>Fn</kbd>)")}`:""),[n,s]}}function IH(i){return x0(i).split("+").map(t=>`<kbd>${t}</kbd>`).join("+")}function PH(i){return typeof i=="string"?[[i]]:typeof i[0]=="string"?[i]:i}const V0=class V0 extends nt{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg");if(!e)throw new q("ui-iconview-invalid-svg",this);const n=e.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:s,value:r}of Array.from(e.attributes))V0.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}};x(V0,"presentationalAttributeNames",["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"]);let da=V0;class p5 extends nt{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}class sn extends nt{constructor(e,n=new p5){super(e);x(this,"children");x(this,"labelView");x(this,"iconView");x(this,"keystrokeView");x(this,"_focusDelayed",null);const s=this.bindTemplate,r=Cs();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${r}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(n),this.iconView=new da,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.iconView.bind("content").to(this,"icon"),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const o={tag:"button",attributes:{class:["ck","ck-button",s.to("class"),s.if("isEnabled","ck-disabled",c=>!c),s.if("isVisible","ck-hidden",c=>!c),s.to("isOn",c=>c?"ck-on":"ck-off"),s.if("withText","ck-button_with-text"),s.if("withKeystroke","ck-button_with-keystroke")],role:s.to("role"),type:s.to("type",c=>c||"button"),tabindex:s.to("tabindex"),"aria-checked":s.to("_ariaChecked"),"aria-pressed":s.to("_ariaPressed"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy"),"aria-disabled":s.if("isEnabled",!0,c=>!c),"data-cke-tooltip-text":s.to("_tooltipString"),"data-cke-tooltip-position":s.to("tooltipPosition")},children:this.children,on:{click:s.to(c=>{this.isEnabled?this.fire("execute"):c.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(c,u,f)=>!u||MS(f)?!1:String(!!c)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(c,u,f)=>!u||!MS(f)?!1:String(!!c)),Ge.isSafari&&(this._focusDelayed||(this._focusDelayed=Bx(()=>this.focus(),0)),o.on.mousedown=s.to(()=>{this._focusDelayed()}),o.on.mouseup=s.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(o)}render(){super.render(),this.icon&&this.children.add(this.iconView),this.on("change:icon",(e,n,s,r)=>{s&&!r?this.children.add(this.iconView,0):!s&&r&&this.children.remove(this.iconView)}),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new nt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",n=>x0(n))}]}),e}_getTooltipString(e,n,s){return e?typeof e=="string"?e:(s&&(s=x0(s)),e instanceof Function?e(n,s):`${n}${s?` (${s})`:""}`):""}}function MS(i){switch(i){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class wb extends nt{constructor(e,n={}){super(e);x(this,"children");x(this,"iconView");const s=this.bindTemplate;this.set("label",n.label||""),this.set("class",n.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",s.to("class")]},children:this.children}),n.icon&&(this.iconView=new da,this.iconView.content=n.icon,this.children.add(this.iconView));const r=new nt(e);r.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:s.to("label")}]}),this.children.add(r)}}class kl extends an(){constructor(e){super();x(this,"focusables");x(this,"focusTracker");x(this,"keystrokeHandler");x(this,"actions");if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const n in e.actions){let s=e.actions[n];typeof s=="string"&&(s=[s]);for(const r of s)e.keystrokeHandler.set(r,(o,c)=>{this[n](),c()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Ky)||null}get last(){return this.focusables.filter(Ky).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((n,s)=>{const r=n.element===this.focusTracker.focusedElement;return r&&(e=s),r}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const n=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",s=>{const r=n();this.focusNext(),r!==n()&&s.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",s=>{const r=n();this.focusPrevious(),r!==n()&&s.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,n){e&&this.focusTracker.focusedElement!==e.element&&e.focus(n)}_getDomFocusableItem(e){const n=this.focusables.length;if(!n)return null;const s=this.current;if(s===null)return this[e===1?"first":"last"];let r=this.focusables.get(s),o=(s+n+e)%n;do{const c=this.focusables.get(o);if(Ky(c)){r=c;break}o=(o+n+e)%n}while(o!==s);return r}}function Ky(i){return Lm(i)&&ca(i.element)}function Lm(i){return"focus"in i&&typeof i.focus=="function"}function BH(i){return Lm(i)&&"focusCycler"in i&&i.focusCycler instanceof kl}class LH extends nt{constructor(e){super(e);x(this,"children");x(this,"keystrokes");x(this,"focusCycler");x(this,"_focusTracker");x(this,"_focusables");this.children=this.createCollection(),this.keystrokes=new qr,this._focusTracker=new Ss,this._focusables=new _o,this.focusCycler=new kl({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const n of e){const s=new sn(this.locale);let r;s.on("execute",()=>n.onExecute()),n.onCreate&&n.onCreate(s);for(r in n)r!="onExecute"&&r!="onCreate"&&s.set(r,n[r]);this.children.add(s)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class jH extends nt{constructor(e){super(e);x(this,"children");this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const Tr={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},FS=Pm("px"),z0=class z0 extends NH(nt){constructor(e,{getCurrentDomRoot:n,getViewportOffset:s,keystrokeHandlerOptions:r}){super(e);x(this,"parts");x(this,"headerView");x(this,"closeButtonView");x(this,"actionsView");x(this,"contentView");x(this,"keystrokes");x(this,"focusTracker");x(this,"wasMoved",!1);x(this,"_getCurrentDomRoot");x(this,"_getViewportOffset");x(this,"_focusables");x(this,"_focusCycler");const o=this.bindTemplate,c=e.t;this.set("className",""),this.set("ariaLabel",c("Editor dialog")),this.set("isModal",!1),this.set("position",Tr.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=n,this._getViewportOffset=s,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new qr,this.focusTracker=new Ss,this._focusables=new _o,this._focusCycler=new kl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"},keystrokeHandlerOptions:r}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",o.if("isModal","ck-dialog-overlay__transparent",u=>!u),o.if("_isVisible","ck-hidden",u=>!u)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",o.if("isModal","ck-dialog_modal"),o.to("className")],role:"dialog","aria-label":o.to("ariaLabel"),style:{top:o.to("_top",u=>FS(u)),left:o.to("_left",u=>FS(u)),visibility:o.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,n)=>{e.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),n())}),this.on("drag",(e,{deltaX:n,deltaY:s})=>{this.wasMoved=!0,this.moveBy(n,s)}),this.listenTo(Be.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(Be.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,n,s)=>{s&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:e,title:n,hasCloseButton:s=!0,content:r,actionButtons:o}){n&&(this.headerView=new wb(this.locale,{icon:e}),s&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=n,this.ariaLabel=n,this.parts.add(this.headerView,0)),r&&(r instanceof nt&&(r=[r]),this.contentView=new jH(this.locale),this.contentView.children.addMany(r),this.parts.add(this.contentView)),o&&(this.actionsView=new LH(this.locale),this.actionsView.setButtons(o),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,n){const s=this._getViewportRect(),r=this._getDialogRect();e+r.width>s.right&&(e=s.right-r.width),e<s.left&&(e=s.left),n<s.top&&(n=s.top),this._moveTo(e,n)}_moveTo(e,n){this._left=e,this._top=n}moveBy(e,n){this.moveTo(this._left+e,this._top+n)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let n=this.position,s;this._getCurrentDomRoot()?s=this._getVisibleDomRootRect(e):n=Tr.SCREEN_CENTER;const r=z0.defaultOffset,o=this._getDialogRect();if(this.position!=null){if(typeof this.position=="function"){const c=this.position(o,s);if(c==null){this._moveOffScreen();return}this._moveTo(c.left,c.top);return}switch(n){case Tr.EDITOR_TOP_SIDE:{if(s){const c=this.locale.contentLanguageDirection==="ltr"?s.right-o.width-r:s.left+r;this.moveTo(c,s.top+r)}else this._moveOffScreen();break}case Tr.EDITOR_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),Math.round(s.top+s.height/2-o.height/2)):this._moveOffScreen();break}case Tr.SCREEN_CENTER:{this.moveTo(Math.round((e.width-o.width)/2),Math.round((e.height-o.height)/2));break}case Tr.EDITOR_TOP_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),s.top+r):this._moveOffScreen();break}case Tr.EDITOR_BOTTOM_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),s.bottom-o.height-r):this._moveOffScreen();break}case Tr.EDITOR_ABOVE_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),s.top-o.height-r):this._moveOffScreen();break}case Tr.EDITOR_BELOW_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),s.bottom+r):this._moveOffScreen();break}}}}_getVisibleDomRootRect(e){let n=new wt(this._getCurrentDomRoot()).getVisible();if(n){if(n=e.getIntersection(n),!n)return null}else return null;return n}_getDialogRect(){return new wt(this.element.firstElementChild)}_getViewportRect(){const e=new wt(Be.window);return this.isModal?e:sO(this._getViewportOffset())}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const n of this.contentView.children)Lm(n)&&e.push(n);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element),BH(n)&&this._focusCycler.chain(n.focusCycler)})}_createCloseButton(){const e=new sn(this.locale),n=this.locale.t;return e.set({label:n("Close"),tooltip:!0,icon:zq}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}};x(z0,"defaultOffset",15);let lm=z0;const Nr=class Nr extends Ye{constructor(e){super(e);x(this,"view");x(this,"_onHide");const n=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:n("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),Nr._visibleDialogPlugin===this&&this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",(e,n)=>{this._show(n)}),this.on("show",(e,n)=>{n.onShow&&n.onShow(this)},{priority:"low"}),this.on("hide",()=>{Nr._visibleDialogPlugin&&Nr._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(n,s)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),s())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const n=e.document.differ.getChangedRoots();for(const s of n)s.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:n,title:s,hasCloseButton:r=!0,content:o,actionButtons:c,className:u,isModal:f,position:p,onHide:g,keystrokeHandlerOptions:v}){const _=this.editor;this.view=new lm(_.locale,{getCurrentDomRoot:()=>_.editing.view.getDomRoot(_.model.document.selection.anchor.root.rootName),getViewportOffset:()=>_.ui.viewportOffset,keystrokeHandlerOptions:v});const E=this.view;E.on("close",()=>{this.hide()}),_.ui.view.body.add(E),_.keystrokes.listenTo(E.element),p||(p=f?Tr.SCREEN_CENTER:Tr.EDITOR_CENTER),f&&this._lockBodyScroll(),E.set({position:p,_isVisible:!0,className:u,isModal:f}),E.setupParts({icon:n,title:s,hasCloseButton:r,content:o,actionButtons:c}),this.id=e,g&&(this._onHide=g),this.isOpen=!0,Nr._visibleDialogPlugin=this}hide(){Nr._visibleDialogPlugin&&Nr._visibleDialogPlugin.fire(`hide:${Nr._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,n=this.view;n.isModal&&this._unlockBodyScroll(),n.contentView&&n.contentView.reset(),e.ui.view.body.remove(n),e.ui.focusTracker.remove(n.element),e.keystrokes.stopListening(n.element),n.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,Nr._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}};x(Nr,"_visibleDialogPlugin");let Xw=Nr;class Id extends sn{constructor(e,n=new p5){super(e,n);x(this,"_checkIconHolderView",new DH);this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const s=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",s.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(r,o)=>r||o)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,n,s)=>{const{children:r,_checkIconHolderView:o}=this;s?r.add(o,0):r.remove(o)})}}class DH extends nt{constructor(){super();x(this,"children");x(this,"_checkIconView",this._createCheckIconView());const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",n=>n?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,n,s)=>{const{children:r,_checkIconView:o}=this;s&&!r.has(o)?r.add(o):!s&&r.has(o)&&r.remove(o)})}_createCheckIconView(){const e=new da;return e.content=qq,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class hr extends Id{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class MH extends Ye{constructor(){super(...arguments);x(this,"contentView",null)}static get requires(){return[Xw]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const s=this._createButton(sn);return s.set({tooltip:!0,withText:!1,label:n("Accessibility help")}),s}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const s=this._createButton(hr);return s.label=n("Accessibility"),s}),e.keystrokes.set("Alt+0",(s,r)=>{this._toggleDialog(),r()}),this._setupRootLabels()}_createButton(e){const n=this.editor,s=n.plugins.get("Dialog"),r=n.locale,o=new e(r);return o.set({keystroke:"Alt+0",icon:AS,isToggleable:!0}),o.on("execute",()=>this._toggleDialog()),o.bind("isOn").to(s,"id",c=>c==="accessibilityHelp"),o}_setupRootLabels(){const e=this.editor,n=e.editing.view,s=e.t;e.ui.on("ready",()=>{n.change(o=>{for(const c of n.document.roots)r(o,c)}),e.on("addRoot",(o,c)=>{const u=e.editing.view.document.getRoot(c.rootName);n.change(f=>r(f,u))},{priority:"low"})});function r(o,c){const f=[c.getAttribute("aria-label"),s("Press %0 for help.",[x0("Alt+0")])].filter(p=>p).join(". ");o.setAttribute("aria-label",f,c)}}_toggleDialog(){const e=this.editor,n=e.plugins.get("Dialog"),s=e.locale.t;this.contentView||(this.contentView=new OH(e.locale,e.accessibility.keystrokeInfos)),n.id==="accessibilityHelp"?n.hide():n.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:s("Accessibility help"),icon:AS,hasCloseButton:!0,content:this.contentView})}}const sr=class sr extends _o{constructor(e,n=[]){super(n);x(this,"locale");x(this,"_bodyCollectionContainer");this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new xo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),(!sr._bodyWrapper||!sr._bodyWrapper.isConnected)&&(sr._bodyWrapper=Rr(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(sr._bodyWrapper)),sr._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),sr._bodyWrapper&&!sr._bodyWrapper.childElementCount&&(sr._bodyWrapper.remove(),delete sr._bodyWrapper)}};x(sr,"_bodyWrapper");let Zw=sr;const VS=Pm("px"),FH={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Bs=class Bs extends nt{constructor(e){super(e);x(this,"content");x(this,"_pinWhenIsVisibleCallback");x(this,"_resizeObserver");const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",s=>`ck-balloon-panel_${s}`),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",VS),left:n.to("left",VS)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const n=t0(e.target);if(n&&!ca(n))return!1;this.show();const s=Bs.defaultPositions,r=Object.assign({},{element:this.element,positions:[s.southArrowNorth,s.southArrowNorthMiddleWest,s.southArrowNorthMiddleEast,s.southArrowNorthWest,s.southArrowNorthEast,s.northArrowSouth,s.northArrowSouthMiddleWest,s.northArrowSouthMiddleEast,s.northArrowSouthWest,s.northArrowSouthEast,s.viewportStickyNorth],limiter:Be.document.body,fitInViewport:!0},e),o=Bs._getOptimalPosition(r)||FH,c=parseInt(o.left),u=parseInt(o.top),f=o.name,p=o.config||{},{withArrow:g=!0}=p;return this.top=u,this.left=c,this.position=f,this.withArrow=g,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let n=t0(e.target);const s=e.limiter?t0(e.limiter):Be.document.body;if(this.listenTo(Be.document,"scroll",(r,o)=>{const c=o.target,u=n&&c.contains(n),f=s&&c.contains(s);(u||f||!n||!s)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(Be.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(n&&Sn(n)&&(n=n.parentElement),n)){const r=()=>{ca(n)||this.unpin()};this._resizeObserver=new Zh(n,r)}return!0}_stopPinning(){this.stopListening(Be.document,"scroll"),this.stopListening(Be.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:n=Bs.arrowSideOffset,heightOffset:s=Bs.arrowHeightOffset,stickyVerticalOffset:r=Bs.stickyVerticalOffset,config:o}=e;return{northWestArrowSouthWest:(f,p)=>({top:c(f,p),left:f.left-n,name:"arrow_sw",...o&&{config:o}}),northWestArrowSouthMiddleWest:(f,p)=>({top:c(f,p),left:f.left-p.width*.25-n,name:"arrow_smw",...o&&{config:o}}),northWestArrowSouth:(f,p)=>({top:c(f,p),left:f.left-p.width/2,name:"arrow_s",...o&&{config:o}}),northWestArrowSouthMiddleEast:(f,p)=>({top:c(f,p),left:f.left-p.width*.75+n,name:"arrow_sme",...o&&{config:o}}),northWestArrowSouthEast:(f,p)=>({top:c(f,p),left:f.left-p.width+n,name:"arrow_se",...o&&{config:o}}),northArrowSouthWest:(f,p)=>({top:c(f,p),left:f.left+f.width/2-n,name:"arrow_sw",...o&&{config:o}}),northArrowSouthMiddleWest:(f,p)=>({top:c(f,p),left:f.left+f.width/2-p.width*.25-n,name:"arrow_smw",...o&&{config:o}}),northArrowSouth:(f,p)=>({top:c(f,p),left:f.left+f.width/2-p.width/2,name:"arrow_s",...o&&{config:o}}),northArrowSouthMiddleEast:(f,p)=>({top:c(f,p),left:f.left+f.width/2-p.width*.75+n,name:"arrow_sme",...o&&{config:o}}),northArrowSouthEast:(f,p)=>({top:c(f,p),left:f.left+f.width/2-p.width+n,name:"arrow_se",...o&&{config:o}}),northEastArrowSouthWest:(f,p)=>({top:c(f,p),left:f.right-n,name:"arrow_sw",...o&&{config:o}}),northEastArrowSouthMiddleWest:(f,p)=>({top:c(f,p),left:f.right-p.width*.25-n,name:"arrow_smw",...o&&{config:o}}),northEastArrowSouth:(f,p)=>({top:c(f,p),left:f.right-p.width/2,name:"arrow_s",...o&&{config:o}}),northEastArrowSouthMiddleEast:(f,p)=>({top:c(f,p),left:f.right-p.width*.75+n,name:"arrow_sme",...o&&{config:o}}),northEastArrowSouthEast:(f,p)=>({top:c(f,p),left:f.right-p.width+n,name:"arrow_se",...o&&{config:o}}),southWestArrowNorthWest:f=>({top:u(f),left:f.left-n,name:"arrow_nw",...o&&{config:o}}),southWestArrowNorthMiddleWest:(f,p)=>({top:u(f),left:f.left-p.width*.25-n,name:"arrow_nmw",...o&&{config:o}}),southWestArrowNorth:(f,p)=>({top:u(f),left:f.left-p.width/2,name:"arrow_n",...o&&{config:o}}),southWestArrowNorthMiddleEast:(f,p)=>({top:u(f),left:f.left-p.width*.75+n,name:"arrow_nme",...o&&{config:o}}),southWestArrowNorthEast:(f,p)=>({top:u(f),left:f.left-p.width+n,name:"arrow_ne",...o&&{config:o}}),southArrowNorthWest:f=>({top:u(f),left:f.left+f.width/2-n,name:"arrow_nw",...o&&{config:o}}),southArrowNorthMiddleWest:(f,p)=>({top:u(f),left:f.left+f.width/2-p.width*.25-n,name:"arrow_nmw",...o&&{config:o}}),southArrowNorth:(f,p)=>({top:u(f),left:f.left+f.width/2-p.width/2,name:"arrow_n",...o&&{config:o}}),southArrowNorthMiddleEast:(f,p)=>({top:u(f),left:f.left+f.width/2-p.width*.75+n,name:"arrow_nme",...o&&{config:o}}),southArrowNorthEast:(f,p)=>({top:u(f),left:f.left+f.width/2-p.width+n,name:"arrow_ne",...o&&{config:o}}),southEastArrowNorthWest:f=>({top:u(f),left:f.right-n,name:"arrow_nw",...o&&{config:o}}),southEastArrowNorthMiddleWest:(f,p)=>({top:u(f),left:f.right-p.width*.25-n,name:"arrow_nmw",...o&&{config:o}}),southEastArrowNorth:(f,p)=>({top:u(f),left:f.right-p.width/2,name:"arrow_n",...o&&{config:o}}),southEastArrowNorthMiddleEast:(f,p)=>({top:u(f),left:f.right-p.width*.75+n,name:"arrow_nme",...o&&{config:o}}),southEastArrowNorthEast:(f,p)=>({top:u(f),left:f.right-p.width+n,name:"arrow_ne",...o&&{config:o}}),westArrowEast:(f,p)=>({top:f.top+f.height/2-p.height/2,left:f.left-p.width-s,name:"arrow_e",...o&&{config:o}}),eastArrowWest:(f,p)=>({top:f.top+f.height/2-p.height/2,left:f.right+s,name:"arrow_w",...o&&{config:o}}),viewportStickyNorth:(f,p,g)=>{const v=new wt(Be.document.body).getIntersection(g.getVisible());if(!v)return null;const _=v.getVisible();return!f.getIntersection(_)||!(_.top-f.top-r<p.height&&_.bottom-f.bottom<p.height)?null:{top:_.top+r,left:f.left+f.width/2-p.width/2,name:"arrowless",config:{withArrow:!1,...o}}}};function c(f,p){return f.top-p.height-s}function u(f){return f.bottom+s}}};x(Bs,"arrowSideOffset",25),x(Bs,"arrowHeightOffset",10),x(Bs,"stickyVerticalOffset",20),x(Bs,"_getOptimalPosition",Ox),x(Bs,"defaultPositions",Bs.generatePositions());let gd=Bs;function t0(i){return gl(i)?i:pb(i)?i.commonAncestorContainer:typeof i=="function"?t0(i()):null}const VH=50,zH=350;class g5 extends zr(){constructor(e,n={}){super();x(this,"editor");x(this,"_balloonView",null);x(this,"_showBalloonThrottled",b0(()=>this._showBalloon(),50,{leading:!0}));x(this,"_lastFocusedEditableElement",null);x(this,"_balloonClass");this.editor=e,this._balloonClass=n.balloonClass,e.on("ready",()=>this._handleEditorReady())}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;this._isEnabled()&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(n,s,r)=>{this._updateLastFocusedEditableElement(),r?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(n,s,r)=>{this._updateLastFocusedEditableElement(),r&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_getNormalizedConfig(){return{side:this.editor.locale.contentLanguageDirection==="ltr"?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const e=this._getBalloonAttachOptions();e&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const e=this.editor,n=new gd,s=this._createBadgeContent();return n.content.add(s),this._balloonClass&&(n.class=this._balloonClass),e.ui.view.body.add(n),n}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const e=this._getNormalizedConfig(),n=e.side==="right"?qH(this._lastFocusedEditableElement,e):HH(this._lastFocusedEditableElement,e);return{target:this._lastFocusedEditableElement,positions:[n]}}_updateLastFocusedEditableElement(){const e=this.editor,n=e.ui.focusTracker.isFocused,s=e.ui.focusTracker.focusedElement;if(!n||!s){this._lastFocusedEditableElement=null;return}const r=Array.from(e.ui.getEditableElementsNames()).map(o=>e.ui.getEditableElement(o));r.includes(s)?this._lastFocusedEditableElement=s:this._lastFocusedEditableElement=r[0]}}function qH(i,t){return b5(i,t,(e,n)=>e.left+e.width-n.width-t.horizontalOffset)}function HH(i,t){return b5(i,t,e=>e.left+t.horizontalOffset)}function b5(i,t,e){return(n,s)=>{const r=new wt(i);if(r.width<zH||r.height<VH)return null;let o;t.position==="inside"?o=r.bottom-s.height:o=r.bottom-s.height/2,o-=t.verticalOffset;const c=e(r,s),f=n.clone().moveTo(c,o).getIntersection(s.clone().moveTo(c,o)).getVisible();return!f||f.getArea()<s.getArea()?null:{top:o,left:c,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}const UH="Powered by";class WH extends g5{constructor(t){super(t,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const t=this.editor;if(t.config.get("ui.poweredBy.forceVisible"))return!0;const n=t.config.get("licenseKey");if(n=="GPL")return!0;const s=Lx(n.split(".")[1]);return s?!s.whiteLabel:!0}_createBadgeContent(){return new GH(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const t=super._getNormalizedConfig(),e=this.editor.config.get("ui.poweredBy")||{},n=e.position||t.position,s=n==="inside"?5:t.verticalOffset;return{position:n,side:e.side||t.side,label:e.label===void 0?UH:e.label,verticalOffset:e.verticalOffset!==void 0?e.verticalOffset:s,horizontalOffset:e.horizontalOffset!==void 0?e.horizontalOffset:t.horizontalOffset,forceVisible:!!e.forceVisible}}}class GH extends nt{constructor(t,e){super(t);const n=new da,s=this.bindTemplate;n.set({content:Zq,isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...e?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[e]}]:[],n],on:{dragstart:s.to(r=>r.preventDefault())}}]})}}class Jx extends sn{constructor(e){super(e);x(this,"toggleSwitchView");this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new nt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class KH extends QH(Id){}function QH(i){class t extends i{constructor(...s){super(...s);x(this,"_fileInputView");this._fileInputView=new YH(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}return t}class YH extends nt{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{var n,s;(s=(n=this.element)==null?void 0:n.files)!=null&&s.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class zS extends nt{constructor(e,n){super(e);x(this,"fieldView");x(this,"labelView");x(this,"statusView");x(this,"fieldWrapperChildren");const s=`ck-labeled-field-view-${Cs()}`,r=`ck-labeled-field-view-status-${Cs()}`;this.fieldView=n(this,s,r),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(r),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(c,u)=>c||u);const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",o.to("class"),o.if("isEnabled","ck-disabled",c=>!c),o.if("isEmpty","ck-labeled-field-view_empty"),o.if("isFocused","ck-labeled-field-view_focused"),o.if("placeholder","ck-labeled-field-view_placeholder"),o.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const n=new yb(this.locale);return n.for=e,n.bind("text").to(this,"label"),n}_createStatusView(e){const n=new nt(this.locale),s=this.bindTemplate;return n.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",r=>!r)],id:e,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),n}focus(e){this.fieldView.focus(e)}}class $H extends nt{constructor(e){super(e);x(this,"focusTracker");this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Ss,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const n=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",n.if("isFocused","ck-input_focused"),n.if("isEmpty","ck-input-text_empty"),n.if("hasError","ck-error")],id:n.to("id"),placeholder:n.to("placeholder"),tabindex:n.to("tabIndex"),readonly:n.to("isReadOnly"),"aria-invalid":n.if("hasError",!0),"aria-describedby":n.to("ariaDescribedById"),"aria-label":n.to("ariaLabel")},on:{input:n.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:n.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,n,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=XH(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function XH(i){return!i.value}class ZH extends $H{constructor(t){super(t),this.set("inputMode","text");const e=this.bindTemplate;this.extendTemplate({attributes:{inputmode:e.to("inputMode")}})}}class JH extends ZH{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class eU extends nt{constructor(e){super(e);x(this,"children");const n=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",n.to("position",s=>`ck-dropdown__panel_${s}`),n.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:n.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():zn("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}const $u=class $u extends nt{constructor(e,n,s){super(e);x(this,"buttonView");x(this,"panelView");x(this,"focusTracker");x(this,"keystrokes");x(this,"listView");x(this,"toolbarView");x(this,"menuView");const r=this.bindTemplate;this.buttonView=n,this.panelView=s,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new qr,this.focusTracker=new Ss,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",o=>!o)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[n,s]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":r.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(n,s,r)=>{if(r)if(this.panelPosition==="auto"){const o=$u._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=o?o.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(n,s)=>{this.isOpen&&(this.isOpen=!1,s())};this.keystrokes.set("arrowdown",(n,s)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,s())}),this.keystrokes.set("arrowright",(n,s)=>{this.isOpen&&s()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:n,southEast:s,southWest:r,northEast:o,northWest:c,southMiddleEast:u,southMiddleWest:f,northMiddleEast:p,northMiddleWest:g}=$u.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[s,r,u,f,e,o,c,p,g,n]:[r,s,f,u,e,c,o,g,p,n]}get _defaultPanelPositionName(){return this.locale.uiLanguageDirection==="rtl"?"sw":"se"}};x($u,"defaultPanelPositions",{south:(e,n)=>({top:e.bottom,left:e.left-(n.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,n)=>({top:e.bottom,left:e.left-n.width+e.width,name:"sw"}),southMiddleEast:(e,n)=>({top:e.bottom,left:e.left-(n.width-e.width)/4,name:"sme"}),southMiddleWest:(e,n)=>({top:e.bottom,left:e.left-(n.width-e.width)*3/4,name:"smw"}),north:(e,n)=>({top:e.top-n.height,left:e.left-(n.width-e.width)/2,name:"n"}),northEast:(e,n)=>({top:e.top-n.height,left:e.left,name:"ne"}),northWest:(e,n)=>({top:e.top-n.height,left:e.left-n.width+e.width,name:"nw"}),northMiddleEast:(e,n)=>({top:e.top-n.height,left:e.left-(n.width-e.width)/4,name:"nme"}),northMiddleWest:(e,n)=>({top:e.top-n.height,left:e.left-(n.width-e.width)*3/4,name:"nmw"})}),x($u,"_getOptimalPosition",Ox);let Jw=$u;class tU extends sn{constructor(e){super(e);x(this,"arrowView");this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",n=>String(n))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new da;return e.content=Qx,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Dr extends nt{constructor(e){super(e);x(this,"children");const n=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",n.if("isVisible","ck-hidden",s=>!s)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class e_ extends nt{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class n0 extends nt{constructor(e,n=new yb){super(e);x(this,"labelView");x(this,"items");x(this,"children");const s=this.bindTemplate,r=new Pd(e);this.set({label:"",isVisible:!0}),this.labelView=n,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,r]),r.set({role:"group",ariaLabelledBy:n.id}),r.focusTracker.destroy(),r.keystrokes.destroy(),this.items=r.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",s.if("isVisible","ck-hidden",o=>!o)]},children:this.children})}focus(){if(this.items){const e=this.items.find(n=>!(n instanceof e_));e&&e.focus()}}}class Pd extends nt{constructor(e){super(e);x(this,"focusables");x(this,"items");x(this,"focusTracker");x(this,"keystrokes");x(this,"_focusCycler");x(this,"_listItemGroupToChangeListeners",new WeakMap);const n=this.bindTemplate;this.focusables=new _o,this.items=this.createCollection(),this.focusTracker=new Ss,this.keystrokes=new qr,this._focusCycler=new kl({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:n.to("role"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof n0?this._registerFocusableItemsGroup(e):e instanceof Dr&&this._registerFocusableListItem(e);this.items.on("change",(e,n)=>{for(const s of n.removed)s instanceof n0?this._deregisterFocusableItemsGroup(s):s instanceof Dr&&this._deregisterFocusableListItem(s);for(const s of Array.from(n.added).reverse())s instanceof n0?this._registerFocusableItemsGroup(s,n.index):this._registerFocusableListItem(s,n.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,n){this.focusTracker.add(e.element),this.focusables.add(e,n)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(n,s)=>{for(const r of s.removed)this._deregisterFocusableListItem(r);for(const r of Array.from(s.added).reverse())this._registerFocusableListItem(r,this.items.getIndex(e)+s.index)}}_registerFocusableItemsGroup(e,n){Array.from(e.items).forEach((r,o)=>{const c=typeof n<"u"?n+o:void 0;this._registerFocusableListItem(r,c)});const s=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,s),e.items.on("change",s)}_deregisterFocusableItemsGroup(e){for(const n of e.items)this._deregisterFocusableListItem(n);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class v5 extends nt{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class nU extends nt{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function iU(i){return i.bindTemplate.to(t=>{t.target===i.element&&t.preventDefault()})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function y5(i){if(Array.isArray(i))return{items:i,removeItems:[]};const t={items:[],removeItems:[]};return i?{...t,...i}:t}const sU={alignLeft:Fq,bold:a5,importExport:Uq,paragraph:Qq,plus:Xq,text:iH,threeVerticalDots:Yx,pilcrow:$q,dragIndicator:Hq};class t_ extends nt{constructor(e,n){super(e);x(this,"options");x(this,"items");x(this,"focusTracker");x(this,"keystrokes");x(this,"itemsView");x(this,"children");x(this,"focusables");x(this,"_focusCycler");x(this,"_behavior");const s=this.bindTemplate,r=this.t;this.options=n||{},this.set("ariaLabel",r("Editor toolbar")),this.set("maxWidth","auto"),this.set("role","toolbar"),this.set("isGrouping",!!this.options.shouldGroupWhenFull),this.items=this.createCollection(),this.focusTracker=new Ss,this.keystrokes=new qr,this.set("class",void 0),this.set("isCompact",!1),this.set("isVertical",!1),this.itemsView=new rU(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const o=e.uiLanguageDirection==="rtl";this._focusCycler=new kl({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[o?"arrowright":"arrowleft","arrowup"],focusNext:[o?"arrowleft":"arrowright","arrowdown"]}});const c=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact"),s.if("isGrouping","ck-toolbar_grouping"),s.if("isVertical","ck-toolbar_vertical")];this.options.shouldGroupWhenFull&&this.options.isFloating&&c.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:c,role:s.to("role"),"aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:iU(this)}}),this._behavior=this.options.shouldGroupWhenFull?new HS(this):new qS(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e);this.items.on("add",(e,n)=>{this.focusTracker.add(n)}),this.items.on("remove",(e,n)=>{this.focusTracker.remove(n)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,n,s){this.items.addMany(this._buildItemsFromConfig(e,n,s))}switchBehavior(e){this._behavior.type!==e&&(this._behavior.destroy(),this.itemsView.children.clear(),this.focusables.clear(),e==="dynamic"?(this._behavior=new HS(this),this._behavior.render(this),this._behavior.refreshItems()):(this._behavior=new qS(this),this._behavior.render(this)))}_buildItemsFromConfig(e,n,s){const r=y5(e),o=s||r.removeItems;return this._cleanItemsConfiguration(r.items,n,o).map(u=>cr(u)?this._createNestedToolbarDropdown(u,n,o):u==="|"?new v5:u==="-"?new nU:n.create(u)).filter(u=>!!u)}_cleanItemsConfiguration(e,n,s){const r=e.filter((o,c,u)=>o==="|"?!0:s.indexOf(o)!==-1?!1:o==="-"?this.options.shouldGroupWhenFull?(zn("toolbarview-line-break-ignored-when-grouping-items",u),!1):!0:!cr(o)&&!n.has(o)?(zn("toolbarview-item-unavailable",{item:o}),!1):!0);return this._cleanSeparatorsAndLineBreaks(r)}_cleanSeparatorsAndLineBreaks(e){const n=c=>c!=="-"&&c!=="|",s=e.length,r=e.findIndex(n);if(r===-1)return[];const o=s-e.slice().reverse().findIndex(n);return e.slice(r,o).filter((c,u,f)=>n(c)?!0:!(u>0&&f[u-1]===c))}_createNestedToolbarDropdown(e,n,s){let{label:r,icon:o,items:c,tooltip:u=!0,withText:f=!1}=e;if(c=this._cleanItemsConfiguration(c,n,s),!c.length)return null;const p=this.locale,g=n_(p);return r||zn("toolbarview-nested-toolbar-dropdown-missing-label",e),g.class="ck-toolbar__nested-toolbar-dropdown",g.buttonView.set({label:r,tooltip:u,withText:!!f}),o!==!1?g.buttonView.icon=sU[o]||o||Yx:g.buttonView.withText=!0,w5(g,()=>g.toolbarView._buildItemsFromConfig(c,n,s)),g}}class rU extends nt{constructor(e){super(e);x(this,"children");this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class qS{constructor(t){x(this,"type","static");t.isGrouping=!1,t.itemsView.children.bindTo(t.items).using(e=>e),t.focusables.bindTo(t.items).using(e=>Lm(e)?e:null)}render(){}destroy(){}}class HS{constructor(t){x(this,"type","dynamic");x(this,"view");x(this,"viewChildren");x(this,"viewFocusables");x(this,"viewItemsView");x(this,"viewFocusTracker");x(this,"viewLocale");x(this,"ungroupedItems");x(this,"groupedItems");x(this,"groupedItemsDropdown");x(this,"resizeObserver",null);x(this,"cachedPadding",null);x(this,"shouldUpdateGroupingOnNextResize",!1);x(this,"viewElement");this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.view.isGrouping=!0,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),t.children.on("change",this._updateFocusCyclableItems.bind(this)),t.items.on("change",(e,n)=>{const s=n.index,r=Array.from(n.added);for(const o of n.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=s;o<s+r.length;o++){const c=r[o-s];o>this.ungroupedItems.length?this.groupedItems.add(c,o-this.ungroupedItems.length):this.ungroupedItems.add(c,o)}this._updateGrouping()})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.viewChildren.length>1&&(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last)),this.resizeObserver.destroy()}refreshItems(){const t=this.view;if(t.items.length){for(let e=0;e<t.items.length;e++){const n=[...t.items][e];this.ungroupedItems.add(n,e)}this._updateGrouping()}}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ca(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new wt(t.lastChild),s=new wt(t);if(!this.cachedPadding){const r=Be.window.getComputedStyle(t),o=e==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(r[o])}return e==="ltr"?n.right>s.right-this.cachedPadding:n.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new Zh(this.viewElement,e=>{(!t||t!==e.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new v5),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=n_(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",w5(n,this.groupedItems),n.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:Yx}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{Lm(t)&&this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class oU extends nt{constructor(e,n){super(e);x(this,"children");x(this,"actionView");x(this,"arrowView");x(this,"keystrokes");x(this,"focusTracker");const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(n),this.arrowView=this._createArrowView(),this.keystrokes=new qr,this.focusTracker=new Ss,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",r=>!r),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,n)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),n())}),this.keystrokes.set("arrowleft",(e,n)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),n())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const n=e||new sn;return e||n.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),n.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),n.delegate("execute").to(this),n}_createArrowView(){const e=new sn,n=e.bindTemplate;return e.icon=Qx,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":n.to("isOn"),"aria-haspopup":!0,"aria-expanded":n.to("isOn",s=>String(s))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function n_(i,t=tU){const e=typeof t=="function"?new t(i):t,n=new eU(i),s=new Jw(i,e,n);return e.bind("isEnabled").to(s),e instanceof oU?e.arrowView.bind("isOn").to(s,"isOpen"):e.bind("isOn").to(s,"isOpen"),lU(s),s}function w5(i,t,e={}){i.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),i.isOpen?US(i,t,e):i.once("change:isOpen",()=>US(i,t,e),{priority:"highest"}),e.enableActiveItemFocusOnDropdownOpen&&x5(i,()=>i.toolbarView.items.find(n=>n.isOn))}function US(i,t,e){const n=i.locale,s=n.t,r=i.toolbarView=new t_(n),o=typeof t=="function"?t():t;r.ariaLabel=e.ariaLabel||s("Dropdown toolbar"),e.maxWidth&&(r.maxWidth=e.maxWidth),e.class&&(r.class=e.class),e.isCompact&&(r.isCompact=e.isCompact),e.isVertical&&(r.isVertical=!0),o instanceof _o?r.items.bindTo(o).using(c=>c):r.items.addMany(o),i.panelView.children.add(r),i.focusTracker.add(r),r.items.delegate("execute").to(i)}function aU(i,t,e={}){i.isOpen?WS(i,t,e):i.once("change:isOpen",()=>WS(i,t,e),{priority:"highest"}),x5(i,()=>i.listView.items.find(n=>n instanceof Dr?n.children.first.isOn:!1))}function WS(i,t,e){const n=i.locale,s=i.listView=new Pd(n),r=typeof t=="function"?t():t;s.ariaLabel=e.ariaLabel,s.role=e.role,E5(i,s.items,r,n),i.panelView.children.add(s),s.items.delegate("execute").to(i)}function x5(i,t){i.on("change:isOpen",()=>{if(!i.isOpen)return;const e=t();e&&(typeof e.focus=="function"?e.focus():zn("ui-dropdown-focus-child-on-open-child-missing-focus",{view:e}))},{priority:dl.low-10})}function lU(i){cU(i),uU(i),dU(i),fU(i),hU(i),mU(i)}function cU(i){Zx({emitter:i,activator:()=>i.isRendered&&i.isOpen,callback:()=>{i.isOpen=!1},contextElements:()=>[i.element,..._5(i.focusTracker).filter(t=>!i.element.contains(t))]})}function _5(i){return[...i.elements,...i.externalViews.flatMap(t=>_5(t.focusTracker))]}function uU(i){i.on("execute",t=>{t.source instanceof Jx||(i.isOpen=!1)})}function dU(i){i.focusTracker.on("change:isFocused",(t,e,n)=>{n||!i.isOpen||(i.isOpen=!1)})}function fU(i){i.keystrokes.set("arrowdown",(t,e)=>{i.isOpen&&(i.panelView.focus(),e())}),i.keystrokes.set("arrowup",(t,e)=>{i.isOpen&&(i.panelView.focusLast(),e())})}function hU(i){i.on("change:isOpen",(t,e,n)=>{if(n)return;i.focusTracker.elements.some(r=>r.contains(Be.document.activeElement))&&i.buttonView.focus()})}function mU(i){i.on("change:isOpen",(t,e,n)=>{n&&i.panelView.focus()},{priority:"low"})}function E5(i,t,e,n){pU(t),t.bindTo(e).using(s=>{if(s.type==="separator")return new e_(n);if(s.type==="group"){const r=new n0(n);return r.set({label:s.label}),E5(i,r.items,s.items,n),r.items.delegate("execute").to(i),r}else if(s.type==="button"||s.type==="switchbutton"){const r=s.model.role==="menuitemcheckbox"||s.model.role==="menuitemradio",o=new Dr(n);let c;return s.type==="button"?(c=new Id(n,s.labelView),c.set({isToggleable:r})):c=new Jx(n),c.bind(...Object.keys(s.model)).to(s.model),c.delegate("execute").to(o),o.children.add(c),o}return null})}function pU(i){let t=0;const e=r=>!(r instanceof Dr)||!(r.children.first instanceof Id)?null:r.children.first,n=r=>{const o=e(r);return!o||!o.isToggleable?null:o},s=r=>{for(const o of i){const c=e(o);c&&(c.hasCheckSpace=r)}};i.on("change",(r,o)=>{const c=t>0;for(const f of o.removed)n(f)&&t--;for(const f of o.added){const p=e(f);p&&(p.isToggleable&&t++,p.hasCheckSpace=t>0)}const u=t>0;c!==u&&s(u)})}const GS=(i,t,e)=>{const n=new JH(i.locale);return n.set({id:t,ariaDescribedById:e}),n.bind("isReadOnly").to(i,"isEnabled",s=>!s),n.bind("hasError").to(i,"errorText",s=>!!s),n.on("input",()=>{i.errorText=null}),i.bind("isEmpty","isFocused","placeholder").to(n),n};class gU{constructor(t){x(this,"editor");x(this,"_components",new Map);this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(Qy(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new q("componentfactory-item-missing",this,{name:t});return this._components.get(Qy(t)).callback(this.editor.locale)}has(t){return this._components.has(Qy(t))}}function Qy(i){return String(i).toLowerCase()}const KS="ck-tooltip",vi=class vi extends zr(){constructor(e){super();x(this,"tooltipTextView");x(this,"balloonPanelView");x(this,"_currentElementWithTooltip",null);x(this,"_currentTooltipPosition",null);x(this,"_mutationObserver",null);x(this,"_pinTooltipDebounced");x(this,"_unpinTooltipDebounced");x(this,"_watchdogExcluded");if(vi._editors.add(e),vi._instance)return vi._instance;vi._instance=this,this.tooltipTextView=new nt(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new gd(e.locale),this.balloonPanelView.class=KS,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=bU(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Nc(this._pinTooltip,600),this._unpinTooltipDebounced=Nc(this._unpinTooltip,400),this.listenTo(Be.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(Be.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Be.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Be.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Be.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Be.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const n=e.ui.view&&e.ui.view.body;vi._editors.delete(e),this.stopListening(e.ui),n&&n.has(this.balloonPanelView)&&n.remove(this.balloonPanelView),vi._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),vi._instance=null)}static getPositioningFunctions(e){const n=vi.defaultBalloonPositions;return{s:[n.southArrowNorth,n.southArrowNorthEast,n.southArrowNorthWest],n:[n.northArrowSouth],e:[n.eastArrowWest],w:[n.westArrowEast],sw:[n.southArrowNorthEast],se:[n.southArrowNorthWest]}[e]}_onKeyDown(e,n){n.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),n.stopPropagation())}_onEnterOrFocus(e,{target:n}){const s=Yy(n);if(!s){e.name==="focus"&&this._unpinTooltip();return}if(s===this._currentElementWithTooltip){this._unpinTooltipDebounced.cancel();return}this._unpinTooltip(),e.name==="focus"&&!s.matches(":hover")||s.matches("[data-cke-tooltip-instant]")?this._pinTooltip(s,$y(s)):this._pinTooltipDebounced(s,$y(s))}_onLeaveOrBlur(e,{target:n,relatedTarget:s}){if(e.name==="mouseleave"){if(!gl(n))return;const r=this.balloonPanelView.element,o=r&&(r===s||r.contains(s)),c=!o&&n===r;if(o){this._unpinTooltipDebounced.cancel();return}if(!c&&this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const u=Yy(n),f=Yy(s);(c||u&&u!==f)&&(this._pinTooltipDebounced.cancel(),this._currentElementWithTooltip&&this._currentElementWithTooltip.matches("[data-cke-tooltip-instant]")||u&&u.matches("[data-cke-tooltip-instant]")?this._unpinTooltip():this._unpinTooltipDebounced())}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._pinTooltipDebounced.cancel(),this._unpinTooltipDebounced()}}_onScroll(e,{target:n}){this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:n,position:s,cssClass:r}){this._unpinTooltip();const o=Lr(vi._editors.values()).ui.view.body;o.has(this.balloonPanelView)||o.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.class=[KS,r].filter(c=>c).join(" "),this.balloonPanelView.pin({target:e,positions:vi.getPositioningFunctions(s)}),this._mutationObserver.attach(e);for(const c of vi._editors)this.listenTo(c.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=s}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of vi._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=$y(this._currentElementWithTooltip);if(!ca(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:vi.getPositioningFunctions(e.position)})}};x(vi,"defaultBalloonPositions",gd.generatePositions({heightOffset:5,sideOffset:13})),x(vi,"_editors",new Set),x(vi,"_instance",null);let e1=vi;function Yy(i){return gl(i)?i.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function $y(i){return{text:i.dataset.ckeTooltipText,position:i.dataset.ckeTooltipPosition||"s",cssClass:i.dataset.ckeTooltipClass||""}}function bU(i){const t=new MutationObserver(()=>{i()});return{attach(e){t.observe(e,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}class vU extends g5{constructor(e){super(e,{balloonClass:"ck-evaluation-badge-balloon"});x(this,"licenseTypeMessage",{evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"})}_isEnabled(){const n=this.editor.config.get("licenseKey"),s=QS(n);return!!(s&&this.licenseTypeMessage[s])}_createBadgeContent(){const e=this.editor.config.get("licenseKey"),n=QS(e);return new yU(this.editor.locale,this.licenseTypeMessage[n])}_getNormalizedConfig(){const e=super._getNormalizedConfig(),n=this.editor.config.get("ui.poweredBy")||{},s=n.position||e.position,r=n.side||e.side;return{position:s,side:r==="left"?"right":"left",verticalOffset:e.verticalOffset,horizontalOffset:e.horizontalOffset}}}class yU extends nt{constructor(t,e){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[e]}]})}}function QS(i){if(i=="GPL")return"GPL";const t=Lx(i.split(".")[1]);return t?t.licenseType||"production":null}class i_ extends Dr{constructor(t,e){super(t);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(e)}}const Ag=5,Iu={toggleMenusAndFocusItemsOnHover(i){i.on("menu:mouseenter",t=>{if(!(!i.isFocusBorderEnabled&&!i.isOpen)){if(i.isOpen)for(const e of i.menus){const n=t.path[0],s=n instanceof i_&&n.children.first===e;e.isOpen=(t.path.includes(e)||s)&&e.isEnabled}t.source.focus()}})},focusCycleMenusOnArrows(i){const t=i.locale.uiLanguageDirection==="rtl";i.on("menu:arrowright",n=>{e(n.source,t?-1:1)}),i.on("menu:arrowleft",n=>{e(n.source,t?1:-1)});function e(n,s){const r=i.children.getIndex(n),o=n.isOpen,c=i.children.length,u=i.children.get((r+c+s)%c);n.isOpen=!1,o&&(u.isOpen=!0),u.buttonView.focus()}},closeMenusWhenTheBarCloses(i){i.on("change:isOpen",()=>{i.isOpen||i.menus.forEach(t=>{t.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(i){i.on("menu:change:isOpen",(t,e,n)=>{n&&i.menus.filter(s=>t.source.parentMenuView===s.parentMenuView&&t.source!==s&&s.isOpen).forEach(s=>{s.isOpen=!1})})},closeOnClickOutside(i){Zx({emitter:i,activator:()=>i.isOpen,callback:()=>i.close(),contextElements:()=>i.children.map(t=>t.element)})},enableFocusHighlightOnInteraction(i){let t=!1;i.on("change:isOpen",(e,n,s)=>{s||(t||(i.isFocusBorderEnabled=!1),t=!1)}),i.listenTo(i.element,"keydown",()=>{t=!0},{useCapture:!0}),i.listenTo(i.element,"keyup",()=>{t=!1},{useCapture:!0}),i.listenTo(i.element,"focus",()=>{t&&(i.isFocusBorderEnabled=!0)},{useCapture:!0})}},ol={openAndFocusPanelOnArrowDownKey(i){i.keystrokes.set("arrowdown",(t,e)=>{i.isEnabled&&i.focusTracker.focusedElement===i.buttonView.element&&(i.isOpen||(i.isOpen=!0),i.panelView.focus(),e())})},openOnArrowRightKey(i){const t=i.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";i.keystrokes.set(t,(e,n)=>{i.focusTracker.focusedElement!==i.buttonView.element||!i.isEnabled||(i.isOpen||(i.isOpen=!0),i.panelView.focus(),n())})},openOnButtonClick(i){i.buttonView.on("execute",()=>{i.isOpen=!0})},toggleOnButtonClick(i){i.buttonView.on("execute",()=>{i.isOpen=!i.isOpen})},openAndFocusOnEnterKeyPress(i){i.keystrokes.set("enter",(t,e)=>{i.focusTracker.focusedElement===i.buttonView.element&&(i.isOpen=!0,i.panelView.focus(),e())})},closeOnArrowLeftKey(i){const t=i.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";i.keystrokes.set(t,(e,n)=>{i.isOpen&&(i.isOpen=!1,i.focus(),n())})},closeOnEscKey(i){i.keystrokes.set("esc",(t,e)=>{i.isOpen&&(i.isOpen=!1,i.focus(),e())})},closeOnParentClose(i){i.parentMenuView.on("change:isOpen",(t,e,n)=>{!n&&t.source===i.parentMenuView&&(i.isOpen=!1)})}},wU={southEast:i=>({top:i.bottom,left:i.left,name:"se"}),southWest:(i,t)=>({top:i.bottom,left:i.left-t.width+i.width,name:"sw"}),northEast:(i,t)=>({top:i.top-t.height,left:i.left,name:"ne"}),northWest:(i,t)=>({top:i.top-t.height,left:i.left-t.width+i.width,name:"nw"}),eastSouth:i=>({top:i.top,left:i.right-Ag,name:"es"}),eastNorth:(i,t)=>({top:i.top-t.height,left:i.right-Ag,name:"en"}),westSouth:(i,t)=>({top:i.top,left:i.left-t.width+Ag,name:"ws"}),westNorth:(i,t)=>({top:i.top-t.height,left:i.left-t.width+Ag,name:"wn"})},xU=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditingEnhanced",items:["menuBar:sourceEditingEnhanced"]},{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"fullscreen",items:["menuBar:fullscreen"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable","menuBar:insertTableLayout"]},{groupId:"insertInline",items:["menuBar:link","menuBar:insertFootnote","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField","menuBar:emoji"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException:inline","menuBar:restrictedEditingException:block"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:lineHeight","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands","menuBar:toggleAi","menuBar:aiQuickActions"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function _U(i){let t;return!("items"in i)||!i.items?t={items:ks(xU),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...i}:t={items:i.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...i},t}function EU({normalizedConfig:i,locale:t,componentFactory:e,extraItems:n}){const s=ks(i);return YS(i,s,n),kU(i,s),YS(i,s,s.addItems),CU(i,s,e),k5(i,s),SU(s,t),s}function kU(i,t){const e=t.removeItems,n=[];t.items=t.items.filter(({menuId:s})=>e.includes(s)?(n.push(s),!1):!0),Bd(t.items,s=>{s.groups=s.groups.filter(({groupId:r})=>e.includes(r)?(n.push(r),!1):!0);for(const r of s.groups)r.items=r.items.filter(o=>{const c=C5(o);return e.includes(c)?(n.push(c),!1):!0})});for(const s of e)n.includes(s)||zn("menu-bar-item-could-not-be-removed",{menuBarConfig:i,itemName:s})}function YS(i,t,e){const n=[];if(e.length!=0){for(const s of e){const r=NU(s.position),o=RU(s.position);if(AU(s))if(!o)r==="start"?(t.items.unshift(s.menu),n.push(s)):r==="end"&&(t.items.push(s.menu),n.push(s));else{const c=t.items.findIndex(u=>u.menuId===o);c!=-1?r==="before"?(t.items.splice(c,0,s.menu),n.push(s)):r==="after"&&(t.items.splice(c+1,0,s.menu),n.push(s)):$S(t,s.menu,o,r)&&n.push(s)}else TU(s)?Bd(t.items,c=>{if(c.menuId===o)r==="start"?(c.groups.unshift(s.group),n.push(s)):r==="end"&&(c.groups.push(s.group),n.push(s));else{const u=c.groups.findIndex(f=>f.groupId===o);u!==-1&&(r==="before"?(c.groups.splice(u,0,s.group),n.push(s)):r==="after"&&(c.groups.splice(u+1,0,s.group),n.push(s)))}}):$S(t,s.item,o,r)&&n.push(s)}for(const s of e)n.includes(s)||zn("menu-bar-item-could-not-be-added",{menuBarConfig:i,addedItemConfig:s})}}function $S(i,t,e,n){let s=!1;return Bd(i.items,r=>{for(const{groupId:o,items:c}of r.groups){if(s)return;if(o===e)n==="start"?(c.unshift(t),s=!0):n==="end"&&(c.push(t),s=!0);else{const u=c.findIndex(f=>C5(f)===e);u!==-1&&(n==="before"?(c.splice(u,0,t),s=!0):n==="after"&&(c.splice(u+1,0,t),s=!0))}}}),s}function CU(i,t,e){Bd(t.items,n=>{for(const s of n.groups)s.items=s.items.filter(r=>{const o=typeof r=="string"&&!e.has(r);return o&&!t.isUsingDefaultConfig&&zn("menu-bar-item-unavailable",{menuBarConfig:i,parentMenuConfig:ks(n),componentName:r}),!o})})}function k5(i,t){const e=t.isUsingDefaultConfig;let n=!1;if(t.items=t.items.filter(s=>s.groups.length?!0:(Xy(i,s,e),!1)),!t.items.length){Xy(i,i,e);return}Bd(t.items,s=>{s.groups=s.groups.filter(r=>r.items.length?!0:(n=!0,!1));for(const r of s.groups)r.items=r.items.filter(o=>S5(o)&&!o.groups.length?(Xy(i,o,e),n=!0,!1):!0)}),n&&k5(i,t)}function Xy(i,t,e){e||zn("menu-bar-menu-empty",{menuBarConfig:i,emptyMenuConfig:t})}function SU(i,t){const e=t.t,n={File:e({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:e({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:e({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:e({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:e({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:e({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:e({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:e({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:e({string:"Font",id:"MENU_BAR_MENU_FONT"})};Bd(i.items,s=>{s.label in n&&(s.label=n[s.label])})}function Bd(i,t){if(Array.isArray(i))for(const n of i)e(n);function e(n){t(n);for(const s of n.groups)for(const r of s.items)S5(r)&&e(r)}}function AU(i){return typeof i=="object"&&"menu"in i}function TU(i){return typeof i=="object"&&"group"in i}function NU(i){return i.startsWith("start")?"start":i.startsWith("end")?"end":i.startsWith("after")?"after":"before"}function RU(i){const t=i.match(/^[^:]+:(.+)/);return t?t[1]:null}function C5(i){return typeof i=="string"?i:i.menuId}function S5(i){return typeof i=="object"&&"menuId"in i}class OU extends Fn(){constructor(e){super();x(this,"editor");x(this,"componentFactory");x(this,"focusTracker");x(this,"tooltipManager");x(this,"poweredBy");x(this,"evaluationBadge");x(this,"ariaLiveAnnouncer");x(this,"isReady",!1);x(this,"_editableElementsMap",new Map);x(this,"_focusableToolbarDefinitions",[]);x(this,"_extraMenuBarElements",[]);x(this,"_lastFocusedForeignElement",null);x(this,"_domEmitter");const n=e.editing.view;this.editor=e,this.componentFactory=new gU(e),this.focusTracker=new Ss,this.tooltipManager=new e1(e),this.poweredBy=new WH(e),this.evaluationBadge=new vU(e),this.ariaLiveAnnouncer=new SH(e),this._initViewportOffset(this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(n.document,"layoutChanged",this.update.bind(this)),this.listenTo(n,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking(),this._initVisualViewportSupport()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this._domEmitter&&this._domEmitter.stopListening()}setEditableElement(e,n){this._editableElementsMap.set(e,n),n.ckeditorInstance||(n.ckeditorInstance=this.editor),this.focusTracker.add(n);const s=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(n)};this.isReady?s():this.once("ready",s)}removeEditableElement(e){const n=this._editableElementsMap.get(e);n&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(n),this.focusTracker.remove(n),n.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,n={}){e.isRendered?(this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:n})}extendMenuBar(e){this._extraMenuBarElements.push(e)}initMenuBar(e){const n=e.element;this.focusTracker.add(n),this.editor.keystrokes.listenTo(n);const s=_U(this.editor.config.get("menuBar")||{});e.fillFromConfig(s,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(r,o)=>{n.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),o())}),this.editor.keystrokes.set("Alt+F9",(r,o)=>{n.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),o())})}_readViewportOffsetFromConfig(){const e=this.editor,n=e.config.get("ui.viewportOffset");if(n)return n;const s=e.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const e=this.editor;let n;e.keystrokes.set("Alt+F10",(s,r)=>{this._saveLastFocusedForeignElement();const o=this._getCurrentFocusedToolbarDefinition();(!o||!n)&&(n=this._getFocusableCandidateToolbarDefinitions());for(let c=0;c<n.length;c++){const u=n.shift();if(n.push(u),u!==o&&this._focusFocusableCandidateToolbar(u)){o&&o.options.afterBlur&&o.options.afterBlur();break}}r()}),e.keystrokes.set("Esc",(s,r)=>{const o=this._getCurrentFocusedToolbarDefinition();o&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),o.options.afterBlur&&o.options.afterBlur(),r())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const n of this._focusableToolbarDefinitions){const{toolbarView:s,options:r}=n;(ca(s.element)||r.beforeFocus)&&e.push(n)}return e.sort((n,s)=>XS(n)-XS(s)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:n,options:{beforeFocus:s}}=e;return s&&s(),ca(n.element)?(n.focus(),!0):!1}_handleScrollToTheSelection(e,n){const s={top:0,bottom:0,left:0,right:0,...this.viewportOffset};n.viewportOffset.top+=s.top,n.viewportOffset.bottom+=s.bottom,n.viewportOffset.left+=s.left,n.viewportOffset.right+=s.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const n of e)this.focusTracker.add(n.element);e.on("add",(n,s)=>{this.focusTracker.add(s.element)}),e.on("remove",(n,s)=>{this.focusTracker.remove(s.element)})}_initViewportOffset(e){this.on("set:viewportOffset",(n,s,r)=>{const o=this._getVisualViewportTopOffset(r);r.visualTop!==o&&(n.return={...r,visualTop:o})}),this.set("viewportOffset",e)}_initVisualViewportSupport(){if(!Be.window.visualViewport)return;const e=()=>{const n=this._getVisualViewportTopOffset(this.viewportOffset);this.viewportOffset.visualTop!==n&&(this.viewportOffset={...this.viewportOffset,visualTop:n})};this._domEmitter=new(zr()),this._domEmitter.listenTo(Be.window.visualViewport,"scroll",e),this._domEmitter.listenTo(Be.window.visualViewport,"resize",e)}_getVisualViewportTopOffset(e){const n=Zg().top,s=e.top||0;return n>s?0:s-n}}function XS(i){const{toolbarView:t,options:e}=i;let n=10;return ca(t.element)&&n--,e.isContextual&&(n-=2),n}class IU extends nt{constructor(e){super(e);x(this,"body");x(this,"menuBarView");x(this,"toolbar");this.body=new Zw(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class PU extends IU{constructor(e){super(e);x(this,"top");x(this,"main");x(this,"_voiceLabelView");this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,n=new yb;return n.text=e("Rich Text Editor"),n.extendTemplate({attributes:{class:"ck-voice-label"}}),n}}class BU extends nt{constructor(e,n,s){super(e);x(this,"name",null);x(this,"_editingView");x(this,"_editableElement");x(this,"_hasExternalElement");this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=n}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?s(this):n(this);function n(r){e.change(o=>{const c=e.document.getRoot(r.name);o.addClass(r.isFocused?"ck-focused":"ck-blurred",c),o.removeClass(r.isFocused?"ck-blurred":"ck-focused",c)})}function s(r){e.once("change:isRenderingInProgress",(o,c,u)=>{u?s(r):n(r)})}}}class LU extends BU{constructor(e,n,s,r={}){super(e,n,s);x(this,"_options");this._options=r,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(n=>{const s=e.document.getRoot(this.name);n.setAttribute("aria-label",this.getEditableAriaLabel(),s)})}getEditableAriaLabel(){const e=this.locale.t,n=this._options.label,s=this._editableElement,r=this.name;if(typeof n=="string")return n;if(typeof n=="object")return n[r];if(typeof n=="function")return n(this);if(s){const o=s.getAttribute("aria-label");if(o)return o}return e("Rich Text Editor. Editing area: %0",r)}}class ZS extends nt{constructor(e,n={}){super(e);x(this,"children");const s=this.bindTemplate;this.set("class",["ck","ck-form__row",...Zn(n.class||[])]),this.children=this.createCollection(),n.children&&n.children.forEach(r=>this.children.add(r)),this.set("_role",null),this.set("_ariaLabelledBy",null),n.labelView&&this.set({_role:"group",_ariaLabelledBy:n.labelView.id}),this.setTemplate({tag:"div",attributes:{class:s.to("class",r=>r.join(" ")),role:s.to("_role"),"aria-labelledby":s.to("_ariaLabelledBy")},children:this.children})}}class jU extends Fn(){constructor(t,e){super(),e&&HR(this,e),t&&this.set(t)}}const Tg=Pm("px");class JS extends Ye{constructor(e){super(e);x(this,"positionLimiter");x(this,"visibleStack");x(this,"_viewToStack",new Map);x(this,"_idToStack",new Map);x(this,"_view",null);x(this,"_rotatorView",null);x(this,"_fakePanelsView",null);this.positionLimiter=()=>{const n=this.editor.editing.view,r=n.document.selection.editableElement;return r?n.domConverter.mapViewToDom(r.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new q("contextualballoon-add-view-exist",[this,e]);const n=e.stackId||"main";if(!this._idToStack.has(n)){this._idToStack.set(n,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(n)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(n);return}const s=this._idToStack.get(n);e.singleViewMode&&this.showStack(n),s.set(e.view,e),this._viewToStack.set(e.view,s),s===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new q("contextualballoon-remove-view-not-exist",[this,e]);const n=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(n.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(n.values())[n.size-2])),n.size===1?(this._idToStack.delete(this._getStackId(n)),this._numberOfStacks=this._idToStack.size):n.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:{...this.editor.ui.viewportOffset,top:this.editor.ui.viewportOffset.visualTop}})),e}showStack(e){this.visibleStack=e;const n=this._idToStack.get(e);if(!n)throw new q("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==n&&this._showView(Array.from(n.values()).pop())}_createPanelView(){this._view=new gd(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(s=>s[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let n=e.indexOf(this._visibleStack)+1;e[n]||(n=0),this.showStack(this._getStackId(e[n]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let n=e.indexOf(this._visibleStack)-1;e[n]||(n=e.length-1),this.showStack(this._getStackId(e[n]))}_createRotatorView(){const e=new DU(this.editor.locale),n=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,r)=>!r&&s>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,r)=>{if(r<2)return"";const o=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return n("%0 of %1",[o,r])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new MU(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(n,s)=>!s&&n>=2?Math.min(n-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:n="",withArrow:s=!0,singleViewMode:r=!1}){this.view.class=n,this.view.withArrow=s,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),r&&(this._singleViewMode=!0)}}class DU extends nt{constructor(e){super(e);x(this,"focusTracker");x(this,"buttonPrevView");x(this,"buttonNextView");x(this,"content");const n=e.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ss,this.buttonPrevView=this._createButtonView(n("Previous"),vb),this.buttonNextView=this._createButtonView(n("Next"),l5),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",r=>r?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,n){const s=new sn(this.locale);return s.set({label:e,icon:n,tooltip:!0}),s}}class MU extends nt{constructor(e,n){super(e);x(this,"content");x(this,"_balloonPanelView");const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=n,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",r=>r?"":"ck-hidden")],style:{top:s.to("top",Tg),left:s.to("left",Tg),width:s.to("width",Tg),height:s.to("height",Tg)}},children:this.content}),this.on("change:numberOfPanels",(r,o,c,u)=>{c>u?this._addPanels(c-u):this._removePanels(u-c),this.updatePosition()})}_addPanels(e){for(;e--;){const n=new nt;n.setTemplate({tag:"div"}),this.content.add(n),this.registerChild(n)}}_removePanels(e){for(;e--;){const n=this.content.last;this.content.remove(n),this.deregisterChild(n),n.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:n}=this._balloonPanelView,{width:s,height:r}=new wt(this._balloonPanelView.element);Object.assign(this,{top:e,left:n,width:s,height:r})}}}const Pu=Pm("px");class FU extends nt{constructor(e){super(e);x(this,"content");x(this,"contentPanelElement");x(this,"_contentPanelPlaceholder");const n=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new xo({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:n.to("isSticky",s=>s?"block":"none"),height:n.to("isSticky",s=>s?Pu(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new xo({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",n.if("isSticky","ck-sticky-panel__content_sticky"),n.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:n.to("isSticky",s=>s?Pu(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:n.to("_stickyTopOffset",s=>s&&Pu(s)),bottom:n.to("_stickyBottomOffset",s=>s&&Pu(s)),marginLeft:n.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(Be.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()}),Be.window.visualViewport&&(this.listenTo(Be.window.visualViewport,"scroll",()=>{this.checkIfShouldBeSticky()}),this.listenTo(Be.window.visualViewport,"resize",()=>{this.checkIfShouldBeSticky()}))}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}const e=new wt(this.limiterElement);let n=e.getVisible();if(n){const o=new wt(Be.window);o.top+=this.viewportTopOffset,o.height-=this.viewportTopOffset,n=n.getIntersection(o)}const{left:s,top:r}=Zg();if(e.moveBy(s,r),n&&n.moveBy(s,r),n&&e.top<n.top)if(this._contentPanelRect.height+this.limiterBottomOffset>n.height){const o=Math.max(e.bottom-n.bottom,0)+this.limiterBottomOffset;this._contentPanelRect.height+o+1<e.height?this._stickToBottomOfLimiter(o):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(n.top):this._unstick();else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Pu(-Be.window.scrollX+Zg().left)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Pu(-Be.window.scrollX+Zg().left)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new wt(this.contentPanelElement)}}class VU extends Id{constructor(e){super(e);x(this,"arrowView");const n=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s)),"data-cke-tooltip-disabled":n.to("isOn")},on:{mouseenter:n.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new da;return e.content=Qx,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class zU extends nt{constructor(e){super(e);x(this,"children");const n=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",n.to("position",s=>`ck-menu-bar__menu__panel_position_${s}`),n.if("isVisible","ck-hidden",s=>!s)],tabindex:"-1"},children:this.children,on:{selectstart:n.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}const q0=class q0 extends nt{constructor(e){super(e);x(this,"buttonView");x(this,"panelView");x(this,"focusTracker");x(this,"keystrokes");const n=this.bindTemplate;this.buttonView=new VU(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new zU(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new qr,this.focusTracker=new Ss,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",n.to("class"),n.if("isEnabled","ck-disabled",s=>!s),n.if("parentMenuView","ck-menu-bar__menu_top-level",s=>!s)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),ol.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(ol.openOnButtonClick(this),ol.openOnArrowRightKey(this),ol.closeOnArrowLeftKey(this),ol.openAndFocusOnEnterKeyPress(this),ol.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),ol.openAndFocusPanelOnArrowDownKey(this),ol.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,n)=>{this.fire("arrowright"),n()}),this.keystrokes.set("arrowleft",(e,n)=>{this.fire("arrowleft"),n()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,n,s)=>{if(!s)return;const r=q0._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._defaultMenuPositionName})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:n,northEast:s,northWest:r,westSouth:o,eastSouth:c,westNorth:u,eastNorth:f}=wU;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[c,f,o,u]:[e,n,s,r]:this.parentMenuView?[o,u,c,f]:[n,e,r,s]}get _defaultMenuPositionName(){return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}};x(q0,"_getOptimalPosition",Ox);let td=q0;class t1 extends Pd{constructor(t){super(t),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const t=Array.from(this.items).some(e=>{const n=eA(e);return n&&n.isToggleable});this.items.forEach(e=>{const n=eA(e);n&&(n.hasCheckSpace=t)})}}function eA(i){return i instanceof Dr?i.children.map(t=>qU(t)?t.buttonView:t).find(t=>t instanceof Id):null}function qU(i){return typeof i=="object"&&"buttonView"in i&&i.buttonView instanceof sn}class HU extends KH{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const tA=["mouseenter","arrowleft","arrowright","change:isOpen"];class UU extends nt{constructor(e){super(e);x(this,"children");x(this,"menus",[]);const n=e.t,s=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",s.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":n("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,n,s=[]){const r=this.locale,c=EU({normalizedConfig:e,locale:r,componentFactory:n,extraItems:s}).items.map(u=>this._createMenu({componentFactory:n,menuDefinition:u}));this.children.addMany(c)}render(){super.render(),Iu.toggleMenusAndFocusItemsOnHover(this),Iu.closeMenusWhenTheBarCloses(this),Iu.closeMenuWhenAnotherOnTheSameLevelOpens(this),Iu.focusCycleMenusOnArrows(this),Iu.closeOnClickOutside(this),Iu.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}disable(){for(const e of this.children)e.isEnabled=!1}enable(){for(const e of this.children)e.isEnabled=!0}registerMenu(e,n=null){n?(e.delegate(...tA).to(n),e.parentMenuView=n):e.delegate(...tA).to(this,s=>"menu:"+s),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:n,parentMenuView:s}){const r=this.locale,o=new td(r);return this.registerMenu(o,s),o.buttonView.set({label:n.label}),o.once("change:isOpen",()=>{const c=new t1(r);c.ariaLabel=n.label,o.panelView.children.add(c),c.items.addMany(this._createMenuItems({menuDefinition:n,parentMenuView:o,componentFactory:e}))}),o}_createMenuItems({menuDefinition:e,parentMenuView:n,componentFactory:s}){const r=this.locale,o=[];for(const c of e.groups){for(const u of c.items){const f=new i_(r,n);if(cr(u))f.children.add(this._createMenu({componentFactory:s,menuDefinition:u,parentMenuView:n}));else{const p=this._createMenuItemContentFromFactory({componentName:u,componentFactory:s,parentMenuView:n});if(!p)continue;f.children.add(p)}o.push(f)}c!==e.groups[e.groups.length-1]&&o.push(new e_(r))}return o}_createMenuItemContentFromFactory({componentName:e,parentMenuView:n,componentFactory:s}){const r=s.create(e);return r instanceof td||r instanceof hr||r instanceof HU?(this._registerMenuTree(r,n),r.on("execute",()=>{this.close()}),r):(zn("menu-bar-component-unsupported",{componentName:e,componentView:r}),null)}_registerMenuTree(e,n){if(!(e instanceof td)){e.delegate("mouseenter").to(n);return}this.registerMenu(e,n);const s=e.panelView.children.filter(o=>o instanceof t1)[0];if(!s){e.delegate("mouseenter").to(n);return}const r=s.items.filter(o=>o instanceof Dr);for(const o of r)this._registerMenuTree(o.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(n,s,r)=>{clearTimeout(e),r?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(o=>o.isOpen)},0)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class A5{constructor(t,e=20){x(this,"model");x(this,"limit");x(this,"_isLocked");x(this,"_size");x(this,"_batch",null);x(this,"_changeCallback");x(this,"_selectionChangeCallback");this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(n,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){(!this.isLocked||t)&&(this._batch=null,this._size=0)}}class WU extends Ri{constructor(e,n){super(e);x(this,"_buffer");this._buffer=new A5(e.model,n),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const n=this.editor.model,s=n.document,r=e.text||"",o=r.length;let c=s.selection;if(e.selection?c=e.selection:e.range&&(c=n.createSelection(e.range)),!n.canEditAt(c))return;const u=e.resultRange;n.enqueueChange(this._buffer.batch,f=>{this._buffer.lock();const p=Array.from(s.selection.getAttributes());n.deleteContent(c),r&&n.insertContent(f.createText(r,p),c),u?f.setSelection(u):c.is("documentSelection")||f.setSelection(c),this._buffer.unlock(),this._buffer.input(o)})}}const T5=["insertText","insertReplacementText"],GU=[...T5,"insertCompositionText"];class KU extends ga{constructor(e){super(e);x(this,"focusObserver");this.focusObserver=e.getObserver(k0);const n=Ge.isAndroid?GU:T5,s=e.document;s.on("beforeinput",(r,o)=>{if(!this.isEnabled)return;const{data:c,targetRanges:u,inputType:f,domEvent:p,isComposing:g}=o;if(!n.includes(f))return;this.focusObserver.flush();const v=new la(s,"insertText");s.fire(v,new Rc(e,p,{text:c,selection:e.createSelection(u),isComposing:g})),v.stop.called&&r.stop()}),Ge.isAndroid||s.on("compositionend",(r,{data:o,domEvent:c})=>{this.isEnabled&&o&&s.fire("insertText",new Rc(e,c,{text:o,isComposing:!0}))},{priority:"low"})}observe(){}stopObserving(){}}class N5 extends Ye{constructor(){super(...arguments);x(this,"_typingQueue")}static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.model,s=e.editing.view,r=e.editing.mapper,o=n.document.selection;this._typingQueue=new QU(e),s.addObserver(KU);const c=new WU(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",c),e.commands.add("input",c),this.listenTo(s.document,"beforeinput",()=>{this._typingQueue.flush("next beforeinput")},{priority:"high"}),this.listenTo(s.document,"insertText",(u,f)=>{const{text:p,selection:g}=f;if(s.document.selection.isFake&&g&&s.document.selection.isSimilar(g)&&f.preventDefault(),g&&Array.from(g.getRanges()).some(C=>!C.isCollapsed)&&f.preventDefault(),!c.isEnabled){f.preventDefault();return}let v;g?v=Array.from(g.getRanges()).map(C=>r.toModelRange(C)).map(C=>Gx(C,n.schema)||C):v=Array.from(o.getRanges());let _=p;if(Ge.isAndroid){const C=Array.from(v[0].getItems()).reduce((T,R)=>T+(R.is("$textProxy")?R.data:""),"");if(C&&(C.length<=_.length?_.startsWith(C)&&(_=_.substring(C.length),v[0].start=v[0].start.getShiftedBy(C.length)):C.startsWith(_)&&(v[0].start=v[0].start.getShiftedBy(_.length),_="")),_.length==0&&v[0].isCollapsed)return}const E={text:_,selection:n.createSelection(v)};this._typingQueue.push(E,!!f.isComposing),f.domEvent.defaultPrevented&&this._typingQueue.flush("beforeinput default prevented")}),Ge.isAndroid?this.listenTo(s.document,"keydown",(u,f)=>{o.isCollapsed||f.keyCode!=229||!s.document.isComposing||nA(n,c)}):this.listenTo(s.document,"compositionstart",()=>{o.isCollapsed||nA(n,c)},{priority:"high"}),this.listenTo(s.document,"mutations",(u,{mutations:f})=>{if(this._typingQueue.hasAffectedElements())for(const{node:p}of f){const g=$U(p,r),v=r.toModelElement(g);if(this._typingQueue.isElementAffected(v)){this._typingQueue.flush("mutations");return}}}),this.listenTo(s.document,"compositionend",()=>{this._typingQueue.flush("before composition end")},{priority:"high"}),this.listenTo(s.document,"compositionend",()=>{this._typingQueue.flush("after composition end");const u=[];if(this._typingQueue.hasAffectedElements())for(const f of this._typingQueue.flushAffectedElements()){const p=r.toViewElement(f);p&&u.push({type:"children",node:p})}(u.length||!Ge.isAndroid)&&s.document.fire("mutations",{mutations:u})},{priority:"lowest"})}destroy(){super.destroy(),this._typingQueue.destroy()}}class QU{constructor(t){x(this,"editor");x(this,"flushDebounced",Nc(()=>this.flush("timeout"),50));x(this,"_queue",[]);x(this,"_isComposing",!1);x(this,"_affectedElements",new Set);this.editor=t}destroy(){for(this.flushDebounced.cancel(),this._affectedElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(t,e){const n={text:t.text};if(t.selection){n.selectionRanges=[];for(const s of t.selection.getRanges())n.selectionRanges.push(rr.fromRange(s)),this._affectedElements.add(s.start.parent)}this._queue.push(n),this._isComposing||(this._isComposing=e),this.flushDebounced()}shift(){const t=this._queue.shift(),e={text:t.text};if(t.selectionRanges){const n=t.selectionRanges.map(s=>YU(s)).filter(s=>!!s);n.length&&(e.selection=this.editor.model.createSelection(n))}return e}flush(t){const e=this.editor,n=e.model,s=e.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const o=e.commands.get("insertText").buffer;n.enqueueChange(o.batch,()=>{for(o.lock();this._queue.length;){const c=this.shift();e.execute("insertText",c)}o.unlock(),this._isComposing||this._affectedElements.clear(),this._isComposing=!1}),s.scrollToTheSelection()}isElementAffected(t){return this._affectedElements.has(t)}hasAffectedElements(){return this._affectedElements.size>0}flushAffectedElements(){const t=Array.from(this._affectedElements);return this._affectedElements.clear(),t}}function nA(i,t){if(!t.isEnabled)return;const e=t.buffer;e.lock(),i.enqueueChange(e.batch,()=>{i.deleteContent(i.document.selection)}),e.unlock()}function YU(i){const t=i.toRange();return i.detach(),t.root.rootName=="$graveyard"?null:t}function $U(i,t){let e=i.is("$text")?i.parent:i;for(;!t.toModelElement(e);)e=e.parent;return e}class iA extends Ri{constructor(e,n){super(e);x(this,"direction");x(this,"_buffer");this.direction=n,this._buffer=new A5(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const n=this.editor.model,s=n.document;n.enqueueChange(this._buffer.batch,r=>{this._buffer.lock();const o=r.createSelection(e.selection||s.selection);if(!n.canEditAt(o))return;const c=e.sequence||1,u=o.isCollapsed;if(o.isCollapsed&&n.modifySelection(o,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(c)){this._replaceEntireContentWithParagraph(r);return}if(this._shouldReplaceFirstBlockWithParagraph(o,c)){this.editor.execute("paragraph",{selection:o});return}if(o.isCollapsed)return;let f=0;o.getFirstRange().getMinimalFlatRanges().forEach(p=>{f+=Fw(p.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),n.deleteContent(o,{doNotResetEntireContent:u,direction:this.direction}),this._buffer.input(f),r.setSelection(o),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const n=this.editor.model,r=n.document.selection,o=n.schema.getLimitElement(r);if(!(r.isCollapsed&&r.containsEntireContent(o))||!n.schema.checkChild(o,"paragraph"))return!1;const u=o.getChild(0);return!(u&&u.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const n=this.editor.model,r=n.document.selection,o=n.schema.getLimitElement(r),c=e.createElement("paragraph");e.remove(e.createRangeIn(o)),e.insert(c,o),e.setSelection(c,0)}_shouldReplaceFirstBlockWithParagraph(e,n){const s=this.editor.model;if(n>1||this.direction!="backward"||!e.isCollapsed)return!1;const r=e.getFirstPosition(),o=s.schema.getLimitElement(r),c=o.getChild(0);return!(r.parent!=c||!e.containsEntireContent(c)||!s.schema.checkChild(o,"paragraph")||c.name=="paragraph")}}const XU="character",sA="word",ZU="codePoint",ul="selection",Wu="backward",Sh="forward",R5={deleteContent:{unit:ul,direction:Wu},deleteContentBackward:{unit:ZU,direction:Wu},deleteWordBackward:{unit:sA,direction:Wu},deleteHardLineBackward:{unit:ul,direction:Wu},deleteSoftLineBackward:{unit:ul,direction:Wu},deleteContentForward:{unit:XU,direction:Sh},deleteWordForward:{unit:sA,direction:Sh},deleteHardLineForward:{unit:ul,direction:Sh},deleteSoftLineForward:{unit:ul,direction:Sh}};class JU extends ga{constructor(t){super(t);const e=t.document;let n=0;e.on("keydown",()=>{n++}),e.on("keyup",()=>{n=0}),e.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:c,inputType:u}=r,f=R5[u];if(!f)return;const p={direction:f.direction,unit:f.unit,sequence:n};p.unit==ul&&(p.selectionToRemove=t.createSelection(o[0])),u==="deleteContentBackward"&&(Ge.isAndroid&&(p.sequence=1),tW(o)&&(p.unit=ul,p.selectionToRemove=t.createSelection(o)));const g=new Bc(e,"delete",o[0]);e.fire(g,new Rc(t,c,p)),g.stop.called&&s.stop()}),Ge.isBlink&&eW(this)}observe(){}stopObserving(){}}function eW(i){const t=i.view,e=t.document;let n=null,s=!1;e.on("keydown",(c,{keyCode:u})=>{n=u,s=!1}),e.on("keyup",(c,{keyCode:u,domEvent:f})=>{const p=e.selection,g=i.isEnabled&&u==n&&r(u)&&!p.isCollapsed&&!s;if(n=null,g){const v=p.getFirstRange(),_=new Bc(e,"delete",v),E={unit:ul,direction:o(u),selectionToRemove:p};e.fire(_,new Rc(t,f,E))}}),e.on("beforeinput",(c,{inputType:u})=>{const f=R5[u];r(n)&&f&&f.direction==o(n)&&(s=!0)},{priority:"high"}),e.on("beforeinput",(c,{inputType:u,data:f})=>{n==vt.delete&&u=="insertText"&&f==""&&c.stop()},{priority:"high"});function r(c){return c==vt.backspace||c==vt.delete}function o(c){return c==vt.backspace?Wu:Sh}}function tW(i){if(i.length!=1||i[0].isCollapsed)return!1;const t=i[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let e=0;for(const{nextPosition:n,item:s}of t){if(n.parent.is("$text")){const r=n.parent.data,o=n.offset;if(jx(r,o)||Dx(r,o)||dO(r,o))continue;e++}else(s.is("containerElement")||s.is("emptyElement"))&&e++;if(e>1)return!0}return!1}class Ld extends Ye{constructor(){super(...arguments);x(this,"_undoOnBackspace")}static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.editing.view,s=n.document,r=e.model.document;n.addObserver(JU),this._undoOnBackspace=!1;const o=new iA(e,"forward");e.commands.add("deleteForward",o),e.commands.add("forwardDelete",o),e.commands.add("delete",new iA(e,"backward")),this.listenTo(s,"delete",(c,u)=>{s.isComposing||u.preventDefault();const{direction:f,sequence:p,selectionToRemove:g,unit:v}=u,_=f==="forward"?"deleteForward":"delete",E={sequence:p};if(v=="selection"){const C=Array.from(g.getRanges()).map(T=>e.editing.mapper.toModelRange(T)).map(T=>Gx(T,e.model.schema)||T);E.selection=e.model.createSelection(C)}else E.unit=v;e.execute(_,E),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(s,"keydown",(c,u)=>{if(s.isComposing||u.keyCode!=vt.backspace||!r.selection.isCollapsed)return;const f=e.model.schema.getLimitElement(r.selection),p=e.model.createPositionAt(f,0);if(p.isTouching(r.selection.getFirstPosition())){u.preventDefault();const g=e.model.schema.getNearestSelectionRange(p,"forward");if(!g)return;const v=n.createSelection(e.editing.mapper.toViewRange(g)),_=v.getFirstRange(),E=new Bc(document,"delete",_),C={unit:"selection",direction:"backward",selectionToRemove:v};s.fire(E,new Rc(n,u.domEvent,C))}}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(c,u)=>{this._undoOnBackspace&&u.direction=="backward"&&u.sequence==1&&u.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),u.preventDefault(),c.stop())},{context:"$capture"}),this.listenTo(r,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class nW extends Ye{static get requires(){return[N5,Ld]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function O5(i,t){let e=i.start;return{text:Array.from(i.getWalker({ignoreElementEnd:!1})).reduce((s,{item:r})=>r.is("$text")||r.is("$textProxy")?s+r.data:(e=t.createPositionAfter(r),""),""),range:t.createRange(e,i.end)}}class iW extends Fn(){constructor(e,n){super();x(this,"model");x(this,"testCallback");x(this,"_hasMatch");this.model=e,this.testCallback=n,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const n=this.model.document;this.listenTo(n.selection,"change:range",(s,{directChange:r})=>{if(r){if(!n.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(n,"change:data",(s,r)=>{r.isUndo||!r.isLocal||this._evaluateTextBeforeSelection("data",{batch:r})})}_evaluateTextBeforeSelection(e,n={}){const s=this.model,o=s.document.selection,c=s.createRange(s.createPositionAt(o.focus.parent,0),o.focus),{text:u,range:f}=O5(c,s),p=this.testCallback(u);if(!p&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!p,p){const g=Object.assign(n,{text:u,range:f});typeof p=="object"&&Object.assign(g,p),this.fire(`matched:${e}`,g)}}}class rA extends Ye{constructor(e){super(e);x(this,"attributes");x(this,"_overrideUid");x(this,"_isNextGravityRestorationSkipped",!1);this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.model,s=e.editing.view,r=e.locale,o=n.document.selection;this.listenTo(s.document,"arrowKey",(c,u)=>{if(!o.isCollapsed||u.shiftKey||u.altKey||u.ctrlKey)return;const f=u.keyCode==vt.arrowright,p=u.keyCode==vt.arrowleft;if(!f&&!p)return;const g=r.contentLanguageDirection;let v=!1;g==="ltr"&&f||g==="rtl"&&p?v=this._handleForwardMovement(u):v=this._handleBackwardMovement(u),v===!0&&c.stop()},{context:"$text",priority:"highest"}),this.listenTo(o,"change:range",(c,u)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!u.directChange&&ir(o.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const n=this.attributes,s=this.editor.model,r=s.document.selection,o=r.getFirstPosition();return this._isGravityOverridden||o.isAtStart&&Go(r,n)?!1:ir(o,n)?(e&&ph(e),Go(r,n)&&ir(o,n,!0)?mh(s,n):this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const n=this.attributes,s=this.editor.model,r=s.document.selection,o=r.getFirstPosition();return this._isGravityOverridden?(e&&ph(e),this._restoreGravity(),ir(o,n,!0)?mh(s,n):Ng(s,n,o),!0):o.isAtStart?Go(r,n)?(e&&ph(e),Ng(s,n,o),!0):!1:!Go(r,n)&&ir(o,n,!0)?(e&&ph(e),Ng(s,n,o),!0):oA(o,n)?o.isAtEnd&&!Go(r,n)&&ir(o,n)?(e&&ph(e),Ng(s,n,o),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}_enableClickingAfterNode(){const e=this.editor,n=e.model,s=n.document.selection,r=e.editing.view.document;e.editing.view.addObserver(t5),e.editing.view.addObserver(yq);let o=!1,c=!1;this.listenTo(r,"touchstart",()=>{c=!1,o=!0}),this.listenTo(r,"mousedown",()=>{c=!0}),this.listenTo(r,"selectionChange",()=>{const u=this.attributes;if(!c&&!o||(c=!1,o=!1,!s.isCollapsed)||!Go(s,u))return;const f=s.getFirstPosition();ir(f,u)&&(f.isAtStart||ir(f,u,!0)?mh(n,u):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const n=this.editor.model,s=n.document.selection,r=this.attributes;this.listenTo(n,"insertContent",()=>{const o=s.getFirstPosition();Go(s,r)&&ir(o,r)&&mh(n,r)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,n=e.model,s=n.document.selection,r=e.editing.view;let o=!1,c=!1;this.listenTo(r.document,"delete",(u,f)=>{o=f.direction==="backward"},{priority:"high"}),this.listenTo(n,"deleteContent",()=>{if(!o)return;const u=s.getFirstPosition();c=Go(s,this.attributes)&&!oA(u,this.attributes)},{priority:"high"}),this.listenTo(n,"deleteContent",()=>{o&&(o=!1,!c&&e.model.enqueueChange(()=>{const u=s.getFirstPosition();Go(s,this.attributes)&&ir(u,this.attributes)&&(u.isAtStart||ir(u,this.attributes,!0)?mh(n,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Go(i,t){for(const e of t)if(i.hasAttribute(e))return!0;return!1}function Ng(i,t,e){const n=e.nodeBefore;i.change(s=>{if(n){const r=[],o=i.schema.isObject(n)&&i.schema.isInline(n);for(const[c,u]of n.getAttributes())i.schema.checkAttribute("$text",c)&&(!o||i.schema.getAttributeProperties(c).copyFromObject!==!1)&&r.push([c,u]);s.setSelectionAttribute(r)}else s.removeSelectionAttribute(t)})}function mh(i,t){i.change(e=>{e.removeSelectionAttribute(t)})}function ph(i){i.preventDefault()}function oA(i,t){const e=i.getShiftedBy(-1);return ir(e,t)}function ir(i,t,e=!1){const{nodeBefore:n,nodeAfter:s}=i;for(const r of t){const o=n?n.getAttribute(r):void 0,c=s?s.getAttribute(r):void 0;if(!(e&&(o===void 0||c===void 0))&&c!==o)return!0}return!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function xb(i,t,e,n){return n.createRange(aA(i,t,e,!0,n),aA(i,t,e,!1,n))}function aA(i,t,e,n,s){let r=i.textNode||(n?i.nodeBefore:i.nodeAfter),o=null;for(;r&&r.getAttribute(t)==e;)o=r,r=n?r.previousSibling:r.nextSibling;return o?s.createPositionAt(o,n?"before":"after"):i}function sW(i,t,e,n){const s=i.editing.view,r=new Set;s.document.registerPostFixer(o=>{const c=i.model.document.selection;let u=!1;if(c.hasAttribute(t)){const f=xb(c.getFirstPosition(),t,c.getAttribute(t),i.model),p=i.editing.mapper.toViewRange(f);for(const g of p.getItems())g.is("element",e)&&!g.hasClass(n)&&(o.addClass(n,g),r.add(g),u=!0)}return u}),i.conversion.for("editingDowncast").add(o=>{o.on("insert",c,{priority:"highest"}),o.on("remove",c,{priority:"highest"}),o.on("attribute",c,{priority:"highest"}),o.on("selection",c,{priority:"highest"});function c(){s.change(u=>{for(const f of r.values())u.removeClass(n,f),r.delete(f)})}})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class s_ extends Ri{constructor(e,n){super(e);x(this,"attributeKey");this.attributeKey=n}refresh(){const e=this.editor.model,n=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(n.selection,this.attributeKey)}execute(e={}){const n=this.editor.model,r=n.document.selection,o=e.forceValue===void 0?!this.value:e.forceValue;n.change(c=>{if(r.isCollapsed)o?c.setSelectionAttribute(this.attributeKey,!0):c.removeSelectionAttribute(this.attributeKey);else{const u=n.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const f of u)o?c.setAttribute(this.attributeKey,o,f):c.removeAttribute(this.attributeKey,f)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,n=e.schema,s=e.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const r of s.getRanges())for(const o of r.getItems())if(n.checkAttribute(o,this.attributeKey))return o.hasAttribute(this.attributeKey);return!1}}const Bu="bold";class rW extends Ye{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Bu}),t.model.schema.setAttributeProperties(Bu,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Bu,view:"strong",upcastAlso:["b",n=>{const s=n.getStyle("font-weight");return s&&(s=="bold"||Number(s)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(Bu,new s_(t,Bu)),t.keystrokes.set("CTRL+B",Bu),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Bold text"),keystroke:"CTRL+B"}]})}}function r_({editor:i,commandName:t,plugin:e,icon:n,label:s,keystroke:r}){return o=>{const c=i.commands.get(t),u=new o(i.locale);return u.set({label:s,icon:n,keystroke:r,isToggleable:!0}),u.bind("isEnabled").to(c,"isEnabled"),u.bind("isOn").to(c,"value"),u instanceof hr?u.set({role:"menuitemcheckbox"}):u.set({tooltip:!0}),e.listenTo(u,"execute",()=>{i.execute(t),i.editing.view.focus()}),u}}const Zy="bold";class oW extends Ye{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,n=r_({editor:t,commandName:Zy,plugin:this,icon:a5,label:e("Bold"),keystroke:"CTRL+B"});t.ui.componentFactory.add(Zy,()=>n(sn)),t.ui.componentFactory.add("menuBar:"+Zy,()=>n(hr))}}class aW extends Ye{static get requires(){return[rW,oW]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}const Lu="italic";class lW extends Ye{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Lu}),t.model.schema.setAttributeProperties(Lu,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Lu,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(Lu,new s_(t,Lu)),t.keystrokes.set("CTRL+I",Lu),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Italic text"),keystroke:"CTRL+I"}]})}}const Jy="italic";class cW extends Ye{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,n=r_({editor:t,commandName:Jy,plugin:this,icon:Wq,keystroke:"CTRL+I",label:e("Italic")});t.ui.componentFactory.add(Jy,()=>n(sn)),t.ui.componentFactory.add("menuBar:"+Jy,()=>n(hr))}}class uW extends Ye{static get requires(){return[lW,cW]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}}const gh="underline";class dW extends Ye{static get pluginName(){return"UnderlineEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:gh}),t.model.schema.setAttributeProperties(gh,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:gh,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),t.commands.add(gh,new s_(t,gh)),t.keystrokes.set("CTRL+U","underline"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Underline text"),keystroke:"CTRL+U"}]})}}const ew="underline";class fW extends Ye{static get pluginName(){return"UnderlineUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,n=r_({editor:t,commandName:ew,plugin:this,icon:sH,label:e("Underline"),keystroke:"CTRL+U"});t.ui.componentFactory.add(ew,()=>n(sn)),t.ui.componentFactory.add("menuBar:"+ew,()=>n(hr))}}class hW extends Ye{static get requires(){return[dW,fW]}static get pluginName(){return"Underline"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function*I5(i,t){for(const e of t)e&&i.getAttributeProperties(e[0]).copyOnEnter&&(yield e)}class mW extends Ri{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const e=this.editor.model,n=e.document.selection,s=e.schema,r=n.isCollapsed,o=n.getFirstRange(),c=o.start.parent,u=o.end.parent;if(s.isLimit(c)||s.isLimit(u))return!r&&c==u&&e.deleteContent(n),!1;if(r){const f=I5(t.model.schema,n.getAttributes());return lA(t,o.start),t.setSelectionAttribute(f),!0}else{const f=!(o.start.isAtStart&&o.end.isAtEnd),p=c==u;if(e.deleteContent(n,{leaveUnmerged:f}),f){if(p)return lA(t,n.focus),!0;t.setSelection(u,0)}}return!1}}function lA(i,t){i.split(t),i.setSelection(t.parent.nextSibling,0)}const pW={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class P5 extends ga{constructor(t){super(t);const e=this.document;let n=!1;e.on("keydown",(s,r)=>{n=r.shiftKey}),e.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;let o=r.inputType;Ge.isSafari&&n&&o=="insertParagraph"&&(o="insertLineBreak");const c=r.domEvent,u=pW[o];if(!u)return;const f=new Bc(e,"enter",r.targetRanges[0]);e.fire(f,new Rc(t,c,{isSoft:u.isSoft})),f.stop.called&&s.stop()})}observe(){}stopObserving(){}}class _b extends Ye{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,n=e.document,s=this.editor.t;e.addObserver(P5),t.commands.add("enter",new mW(t)),this.listenTo(n,"enter",(r,o)=>{n.isComposing||o.preventDefault(),!o.isSoft&&(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class gW extends Ri{execute(){const t=this.editor.model,e=t.document;t.change(n=>{vW(t,n,e.selection),this.fire("afterExecute",{writer:n})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=bW(t.schema,e.selection)}}function bW(i,t){if(t.rangeCount>1)return!1;const e=t.anchor;if(!e||!i.checkChild(e,"softBreak"))return!1;const n=t.getFirstRange(),s=n.start.parent,r=n.end.parent;return!((n1(s,i)||n1(r,i))&&s!==r)}function vW(i,t,e){const n=e.isCollapsed,s=e.getFirstRange(),r=s.start.parent,o=s.end.parent,c=r==o;if(n){const u=I5(i.schema,e.getAttributes());cA(i,t,s.end),t.removeSelectionAttribute(e.getAttributeKeys()),t.setSelectionAttribute(u)}else{const u=!(s.start.isAtStart&&s.end.isAtEnd);i.deleteContent(e,{leaveUnmerged:u}),c?cA(i,t,e.focus):u&&t.setSelection(o,0)}}function cA(i,t,e){const n=t.createElement("softBreak");i.insertContent(n,e),t.setSelection(n,"after")}function n1(i,t){return i.is("rootElement")?!1:t.isLimit(i)||n1(i.parent,t)}class yW extends Ye{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema,n=t.conversion,s=t.editing.view,r=s.document,o=this.editor.t;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(c,{writer:u})=>u.createEmptyElement("br")}),s.addObserver(P5),t.commands.add("shiftEnter",new gW(t)),this.listenTo(r,"enter",(c,u)=>{r.isComposing||u.preventDefault(),u.isSoft&&(t.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class wW extends Ri{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.schema,s=e.document.selection,r=Array.from(s.getSelectedBlocks()),o=t.forceValue===void 0?!this.value:t.forceValue;e.change(c=>{if(!o)this._removeQuote(c,r.filter(Rg));else{const u=r.filter(f=>Rg(f)||dA(n,f));this._applyQuote(c,u)}})}_getValue(){const t=this.editor.model.document.selection,e=Lr(t.getSelectedBlocks());return!!(e&&Rg(e))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Lr(t.getSelectedBlocks());return n?dA(e,n):!1}_removeQuote(t,e){uA(t,e).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd){t.unwrap(n.start.parent);return}if(n.start.isAtStart){const r=t.createPositionBefore(n.start.parent);t.move(n,r);return}n.end.isAtEnd||t.split(n.end);const s=t.createPositionAfter(n.end.parent);t.move(n,s)})}_applyQuote(t,e){const n=[];uA(t,e).reverse().forEach(s=>{let r=Rg(s.start);r||(r=t.createElement("blockQuote"),t.wrap(s,r)),n.push(r)}),n.reverse().reduce((s,r)=>s.nextSibling==r?(t.merge(t.createPositionAfter(s)),s):r)}}function Rg(i){return i.parent.name=="blockQuote"?i.parent:null}function uA(i,t){let e,n=0;const s=[];for(;n<t.length;){const r=t[n],o=t[n+1];e||(e=i.createPositionBefore(r)),(!o||r.nextSibling!=o)&&(s.push(i.createRange(e,i.createPositionAfter(r))),e=null),n++}return s}function dA(i,t){const e=i.checkChild(t.parent,"blockQuote"),n=i.checkChild(["$root","blockQuote"],t);return e&&n}class xW extends Ye{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[_b,Ld]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new wW(t)),e.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(o=>{const c=t.model.document.differ.getChanges();for(const u of c)if(u.type=="insert"){const f=u.position.nodeAfter;if(!f)continue;if(f.is("element","blockQuote")&&f.isEmpty)return o.remove(f),!0;if(f.is("element","blockQuote")&&!e.checkChild(u.position,f))return o.unwrap(f),!0;if(f.is("element")){const p=o.createRangeIn(f);for(const g of p.getItems())if(g.is("element","blockQuote")&&!e.checkChild(o.createPositionBefore(g),g))return o.unwrap(g),!0}}else if(u.type=="remove"){const f=u.position.parent;if(f.is("element","blockQuote")&&f.isEmpty)return o.remove(f),!0}return!1});const n=this.editor.editing.view.document,s=t.model.document.selection,r=t.commands.get("blockQuote");this.listenTo(n,"enter",(o,c)=>{if(!s.isCollapsed||!r.value)return;s.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),c.preventDefault(),o.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(o,c)=>{if(c.direction!="backward"||!s.isCollapsed||!r.value)return;const u=s.getLastPosition().parent;u.isEmpty&&!u.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),c.preventDefault(),o.stop())},{context:"blockquote"})}}class _W extends Ye{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("blockQuote",()=>{const e=this._createButton(sn);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:blockQuote",()=>{const e=this._createButton(hr);return e.set({role:"menuitemcheckbox"}),e})}_createButton(t){const e=this.editor,n=e.locale,s=e.commands.get("blockQuote"),r=new t(e.locale),o=n.t;return r.set({label:o("Block quote"),icon:Jq,isToggleable:!0}),r.bind("isEnabled").to(s,"isEnabled"),r.bind("isOn").to(s,"value"),this.listenTo(r,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),r}}class EW extends Ye{static get requires(){return[xW,_W]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const fA="ck-widget_selected";function qn(i){return i.is("element")?!!i.getCustomProperty("widget"):!1}function kW(i){return i.getCustomProperty("widgetLabel").reduce((e,n)=>typeof n=="function"?e?e+". "+n():n():e?e+". "+n:n,"")}const Ko="widget-type-around";function rc(i,t,e){return!!i&&qn(i)&&!e.isInline(t)}function CW(i){return i.closest(".ck-widget__type-around__button")}function SW(i){return i.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function AW(i,t){const e=i.closest(".ck-widget");return t.mapDomToView(e)}function al(i){return i.getAttribute(Ko)}const B5=["before","after"],TW=new DOMParser().parseFromString(eH,"image/svg+xml").firstChild,hA="ck-widget__type-around_disabled";class NW extends Ye{constructor(){super(...arguments);x(this,"_currentFakeCaretModelElement",null)}static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[_b,Ld]}init(){const e=this.editor,n=e.editing.view;this.on("change:isEnabled",(s,r,o)=>{n.change(c=>{for(const u of n.document.roots)o?c.removeClass(hA,u):c.addClass(hA,u)}),o||e.model.change(c=>{c.removeSelectionAttribute(Ko)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,n){const s=this.editor,r=s.editing.view,o=s.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(e,n),attributes:o}),r.focus(),r.scrollToTheSelection()}_listenToIfEnabled(e,n,s,r){this.listenTo(e,n,(...o)=>{this.isEnabled&&s(...o)},r)}_insertParagraphAccordingToFakeCaretPosition(){const s=this.editor.model.document.selection,r=al(s);if(!r)return!1;const o=s.getSelectedElement();return this._insertParagraph(o,r),!0}_enableTypeAroundUIInjection(){const e=this.editor,n=e.model.schema,s=e.locale.t,r={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(o,c,u)=>{const f=u.mapper.toViewElement(c.item);f&&rc(f,c.item,n)&&(RW(u.writer,r,f),f.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,n=e.model,s=n.document.selection,r=n.schema,o=e.editing.view;this._listenToIfEnabled(o.document,"arrowKey",(u,f)=>{this._handleArrowKeyPress(u,f)},{context:[qn,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(u,f)=>{f.directChange&&e.model.change(p=>{p.removeSelectionAttribute(Ko)})}),this._listenToIfEnabled(n.document,"change:data",()=>{const u=s.getSelectedElement();if(u){const f=e.editing.mapper.toViewElement(u);if(rc(f,u,r))return}e.model.change(f=>{f.removeSelectionAttribute(Ko)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(u,f,p)=>{const g=p.writer;if(this._currentFakeCaretModelElement){const C=p.mapper.toViewElement(this._currentFakeCaretModelElement);C&&(g.removeClass(B5.map(c),C),this._currentFakeCaretModelElement=null)}const v=f.selection.getSelectedElement();if(!v)return;const _=p.mapper.toViewElement(v);if(!rc(_,v,r))return;const E=al(f.selection);E&&(g.addClass(c(E),_),this._currentFakeCaretModelElement=v)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(u,f,p)=>{p||e.model.change(g=>{g.removeSelectionAttribute(Ko)})});function c(u){return`ck-widget_type-around_show-fake-caret_${u}`}}_handleArrowKeyPress(e,n){const s=this.editor,r=s.model,o=r.document.selection,c=r.schema,u=s.editing.view;if(n.shiftKey)return;const f=n.keyCode,p=v9(f,s.locale.contentLanguageDirection),g=u.document.selection.getSelectedElement(),v=s.editing.mapper.toModelElement(g);let _;rc(g,v,c)?_=this._handleArrowKeyPressOnSelectedWidget(p):o.isCollapsed?_=this._handleArrowKeyPressWhenSelectionNextToAWidget(p):n.shiftKey||(_=this._handleArrowKeyPressWhenNonCollapsedSelection(p)),_&&(n.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const s=this.editor.model,r=s.document.selection,o=al(r);return s.change(c=>{if(o){if(!(o===(e?"after":"before")))return c.removeSelectionAttribute(Ko),!0}else return c.setSelectionAttribute(Ko,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const n=this.editor,s=n.model,r=s.schema,o=n.plugins.get("Widget"),c=o._getObjectElementNextToSelection(e),u=n.editing.mapper.toViewElement(c);return rc(u,c,r)?(s.change(f=>{o._setSelectionOverElement(c),f.setSelectionAttribute(Ko,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const n=this.editor,s=n.model,r=s.schema,o=n.editing.mapper,c=s.document.selection,u=e?c.getLastPosition().nodeBefore:c.getFirstPosition().nodeAfter,f=o.toViewElement(u);return rc(f,u,r)?(s.change(p=>{p.setSelection(u,"on"),p.setSelectionAttribute(Ko,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,n=e.editing.view;this._listenToIfEnabled(n.document,"mousedown",(s,r)=>{const o=CW(r.domTarget);if(!o)return;const c=SW(o),u=AW(o,n.domConverter),f=e.editing.mapper.toModelElement(u);this._insertParagraph(f,c),r.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,n=e.model.document.selection,s=e.editing.view;this._listenToIfEnabled(s.document,"enter",(r,o)=>{if(r.eventPhase!="atTarget")return;const c=n.getSelectedElement(),u=e.editing.mapper.toViewElement(c),f=e.model.schema;let p;this._insertParagraphAccordingToFakeCaretPosition()?p=!0:rc(u,c,f)&&(this._insertParagraph(c,o.isSoft?"before":"after"),p=!0),p&&(o.preventDefault(),r.stop())},{context:qn})}_enableInsertingParagraphsOnTypingKeystroke(){const n=this.editor.editing.view.document;this._listenToIfEnabled(n,"insertText",(s,r)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(r.selection=n.selection)},{priority:"high"}),Ge.isAndroid?this._listenToIfEnabled(n,"keydown",(s,r)=>{r.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(n,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"highest"})}_enableDeleteIntegration(){const e=this.editor,n=e.editing.view,s=e.model,r=s.schema;this._listenToIfEnabled(n.document,"delete",(o,c)=>{if(o.eventPhase!="atTarget")return;const u=al(s.document.selection);if(!u)return;const f=c.direction,p=s.document.selection.getSelectedElement(),g=u==="before",v=f=="forward";if(g===v)e.execute("delete",{selection:s.createSelection(p,"on")});else{const E=r.getNearestSelectionRange(s.createPositionAt(p,u),f);if(E)if(!E.isCollapsed)s.change(C=>{C.setSelection(E),e.execute(v?"deleteForward":"delete")});else{const C=s.createSelection(E.start);if(s.modifySelection(C,{direction:f}),!C.focus.isEqual(E.start))s.change(T=>{T.setSelection(E),e.execute(v?"deleteForward":"delete")});else{const T=PW(r,E.start.parent);s.deleteContent(s.createSelection(T,"on"),{doNotAutoparagraph:!0})}}}c.preventDefault(),o.stop()},{context:qn})}_enableInsertContentIntegration(){const e=this.editor,n=this.editor.model,s=n.document.selection;this._listenToIfEnabled(e.model,"insertContent",(r,[o,c])=>{if(c&&!c.is("documentSelection"))return;const u=al(s);if(u)return r.stop(),n.change(f=>{const p=s.getSelectedElement(),g=n.createPositionAt(p,u),v=f.createSelection(g),_=n.insertContent(o,v);return f.setSelection(v),_})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(r,o)=>{const[,c,u={}]=o;if(c&&!c.is("documentSelection"))return;const f=al(s);f&&(u.findOptimalPosition=f,o[3]=u)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(r,[o])=>{if(o&&!o.is("documentSelection"))return;al(s)&&r.stop()},{priority:"high"})}}function RW(i,t,e){const n=i.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(s){const r=this.toDomElement(s);return OW(r,t),IW(r),r});i.insert(i.createPositionAt(e,"end"),n)}function OW(i,t){for(const e of B5){const n=new xo({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${e}`],title:t[e],"aria-hidden":"true"},children:[i.ownerDocument.importNode(TW,!0)]});i.appendChild(n.render())}}function IW(i){const t=new xo({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});i.appendChild(t.render())}function PW(i,t){let e=t;for(const n of t.getAncestors({parentFirst:!0})){if(n.childCount>1||i.isLimit(n))break;e=n}return e}function BW(i){const t=i.model;return(e,n)=>{const s=n.keyCode==vt.arrowup,r=n.keyCode==vt.arrowdown,o=n.shiftKey,c=t.document.selection;if(!s&&!r)return;const u=r,f=LW(i,c,u);if(f){if(f.isCollapsed){if(c.isCollapsed)return;if(o)return}(f.isCollapsed||jW(i,f,u))&&(t.change(p=>{const g=u?f.end:f.start;if(o){const v=t.createSelection(c.anchor);v.setFocus(g),p.setSelection(v)}else p.setSelection(g)}),e.stop(),n.preventDefault(),n.stopPropagation())}}}function LW(i,t,e){const n=i.model;if(e){const s=t.focus,r=mA(n,s,"forward");if(!r)return;const o=n.createRange(s,r),c=pA(n.schema,o,"backward");if(c)return n.createRange(s,c)}else{const s=t.focus,r=mA(n,s,"backward");if(!r)return;const o=n.createRange(r,s),c=pA(n.schema,o,"forward");if(c)return n.createRange(c,s)}}function mA(i,t,e){const n=i.schema,s=i.createRangeIn(t.root),r=e=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:c,type:u}of s.getWalker({startPosition:t,direction:e})){if(n.isLimit(c)&&!n.isInline(c))return o;if(u==r&&n.isBlock(c))return null}return null}function pA(i,t,e){const n=e=="backward"?t.end:t.start;if(i.checkChild(n,"$text"))return n;for(const{nextPosition:s}of t.getWalker({direction:e}))if(i.checkChild(s,"$text"))return s}function jW(i,t,e){const n=i.model,s=i.view.domConverter;if(e){const f=n.createSelection(t.start);n.modifySelection(f),!f.focus.isAtEnd&&!t.start.isEqual(f.focus)&&(t=n.createRange(f.focus,t.end))}const r=i.mapper.toViewRange(t),o=s.viewRangeToDom(r),c=wt.getDomRangeRects(o);let u;for(const f of c){if(u===void 0){u=Math.round(f.bottom);continue}if(Math.round(f.top)>=u)return!1;u=Math.max(u,Math.round(f.bottom))}return!0}class DW extends Ye{constructor(){super(...arguments);x(this,"_previouslySelected",new Set)}static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[NW,Ld]}init(){const e=this.editor,n=e.editing.view,s=n.document,r=e.t;this.editor.editing.downcastDispatcher.on("selection",(o,c,u)=>{const f=u.writer,p=c.selection;if(p.isCollapsed)return;const g=p.getSelectedElement();if(!g)return;const v=e.editing.mapper.toViewElement(g);qn(v)&&u.consumable.consume(p,"selection")&&f.setSelection(f.createRangeOn(v),{fake:!0,label:kW(v)})}),this.editor.editing.downcastDispatcher.on("selection",(o,c,u)=>{this._clearPreviouslySelectedWidgets(u.writer);const f=u.writer,p=f.document.selection;let g=null;for(const v of p.getRanges())for(const _ of v){const E=_.item;qn(E)&&!qW(E,g)&&(f.addClass(fA,E),this._previouslySelected.add(E),g=E)}},{priority:"low"}),n.addObserver(t5),n.addObserver(n5),this.listenTo(s,"mousedown",(...o)=>this._onMousedown(...o)),this.listenTo(s,"pointerdown",(...o)=>this._onPointerdown(...o)),this.listenTo(s,"arrowKey",(...o)=>{this._handleSelectionChangeOnArrowKeyPress(...o)},{context:[qn,"$text"]}),this.listenTo(s,"arrowKey",(...o)=>{this._preventDefaultOnArrowKeyPress(...o)},{context:"$root"}),this.listenTo(s,"arrowKey",BW(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(o,c)=>{this._handleDelete(c.direction=="forward")&&(c.preventDefault(),o.stop())},{context:"$root"}),this.listenTo(s,"tab",(o,c)=>{this._selectNextEditable(c.shiftKey?"backward":"forward")&&(n.scrollToTheSelection(),c.preventDefault(),o.stop())},{context:o=>qn(o)||o.is("editableElement"),priority:"low"}),this.listenTo(s,"keydown",(o,c)=>{c.keystroke==vt.esc&&this._selectAncestorWidget()&&(c.preventDefault(),o.stop())},{context:o=>o.is("editableElement"),priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:r("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:r("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:r("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:r("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:r("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:r("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,n){const s=n.target;s&&n.domEvent.detail>=3&&this._selectBlockContent(s)&&n.preventDefault()}_onPointerdown(e,n){if(!n.domEvent.isPrimary)return;const s=this.editor,r=s.editing.view,o=r.document;let c=n.target;if(!c)return;if(!qn(c)){const f=VW(c);if(!f)return;if(qn(f))c=f;else{const p=zW(r,n);if(p&&qn(p))c=p;else return}}(Ge.isAndroid||Ge.isiOS)&&n.preventDefault(),o.isFocused||r.focus();const u=s.editing.mapper.toModelElement(c);this._setSelectionOverElement(u)}_selectBlockContent(e){const n=this.editor,s=n.model,r=n.editing.mapper,o=s.schema,c=r.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),u=HW(r.toModelElement(c),s.schema);return u?(s.change(f=>{const p=o.isLimit(u)?null:UW(f.createPositionAfter(u),o),g=f.createPositionAt(u,0),v=p?f.createPositionAt(p,0):f.createPositionAt(u,"end");f.setSelection(f.createRange(g,v))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,n){const s=n.keyCode,r=this.editor.model,o=r.schema,c=r.document.selection,u=c.getSelectedElement(),f=uO(s,this.editor.locale.contentLanguageDirection),p=f=="down"||f=="right",g=f=="up"||f=="down";if(!n.shiftKey&&!c.isCollapsed){if(MW(c,o)){const P=p?c.getLastPosition():c.getFirstPosition(),B=o.getNearestSelectionRange(P,p?"forward":"backward");B&&(r.change(V=>{V.setSelection(B)}),n.preventDefault(),e.stop())}return}const v=FW(r,p),_=r.createSelection(v);if(r.modifySelection(_,{direction:p?"forward":"backward"}),_.isEqual(v))return;_.focus.isTouching(v.focus)&&r.modifySelection(_,{direction:p?"forward":"backward"});const E=p?v.focus.nodeBefore:v.focus.nodeAfter,C=_.focus.nodeBefore,T=_.focus.nodeAfter,R=p?C:T;if(n.shiftKey)(u&&o.isObject(u)||R&&o.isObject(R)||E&&o.isObject(E))&&(r.change(P=>{P.setSelection(_)}),n.preventDefault(),e.stop());else if(R&&o.isObject(R)){if(o.isInline(R)&&g)return;r.change(P=>{P.setSelection(R,"on")}),n.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,n){const s=this.editor.model,r=s.schema,o=s.document.selection.getSelectedElement();o&&r.isObject(o)&&(n.preventDefault(),e.stop())}_handleDelete(e){const s=this.editor.model.document.selection;if(!this.editor.model.canEditAt(s)||!s.isCollapsed)return;const r=this._getObjectElementNextToSelection(e);if(r)return this.editor.model.change(o=>{let c=s.anchor.parent;for(;c.isEmpty;){const u=c;c=u.parent,o.remove(u)}this._setSelectionOverElement(r)}),!0}_setSelectionOverElement(e){this.editor.model.change(n=>{n.setSelection(n.createRangeOn(e))})}_getObjectElementNextToSelection(e){const n=this.editor.model,s=n.schema,r=n.document.selection,o=n.createSelection(r);if(n.modifySelection(o,{direction:e?"forward":"backward"}),o.isEqual(r))return null;const c=e?o.focus.nodeBefore:o.focus.nodeAfter;return c&&s.isObject(c)?c:null}_clearPreviouslySelectedWidgets(e){for(const n of this._previouslySelected)e.removeClass(fA,n);this._previouslySelected.clear()}_selectNextEditable(e){const n=this.editor.editing,s=n.view,r=this.editor.model,o=s.document.selection,c=r.document.selection;let u;if(c.rangeCount>1){const p=c.isBackward?c.getFirstRange():c.getLastRange();u=n.mapper.toViewPosition(e=="forward"?p.end:p.start)}else u=e=="forward"?o.getFirstPosition():o.getLastPosition();const f=this._findNextFocusRange(u,e);return f?(r.change(p=>{p.setSelection(f)}),!0):!1}_findNextFocusRange(e,n){const s=this.editor.editing,r=s.view,o=this.editor.model,c=r.document.selection,u=c.editableElement,f=u.getPath();let p=c.getSelectedElement();p&&!qn(p)&&(p=null);const g=n=="forward"?r.createRange(e,r.createPositionAt(e.root,"end")):r.createRange(r.createPositionAt(e.root,0),e);for(const{nextPosition:v}of g.getWalker({direction:n})){const _=v.parent;if(qn(_)&&_!=p){const E=s.mapper.toModelElement(_);if(!o.schema.isBlock(E))continue;if(Ti(f,_.getPath())!="extension")return o.createRangeOn(E)}else if(_.is("editableElement")){if(_==u&&!p)continue;const E=s.mapper.toModelPosition(v),C=o.schema.getNearestSelectionRange(E,n);if(!C)continue;return _==u&&p?C:Ti(f,_.getPath())!="extension"?o.createRangeIn(o.schema.getLimitElement(C)):C}}return null}_selectAncestorWidget(){const e=this.editor,n=e.editing.mapper,r=e.editing.view.document.selection.getFirstPosition().parent,c=(r.is("$text")?r.parent:r).findAncestor(qn);if(!c)return!1;const u=n.toModelElement(c);/* istanbul ignore next -- @preserve */return u?(e.model.change(f=>{f.setSelection(u,"on")}),!0):!1}}function MW(i,t){const e=i.getFirstPosition(),n=i.getLastPosition(),s=e.nodeAfter,r=n.nodeBefore;return!!s&&t.isObject(s)||!!r&&t.isObject(r)}function FW(i,t){const e=i.document.selection,n=e.getSelectedElement(),s=al(e);return n&&s=="before"?i.createSelection(n,"before"):n&&s=="after"?i.createSelection(n,"after"):i.createSelection(e.getRanges(),{backward:n&&i.schema.isObject(n)?!t:e.isBackward})}function VW(i){let t=i;for(;t;){if(t.is("editableElement")||qn(t))return t;t=t.parent}return null}function zW(i,t){const e=eO(t.domEvent);let n=null;if(e?n=i.domConverter.domRangeToView(e):n=i.createRange(i.createPositionAt(t.target,0)),!n)return null;const s=n.start;if(!s.parent)return null;let r=s.parent;return s.parent.is("editableElement")&&(s.isAtEnd&&s.nodeBefore?r=s.nodeBefore:s.isAtStart&&s.nodeAfter&&(r=s.nodeAfter)),r.is("$text")?r.parent:r}function qW(i,t){return t?Array.from(i.getAncestors()).includes(t):!1}function HW(i,t){for(const e of i.getAncestors({includeSelf:!0,parentFirst:!0})){if(t.checkChild(e,"$text"))return e;if(t.isLimit(e)&&!t.isObject(e))break}return null}function UW(i,t){const e=new ea({startPosition:i});for(const{item:n}of e){if(t.isLimit(n)||!n.is("element"))return null;if(t.checkChild(n,"$text"))return n}return null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class cm extends ba{constructor(e){super(e);x(this,"domEventType",["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"]);const n=this.document;this.listenTo(n,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(n,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(n,"dragover",s("dragging"),{priority:"low"});function s(r){return(o,c)=>{c.preventDefault();const u=c.dropRange?[c.dropRange]:null,f=new la(n,r);n.fire(f,{dataTransfer:c.dataTransfer,method:o.name,targetRanges:u,target:c.target,domEvent:c.domEvent}),f.stop.called&&c.stopPropagation()}}}onDomEvent(e){const n="clipboardData"in e?e.clipboardData:e.dataTransfer,s=e.type=="drop"||e.type=="paste",r={dataTransfer:new kO(n,{cacheFiles:s})};if(e.type=="drop"||e.type=="dragover"){const o=eO(e);r.dropRange=o&&this.view.domConverter.domRangeToView(o)}this.fire(e.type,e,r)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function WW(i){return i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(i.includes("</p><p>")||i.includes("<br>"))&&(i=`<p>${i}</p>`),i}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function GW(i){return i.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>e.length==1?" ":e).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const gA=["figcaption","li"],bA=["ol","ul"];function L5(i,t){if(t.is("$text")||t.is("$textProxy"))return t.data;if(t.is("element","img")&&t.hasAttribute("alt"))return t.getAttribute("alt");if(t.is("element","br"))return`
`;let e="",n=null;for(const s of t.getChildren())e+=KW(s,n)+L5(i,s),n=s;if(t.is("rawElement")){const r=document.implementation.createHTMLDocument("").createElement("div");t.render(r,i),e+=j5(r)}return e}function j5(i){let t="";if(i.nodeType===Node.TEXT_NODE)return i.textContent;if(i.tagName==="BR")return`
`;for(const e of i.childNodes)t+=j5(e);return t}function KW(i,t){return t?i.is("element","li")&&!i.isEmpty&&i.getChild(0).is("containerElement")||bA.includes(i.name)&&bA.includes(t.name)?`

`:!i.is("containerElement")&&!t.is("containerElement")?"":gA.includes(i.name)||gA.includes(t.name)?`
`:i.is("element")&&i.getCustomProperty("dataPipeline:transparentRendering")||t.is("element")&&t.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:""}class D5 extends Ye{constructor(){super(...arguments);x(this,"_markersToCopy",new Map)}static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(e,n){this._markersToCopy.set(e,n)}_copySelectedFragmentWithMarkers(e,n,s=r=>r.model.getSelectedContent(r.model.document.selection)){return this.editor.model.change(r=>{const o=r.model.document.selection;r.setSelection(n);const c=this._insertFakeMarkersIntoSelection(r,r.model.document.selection,e),u=s(r),f=this._removeFakeMarkersInsideElement(r,u);for(const[p,g]of Object.entries(c)){f[p]||(f[p]=r.createRangeIn(u));for(const v of g)r.remove(v)}u.markers.clear();for(const[p,g]of Object.entries(f))u.markers.set(p,g);return r.setSelection(o),u})}_pasteMarkersIntoTransformedElement(e,n){const s=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(r=>{const o=this._insertFakeMarkersElements(r,s),c=n(r),u=this._removeFakeMarkersInsideElement(r,c);for(const f of Object.values(o).flat())r.remove(f);for(const[f,p]of Object.entries(u))r.model.markers.has(f)||r.addMarker(f,{usingOperation:!0,affectsData:!0,range:p});return c})}_pasteFragmentWithMarkers(e){const n=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const s of n)e.markers.set(s.name,s.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,n,s={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const r=this._markersToCopy.get(e);this._markersToCopy.set(e,s),n(),r?this._markersToCopy.set(e,r):this._markersToCopy.delete(e)}_isMarkerCopyable(e,n){const s=this._getMarkerClipboardConfig(e);if(!s)return!1;if(!n)return!0;const{allowedActions:r}=s;return r==="all"||r.includes(n)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[n]=e.split(":");return this._markersToCopy.get(n)||null}_insertFakeMarkersIntoSelection(e,n,s){const r=this._getCopyableMarkersFromSelection(e,n,s);return this._insertFakeMarkersElements(e,r)}_getCopyableMarkersFromSelection(e,n,s){const r=Array.from(n.getRanges()),o=new Set(r.flatMap(u=>Array.from(e.model.markers.getMarkersIntersectingRange(u)))),c=u=>{if(!this._isMarkerCopyable(u.name,s))return!1;const{copyPartiallySelected:p}=this._getMarkerClipboardConfig(u.name);if(!p){const g=u.getRange();return r.some(v=>v.containsRange(g,!0))}return!0};return Array.from(o).filter(c).map(u=>({name:s==="dragstart"?this._getUniqueMarkerName(u.name):u.name,range:u.getRange()}))}_getPasteMarkersFromRangeMap(e,n=null){const{model:s}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([o,c])=>{if(!this._hasMarkerConfiguration(o))return[{name:o,range:c}];if(this._isMarkerCopyable(o,n)){const u=this._getMarkerClipboardConfig(o),f=s.markers.has(o)&&s.markers.get(o).getRange().root.rootName==="$graveyard";return(u.duplicateOnPaste||f)&&(o=this._getUniqueMarkerName(o)),[{name:o,range:c}]}return[]})}_insertFakeMarkersElements(e,n){const s={},r=n.flatMap(o=>{const{start:c,end:u}=o.range;return[{position:c,marker:o,type:"start"},{position:u,marker:o,type:"end"}]}).sort(({position:o},{position:c})=>o.isBefore(c)?1:-1);for(const{position:o,marker:c,type:u}of r){const f=e.createElement("$marker",{"data-name":c.name,"data-type":u});s[c.name]||(s[c.name]=[]),s[c.name].push(f),e.insert(f,o)}return s}_removeFakeMarkersInsideElement(e,n){const r=this._getAllFakeMarkersFromElement(e,n).reduce((o,c)=>{const u=c.markerElement&&e.createPositionBefore(c.markerElement);let f=o[c.name],p=!1;return f!=null&&f.start&&(f!=null&&f.end)&&(this._getMarkerClipboardConfig(c.name).duplicateOnPaste?o[this._getUniqueMarkerName(c.name)]=o[c.name]:p=!0,f=null),p||(o[c.name]={...f,[c.type]:u}),c.markerElement&&e.remove(c.markerElement),o},{});return b7(r,o=>new te(o.start||e.createPositionFromPath(n,[0]),o.end||e.createPositionAt(n,"end")))}_getAllFakeMarkersFromElement(e,n){const s=Array.from(e.createRangeIn(n)).flatMap(({item:c})=>{if(!c.is("element","$marker"))return[];const u=c.getAttribute("data-name"),f=c.getAttribute("data-type");return[{markerElement:c,name:u,type:f}]}),r=[],o=[];for(const c of s)c.type==="end"&&(s.some(f=>f.name===c.name&&f.type==="start")||r.push({markerElement:null,name:c.name,type:"start"})),c.type==="start"&&(s.some(f=>f.name===c.name&&f.type==="end")||o.unshift({markerElement:null,name:c.name,type:"end"}));return[...r,...s,...o]}_getUniqueMarkerName(e){const n=e.split(":"),s=Cs().substring(1,6);return n.length===3?`${n.slice(0,2).join(":")}:${s}`:`${n.join(":")}:${s}`}}class Oc extends Ye{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[D5]}init(){this.editor.editing.view.addObserver(cm),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,e,n){const s=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:n==="cut"},()=>{const r=s._copySelectedFragmentWithMarkers(n,e);this.fire("outputTransformation",{dataTransfer:t,content:r,method:n})})}_setupPasteDrop(){const t=this.editor,e=t.model,n=t.editing.view,s=n.document,r=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(s,"clipboardInput",(o,c)=>{c.method=="paste"&&!t.model.canEditAt(t.model.document.selection)&&o.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(o,c)=>{const u=c.dataTransfer;let f;if(c.content)f=c.content;else{let v="";u.getData("text/html")?v=GW(u.getData("text/html")):u.getData("text/plain")&&(v=WW(u.getData("text/plain"))),f=this.editor.data.htmlProcessor.toView(v)}const p=new la(this,"inputTransformation"),g=u.getData("application/ckeditor5-editor-id")||null;this.fire(p,{content:f,dataTransfer:u,sourceEditorId:g,targetRanges:c.targetRanges,method:c.method}),p.stop.called&&o.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(o,c)=>{if(c.content.isEmpty)return;const f=this.editor.data.toModel(c.content,"$clipboardHolder");f.childCount!=0&&(o.stop(),e.change(()=>{this.fire("contentInsertion",{content:f,method:c.method,sourceEditorId:c.sourceEditorId,dataTransfer:c.dataTransfer,targetRanges:c.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(o,c)=>{c.resultRange=r._pasteFragmentWithMarkers(c.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,s=t.editing.view.document,r=(o,c)=>{const u=c.dataTransfer;c.preventDefault(),this._fireOutputTransformationEvent(u,e.selection,o.name)};this.listenTo(s,"copy",r,{priority:"low"}),this.listenTo(s,"cut",(o,c)=>{t.model.canEditAt(t.model.document.selection)?r(o,c):c.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(o,c)=>{const u=t.data.toView(c.content,{isClipboardPipeline:!0});s.fire("clipboardOutput",{dataTransfer:c.dataTransfer,content:u,method:c.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(o,c)=>{c.content.isEmpty||(c.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(c.content)),c.dataTransfer.setData("text/plain",L5(t.data.htmlProcessor.domConverter,c.content)),c.dataTransfer.setData("application/ckeditor5-editor-id",this.editor.id)),c.method=="cut"&&t.model.deleteContent(e.selection)},{priority:"low"})}}const tw=Pm("px");class QW extends nt{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",e=>!e)],style:{left:t.to("left",e=>tw(e)),top:t.to("top",e=>tw(e)),width:t.to("width",e=>tw(e))}}})}}class Og extends Ye{constructor(){super(...arguments);x(this,"removeDropMarkerDelayed",Bx(()=>this.removeDropMarker(),40));x(this,"_updateDropMarkerThrottled",b0(e=>this._updateDropMarker(e),40));x(this,"_reconvertMarkerThrottled",b0(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0));x(this,"_dropTargetLineView",new QW);x(this,"_domEmitter",new(zr()));x(this,"_scrollables",new Map)}static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,n,s,r,o,c){this.removeDropMarkerDelayed.cancel();const u=vA(this.editor,e,n,s,r,o,c);/* istanbul ignore next -- @preserve */return u?c&&c.containsRange(u)?(this.removeDropMarker(),null):u&&!this.editor.model.canEditAt(u)?(this.removeDropMarker(),null):(this._updateDropMarkerThrottled(u),u):null}getFinalDropRange(e,n,s,r,o,c){const u=vA(this.editor,e,n,s,r,o,c);return this.removeDropMarker(),u}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(n=>{n.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(n,{writer:s})=>{if(e.model.schema.checkChild(n.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(s);n.markerRange.isCollapsed?this._updateDropTargetLine(n.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const n=this.editor,s=n.model.markers;n.model.change(r=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(e)||r.updateMarker("drop-target",{range:e}):r.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(n){const s=this.toDomElement(n);return s.append("",n.createElement("span"),""),s})}_updateDropTargetLine(e){const n=this.editor.editing,s=e.start.nodeBefore,r=e.start.nodeAfter,o=e.start.parent,c=s?n.mapper.toViewElement(s):null,u=c?n.view.domConverter.mapViewToDom(c):null,f=r?n.mapper.toViewElement(r):null,p=f?n.view.domConverter.mapViewToDom(f):null,g=n.mapper.toViewElement(o);if(!g)return;const v=n.view.domConverter.mapViewToDom(g),_=this._getScrollableRect(g),{scrollX:E,scrollY:C}=Be.window,T=u?new wt(u):null,R=p?new wt(p):null,P=new wt(v).excludeScrollbarsAndBorders(),B=T?T.bottom:P.top,V=R?R.top:P.bottom,I=Be.window.getComputedStyle(v),M=B<=V?(B+V)/2:V;if(_.top<M&&M<_.bottom){const D=P.left+parseFloat(I.paddingLeft),F=P.right-parseFloat(I.paddingRight),H=Math.max(D+E,_.left),$=Math.min(F+E,_.right);this._dropTargetLineView.set({isVisible:!0,left:H,top:M+C,width:$-H})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const n=e.root.rootName;let s;if(this._scrollables.has(n))s=this._scrollables.get(n).domElement;else{const r=this.editor.editing.view.domConverter.mapViewToDom(e);s=$W(r),this._domEmitter.listenTo(s,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const o=new Zh(s,this._reconvertMarkerThrottled);this._scrollables.set(n,{domElement:s,resizeObserver:o})}return new wt(s).excludeScrollbarsAndBorders()}}function vA(i,t,e,n,s,r,o){const c=i.model,u=i.editing.mapper;let p=yA(i,t);for(;p;){if(!r){if(c.schema.checkChild(p,"$text")){if(e){const g=e[0].start,v=u.toModelPosition(g);if(!o||Array.from(o.getItems({shallow:!0})).some(E=>c.schema.checkChild(v,E))){if(c.schema.checkChild(v,"$text"))return c.createRange(v);if(g)return Ig(i,yA(i,g.parent),n,s)}}}else if(c.schema.isInline(p))return Ig(i,p,n,s)}if(c.schema.isBlock(p))return Ig(i,p,n,s);if(c.schema.checkChild(p,"$block")){const g=Array.from(p.getChildren()).filter(E=>E.is("element")&&!YW(i,E));let v=0,_=g.length;if(_==0)return c.createRange(c.createPositionAt(p,"end"));for(;v<_-1;){const E=Math.floor((v+_)/2);M5(i,g[E],n,s)=="before"?_=E:v=E}return Ig(i,g[v],n,s)}p=p.parent}return null}function YW(i,t){const e=i.editing.mapper,n=i.editing.view.domConverter,s=e.toViewElement(t);if(!s)return!0;const r=n.mapViewToDom(s);return Be.window.getComputedStyle(r).float!="none"}function Ig(i,t,e,n){const s=i.model;return s.createRange(s.createPositionAt(t,M5(i,t,e,n)))}function M5(i,t,e,n){const s=i.editing.mapper,r=i.editing.view.domConverter,o=s.toViewElement(t),c=r.mapViewToDom(o),u=new wt(c);return i.model.schema.isInline(t)?e<(u.left+u.right)/2?"before":"after":n<(u.top+u.bottom)/2?"before":"after"}function yA(i,t){const e=i.editing.mapper,n=i.editing.view,s=e.toModelElement(t);if(s)return s;const r=n.createPositionBefore(t),o=e.findMappedViewAncestor(r);return e.toModelElement(o)}function $W(i){let t=i;do{t=t.parentElement;const e=Be.window.getComputedStyle(t).overflowY;if(e=="auto"||e=="scroll")break}while(t.tagName!="BODY");return t}class XW extends Ye{constructor(){super(...arguments);x(this,"_isBlockDragging",!1);x(this,"_domEmitter",new(zr()))}static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(n,s,r)=>{r?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),Ge.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const s=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(s,"dragstart",(r,o)=>this._handleBlockDragStart(o)),this._domEmitter.listenTo(Be.document,"dragover",(r,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(Be.document,"drop",(r,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(Be.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&s.setAttribute("draggable","true"),this.on("change:isEnabled",(r,o,c)=>{s.setAttribute("draggable",c?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const n=this.editor.model,s=n.document.selection,r=this.editor.editing.view,o=Array.from(s.getSelectedBlocks()),c=n.createRange(n.createPositionBefore(o[0]),n.createPositionAfter(o[o.length-1]));n.change(u=>u.setSelection(c)),this._isBlockDragging=!0,r.focus(),r.getObserver(cm).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const n=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),s=e.clientY,r=document.elementFromPoint(n,s),o=this.editor.editing.view;!r||!r.closest(".ck-editor__editable")||o.getObserver(cm).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:r,clientX:n,clientY:s,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class ZW extends Ye{constructor(){super(...arguments);x(this,"_draggedRange");x(this,"_draggingUid");x(this,"_draggableElement");x(this,"_clearDraggableAttributesDelayed",Bx(()=>this._clearDraggableAttributes(),40));x(this,"_blockMode",!1);x(this,"_domEmitter",new(zr()));x(this,"_previewContainer")}static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[Oc,DW,Og,XW]}init(){const e=this.editor,n=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,n.addObserver(cm),n.addObserver(n5),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(s,r,o)=>{o?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,r,o)=>{o||this._finalizeDragging(!1)}),Ge.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,n=e.model,s=e.editing.view,r=s.document,o=e.plugins.get(Og);this.listenTo(r,"dragstart",(c,u)=>{var T;if((T=u.target)!=null&&T.is("editableElement")){u.preventDefault();return}if(this._prepareDraggedRange(u.target),!this._draggedRange){u.preventDefault();return}this._draggingUid=Cs();const f=this.isEnabled&&e.model.canEditAt(this._draggedRange);u.dataTransfer.effectAllowed=f?"copyMove":"copy",u.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const p=n.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(u.dataTransfer,p,"dragstart");const{dataTransfer:v,domTarget:_,domEvent:E}=u,{clientX:C}=E;this._updatePreview({dataTransfer:v,domTarget:_,clientX:C}),u.stopPropagation(),f||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(r,"dragend",(c,u)=>{this._finalizeDragging(!u.dataTransfer.isCanceled&&u.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(Be.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(r,"dragenter",()=>{this.isEnabled&&s.focus()}),this.listenTo(r,"dragleave",()=>{o.removeDropMarkerDelayed()}),this.listenTo(r,"dragging",(c,u)=>{if(!this.isEnabled){u.dataTransfer.dropEffect="none";return}const{clientX:f,clientY:p}=u.domEvent;if(!o.updateDropMarker(u.target,u.targetRanges,f,p,this._blockMode,this._draggedRange)){u.dataTransfer.dropEffect="none";return}this._draggedRange||(u.dataTransfer.dropEffect="copy"),Ge.isGecko||(u.dataTransfer.effectAllowed=="copy"?u.dataTransfer.dropEffect="copy":["all","copyMove"].includes(u.dataTransfer.effectAllowed)&&(u.dataTransfer.dropEffect="move")),c.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,s=e.editing.view.document,r=e.plugins.get(Og);this.listenTo(s,"clipboardInput",(o,c)=>{if(c.method!="drop")return;const{clientX:u,clientY:f}=c.domEvent,p=r.getFinalDropRange(c.target,c.targetRanges,u,f,this._blockMode,this._draggedRange);if(!p){this._finalizeDragging(!1),o.stop();return}if(this._draggedRange&&this._draggingUid!=c.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),wA(c.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(p,!0)){this._finalizeDragging(!1),o.stop();return}c.targetRanges=[e.editing.mapper.toViewRange(p)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Oc);e.on("contentInsertion",(n,s)=>{if(!this.isEnabled||s.method!=="drop")return;const r=s.targetRanges.map(o=>this.editor.editing.mapper.toModelRange(o));this.editor.model.change(o=>o.setSelection(r))},{priority:"high"}),e.on("contentInsertion",(n,s)=>{if(!this.isEnabled||s.method!=="drop")return;const r=wA(s.dataTransfer)=="move",o=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(o&&r)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,n=e.editing.view,s=n.document;this.listenTo(s,"pointerdown",(r,o)=>{if(Ge.isAndroid||!o)return;this._clearDraggableAttributesDelayed.cancel();let c=xA(o.target);if(Ge.isBlink&&!e.isReadOnly&&!c&&!s.selection.isCollapsed){const u=s.selection.getSelectedElement();(!u||!qn(u))&&(c=s.selection.editableElement)}c&&(n.change(u=>{u.setAttribute("draggable","true",c)}),this._draggableElement=e.editing.mapper.toModelElement(c))}),this.listenTo(s,"pointerup",()=>{Ge.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(n=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&n.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const n=this.editor,s=n.model;n.plugins.get(Og).removeDropMarker(),this._clearDraggableAttributes(),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&s.change(o=>{const c=s.createSelection(this._draggedRange);s.deleteContent(c,{doNotAutoparagraph:!0});const u=c.getFirstPosition().parent;u.isEmpty&&!s.schema.checkChild(u,"$text")&&s.schema.checkChild(u,"paragraph")&&o.insertElement("paragraph",u,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const n=this.editor,s=n.model,r=s.document.selection,o=e?xA(e):null;if(o){const p=n.editing.mapper.toModelElement(o);this._draggedRange=rr.fromRange(s.createRangeOn(p)),this._blockMode=s.schema.isBlock(p),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(r.isCollapsed&&!r.getFirstPosition().parent.isEmpty)return;const c=Array.from(r.getSelectedBlocks()),u=r.getFirstRange();if(c.length==0){this._draggedRange=rr.fromRange(u);return}const f=F5(s,c);if(c.length>1)this._draggedRange=rr.fromRange(f),this._blockMode=!0;else if(c.length==1){const p=u.start.isTouching(f.start)&&u.end.isTouching(f.end);this._draggedRange=rr.fromRange(p?f:u),this._blockMode=p}s.change(p=>p.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:n,clientX:s}){const r=this.editor.editing.view,o=r.document.selection.editableElement,c=r.domConverter.mapViewToDom(o),u=Be.window.getComputedStyle(c);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Rr(Be.document,"div",{style:"position: fixed; left: -999999px;"}),Be.document.body.appendChild(this._previewContainer));const f=Rr(Be.document,"div");f.className="ck ck-content ck-clipboard-preview";const p=new wt(c),g=parseFloat(u.paddingLeft),v=parseFloat(u.paddingRight),_=parseFloat(u.width)-g-v;if(c.contains(n))if(Ge.isiOS)f.style.maxWidth=`${_}px`,f.style.padding="10px",f.style.minWidth="200px",f.style.minHeight="20px",f.style.boxSizing="border-box",f.style.backgroundColor="var(--ck-color-base-background)";else return;else if(Ge.isiOS)f.style.width=`${_}px`,f.style.backgroundColor="var(--ck-color-base-background)";else{const E=p.left-s+g;f.style.width=`${_+E}px`,f.style.paddingLeft=`${E}px`}r.domConverter.setContentOf(f,e.getData("text/html")),e.setDragImage(f,0,0),this._previewContainer.appendChild(f)}}function wA(i){return Ge.isGecko?i.dropEffect:["all","copyMove"].includes(i.effectAllowed)?"move":"copy"}function xA(i){if(i.is("editableElement"))return null;if(i.hasClass("ck-widget__selection-handle"))return i.findAncestor(qn);if(qn(i))return i;const t=i.findAncestor(e=>qn(e)||e.is("editableElement"));return qn(t)?t:null}function F5(i,t){const e=t[0],n=t[t.length-1],s=e.getCommonAncestor(n),r=i.createPositionBefore(e),o=i.createPositionAfter(n);if(s&&s.is("element")&&!i.schema.isLimit(s)){const c=i.createRangeOn(s),u=r.isTouching(c.start),f=o.isTouching(c.end);if(u&&f)return F5(i,[s])}return i.createRange(r,o)}class JW extends Ye{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[Oc]}init(){const t=this.editor,e=t.model,n=t.editing.view,s=e.document.selection;n.addObserver(cm),t.plugins.get(Oc).on("contentInsertion",(r,o)=>{eG(o.content,e)&&e.change(c=>{const u=Array.from(s.getAttributes()).filter(([p])=>e.schema.getAttributeProperties(p).isFormatting);s.isCollapsed||e.deleteContent(s,{doNotAutoparagraph:!0}),u.push(...s.getAttributes());const f=c.createRangeIn(o.content);for(const p of f.getItems())for(const g of u)e.schema.checkAttribute(p,g[0])&&c.setAttribute(g[0],g[1],p)})})}}function eG(i,t){let e=t.createRangeIn(i);if(i.childCount==1){const n=i.getChild(0);n.is("element")&&t.schema.isBlock(n)&&!t.schema.isObject(n)&&!t.schema.isLimit(n)&&(e=t.createRangeIn(n))}for(const n of e.getItems())if(!t.schema.isInline(n)||Array.from(n.getAttributeKeys()).find(r=>t.schema.getAttributeProperties(r).isFormatting))return!1;return!0}class tG extends Ye{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[D5,Oc,ZW,JW]}init(){const t=this.editor,e=this.editor.t;t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Copy selected content"),keystroke:"CTRL+C"},{label:e("Paste content"),keystroke:"CTRL+V"},{label:e("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class nG extends OU{constructor(e,n){super(e);x(this,"view");x(this,"_toolbarConfig");x(this,"_elementReplacer");this.view=n,this._toolbarConfig=y5(e.config.get("toolbar")),this._elementReplacer=new Z7,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const n=this.editor,s=this.view,r=n.editing.view,o=s.editable,c=r.document.getRoot();o.name=c.rootName,s.render();const u=o.element;this.setEditableElement(o.name,u),s.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(u),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),s.menuBarView&&this.initMenuBar(s.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,n=this.editor.editing.view;this._elementReplacer.restore(),n.getDomRoot(e.editable.name)&&n.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({visualTop:n})=>n||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,n=e.editing.view,s=n.document.getRoot(),r=e.sourceElement;let o;const c=e.config.get("placeholder");c&&(o=typeof c=="string"?c:c[this.view.editable.name]),!o&&r&&r.tagName.toLowerCase()==="textarea"&&(o=r.getAttribute("placeholder")),o&&(s.placeholder=o),F9({view:n,element:s,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:e}=this.view,n=this.editor.plugins.get("ContextualBalloon");n.on("getPositionOptions",r=>{const o=r.return;if(!o||!e.isSticky||!e.element)return;const c=new wt(e.element).height,u=typeof o.target=="function"?o.target():o.target,f=typeof o.limiter=="function"?o.limiter():o.limiter;if(u&&f&&new wt(u).height>=new wt(f).height-c)return;const p={...o.viewportOffsetConfig},g=(p.top||0)+c;r.return={...o,viewportOffsetConfig:{...p,top:g}}},{priority:"low"});const s=()=>{n.visibleView&&n.updatePosition()};this.listenTo(e,"change:isSticky",s),this.listenTo(this.editor.ui,"change:viewportOffset",s)}_handleScrollToTheSelectionWithStickyPanel(e,n,s){const r=this.view.stickyPanel;if(r.isSticky){const o=new wt(r.element).height;n.viewportOffset.top+=o}else{const o=()=>{this.editor.editing.view.scrollToTheSelection(s)};this.listenTo(r,"change:isSticky",o),setTimeout(()=>{this.stopListening(r,"change:isSticky",o)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,n=this.editor.plugins.get("Dialog");n.on("show",()=>{const s=n.view;s.on("moveTo",(r,o)=>{if(!e.isSticky||s.wasMoved||s.isModal)return;const c=new wt(e.contentPanelElement);o[1]<c.bottom+lm.defaultOffset&&(o[1]=c.bottom+lm.defaultOffset)},{priority:"high"})},{priority:"low"})}}class iG extends PU{constructor(e,n,s={}){super(e);x(this,"stickyPanel");x(this,"toolbar");x(this,"editable");this.stickyPanel=new FU(e),this.toolbar=new t_(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),s.useMenuBar&&(this.menuBarView=new UU(e)),this.editable=new LU(e,n,void 0,{label:s.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class sG extends Mq(Uu){constructor(e,n={}){if(!i0(e)&&n.initialData!==void 0)throw new q("editor-create-initial-data",null);super(n);x(this,"ui");this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",rG(e)),i0(e)&&(this.sourceElement=e),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=this.config.get("menuBar"),o=new iG(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s,useMenuBar:r.isVisible,label:this.config.get("label")});this.ui=new nG(this,o),jq(this)}static get editorName(){return"ClassicEditor"}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,n={}){return new Promise(s=>{const r=new this(e,n);s(r.initPlugins().then(()=>r.ui.init(i0(e)?e:null)).then(()=>r.data.init(r.config.get("initialData"))).then(()=>r.fire("ready")).then(()=>r))})}}function rG(i){return i0(i)?s9(i):i}function i0(i){return gl(i)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class oG extends Ri{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let n=t.schema.getLimitElement(e);if(e.containsEntireContent(n)||!_A(t.schema,n))do if(n=n.parent,!n)return;while(!_A(t.schema,n));t.change(s=>{s.setSelection(n,"in")})}}function _A(i,t){return i.isLimit(t)&&(i.checkChild(t,"$text")||i.checkChild(t,"paragraph"))}const aG=Px("Ctrl+A");class lG extends Ye{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,s=t.editing.view.document;t.commands.add("selectAll",new oG(t)),this.listenTo(s,"keydown",(r,o)=>{md(o)===aG&&(t.execute("selectAll"),o.preventDefault())}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Select all"),keystroke:"CTRL+A"}]})}}class cG extends Ye{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",()=>{const e=this._createButton(sn);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(hr))}_createButton(t){const e=this.editor,n=e.locale,s=e.commands.get("selectAll"),r=new t(e.locale),o=n.t;return r.set({label:o("Select all"),icon:tH,keystroke:"Ctrl+A"}),r.bind("isEnabled").to(s,"isEnabled"),this.listenTo(r,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),r}}class uG extends Ye{static get requires(){return[lG,cG]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class V5 extends Ri{constructor(e){super(e);x(this,"_stack",[]);x(this,"_createdBatches",new WeakSet);this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(n,s)=>{s[1]={...s[1]};const r=s[1];r.batchType||(r.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(n,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const n=this.editor.model.document.selection,s={ranges:n.hasOwnRange?Array.from(n.getRanges()):[],isBackward:n.isBackward};this._stack.push({batch:e,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,n,s){const r=this.editor.model,o=r.document,c=[],u=e.map(p=>p.getTransformedByOperations(s)),f=u.flat();for(const p of u){const g=p.filter(v=>v.root!=o.graveyard).filter(v=>!fG(v,f));g.length&&(dG(g),c.push(g[0]))}c.length&&r.change(p=>{p.setSelection(c,{backward:n})})}_undo(e,n){const s=this.editor.model,r=s.document;this._createdBatches.add(n);const o=e.operations.slice().filter(c=>c.isDocumentOperation);o.reverse();for(const c of o){const u=c.baseVersion+1,f=Array.from(r.history.getOperations(u)),g=Tz([c.getReversed()],f,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let v of g){const _=v.affectedSelectable;_&&!s.canEditAt(_)&&(v=new oi(v.baseVersion)),n.addOperation(v),s.applyOperation(v),r.history.setOperationAsUndone(c,v)}}}}function dG(i){i.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<i.length;t++){const n=i[t-1].getJoined(i[t],!0);n&&(t--,i.splice(t,2,n))}}function fG(i,t){return t.some(e=>e!==i&&e.containsRange(i,!0))}class hG extends V5{execute(t=null){const e=t?this._stack.findIndex(r=>r.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(n.batch,s);const r=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,r)}),this.fire("revert",n.batch,s),this.refresh()}}class mG extends V5{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,()=>{const s=t.batch.operations[t.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(s);this._restoreSelection(t.selection.ranges,t.selection.isBackward,r),this._undo(t.batch,e)}),this.fire("revert",t.batch,e),this.refresh()}}class pG extends Ye{constructor(){super(...arguments);x(this,"_undoCommand");x(this,"_redoCommand");x(this,"_batchRegistry",new WeakSet)}static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.t;this._undoCommand=new hG(e),this._redoCommand=new mG(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(s,r)=>{const o=r[0];if(!o.isDocumentOperation)return;const c=o.batch,u=this._redoCommand.createdBatches.has(c),f=this._undoCommand.createdBatches.has(c);this._batchRegistry.has(c)||(this._batchRegistry.add(c),c.isUndoable&&(u?this._undoCommand.addBatch(c):f||(this._undoCommand.addBatch(c),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,r,o)=>{this._redoCommand.addBatch(o)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Undo"),keystroke:"CTRL+Z"},{label:n("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class gG extends Ye{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale,n=t.t,s=e.uiLanguageDirection=="ltr"?NS:TS,r=e.uiLanguageDirection=="ltr"?TS:NS;this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",s),this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",r)}_addButtonsToFactory(t,e,n,s){const r=this.editor;r.ui.componentFactory.add(t,()=>{const o=this._createButton(sn,t,e,n,s);return o.set({tooltip:!0}),o}),r.ui.componentFactory.add("menuBar:"+t,()=>this._createButton(hr,t,e,n,s))}_createButton(t,e,n,s,r){const o=this.editor,c=o.locale,u=o.commands.get(e),f=new t(c);return f.set({label:n,icon:r,keystroke:s}),f.bind("isEnabled").to(u,"isEnabled"),this.listenTo(f,"execute",()=>{o.execute(e),o.editing.view.focus()}),f}}class bG extends Ye{static get requires(){return[pG,gG]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class vG extends Ye{static get requires(){return[MH,tG,_b,uG,yW,nW,bG]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function EA(i){return i.map(t=>yG(t)).filter(t=>t!==void 0)}const kA={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function yG(i){if(typeof i=="number"&&(i=String(i)),typeof i=="object"&&_G(i))return i1(i);const t=xG(i);if(t)return i1(t);if(i==="default")return{model:void 0,title:"Default"};if(!EG(i))return wG(i)}function wG(i){return typeof i=="string"&&(i={title:i,model:`${parseFloat(i)}px`}),i.view={name:"span",styles:{"font-size":i.model}},i1(i)}function i1(i){return i.view&&typeof i.view!="string"&&!i.view.priority&&(i.view.priority=7),i}function xG(i){return typeof i=="string"?kA[i]:kA[i.model]}function _G(i){return i.title&&i.model&&i.view}function EG(i){let t;if(typeof i=="object")if(i.model)t=parseFloat(i.model);else throw new q("font-size-invalid-definition",null,i);else t=parseFloat(i);return isNaN(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class kG extends Ri{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=t.document,n=Lr(e.selection.getSelectedBlocks());this.value=!!n&&n.is("element","paragraph"),this.isEnabled=!!n&&CA(n,t.schema)}execute(t={}){const e=this.editor.model,n=e.document,s=t.selection||n.selection;e.canEditAt(s)&&e.change(r=>{const o=s.getSelectedBlocks();for(const c of o)!c.is("element","paragraph")&&CA(c,e.schema)&&r.rename(c,"paragraph")})}}function CA(i,t){return t.checkChild(i.parent,"paragraph")&&!t.isObject(i)}class CG extends Ri{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const e=this.editor.model,n=t.attributes;let s=t.position;return e.canEditAt(s)?e.change(r=>{if(s=this._findPositionToInsertParagraph(s,r),!s)return null;const o=r.createElement("paragraph");return n&&e.schema.setAllowedAttributes(o,n,r),e.insertContent(o,s),r.setSelection(o,"in"),r.createPositionAt(o,0)}):null}_findPositionToInsertParagraph(t,e){const n=this.editor.model;if(n.schema.checkChild(t,"paragraph"))return t;const s=n.schema.findAllowedParent(t,"paragraph");if(!s)return null;const r=t.parent,o=n.schema.checkChild(r,"$text");return r.isEmpty||o&&t.isAtEnd?n.createPositionAfter(r):!r.isEmpty&&o&&t.isAtStart?n.createPositionBefore(r):e.split(t,s).position}}const H0=class H0 extends Ye{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new kG(t)),t.commands.add("insertParagraph",new CG(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(n,{writer:s})=>!H0.paragraphLikeElements.has(n.name)||n.isEmpty?null:s.createElement("paragraph"),view:/.+/,converterPriority:"low"})}};x(H0,"paragraphLikeElements",new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]));let T0=H0;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class SG extends Ri{constructor(e,n){super(e);x(this,"modelElements");this.modelElements=n}refresh(){const e=Lr(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(n=>SA(e,n,this.editor.model.schema))}execute(e){const n=this.editor.model,s=n.document,r=e.value;n.change(o=>{const c=Array.from(s.selection.getSelectedBlocks()).filter(u=>SA(u,r,n.schema));for(const u of c)u.is("element",r)||o.rename(u,r)})}}function SA(i,t,e){return e.checkChild(i.parent,t)&&!e.isObject(i)}const AA="paragraph";class AG extends Ye{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[T0]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const s of e)s.model!=="paragraph"&&(t.model.schema.register(s.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(s),n.push(s.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new SG(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(s,r)=>{const o=t.model.document.selection.getFirstPosition().parent;n.some(u=>o.is("element",u.model))&&!o.is("element",AA)&&o.childCount===0&&r.writer.rename(o,AA)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:dl.low+1})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function TG(i){const t=i.t,e={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return i.config.get("heading.options").map(n=>{const s=e[n.title];return s&&s!=n.title&&(n.title=s),n})}class NG extends Ye{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,n=TG(t),s=e("Choose heading"),r=e("Heading");t.ui.componentFactory.add("heading",o=>{const c={},u=new ma,f=t.commands.get("heading"),p=t.commands.get("paragraph"),g=[f];for(const _ of n){const E={type:"button",model:new jU({label:_.title,class:_.class,role:"menuitemradio",withText:!0})};_.model==="paragraph"?(E.model.bind("isOn").to(p,"value"),E.model.set("commandName","paragraph"),g.push(p)):(E.model.bind("isOn").to(f,"value",C=>C===_.model),E.model.set({commandName:"heading",commandValue:_.model})),u.add(E),c[_.model]=_.title}const v=n_(o);return aU(v,u,{ariaLabel:r,role:"menu"}),v.buttonView.set({ariaLabel:r,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:r}),v.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),v.bind("isEnabled").toMany(g,"isEnabled",(..._)=>_.some(E=>E)),v.buttonView.bind("label").to(f,"value",p,"value",(_,E)=>{const C=E?"paragraph":_;return typeof C=="boolean"||!c[C]?s:c[C]}),v.buttonView.bind("ariaLabel").to(f,"value",p,"value",(_,E)=>{const C=E?"paragraph":_;return typeof C=="boolean"||!c[C]?r:`${c[C]}, ${r}`}),this.listenTo(v,"execute",_=>{const{commandName:E,commandValue:C}=_.source;t.execute(E,C?{value:C}:void 0),t.editing.view.focus()}),v}),t.ui.componentFactory.add("menuBar:heading",o=>{const c=new td(o),u=t.commands.get("heading"),f=t.commands.get("paragraph"),p=[u],g=new t1(o);c.set({class:"ck-heading-dropdown"}),g.set({ariaLabel:e("Heading"),role:"menu"}),c.buttonView.set({label:e("Heading")}),c.panelView.children.add(g);for(const v of n){const _=new i_(o,c),E=new hr(o);_.children.add(E),g.items.add(_),E.set({isToggleable:!0,label:v.title,role:"menuitemradio",class:v.class}),E.delegate("execute").to(c),E.on("execute",()=>{const C=v.model==="paragraph"?"paragraph":"heading";t.execute(C,{value:v.model}),t.editing.view.focus()}),v.model==="paragraph"?(E.bind("isOn").to(f,"value"),p.push(f)):E.bind("isOn").to(u,"value",C=>C===v.model)}return c.bind("isEnabled").toMany(p,"isEnabled",(...v)=>v.some(_=>_)),c})}}class RG extends Ye{static get requires(){return[AG,NG]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class OG{constructor(){x(this,"_definitions",new Set)}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(e=>this._definitions.add(e)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(e,n,s)=>{if(!s.consumable.test(n.item,"attribute:linkHref")||!(n.item.is("selection")||s.schema.isInline(n.item)))return;const r=s.writer,o=r.document.selection;for(const c of this._definitions){const u=r.createAttributeElement("a",c.attributes,{priority:5});c.classes&&r.addClass(c.classes,u);for(const f in c.styles)r.setStyle(f,c.styles[f],u);r.setCustomProperty("link",!0,u),c.callback(n.attributeNewValue)?n.item.is("selection")?r.wrap(o.getFirstRange(),u):r.wrap(s.mapper.toViewRange(n.range),u):r.unwrap(s.mapper.toViewRange(n.range),u)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(e,n,{writer:s,mapper:r})=>{const o=r.toViewElement(n.item),c=Array.from(o.getChildren()).find(u=>u.is("element","a"));if(c)for(const u of this._definitions){const f=ua(u.attributes);if(u.callback(n.attributeNewValue)){for(const[p,g]of f)p==="class"?s.addClass(g,c):s.setAttribute(p,g,c);u.classes&&s.addClass(u.classes,c);for(const p in u.styles)s.setStyle(p,u.styles[p],c)}else{for(const[p,g]of f)p==="class"?s.removeClass(g,c):s.removeAttribute(p,c);u.classes&&s.removeClass(u.classes,c);for(const p in u.styles)s.removeStyle(p,c)}}})}}}const IG=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,PG="^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))",BG=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,LG=/^((\w+:(\/{2,})?)|(\W))/i,jG=["https?","ftps?","mailto"],Pg="Ctrl+K";function DG(i){return i.is("attributeElement")&&!!i.getCustomProperty("link")}function TA(i,{writer:t}){const e=t.createAttributeElement("a",{href:i},{priority:5});return t.setCustomProperty("link",!0,e),e}function z5(i,t=jG){const e=String(i),n=t.join("|"),s=new RegExp(`${PG.replace("<protocols>",n)}`,"i");return MG(e,s)?e:"#"}function MG(i,t){return!!i.replace(IG,"").match(t)}function FG(i,t){const e={"Open in a new tab":i("Open in a new tab"),Downloadable:i("Downloadable")};return t.forEach(n=>("label"in n&&e[n.label]&&(n.label=e[n.label]),n)),t}function VG(i){const t=[];if(i)for(const[e,n]of Object.entries(i)){const s=Object.assign({},n,{id:`link${x7(e)}`});t.push(s)}return t}function s1(i,t){return i?t.checkAttribute(i.name,"linkHref"):!1}function zG(i){return BG.test(i)}function o_(i,t){const e=zG(i)?"mailto:":t,n=!!e&&!q5(i);return i&&n?e+i:i}function q5(i){return LG.test(i)}function qG(i){window.open(i,"_blank","noopener")}function r1(i){let t="";for(const e of i.getItems()){if(!e.is("$text")&&!e.is("$textProxy"))return;t+=e.data}return t}class HG extends Ri{constructor(){super(...arguments);x(this,"manualDecorators",new ma);x(this,"automaticDecorators",new OG)}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,n=e.document.selection,s=n.getSelectedElement()||Lr(n.getSelectedBlocks());s1(s,e.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(s,"linkHref")):(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(n,"linkHref"));for(const r of this.manualDecorators)r.value=this._getDecoratorStateFromModel(r.id)}execute(e,n={},s){const r=this.editor.model,o=r.document.selection,c=[],u=[];for(const f in n)n[f]?c.push(f):u.push(f);r.change(f=>{const p=_=>{f.setAttribute("linkHref",e,_),c.forEach(E=>f.setAttribute(E,!0,_)),u.forEach(E=>f.removeAttribute(E,_))},g=(_,E)=>{const C=r1(_);if(!C)return _;let T=s;if(T||(T=E&&E==C?e:C),T!=C){const R=f.createDocumentFragment();for(const I of _.getItems()){const M=I;f.append(f.createText(M.data,M.getAttributes()),R)}const P=f.createRangeIn(R),B=UG(C,T);let V=0;for(const{offset:I,actual:M,expected:D}of B){const F=I+V,H=f.createRange(P.start.getShiftedBy(F),P.start.getShiftedBy(F+M.length)),J=WG(H,P).getAttributes(),be=Array.from(J).filter(([re])=>r.schema.getAttributeProperties(re).isFormatting),_e=f.createText(D,be);p(_e),f.remove(H),f.insert(_e,H.start),V+=D.length}return r.insertContent(R,_),f.createRange(_.start,_.start.getShiftedBy(T.length))}},v=_=>{const{plugins:E}=this.editor;if(f.setSelection(_.end),E.has("TwoStepCaretMovement"))E.get("TwoStepCaretMovement")._handleForwardMovement();else for(const C of["linkHref",...c,...u])f.removeSelectionAttribute(C)};if(o.isCollapsed){const _=o.getFirstPosition();if(o.hasAttribute("linkHref")){const E=o.getAttribute("linkHref"),C=xb(_,"linkHref",E,r),T=g(C,E);p(T||C),T&&v(T)}else if(e!==""){const E=ua(o.getAttributes());E.set("linkHref",e),c.forEach(T=>{E.set(T,!0)});const C=r.insertContent(f.createText(s||e,E),_);v(C)}}else{const _=Array.from(o.getRanges()),E=r.schema.getValidRanges(_,"linkHref"),C=[];for(const P of o.getSelectedBlocks())r.schema.checkAttribute(P,"linkHref")&&C.push(f.createRangeOn(P));const T=C.slice();for(const P of E)this._isRangeToUpdate(P,C)&&T.push(P);const R=_.map(P=>({start:yi.fromPosition(P.start,"toPrevious"),end:yi.fromPosition(P.end,"toNext")}));for(let P of T){const B=(P.start.textNode||P.start.nodeAfter).getAttribute("linkHref");P=g(P,B)||P,p(P)}f.setSelection(R.map(P=>{const B=P.start.toPosition(),V=P.end.toPosition();return P.start.detach(),P.end.detach(),r.createRange(B,V)}))}})}_getDecoratorStateFromModel(e){const n=this.editor.model,s=n.document.selection,r=s.getSelectedElement();return s1(r,n.schema)?r.getAttribute(e):s.getAttribute(e)}_isRangeToUpdate(e,n){for(const s of n)if(s.containsRange(e))return!1;return!0}}function UG(i,t){const e=Xu(i,t),n={equal:0,insert:0,delete:0},s=[];let r="",o="";for(const c of[...e,null])c=="insert"?o+=t[n.equal+n.insert]:c=="delete"?r+=i[n.equal+n.delete]:(r.length||o.length)&&(s.push({offset:n.equal,actual:r,expected:o}),r="",o=""),c&&n[c]++;return s}function WG(i,t){if(!i.isCollapsed)return Lr(i.getItems());const e=i.start;return e.textNode?e.textNode:!e.nodeBefore||e.isEqual(t.start)?e.nodeAfter:e.nodeBefore}class GG extends Ri{refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement();s1(n,t.schema)?this.isEnabled=t.schema.checkAttribute(n,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,n=e.document.selection,s=t.commands.get("link");e.change(r=>{const o=n.isCollapsed?[xb(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),e)]:e.schema.getValidRanges(n.getRanges(),"linkHref");for(const c of o)if(r.removeAttribute("linkHref",c),s)for(const u of s.manualDecorators)r.removeAttribute(u.id,c)})}}class KG extends Fn(){constructor({id:e,label:n,attributes:s,classes:r,styles:o,defaultValue:c}){super();x(this,"id");x(this,"defaultValue");x(this,"label");x(this,"attributes");x(this,"classes");x(this,"styles");this.id=e,this.set("value",void 0),this.defaultValue=c,this.label=n,this.attributes=s,this.classes=r,this.styles=o}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}const QG="ck-link_selected",NA="automatic",YG="manual",$G=/^(https?:)?\/\//;class N0 extends Ye{constructor(e){super(e);x(this,"_linkOpeners",[]);e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1,toolbar:["linkPreview","|","editLink","linkProperties","unlink"]})}static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[rA,N5,Oc]}init(){const e=this.editor,n=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:TA}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(o,c)=>TA(z5(o,n),c)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:o=>o.getAttribute("href")}}),e.commands.add("link",new HG(e)),e.commands.add("unlink",new GG(e));const s=FG(e.t,VG(e.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(o=>o.mode===NA)),this._enableManualDecorators(s.filter(o=>o.mode===YG)),e.plugins.get(rA).registerAttribute("linkHref"),sW(e,"linkHref","a",QG),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_registerLinkOpener(e){this._linkOpeners.push(e)}_enableAutomaticDecorators(e){const n=this.editor,r=n.commands.get("link").automaticDecorators;n.config.get("link.addTargetToExternalLinks")&&r.add({id:"linkIsExternal",mode:NA,callback:o=>!!o&&$G.test(o),attributes:{target:"_blank",rel:"noopener noreferrer"}}),r.add(e),r.length&&n.conversion.for("downcast").add(r.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const n=this.editor,r=n.commands.get("link").manualDecorators;e.forEach(o=>{n.model.schema.extend("$text",{allowAttributes:o.id});const c=new KG(o);r.add(c),n.conversion.for("downcast").attributeToElement({model:c.id,view:(u,{writer:f,schema:p},{item:g})=>{if((g.is("selection")||p.isInline(g))&&u){const v=f.createAttributeElement("a",c.attributes,{priority:5});c.classes&&f.addClass(c.classes,v);for(const _ in c.styles)f.setStyle(_,c.styles[_],v);return f.setCustomProperty("link",!0,v),v}}}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",...c._createPattern()},model:{key:c.id}})})}_enableLinkOpen(){const e=this.editor,s=e.editing.view.document,r=o=>{this._linkOpeners.some(c=>c(o))||qG(o)};this.listenTo(s,"click",(o,c)=>{if(!(Ge.isMac?c.domEvent.metaKey:c.domEvent.ctrlKey))return;let f=c.domTarget;if(f.tagName.toLowerCase()!="a"&&(f=f.closest("a")),!f)return;const p=f.getAttribute("href");p&&(o.stop(),c.preventDefault(),r(p))},{context:"$capture"}),this.listenTo(s,"keydown",(o,c)=>{const f=e.commands.get("link").value;f&&c.keyCode===vt.enter&&c.altKey&&(o.stop(),r(f))})}_enableSelectionAttributesFixer(){const n=this.editor.model,s=n.document.selection;this.listenTo(s,"change:attribute",(r,{attributeKeys:o})=>{!o.includes("linkHref")||s.hasAttribute("linkHref")||n.change(c=>{XG(c,ZG(n.schema))})})}_enableClipboardIntegration(){const e=this.editor,n=e.model,s=this.editor.config.get("link.defaultProtocol");s&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(r,o)=>{n.change(c=>{const u=c.createRangeIn(o.content);for(const f of u.getItems())if(f.hasAttribute("linkHref")){const p=o_(f.getAttribute("linkHref"),s);c.setAttribute("linkHref",p,f)}})})}}function XG(i,t){i.removeSelectionAttribute("linkHref");for(const e of t)i.removeSelectionAttribute(e)}function ZG(i){return i.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}class JG extends sn{constructor(t){super(t);const e=this.bindTemplate;this.set({href:void 0,withText:!0}),this.extendTemplate({attributes:{class:["ck-link-toolbar__preview"],href:e.to("href"),target:"_blank",rel:"noopener noreferrer"},on:{click:e.to(n=>{if(this.href){const s=()=>n.preventDefault();this.fire("navigate",this.href,s)}})}}),this.template.tag="a"}}class eK extends nt{constructor(e,n){super(e);x(this,"focusTracker",new Ss);x(this,"keystrokes",new qr);x(this,"backButtonView");x(this,"saveButtonView");x(this,"displayedTextInputView");x(this,"urlInputView");x(this,"children");x(this,"providersListChildren");x(this,"_validators");x(this,"_focusables",new _o);x(this,"_focusCycler");this._validators=n,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.displayedTextInputView=this._createDisplayedTextInput(),this.urlInputView=this._createUrlInput(),this.providersListChildren=this.createCollection(),this.children=this.createCollection([this._createHeaderView()]),this._createFormChildren(),this.listenTo(this.providersListChildren,"add",()=>{this.stopListening(this.providersListChildren,"add"),this.children.add(this._createProvidersListView())}),this._focusCycler=new kl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-link-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),RH({view:this}),[this.urlInputView,this.saveButtonView,...this.providersListChildren,this.backButtonView,this.displayedTextInputView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const n=e(this);if(n)return this.urlInputView.errorText=n,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createBackButton(){const e=this.locale.t,n=new sn(this.locale);return n.set({class:"ck-button-back",label:e("Back"),icon:vb,tooltip:!0}),n.delegate("execute").to(this,"cancel"),n}_createSaveButton(){const e=this.locale.t,n=new sn(this.locale);return n.set({label:e("Insert"),tooltip:!1,withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),n}_createHeaderView(){const e=this.locale.t,n=new wb(this.locale,{label:e("Link")});return n.children.add(this.backButtonView,0),n}_createProvidersListView(){const e=new Pd(this.locale);return e.extendTemplate({attributes:{class:["ck-link-form__providers-list"]}}),e.items.bindTo(this.providersListChildren).using(n=>{const s=new Dr(this.locale);return s.children.add(n),s}),e}_createDisplayedTextInput(){const e=this.locale.t,n=new zS(this.locale,GS);return n.label=e("Displayed text"),n.class="ck-labeled-field-view_full-width",n}_createUrlInput(){const e=this.locale.t,n=new zS(this.locale,GS);return n.fieldView.inputMode="url",n.label=e("Link URL"),n.class="ck-labeled-field-view_full-width",n}_createFormChildren(){this.children.add(new ZS(this.locale,{children:[this.displayedTextInputView],class:["ck-form__row_large-top-padding"]})),this.children.add(new ZS(this.locale,{children:[this.urlInputView,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding","ck-form__row_large-bottom-padding"]}))}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}class tK extends nt{constructor(e){super(e);x(this,"focusTracker",new Ss);x(this,"keystrokes",new qr);x(this,"backButtonView");x(this,"listView");x(this,"listChildren");x(this,"emptyListInformation");x(this,"children");x(this,"_focusables",new _o);x(this,"_focusCycler");this.listChildren=this.createCollection(),this.backButtonView=this._createBackButton(),this.listView=this._createListView(),this.emptyListInformation=this._createEmptyLinksListItemView(),this.children=this.createCollection([this._createHeaderView(),this.emptyListInformation]),this.set("title",""),this.set("emptyListPlaceholder",""),this.set("hasItems",!1),this.listenTo(this.listChildren,"change",()=>{this.hasItems=this.listChildren.length>0}),this.on("change:hasItems",(n,s,r)=>{r?(this.children.remove(this.emptyListInformation),this.children.add(this.listView)):(this.children.remove(this.listView),this.children.add(this.emptyListInformation))}),this.keystrokes.set("Esc",(n,s)=>{this.fire("cancel"),s()}),this._focusCycler=new kl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-providers"],tabindex:"-1"},children:this.children})}render(){super.render(),[this.listView,this.backButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createListView(){const e=new Pd(this.locale);return e.extendTemplate({attributes:{class:["ck-link-providers__list"]}}),e.items.bindTo(this.listChildren).using(n=>{const s=new Dr(this.locale);return s.children.add(n),s}),e}_createBackButton(){const e=this.locale.t,n=new sn(this.locale);return n.set({class:"ck-button-back",label:e("Back"),icon:vb,tooltip:!0}),n.delegate("execute").to(this,"cancel"),n}_createHeaderView(){const e=new wb(this.locale);return e.bind("label").to(this,"title"),e.children.add(this.backButtonView,0),e}_createEmptyLinksListItemView(){const e=new nt(this.locale);return e.setTemplate({tag:"p",attributes:{class:["ck","ck-link__empty-list-info"]},children:[{text:this.bindTemplate.to("emptyListPlaceholder")}]}),e}}class nK extends nt{constructor(e){super(e);x(this,"focusTracker",new Ss);x(this,"keystrokes",new qr);x(this,"backButtonView");x(this,"children");x(this,"listChildren");x(this,"_focusables",new _o);x(this,"_focusCycler");this.backButtonView=this._createBackButton(),this.listChildren=this.createCollection(),this.children=this.createCollection([this._createHeaderView(),this._createListView()]),this._focusCycler=new kl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-properties"],tabindex:"-1"},children:this.children}),this.keystrokes.set("Esc",(n,s)=>{this.fire("back"),s()})}render(){super.render(),[...this.listChildren,this.backButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBackButton(){const e=this.locale.t,n=new sn(this.locale);return n.set({class:"ck-button-back",label:e("Back"),icon:vb,tooltip:!0}),n.delegate("execute").to(this,"back"),n}_createHeaderView(){const e=this.locale.t,n=new wb(this.locale,{label:e("Link properties")});return n.children.add(this.backButtonView,0),n}_createListView(){const e=new Pd(this.locale);return e.extendTemplate({attributes:{class:["ck-link__list"]}}),e.items.bindTo(this.listChildren).using(n=>{const s=new Dr(this.locale);return s.children.add(n),s}),e}}class iK extends sn{constructor(e){super(e);x(this,"arrowView");this.set({withText:!0}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-link__button"]}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new da;return e.content=l5,e}}const lo="link-ui";class sK extends Ye{constructor(){super(...arguments);x(this,"toolbarView",null);x(this,"formView",null);x(this,"linkProviderItemsView",null);x(this,"propertiesView",null);x(this,"_balloon");x(this,"_linksProviders",new ma)}static get requires(){return[JS,N0]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=this.editor.t;this.set("selectedLinkableText",void 0),e.editing.view.addObserver(vq),this._balloon=e.plugins.get(JS),this._registerComponents(),this._registerEditingOpeners(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:lo,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:lo,view:(s,{writer:r})=>{if(!s.markerRange.isCollapsed)return null;const o=r.createUIElement("span");return r.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],o),o}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Create link"),keystroke:Pg},{label:n("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.propertiesView&&this.propertiesView.destroy(),this.formView&&this.formView.destroy(),this.toolbarView&&this.toolbarView.destroy(),this.linkProviderItemsView&&this.linkProviderItemsView.destroy()}registerLinksListProvider(e){const n=this._linksProviders.filter(s=>(s.order||0)<=(e.order||0)).length;this._linksProviders.add(e,n)}_createViews(){const e=this.editor.commands.get("link");this.toolbarView=this._createToolbarView(),this.formView=this._createFormView(),e.manualDecorators.length&&(this.propertiesView=this._createPropertiesView()),this._enableUserBalloonInteractions()}_createToolbarView(){const e=this.editor,n=new t_(e.locale),s=e.commands.get("link");n.class="ck-link-toolbar";let r=e.config.get("link.toolbar");return s.manualDecorators.length||(r=r.filter(o=>o!=="linkProperties")),n.fillFromConfig(r,e.ui.componentFactory),n.keystrokes.set("Esc",(o,c)=>{this._hideUI(),c()}),n.keystrokes.set(Pg,(o,c)=>{this._addFormView(),c()}),e.ui.addToolbar(n,{isContextual:!0,beforeFocus:()=>{this._getSelectedLinkElement()&&!this._isToolbarVisible&&this._showUI(!0)},afterBlur:()=>{this._hideUI(!1)}}),n}_createFormView(){const e=this.editor,n=e.locale.t,s=e.commands.get("link"),r=e.config.get("link.defaultProtocol"),o=new(DS(eK))(e.locale,rK(e));return o.displayedTextInputView.bind("isEnabled").to(this,"selectedLinkableText",c=>c!==void 0),o.urlInputView.bind("isEnabled").to(s,"isEnabled"),o.saveButtonView.bind("isEnabled").to(s,"isEnabled"),o.saveButtonView.bind("label").to(s,"value",c=>n(c?"Update":"Insert")),this.listenTo(o,"submit",()=>{if(o.isValid()){const c=o.urlInputView.fieldView.element.value,u=o_(c,r),f=o.displayedTextInputView.fieldView.element.value;e.execute("link",u,this._getDecoratorSwitchesState(),f!==this.selectedLinkableText?f:void 0),this._closeFormView()}}),this.listenTo(o.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(o,"cancel",()=>{this._closeFormView()}),o.keystrokes.set("Esc",(c,u)=>{this._closeFormView(),u()}),o.providersListChildren.bindTo(this._linksProviders).using(c=>this._createLinksListProviderButton(c)),o}_createLinkProviderListView(e){return e.getListItems().map(({href:n,label:s,icon:r})=>{const o=new sn;return o.set({label:s,icon:r,tooltip:!1,withText:!0}),o.on("execute",()=>{this.formView.resetFormStatus(),this.formView.urlInputView.fieldView.value=n,this.editor.editing.view.focus(),this._removeLinksProviderView(),this.formView.focus()}),o})}_createLinkProviderItemsView(e){const n=this.editor,s=n.locale.t,r=new tK(n.locale),{emptyListPlaceholder:o,label:c}=e;return r.emptyListPlaceholder=o||s("No links available"),r.title=c,this.listenTo(r,"cancel",()=>{n.editing.view.focus(),this._removeLinksProviderView(),this.formView.focus()}),r}_createPropertiesView(){const e=this.editor,n=this.editor.commands.get("link"),s=new(DS(nK))(e.locale);return this.listenTo(s,"back",()=>{e.editing.view.focus(),this._removePropertiesView()}),s.listChildren.bindTo(n.manualDecorators).using(r=>{const o=new Jx(e.locale);return o.set({label:r.label,withText:!0}),o.bind("isOn").toMany([r,n],"value",(c,u)=>u===void 0&&c===void 0?!!r.defaultValue:!!c),o.on("execute",()=>{r.set("value",!o.isOn),e.execute("link",n.value,this._getDecoratorSwitchesState())}),o}),s}_getDecoratorSwitchesState(){const e=this.editor.commands.get("link");return Array.from(e.manualDecorators).reduce((n,s)=>{const r=e.value===void 0&&s.value===void 0?s.defaultValue:s.value;return{...n,[s.id]:!!r}},{})}_registerEditingOpeners(){this.editor.plugins.get(N0)._registerLinkOpener(n=>{const s=this._getLinkProviderLinkByHref(n);if(!s)return!1;const{item:r,provider:o}=s;return o.navigate?o.navigate(r):!1})}_registerComponents(){const e=this.editor;e.ui.componentFactory.add("link",()=>{const n=this._createButton(sn);return n.set({tooltip:!0}),n}),e.ui.componentFactory.add("menuBar:link",()=>{const n=this._createButton(hr);return n.set({role:"menuitemcheckbox"}),n}),e.ui.componentFactory.add("linkPreview",n=>{const s=new JG(n),r=e.config.get("link.allowedProtocols"),o=e.commands.get("link"),c=n.t;s.bind("isEnabled").to(o,"value",f=>!!f),s.bind("href").to(o,"value",f=>f&&z5(f,r));const u=f=>{if(!f){s.label=void 0,s.icon=void 0,s.tooltip=c("Open link in new tab");return}const p=this._getLinkProviderLinkByHref(f);if(p){const{label:g,tooltip:v,icon:_}=p.item;s.label=g,s.tooltip=v||!1,s.icon=_}else s.label=f,s.icon=void 0,s.tooltip=c("Open link in new tab")};return u(o.value),this.listenTo(o,"change:value",(f,p,g)=>{u(g)}),this.listenTo(s,"navigate",(f,p,g)=>{const v=this._getLinkProviderLinkByHref(p);if(!v)return;const{provider:_,item:E}=v,{navigate:C}=_;C&&C(E)&&(f.stop(),g())}),s}),e.ui.componentFactory.add("unlink",n=>{const s=e.commands.get("unlink"),r=new sn(n),o=n.t;return r.set({label:o("Unlink"),icon:rH,tooltip:!0}),r.bind("isEnabled").to(s),this.listenTo(r,"execute",()=>{e.execute("unlink"),this._hideUI()}),r}),e.ui.componentFactory.add("editLink",n=>{const s=e.commands.get("link"),r=new sn(n),o=n.t;return r.set({label:o("Edit link"),icon:Yq,tooltip:!0}),r.bind("isEnabled").to(s),this.listenTo(r,"execute",()=>{this._addFormView()}),r}),e.ui.componentFactory.add("linkProperties",n=>{const s=e.commands.get("link"),r=new sn(n),o=n.t;return r.set({label:o("Link properties"),icon:nH,tooltip:!0}),r.bind("isEnabled").to(s,"isEnabled",s,"value",s,"manualDecorators",(c,u,f)=>c&&!!u&&f.length>0),this.listenTo(r,"execute",()=>{this._addPropertiesView()}),r})}_createLinksListProviderButton(e){const n=this.editor.locale,s=new iK(n);return s.set({label:e.label}),this.listenTo(s,"execute",()=>{this._showLinksProviderView(e)}),s}_createButton(e){const n=this.editor,s=n.locale,r=n.commands.get("link"),o=new e(n.locale),c=s.t;return o.set({label:c("Link"),icon:Gq,keystroke:Pg,isToggleable:!0}),o.bind("isEnabled").to(r,"isEnabled"),o.bind("isOn").to(r,"value",u=>!!u),this.listenTo(o,"execute",()=>{n.editing.view.scrollToTheSelection(),this._showUI(!0),this._getSelectedLinkElement()&&this._addFormView()}),o}_enableBalloonActivators(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Pg,(s,r)=>{r(),e.commands.get("link").isEnabled&&(e.editing.view.scrollToTheSelection(),this._showUI(!0))})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,n)=>{this._isToolbarVisible&&!this.toolbarView.focusTracker.isFocused&&(this.toolbarView.focus(),n())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,n)=>{this._isUIVisible&&(this._hideUI(),n())}),Zx({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>{this._hideUI(!1)}})}_addToolbarView(){this.toolbarView||this._createViews(),!this._isToolbarInPanel&&this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this.formView.backButtonView.isVisible=e.isEnabled&&!!e.value,this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.selectedLinkableText=this._getSelectedLinkableText(),this.formView.displayedTextInputView.fieldView.value=this.selectedLinkableText||"",this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_addPropertiesView(){this.propertiesView||this._createViews(),!this._arePropertiesInPanel&&(this.propertiesView.disableCssTransitions(),this._balloon.add({view:this.propertiesView,position:this._getBalloonPositionData()}),this.propertiesView.enableCssTransitions(),this.propertiesView.focus())}_showLinksProviderView(e){this.linkProviderItemsView&&this._removeLinksProviderView(),this.linkProviderItemsView=this._createLinkProviderItemsView(e),this._addLinkProviderItemsView(e)}_addLinkProviderItemsView(e){this.linkProviderItemsView.listChildren.clear(),this.linkProviderItemsView.listChildren.addMany(this._createLinkProviderListView(e)),this._balloon.add({view:this.linkProviderItemsView,position:this._getBalloonPositionData()}),this.linkProviderItemsView.focus()}_closeFormView(){const e=this.editor.commands.get("link");this.selectedLinkableText=void 0,e.value!==void 0?this._removeFormView():this._hideUI()}_removePropertiesView(){this._arePropertiesInPanel&&this._balloon.remove(this.propertiesView)}_removeLinksProviderView(){this._isLinksListInPanel&&this._balloon.remove(this.linkProviderItemsView)}_removeFormView(e=!0){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.displayedTextInputView.fieldView.reset(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),e&&this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._isToolbarVisible?this._addFormView():this._addToolbarView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addToolbarView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(e=!0){const n=this.editor;this._isUIInPanel&&(this.stopListening(n.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e&&n.editing.view.focus(),this._removeLinksProviderView(),this._removePropertiesView(),this._removeFormView(e),this._isToolbarInPanel&&this._balloon.remove(this.toolbarView),this._hideFakeVisualSelection())}_startUpdatingUI(){const e=this.editor,n=e.editing.view.document;let s=this._getSelectedLinkElement(),r=c();const o=()=>{const u=this._getSelectedLinkElement(),f=c();s&&!u||!s&&f!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=u,r=f};function c(){return n.selection.focus.getAncestors().reverse().find(u=>u.is("element"))}this.listenTo(e.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _arePropertiesInPanel(){return!!this.propertiesView&&this._balloon.hasView(this.propertiesView)}get _isLinksListInPanel(){return!!this.linkProviderItemsView&&this._balloon.hasView(this.linkProviderItemsView)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _isToolbarInPanel(){return!!this.toolbarView&&this._balloon.hasView(this.toolbarView)}get _isPropertiesVisible(){return!!this.propertiesView&&this._balloon.visibleView===this.propertiesView}get _isFormVisible(){return!!this.formView&&this._balloon.visibleView==this.formView}get _isToolbarVisible(){return!!this.toolbarView&&this._balloon.visibleView===this.toolbarView}get _isUIInPanel(){return this._arePropertiesInPanel||this._isLinksListInPanel||this._isFormInPanel||this._isToolbarInPanel}get _isUIVisible(){return this._isPropertiesVisible||this._isLinksListInPanel||this._isFormVisible||this._isToolbarVisible}_getBalloonPositionData(){const e=this.editor.editing.view,n=e.document;if(this.editor.model.markers.has(lo)){const r=this.editor.editing.mapper.markerNameToElements(lo);if(r){const o=Array.from(r),c=e.createRange(e.createPositionBefore(o[0]),e.createPositionAfter(o[o.length-1]));return{target:e.domConverter.viewRangeToDom(c)}}}return{target:()=>{const r=this._getSelectedLinkElement();return r?e.domConverter.mapViewToDom(r):e.domConverter.viewRangeToDom(n.selection.getFirstRange())}}}_getSelectedLinkElement(){const e=this.editor.editing.view,n=e.document.selection,s=n.getSelectedElement();if(n.isCollapsed||s&&qn(s))return nw(n.getFirstPosition());{const r=n.getFirstRange().getTrimmed(),o=nw(r.start),c=nw(r.end);return!o||o!=c?null:e.createRangeIn(o).getTrimmed().isEqual(r)?o:null}}_getSelectedLinkableText(){const e=this.editor.model,n=this.editor.editing,s=this._getSelectedLinkElement();if(!s)return r1(e.document.selection.getFirstRange());const r=n.view.createRangeOn(s),o=n.mapper.toModelRange(r);return r1(o)}_getLinkProviderLinkByHref(e){if(!e)return null;for(const n of this._linksProviders){const s=n.getItem?n.getItem(e):n.getListItems().find(r=>r.href===e);if(s)return{provider:n,item:s}}return null}_showFakeVisualSelection(){const e=this.editor.model;e.change(n=>{const s=e.document.selection.getFirstRange();if(e.markers.has(lo))n.updateMarker(lo,{range:s});else if(s.start.isAtEnd){const r=s.start.getLastMatchingPosition(({item:o})=>!e.schema.isContent(o),{boundaries:s});n.addMarker(lo,{usingOperation:!1,affectsData:!1,range:n.createRange(r,s.end)})}else n.addMarker(lo,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(lo)&&e.change(n=>{n.removeMarker(lo)})}}function nw(i){return i.getAncestors().find(t=>DG(t))||null}function rK(i){const t=i.t,e=i.config.get("link.allowCreatingEmptyLinks");return[n=>{if(!e&&!n.url.length)return t("Link URL must not be empty.")}]}const oK=4,H5=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63}))|localhost)(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),aK=2;class lK extends Ye{static get requires(){return[Ld,N0]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(t,e){return e.textNode&&e.textNode.hasAttribute("linkHref")?xb(e,"linkHref",e.textNode.getAttribute("linkHref"),t):null}_selectEntireLinks(t,e){const s=this.editor.model,r=s.document.selection,o=r.getFirstPosition(),c=r.getLastPosition();let u=e.getJoined(this._expandLinkRange(s,o)||e);u&&(u=u.getJoined(this._expandLinkRange(s,c)||e)),u&&(u.start.isBefore(o)||u.end.isAfter(c))&&t.setSelection(u)}_enablePasteLinking(){const t=this.editor,e=t.model,n=e.document.selection,s=t.plugins.get("ClipboardPipeline"),r=t.commands.get("link");s.on("inputTransformation",(o,c)=>{if(!this.isEnabled||!r.isEnabled||n.isCollapsed||c.method!=="paste"||n.rangeCount>1)return;const u=n.getFirstRange(),f=c.dataTransfer.getData("text/plain");if(!f)return;const p=f.match(H5);p&&p[2]===f&&(e.change(g=>{this._selectEntireLinks(g,u),r.execute(f)}),o.stop())},{priority:"high"})}_enableTypingHandling(){const t=this.editor,e=new iW(t.model,n=>{let s=n;if(!cK(s))return;s=s.slice(0,-1),"!.:,;?".includes(s[s.length-1])&&(s=s.slice(0,-1));const r=RA(s);if(r)return{url:r,removedTrailingCharacters:n.length-s.length}});e.on("matched:data",(n,s)=>{const{batch:r,range:o,url:c,removedTrailingCharacters:u}=s;if(!r.isTyping)return;const f=o.end.getShiftedBy(-u),p=f.getShiftedBy(-c.length),g=t.model.createRange(p,f);this._applyAutoLink(c,g)}),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("enter");n&&n.on("execute",()=>{var o;const s=e.document.selection.getFirstPosition();let r;(o=s.parent.previousSibling)!=null&&o.is("element")?r=e.createRangeIn(s.parent.previousSibling):r=e.createRange(e.createPositionAt(s.parent,0),s),this._checkAndApplyAutoLinkOnRange(r)})}_enableShiftEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("shiftEnter");n&&n.on("execute",()=>{const s=e.document.selection.getFirstPosition(),r=e.createRange(e.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(r)})}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:n,range:s}=O5(t,e),r=RA(n);if(r){const o=e.createRange(s.end.getShiftedBy(-r.length),s.end);this._applyAutoLink(r,o)}}_applyAutoLink(t,e){const n=this.editor.model,s=this.editor.config.get("link.defaultProtocol"),r=o_(t,s);!this.isEnabled||!uK(e,n)||!q5(r)||dK(e)||this._persistAutoLink(r,e)}_persistAutoLink(t,e){const n=this.editor.model,s=this.editor.plugins.get("Delete");n.enqueueChange(r=>{r.setAttribute("linkHref",t,e),n.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function cK(i){return i.length>oK&&i[i.length-1]===" "&&i[i.length-2]!==" "}function RA(i){const t=H5.exec(i);return t?t[aK]:null}function uK(i,t){return t.schema.checkAttributeInSelection(t.createSelection(i),"linkHref")}function dK(i){const t=i.start.nodeAfter;return!!t&&t.hasAttribute("linkHref")}class fK extends Ye{static get requires(){return[N0,sK,lK]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class ur{constructor(t,e){x(this,"_startElement");x(this,"_referenceIndent");x(this,"_isForward");x(this,"_includeSelf");x(this,"_sameAttributes");x(this,"_sameIndent");x(this,"_lowerIndent");x(this,"_higherIndent");this._startElement=t,this._referenceIndent=t.getAttribute("listIndent"),this._isForward=e.direction=="forward",this._includeSelf=!!e.includeSelf,this._sameAttributes=Zn(e.sameAttributes||[]),this._sameIndent=!!e.sameIndent,this._lowerIndent=!!e.lowerIndent,this._higherIndent=!!e.higherIndent}static first(t,e){const s=new this(t,e)[Symbol.iterator]();return Lr(s)}*[Symbol.iterator](){const t=[];for(const{node:e}of new jm(this._getStartNode(),this._isForward?"forward":"backward")){const n=e.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){t.push(e);continue}}else{if(!this._sameIndent){if(this._higherIndent){t.length&&(yield*t,t.length=0);break}continue}if(this._sameAttributes.some(s=>e.getAttribute(s)!==this._startElement.getAttribute(s)))break}t.length&&(yield*t,t.length=0),yield e}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class jm{constructor(t,e="forward"){x(this,"_node");x(this,"_isForward");x(this,"_previousNodesByIndent",[]);x(this,"_previous",null);x(this,"_previousNodeIndent",null);this._node=t,this._isForward=e==="forward"}[Symbol.iterator](){return this}next(){if(!hn(this._node))return{done:!0,value:void 0};const t=this._node.getAttribute("listIndent");let e=null;if(this._previous){const s=this._previousNodeIndent;t>s?this._previousNodesByIndent[s]=this._previous:t<s?(e=this._previousNodesByIndent[t]||null,this._previousNodesByIndent.length=t):e=this._previous}const n={node:this._node,previous:this._previous,previousNodeInList:e};return this._previous=this._node,this._previousNodeIndent=t,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:n,done:!1}}}class hK{constructor(t){x(this,"_listHead");this._listHead=t}[Symbol.iterator](){return new jm(this._listHead)}}class bd{static next(){return Cs()}}function hn(i){return!!i&&i.is("element")&&i.hasAttribute("listItemId")}function jd(i,t={}){return[...vl(i,{...t,direction:"backward"}),...vl(i,{...t,direction:"forward"})]}function vl(i,t={}){const e=t.direction=="forward",n=Array.from(new ur(i,{...t,includeSelf:e,sameIndent:!0,sameAttributes:"listItemId"}));return e?n:n.reverse()}function mK(i){return Array.from(new ur(i,{direction:"forward",higherIndent:!0}))}function U5(i,t){const e=new ur(i,{sameIndent:!0,sameAttributes:"listType",...t}),n=new ur(i,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...t});return[...Array.from(e).reverse(),...n]}function yl(i){return!ur.first(i,{sameIndent:!0,sameAttributes:"listItemId"})}function OA(i){return!ur.first(i,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Dm(i,t={}){i=Zn(i);const e=t.withNested!==!1,n=new Set;for(const s of i)for(const r of jd(s,{higherIndent:e}))n.add(r);return jc(n)}function pK(i){i=Zn(i);const t=new Set;for(const e of i)for(const n of U5(e))t.add(n);return jc(t)}function a_(i,t){const e=vl(i,{direction:"forward"}),n=bd.next();for(const s of e)t.setAttribute("listItemId",n,s);return e}function o1(i,t,e){const n={};for(const[r,o]of t.getAttributes())r.startsWith("list")&&(n[r]=o);const s=vl(i,{direction:"forward"});for(const r of s)e.setAttributes(n,r);return s}function a1(i,t,{expand:e,indentBy:n=1}={}){i=Zn(i);const s=e?Dm(i):i;for(const r of s){const o=r.getAttribute("listIndent")+n;o<0?Eb(r,t):t.setAttribute("listIndent",o,r)}return s}function gK(i,t){i=Zn(i);const e=Dm(i),n=new Set,s=Math.min(...e.map(o=>o.getAttribute("listIndent"))),r=new Map;for(const o of e)r.set(o,ur.first(o,{lowerIndent:!0}));for(const o of e){if(n.has(o))continue;n.add(o);const c=o.getAttribute("listIndent")-1;if(c<0){Eb(o,t);continue}if(o.getAttribute("listIndent")==s){const u=yK(o,r.get(o),t);for(const f of u)n.add(f);if(u.length)continue}t.setAttribute("listIndent",c,o)}return jc(n)}function Eb(i,t){i=Zn(i);for(const e of i)e.is("element","listItem")&&t.rename(e,"paragraph");for(const e of i)for(const n of e.getAttributeKeys())n.startsWith("list")&&t.removeAttribute(n,e);return i}function um(i){if(!i.length)return!1;const t=i[0].getAttribute("listItemId");return t?!i.some(e=>e.getAttribute("listItemId")!=t):!1}function bK(i,t){const e=[];let n=Number.POSITIVE_INFINITY;for(const{node:s}of new jm(i.nextSibling)){const r=s.getAttribute("listIndent");if(r==0)break;r<n&&(n=r);const o=r-n;t.setAttribute("listIndent",o,s),e.push(s)}return e}function jc(i){return Array.from(i).filter(t=>t.root.rootName!=="$graveyard").sort((t,e)=>t.index-e.index)}function dm(i){const t=i.document.selection.getSelectedElement();return t&&i.schema.isObject(t)&&i.schema.isBlock(t)?t:null}function iw(i,t){return t.checkChild(i.parent,"listItem")&&t.checkChild(i,"$text")&&!t.isObject(i)}function vK(i){return i=="numbered"||i=="customNumbered"}function yK(i,t,e){return vl(t,{direction:"forward"}).pop().index>i.index?o1(i,t,e):[]}class IA extends Ri{constructor(e,n){super(e);x(this,"_direction");this._direction=n}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,n=PA(e.document.selection);e.change(s=>{const r=[];um(n)&&!yl(n[0])?(this._direction=="forward"&&r.push(...a1(n,s)),r.push(...a_(n[0],s))):this._direction=="forward"?r.push(...a1(n,s,{expand:!0})):r.push(...gK(n,s));for(const o of r){if(!o.hasAttribute("listType"))continue;const c=ur.first(o,{sameIndent:!0});c&&s.setAttribute("listType",c.getAttribute("listType"),o)}this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",jc(new Set(e)))}_checkEnabled(){let e=PA(this.editor.model.document.selection),n=e[0];if(!n)return!1;if(this._direction=="backward"||um(e)&&!yl(e[0]))return!0;e=Dm(e),n=e[0];const s=ur.first(n,{sameIndent:!0});return s?s.getAttribute("listType")==n.getAttribute("listType"):!1}}function PA(i){const t=Array.from(i.getSelectedBlocks()),e=t.findIndex(n=>!hn(n));return e!=-1&&(t.length=e),t}class Bg extends Ri{constructor(e,n,s={}){super(e);x(this,"type");x(this,"_listWalkerOptions");this.type=n,this._listWalkerOptions=s.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const n=this.editor.model,s=n.document,r=dm(n),o=Array.from(s.selection.getSelectedBlocks()).filter(u=>n.schema.checkAttribute(u,"listType")||iw(u,n.schema)),c=e.forceValue!==void 0?!e.forceValue:this.value;n.change(u=>{if(c){const f=o[o.length-1],p=vl(f,{direction:"forward"}),g=[];p.length>1&&g.push(...a_(p[1],u)),g.push(...Eb(o,u)),g.push(...bK(f,u)),this._fireAfterExecute(g)}else if((r||s.selection.isCollapsed)&&hn(o[0])){const f=U5(r||o[0],this._listWalkerOptions);for(const p of f)u.setAttributes({...e.additionalAttributes,listType:this.type},p);this._fireAfterExecute(f)}else{const f=[];for(const p of o)if(!p.hasAttribute("listType"))!p.is("element","listItem")&&iw(p,n.schema)&&u.rename(p,"listItem"),u.setAttributes({...e.additionalAttributes,listIndent:0,listItemId:bd.next(),listType:this.type},p),f.push(p);else for(const g of Dm(p,{withNested:!1}))g.getAttribute("listType")!=this.type&&(u.setAttributes({...e.additionalAttributes,listType:this.type},g),f.push(g));this._fireAfterExecute(f)}})}_fireAfterExecute(e){this.fire("afterExecute",jc(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,n=Array.from(e.getSelectedBlocks());if(!n.length)return!1;for(const s of n)if(s.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,n=e.schema,s=e.document.selection,r=Array.from(s.getSelectedBlocks());if(!r.length)return!1;if(this.value)return!0;for(const o of r)if(n.checkAttribute(o,"listType")||iw(o,n))return!0;return!1}}class BA extends Ri{constructor(e,n){super(e);x(this,"_direction");this._direction=n}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const n=this.editor.model,s=n.document.selection,r=[];n.change(o=>{const{firstElement:c,lastElement:u}=this._getMergeSubjectElements(s,e),f=c.getAttribute("listIndent")||0,p=u.getAttribute("listIndent"),g=u.getAttribute("listItemId");if(f!=p){const v=mK(u);r.push(...a1([u,...v],o,{indentBy:f-p,expand:f<p}))}if(e){let v=s;s.isCollapsed&&(v=o.createSelection(o.createRange(o.createPositionAt(c,"end"),o.createPositionAt(u,0)))),n.deleteContent(v,{doNotResetEntireContent:s.isCollapsed});const _=v.getLastPosition().parent,E=_.nextSibling;r.push(_),E&&E!==u&&E.getAttribute("listItemId")==g&&r.push(...o1(E,_,o))}else r.push(...o1(u,c,o));this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",jc(new Set(e)))}_checkEnabled(){const e=this.editor.model,n=e.document.selection,s=dm(e);if(n.isCollapsed||s){const r=s||n.getFirstPosition().parent;if(!hn(r))return!1;const o=this._direction=="backward"?r.previousSibling:r.nextSibling;if(!o||um([r,o]))return!1}else{const r=n.getLastPosition(),o=n.getFirstPosition();if(r.parent===o.parent||!hn(r.parent))return!1}return!0}_getMergeSubjectElements(e,n){const s=this.editor.model,r=dm(s);let o,c;if(e.isCollapsed||r){const u=r||e.getFirstPosition().parent,f=yl(u);this._direction=="backward"?(c=u,f&&!n?o=ur.first(u,{sameIndent:!0,lowerIndent:!0}):o=u.previousSibling):(o=u,c=u.nextSibling)}else o=e.getFirstPosition().parent,c=e.getLastPosition().parent;return{firstElement:o,lastElement:c}}}class LA extends Ri{constructor(e,n){super(e);x(this,"_direction");this._direction=n}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(n=>{const s=a_(this._getStartBlock(),n);this._fireAfterExecute(s)})}_fireAfterExecute(e){this.fire("afterExecute",jc(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,n=this._getStartBlock();return e.isCollapsed&&hn(n)&&!yl(n)}_getStartBlock(){const n=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?n:n.nextSibling}}class wK extends Ye{static get pluginName(){return"ListItemBoldIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[Mr]}init(){const t=this.editor,e=t.plugins.get("ListFormatting"),n=t.plugins.get(Mr);!t.plugins.has("BoldEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(e.registerFormatAttribute("bold","listItemBold"),n.registerDowncastStrategy({scope:"item",attributeName:"listItemBold",setAttributeOnDowncast(s,r,o,c){r&&(s.addClass("ck-list-marker-bold",o),Ge.isSafari&&!(c&&c.dataPipeline)&&s.setStyle("--ck-content-list-marker-dummy-bold","0",o))}}))}afterInit(){const t=this.editor,e=t.model;!t.plugins.has("BoldEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(e.schema.extend("$listItem",{allowAttributes:"listItemBold"}),e.schema.setAttributeProperties("listItemBold",{isFormatting:!0}),e.schema.addAttributeCheck(n=>{if(!n.last.getAttribute("listItemId"))return!1},"listItemBold"),t.conversion.for("upcast").attributeToAttribute({model:"listItemBold",view:{name:"li",classes:"ck-list-marker-bold"}}))}}class xK extends Ye{static get pluginName(){return"ListItemItalicIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[Mr]}init(){const t=this.editor,e=t.plugins.get("ListFormatting"),n=t.plugins.get(Mr);!t.plugins.has("ItalicEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(e.registerFormatAttribute("italic","listItemItalic"),n.registerDowncastStrategy({scope:"item",attributeName:"listItemItalic",setAttributeOnDowncast(s,r,o,c){r&&(s.addClass("ck-list-marker-italic",o),Ge.isSafari&&!(c&&c.dataPipeline)&&s.setStyle("--ck-content-list-marker-dummy-italic","0",o))}}))}afterInit(){const t=this.editor,e=t.model;!t.plugins.has("ItalicEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(e.schema.extend("$listItem",{allowAttributes:"listItemItalic"}),e.schema.setAttributeProperties("listItemItalic",{isFormatting:!0}),e.schema.addAttributeCheck(n=>{if(!n.last.getAttribute("listItemId"))return!1},"listItemItalic"),t.conversion.for("upcast").attributeToAttribute({model:"listItemItalic",view:{name:"li",classes:"ck-list-marker-italic"}}))}}class _K extends Ye{static get pluginName(){return"ListItemFontSizeIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[Mr]}init(){const t=this.editor,e=t.plugins.get("ListFormatting"),n=t.plugins.get(Mr);if(!t.plugins.has("FontSizeEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting"))return;const s=EA(t.config.get("fontSize.options"));e.registerFormatAttribute("fontSize","listItemFontSize"),n.registerDowncastStrategy({scope:"item",attributeName:"listItemFontSize",setAttributeOnDowncast(r,o,c,u){if(o){const f=s.find(p=>p.model==o);f&&f.view&&typeof f.view!="string"?f.view.styles?(r.addClass("ck-list-marker-font-size",c),r.setStyle("--ck-content-list-marker-font-size",f.view.styles["font-size"],c)):f.view.classes&&(r.addClass(`ck-list-marker-font-size-${o}`,c),Ge.isSafari&&!(u&&u.dataPipeline)&&r.setStyle("--ck-content-list-marker-dummy-font-size","0",c)):(r.addClass("ck-list-marker-font-size",c),r.setStyle("--ck-content-list-marker-font-size",o,c))}}})}afterInit(){const t=this.editor,e=t.model;if(!t.plugins.has("FontSizeEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting"))return;e.schema.extend("$listItem",{allowAttributes:"listItemFontSize"}),e.schema.setAttributeProperties("listItemFontSize",{isFormatting:!0}),e.schema.addAttributeCheck(s=>{if(!s.last.getAttribute("listItemId"))return!1},"listItemFontSize"),t.conversion.for("upcast").elementToAttribute({model:{key:"listItemFontSize",value:s=>s.getStyle("--ck-content-list-marker-font-size")},view:{name:"li",classes:"ck-list-marker-font-size",styles:{"--ck-content-list-marker-font-size":/.*/}}});const n=EA(t.config.get("fontSize.options"));for(const s of n)s.model&&s.view&&t.conversion.for("upcast").elementToAttribute({model:{key:"listItemFontSize",value:s.model},view:{name:"li",classes:`ck-list-marker-font-size-${s.model}`}})}}class EK extends Ye{static get pluginName(){return"ListItemFontColorIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[Mr]}init(){const t=this.editor,e=t.plugins.get("ListFormatting"),n=t.plugins.get(Mr);!t.plugins.has("FontColorEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(e.registerFormatAttribute("fontColor","listItemFontColor"),n.registerDowncastStrategy({scope:"item",attributeName:"listItemFontColor",setAttributeOnDowncast(s,r,o){r&&(s.addClass("ck-list-marker-color",o),s.setStyle("--ck-content-list-marker-color",r,o))}}))}afterInit(){const t=this.editor,e=t.model;!t.plugins.has("FontColorEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(e.schema.extend("$listItem",{allowAttributes:"listItemFontColor"}),e.schema.setAttributeProperties("listItemFontColor",{isFormatting:!0}),e.schema.addAttributeCheck(n=>{if(!n.last.getAttribute("listItemId"))return!1},"listItemFontColor"),t.conversion.for("upcast").attributeToAttribute({model:{key:"listItemFontColor",value:n=>n.getStyle("--ck-content-list-marker-color")},view:{name:"li",classes:"ck-list-marker-color",styles:{"--ck-content-list-marker-color":/.*/}}}))}}class kK extends Ye{static get pluginName(){return"ListItemFontFamilyIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[Mr]}init(){const t=this.editor,e=t.plugins.get("ListFormatting"),n=t.plugins.get(Mr);!t.plugins.has("FontFamilyEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(e.registerFormatAttribute("fontFamily","listItemFontFamily"),n.registerDowncastStrategy({scope:"item",attributeName:"listItemFontFamily",setAttributeOnDowncast(s,r,o){r&&(s.addClass("ck-list-marker-font-family",o),s.setStyle("--ck-content-list-marker-font-family",r,o))}}))}afterInit(){const t=this.editor,e=t.model;!t.plugins.has("FontFamilyEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(e.schema.extend("$listItem",{allowAttributes:"listItemFontFamily"}),e.schema.setAttributeProperties("listItemFontFamily",{isFormatting:!0}),e.schema.addAttributeCheck(n=>{if(!n.last.getAttribute("listItemId"))return!1},"listItemFontFamily"),t.conversion.for("upcast").attributeToAttribute({model:{key:"listItemFontFamily",value:n=>n.getStyle("--ck-content-list-marker-font-family")},view:{name:"li",classes:"ck-list-marker-font-family",styles:{"--ck-content-list-marker-font-family":/.*/}}}))}}class CK extends Ye{constructor(e){super(e);x(this,"_loadedFormatting",{});e.config.define("list.enableListItemMarkerFormatting",!0)}static get pluginName(){return"ListFormatting"}static get isOfficialPlugin(){return!0}static get requires(){return[wK,xK,_K,EK,kK]}afterInit(){this.editor.config.get("list.enableListItemMarkerFormatting")&&this._registerPostfixerForListItemFormatting()}_registerPostfixerForListItemFormatting(){const e=this.editor.model;e.document.registerPostFixer(n=>{const s=e.document.differ.getChanges(),r=new Set;let o=!1;for(const c of s)if(c.type==="attribute")(c.attributeKey=="listItemId"||c.attributeKey=="listType"||this._isInlineOrSelectionFormatting(c.attributeKey)||Object.values(this._loadedFormatting).includes(c.attributeKey))&&(hn(c.range.start.nodeAfter)?r.add(c.range.start.nodeAfter):hn(c.range.start.parent)&&r.add(c.range.start.parent));else if(hn(c.position.nodeAfter)&&r.add(c.position.nodeAfter),hn(c.position.nodeBefore)&&r.add(c.position.nodeBefore),hn(c.position.parent)&&r.add(c.position.parent),c.type=="insert"&&c.name!="$text"){const u=n.createRangeIn(c.position.nodeAfter);for(const f of u.getItems())hn(f)&&r.add(f)}for(const c of r){const u=SK(e,c,Object.keys(this._loadedFormatting));for(const[f,p]of Object.entries(u)){const g=this._loadedFormatting[f];(p&&AK(n,c,g,p)||!p&&TK(n,c,g))&&(o=!0)}}return o})}registerFormatAttribute(e,n){this._loadedFormatting[e]=n}_isInlineOrSelectionFormatting(e){return e.replace(/^selection:/,"")in this._loadedFormatting}}function SK(i,t,e){if(yl(t))return jA(i,t,e);const n=jd(t);return jA(i,n[0],e)}function jA(i,t,e){if(!NK(t)||i.schema.isLimit(t))return Object.fromEntries(e.map(c=>[c]));if(t.isEmpty)return Object.fromEntries(e.map(c=>[c,t.getAttribute(`selection:${c}`)]));const n=new Set(e),s={},o=i.createRangeIn(t).getWalker({ignoreElementEnd:!0});for(const{item:c}of o){for(const u of n)if(i.schema.checkAttribute(c,u)){const f=c.getAttribute(u);f===void 0?(n.delete(u),s[u]=void 0):s[u]===void 0?s[u]=f:s[u]!==f&&(n.delete(u),s[u]=void 0)}else u in s||(s[u]=void 0);if(!n.size)break;i.schema.isLimit(c)&&o.jumpTo(i.createPositionAfter(c))}return s}function AK(i,t,e,n){const s=jd(t);let r=!1;for(const o of s)(!o.hasAttribute(e)||o.getAttribute(e)!==n)&&(i.setAttribute(e,n,o),r=!0);return r}function TK(i,t,e){const n=jd(t);let s=!1;for(const r of n)r.hasAttribute(e)&&(i.removeAttribute(e,r),s=!0);return s}function NK(i){return["numbered","bulleted","customNumbered","customBulleted"].includes(i.getAttribute("listType"))}class RK extends Ye{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(t){return pK(t)}isFirstBlockOfListItem(t){return yl(t)}isListItemBlock(t){return hn(t)}expandListBlocksToCompleteItems(t,e={}){return Dm(t,e)}isNumberedListType(t){return vK(t)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function OK(i){return i.is("element","ol")||i.is("element","ul")}function l1(i){return i.is("element","li")}function IK(i){let t=0,e=i.parent;for(;e;){if(l1(e))t++;else{const n=e.previousSibling;n&&l1(n)&&t++}e=e.parent}return t}function PK(i,t,e,n=G5(e,t)){return i.createAttributeElement(W5(e),null,{priority:2*t/100-100,id:n})}function BK(i,t,e){return i.createAttributeElement("li",null,{priority:(2*t+1)/100-100,id:e})}function W5(i){return i=="numbered"||i=="customNumbered"?"ol":"ul"}function G5(i,t){return`list-${i}-${t}`}function Ir(i,t,e){const n=i.nodeBefore;if(hn(n)){let s=n;for(const{node:r}of new jm(s,"backward"))if(s=r,e.has(s)||(e.add(s),t.has(n)))return;t.add(s)}else{const s=i.nodeAfter;hn(s)&&t.add(s)}}function LK(i,t){let e=0,n=-1,s=null,r=!1;for(const{node:o}of i){const c=o.getAttribute("listIndent");if(c>e){let u;s===null?(s=c-e,u=e):(s>c&&(s=c),u=c-s),u>n+1&&(u=n+1),t.setAttribute("listIndent",u,o),r=!0,n=u}else s=null,e=c+1,n=c}return r}function jK(i,t,e){const n=new Set;let s=!1;for(const{node:r}of i){if(n.has(r))continue;let o=r.getAttribute("listType"),c=r.getAttribute("listItemId");if(t.has(c)&&(c=bd.next()),t.add(c),r.is("element","listItem")){r.getAttribute("listItemId")!=c&&(e.setAttribute("listItemId",c,r),s=!0);continue}for(const u of vl(r,{direction:"forward"}))n.add(u),u.getAttribute("listType")!=o&&(c=bd.next(),o=u.getAttribute("listType")),u.getAttribute("listItemId")!=c&&(e.setAttribute("listItemId",c,u),s=!0)}return s}function DK(){return(i,t,e)=>{const{writer:n,schema:s}=e;if(!t.modelRange)return;const r=Array.from(t.modelRange.getItems({shallow:!0})).filter(g=>s.checkAttribute(g,"listItemId"));if(!r.length)return;const o=t.viewItem.getAttribute("data-list-item-id")||bd.next();e.consumable.consume(t.viewItem,{attributes:"data-list-item-id"});const c=IK(t.viewItem);let u=t.viewItem.parent&&t.viewItem.parent.is("element","ol")?"numbered":"bulleted";const f=r[0].getAttribute("listType");f&&(u=f);const p={listItemId:o,listIndent:c,listType:u};for(const g of r)g.hasAttribute("listItemId")||n.setAttributes(p,g);r.length>1&&r[1].getAttribute("listItemId")!=p.listItemId&&e.keepEmptyElement(r[0])}}function MK(i,t,e,n){return()=>{const u=i.document.differ.getChanges(),f=[],p=new Set,g=new Set,v=new Set;for(const _ of u)if(_.type=="insert"&&_.name!="$text")Ir(_.position,p,v),_.attributes.has("listItemId")?g.add(_.position.nodeAfter):Ir(_.position.getShiftedBy(_.length),p,v);else if(_.type=="remove"&&_.attributes.has("listItemId"))Ir(_.position,p,v);else if(_.type=="attribute"){const E=_.range.start.nodeAfter;e.includes(_.attributeKey)?(Ir(_.range.start,p,v),_.attributeNewValue===null?(Ir(_.range.start.getShiftedBy(1),p,v),r(E)&&f.push(E)):g.add(E)):hn(E)&&r(E)&&f.push(E)}for(const _ of p.values())f.push(...s(_,g));for(const _ of new Set(f))t.reconvertItem(_)};function s(u,f){const p=[],g=new Set,v=[];for(const{node:_,previous:E}of new jm(u)){if(g.has(_))continue;const C=_.getAttribute("listIndent");E&&C<E.getAttribute("listIndent")&&(v.length=C+1),v[C]={modelAttributes:Object.fromEntries(Array.from(_.getAttributes()).filter(([R])=>e.includes(R))),modelElement:_};const T=vl(_,{direction:"forward"});for(const R of T)g.add(R),(r(R,T)||c(R,v,f))&&p.push(R)}return p}function r(u,f){const p=t.mapper.toViewElement(u);if(!p)return!1;if(o(p)||n.fire("checkElement",{modelElement:u,viewElement:p}))return!0;if(!u.is("element","paragraph")&&!u.is("element","listItem"))return!1;const v=Q5(u,e,f);return v&&p.is("element","p")?!0:!!(!v&&p.is("element","span"))}function o(u){for(u=u.parent;u.is("attributeElement")&&["ol","ul","li"].includes(u.name);)u=u.parent;return!!(u.getCustomProperty("$structureSlotParent")&&!t.mapper.toModelElement(u))}function c(u,f,p){if(p.has(u))return!1;const g=t.mapper.toViewElement(u);let v=f.length-1;for(let _=g.parent;!_.is("editableElement");_=_.parent){const E=l1(_),C=OK(_);if(!C&&!E)continue;const T=`checkAttributes:${E?"item":"list"}`;if(n.fire(T,{viewElement:_,modelAttributes:f[v].modelAttributes,modelReferenceElement:f[v].modelElement}))break;if(C&&(v--,v<0))return!1}return!0}}function DA(i,t,e,{dataPipeline:n}={}){const s=WK(i);return(r,o,c)=>{const{writer:u,mapper:f,consumable:p}=c,g=o.item;if(!i.includes(o.attributeKey)||!s(g,p))return;const v={...c.options,dataPipeline:n},_=VK(g,f,e,u);K5(_,u,f),HK(_,u);const E=qK(g,_,t,u,v);UK(g,E,t,u,v)}}function FK(i){return(t,e,n)=>{const{writer:s,mapper:r}=n,o=t.name.split(":")[1];if(!i.checkAttribute(o,"listItemId"))return;const c=r.toViewPosition(e.position),u=e.position.getShiftedBy(e.length),f=r.toViewPosition(u,{isPhantom:!0}),g=s.createRange(c,f).getTrimmed().end.nodeBefore;/* istanbul ignore next -- @preserve */g&&K5(g,s,r)}}function MA(i,{dataPipeline:t}={}){return(e,{writer:n})=>{if(!Q5(e,i))return null;if(!t)return n.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const s=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}function VK(i,t,e,n){const s=e.createRangeOn(i),o=t.toViewRange(s).getTrimmed().getWalker();for(const{item:c}of o)if(c.is("element")&&c.getCustomProperty("listItemMarker"))o.jumpTo(n.createPositionAfter(c));else if(c.is("element")&&!c.getCustomProperty("listItemWrapper"))return c}function zK(i,t){return(e,n)=>{if(n.modelPosition.offset>0)return;const s=n.modelPosition.parent;if(!hn(s)||!i.some(f=>f.scope=="itemMarker"&&f.canInjectMarkerIntoElement&&f.canInjectMarkerIntoElement(s)))return;const r=n.mapper.toViewElement(s),o=t.createRangeIn(r),c=o.getWalker();let u=o.start;for(const{item:f}of c){if(f.is("element")&&n.mapper.toModelElement(f)||f.is("$textProxy"))break;f.is("element")&&f.getCustomProperty("listItemMarker")&&(u=t.createPositionAfter(f),c.skip(({previousPosition:p})=>!p.isEqual(u)))}n.viewPosition=u}}function K5(i,t,e){for(;i.parent.is("attributeElement")&&i.parent.getCustomProperty("listItemWrapper");)t.unwrap(t.createRangeOn(i),i.parent);const n=[];s(t.createPositionBefore(i).getWalker({direction:"backward"})),s(t.createRangeIn(i).getWalker());for(const r of n)t.remove(r);function s(r){for(const{item:o}of r){if(o.is("element")&&e.toModelElement(o))break;o.is("element")&&o.getCustomProperty("listItemMarker")&&n.push(o)}}}function qK(i,t,e,n,{dataPipeline:s}){let r=n.createRangeOn(t);if(!yl(i))return r;for(const o of e){if(o.scope!="itemMarker")continue;const c=o.createElement(n,i,{dataPipeline:s});if(!c||(n.setCustomProperty("listItemMarker",!0,c),o.canInjectMarkerIntoElement&&o.canInjectMarkerIntoElement(i)?n.insert(n.createPositionAt(t,0),c):(n.insert(r.start,c),r=n.createRange(n.createPositionBefore(c),n.createPositionAfter(t))),!o.createWrapperElement||!o.canWrapElement))continue;const u=o.createWrapperElement(n,i,{dataPipeline:s});n.setCustomProperty("listItemWrapper",!0,u),o.canWrapElement(i)?r=n.wrap(r,u):(r=n.wrap(n.createRangeOn(c),u),r=n.createRange(r.start,n.createPositionAfter(t)))}return r}function HK(i,t){let e=i.parent;for(;e.is("attributeElement")&&["ul","ol","li"].includes(e.name);){const n=e.parent;t.unwrap(t.createRangeOn(i),e),e=n}}function UK(i,t,e,n,s){if(!i.hasAttribute("listIndent"))return;const r=i.getAttribute("listIndent");let o=i;for(let c=r;c>=0;c--){const u=BK(n,c,o.getAttribute("listItemId")),f=PK(n,c,o.getAttribute("listType"));for(const p of e)(p.scope=="list"||p.scope=="item")&&o.hasAttribute(p.attributeName)&&p.setAttributeOnDowncast(n,o.getAttribute(p.attributeName),p.scope=="list"?f:u,s);if(t=n.wrap(t,u),t=n.wrap(t,f),c==0||(o=ur.first(o,{lowerIndent:!0}),!o))break}}function WK(i){return(t,e)=>{const n=[];for(const s of i)t.hasAttribute(s)&&n.push(`attribute:${s}`);return n.every(s=>e.test(t,s)!==!1)?(n.forEach(s=>e.consume(t,s)),!0):!1}}function Q5(i,t,e=jd(i)){if(!hn(i))return!1;for(const n of i.getAttributeKeys())if(!(n.startsWith("selection:")||n=="htmlEmptyBlock")&&!t.includes(n))return!1;return e.length<2}const s0=["listType","listIndent","listItemId"];class Mr extends Ye{constructor(e){super(e);x(this,"_downcastStrategies",[]);e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[_b,Ld,RK,Oc,CK]}init(){const e=this.editor,n=e.model,s=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new q("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});n.schema.register("$listItem",{allowAttributes:s0}),s?(n.schema.extend("$container",{allowAttributesOf:"$listItem"}),n.schema.extend("$block",{allowAttributesOf:"$listItem"}),n.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):n.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const r of s0)n.schema.setAttributeProperties(r,{copyOnReplace:!0});e.commands.add("numberedList",new Bg(e,"numbered")),e.commands.add("bulletedList",new Bg(e,"bulleted")),e.commands.add("customNumberedList",new Bg(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new Bg(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new IA(e,"forward")),e.commands.add("outdentList",new IA(e,"backward")),e.commands.add("splitListItemBefore",new LA(e,"before")),e.commands.add("splitListItemAfter",new LA(e,"after")),s&&(e.commands.add("mergeListItemBackward",new BA(e,"backward")),e.commands.add("mergeListItemForward",new BA(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration(),this._setupListItemIdConversionStrategy()}afterInit(){const n=this.editor.commands,s=n.get("indent"),r=n.get("outdent");s&&s.registerChildCommand(n.get("indentList"),{priority:"high"}),r&&r.registerChildCommand(n.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...s0,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,n=e.commands.get("mergeListItemBackward"),s=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(r,o)=>{const c=e.model.document.selection;dm(e.model)||e.model.change(()=>{const u=c.getFirstPosition();if(c.isCollapsed&&o.direction=="backward"){if(!u.isAtStart)return;const f=u.parent;if(!hn(f))return;if(!ur.first(f,{sameAttributes:"listType",sameIndent:!0})&&f.getAttribute("listIndent")===0)OA(f)||e.execute("splitListItemAfter"),e.execute("outdentList");else{if(!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:FA(e.model,"backward")})}o.preventDefault(),r.stop()}else{if(c.isCollapsed&&!c.getLastPosition().isAtEnd||!s||!s.isEnabled)return;s.execute({shouldMergeOnBlocksContentLevel:FA(e.model,"forward")}),o.preventDefault(),r.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,n=e.model,s=e.commands,r=s.get("enter");this.listenTo(e.editing.view.document,"enter",(o,c)=>{const u=n.document,f=u.selection.getFirstPosition().parent;if(u.selection.isCollapsed&&hn(f)&&f.isEmpty&&!c.isSoft){const p=yl(f),g=OA(f);p&&g?(e.execute("outdentList"),c.preventDefault(),o.stop()):p&&!g?(e.execute("splitListItemAfter"),c.preventDefault(),o.stop()):g&&(e.execute("splitListItemBefore"),c.preventDefault(),o.stop())}},{context:"li"}),this.listenTo(r,"afterExecute",()=>{const o=s.get("splitListItemBefore");if(o.refresh(),!o.isEnabled)return;const u=e.model.document.selection.getLastPosition().parent;jd(u).length===2&&o.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(n,s)=>{const r=s.shiftKey?"outdentList":"indentList";this.editor.commands.get(r).isEnabled&&(e.execute(r),s.stopPropagation(),s.preventDefault(),n.stop())},{context:"li"})}_setupConversion(){const e=this.editor,n=e.model,s=this.getListAttributeNames(),r=e.config.get("list.multiBlock"),o=r?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(u,{writer:f})=>f.createElement(o,{listType:""})}).elementToElement({view:"p",model:(u,{writer:f})=>u.parent&&u.parent.is("element","li")?f.createElement(o,{listType:""}):null,converterPriority:"high"}).add(u=>{u.on("element:li",DK())}),r||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:o,view:MA(s),converterPriority:"high"}).add(u=>{u.on("attribute",DA(s,this._downcastStrategies,n)),u.on("remove",FK(n.schema))}),e.conversion.for("dataDowncast").elementToElement({model:o,view:MA(s,{dataPipeline:!0}),converterPriority:"high"}).add(u=>{u.on("attribute",DA(s,this._downcastStrategies,n,{dataPipeline:!0}))});const c=zK(this._downcastStrategies,e.editing.view);e.editing.mapper.on("modelToViewPosition",c),e.data.mapper.on("modelToViewPosition",c),this.listenTo(n.document,"change:data",MK(n,e.editing,s,this),{priority:"high"}),this.on("checkAttributes:item",(u,{viewElement:f,modelAttributes:p})=>{f.id!=p.listItemId&&(u.return=!0,u.stop())}),this.on("checkAttributes:list",(u,{viewElement:f,modelAttributes:p})=>{(f.name!=W5(p.listType)||f.id!=G5(p.listType,p.listIndent))&&(u.return=!0,u.stop())})}_setupModelPostFixing(){const e=this.editor.model,n=this.getListAttributeNames();e.document.registerPostFixer(s=>GK(e,s,n,this)),this.on("postFixer",(s,{listNodes:r,writer:o})=>{s.return=LK(r,o)||s.return},{priority:"high"}),this.on("postFixer",(s,{listNodes:r,writer:o,seenIds:c})=>{s.return=jK(r,c,o)||s.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,n=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",KK(e),{priority:"high"}),this.listenTo(n,"outputTransformation",(s,r)=>{e.change(o=>{const c=Array.from(r.content.getChildren()),u=c[c.length-1];if(c.length>1&&u.is("element")&&u.isEmpty&&c.slice(0,-1).every(hn)&&o.remove(u),r.method=="copy"||r.method=="cut"){const f=Array.from(r.content.getChildren());um(f)&&Eb(f,o)}})})}_setupAccessibilityIntegration(){const e=this.editor,n=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:n("Keystrokes that can be used in a list"),keystrokes:[{label:n("Increase list item indent"),keystroke:"Tab"},{label:n("Decrease list item indent"),keystroke:"Shift+Tab"}]})}_setupListItemIdConversionStrategy(){this.registerDowncastStrategy({scope:"item",attributeName:"listItemId",setAttributeOnDowncast(e,n,s,r){r&&(r.skipListItemIds||r.isClipboardPipeline)||e.setAttribute("data-list-item-id",n,s)}})}}function GK(i,t,e,n){const s=i.document.differ.getChanges(),r=new Set,o=new Set,c=n.editor.config.get("list.multiBlock");let u=!1;for(const p of s){if(p.type=="insert"&&p.name!="$text"){const g=p.position.nodeAfter;if(!i.schema.checkAttribute(g,"listItemId"))for(const v of Array.from(g.getAttributeKeys()))e.includes(v)&&(t.removeAttribute(v,g),u=!0);Ir(p.position,o,r),p.attributes.has("listItemId")||Ir(p.position.getShiftedBy(p.length),o,r);for(const{item:v,previousPosition:_}of i.createRangeIn(g))hn(v)&&Ir(_,o,r)}else p.type=="remove"?Ir(p.position,o,r):p.type=="attribute"&&e.includes(p.attributeKey)&&(Ir(p.range.start,o,r),p.attributeNewValue===null&&Ir(p.range.start.getShiftedBy(1),o,r));if(!c&&p.type=="attribute"&&s0.includes(p.attributeKey)){const g=p.range.start.nodeAfter;p.attributeNewValue===null&&g&&g.is("element","listItem")?(t.rename(g,"paragraph"),u=!0):p.attributeOldValue===null&&g&&g.is("element")&&g.name!="listItem"&&(t.rename(g,"listItem"),u=!0)}}const f=new Set;for(const p of o.values())u=n.fire("postFixer",{listNodes:new hK(p),listHead:p,writer:t,seenIds:f})||u;return u}function KK(i){return(t,[e,n])=>{const s=e.is("documentFragment")?Array.from(e.getChildren()):[e];if(!s.length)return;const o=(n?i.createSelection(n):i.document.selection).getFirstPosition();let c;if(hn(o.parent))c=o.parent;else if(hn(o.nodeBefore)&&hn(o.nodeAfter))c=o.nodeBefore;else return;i.change(u=>{const f=c.getAttribute("listType"),p=c.getAttribute("listIndent"),g=s[0].getAttribute("listIndent")||0,v=Math.max(p-g,0);for(const _ of s){const E=hn(_);c.is("element","listItem")&&_.is("element","paragraph")&&u.rename(_,"listItem"),u.setAttributes({listIndent:(E?_.getAttribute("listIndent"):0)+v,listItemId:E?_.getAttribute("listItemId"):bd.next(),listType:f},_)}})}}function FA(i,t){const e=i.document.selection;if(!e.isCollapsed)return!dm(i);if(t==="forward")return!0;const s=e.getFirstPosition().parent,r=s.previousSibling;return i.schema.isObject(r)?!1:r.isEmpty?!0:um([s,r])}function VA(i,t,e,n){i.ui.componentFactory.add(t,()=>{const s=zA(sn,i,t,e,n);return s.set({tooltip:!0,isToggleable:!0}),s}),i.ui.componentFactory.add(`menuBar:${t}`,()=>{const s=zA(hr,i,t,e,n);return s.set({role:"menuitemcheckbox",isToggleable:!0}),s})}function zA(i,t,e,n,s){const r=t.commands.get(e),o=new i(t.locale);return o.set({label:n,icon:s}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),o.on("execute",()=>{t.execute(e),t.editing.view.focus()}),o}class QK extends Ye{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||VA(this.editor,"numberedList",t("Numbered List"),Kq),this.editor.ui.componentFactory.has("bulletedList")||VA(this.editor,"bulletedList",t("Bulleted List"),Vq)}}class YK extends Ye{static get requires(){return[Mr,QK]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}const $K=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:i,typeAttribute:t,listType:e}of $K);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */vt.arrowup,vt.arrowdown,vt.esc;vt.enter,vt.tab;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function XK(){const i={resolve:null,promise:null};return i.promise=new Promise(t=>{i.resolve=t}),i}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ZK(i){let t=null;return(...e)=>(t||(t={current:i(...e)}),t.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Vi=new Array(256).fill("").map((i,t)=>("0"+t.toString(16)).slice(-2));function JK(){const[i,t,e,n]=crypto.getRandomValues(new Uint32Array(4));return"e"+Vi[i>>0&255]+Vi[i>>8&255]+Vi[i>>16&255]+Vi[i>>24&255]+Vi[t>>0&255]+Vi[t>>8&255]+Vi[t>>16&255]+Vi[t>>24&255]+Vi[e>>0&255]+Vi[e>>8&255]+Vi[e>>16&255]+Vi[e>>24&255]+Vi[n>>0&255]+Vi[n>>8&255]+Vi[n>>16&255]+Vi[n>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function eQ(i,t){const e=i.extraPlugins||[];return{...i,extraPlugins:[...e,...t.filter(n=>!e.includes(n))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Y5(i){return!!i&&/^\d+\.\d+\.\d+/.test(i)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function $5(i){return i?["nightly","alpha","internal","nightly-","staging"].some(t=>i.includes(t)):!1}function tQ(i){return Y5(i)||$5(i)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nQ(i){if(!Y5(i))throw new Error(`Invalid semantic version: ${i||"<blank>"}.`);const[t,e,n]=i.split(".");return{major:Number.parseInt(t,10),minor:Number.parseInt(e,10),patch:Number.parseInt(n,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function iQ(i){if($5(i))return 3;const{major:t}=nQ(i);switch(!0){case t>=44:return 3;case t>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sQ(){const{CKEDITOR_VERSION:i,CKEDITOR:t}=window;return tQ(i)?{source:t?"cdn":"npm",version:i}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function rQ(){const i=sQ();return i?iQ(i.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function X5(i,t){switch(t||(t=rQ()||void 0),t){case 1:case 2:return i===void 0;case 3:return i==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function oQ(i,t){return function(n){X5(n.config.get("licenseKey"))||n.on("collectUsageData",(s,{setUsageData:r})=>{r(`integration.${i}`,t)})}}var aQ=Object.defineProperty,lQ=(i,t,e)=>t in i?aQ(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,bs=(i,t,e)=>lQ(i,typeof t!="symbol"?t+"":t,e);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Z5=class J5{constructor(t,e){bs(this,"_lifecycle"),bs(this,"_element"),bs(this,"_releaseLock",null),bs(this,"_value",null),bs(this,"_afterMountCallbacks",[]),bs(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),bs(this,"release",ZK(()=>{const{_releaseLock:n,_state:s,_element:r,_lifecycle:o}=this;s.mountingInProgress?s.mountingInProgress.then(()=>o.unmount({element:r,mountResult:this.value})).catch(c=>{console.error("CKEditor unmounting error:",c)}).then(n.resolve).then(()=>{this._value=null}):(s.destroyedBeforeInitialization=!0,n.resolve())})),this._element=t,this._lifecycle=e,this._lock()}get value(){return this._value}discard(){this._value=null,this._releaseLock=null,this._afterMountCallbacks=[],this._state={destroyedBeforeInitialization:!1,mountingInProgress:null}}unsafeSetValue(t){this._value=t,this._afterMountCallbacks.forEach(e=>{this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(t)||e(t)}),this._afterMountCallbacks=[]}runAfterMount(t){const{_value:e,_afterMountCallbacks:n}=this;if(e){if(this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(e))return;t(e)}else n.push(t)}_lock(){const{_semaphores:t}=J5,{_state:e,_element:n,_lifecycle:s}=this,r=t.get(n)||Promise.resolve(null),o=XK();this._releaseLock=o;const c=r.then(()=>e.destroyedBeforeInitialization?Promise.resolve(void 0):(e.mountingInProgress=s.mount().then(u=>(u&&this.unsafeSetValue(u),u)),e.mountingInProgress)).then(async u=>{u&&s.afterMount&&await s.afterMount({element:n,mountResult:u})}).then(()=>o.promise).catch(u=>{console.error("CKEditor mounting error:",u)}).then(()=>{t.get(n)===c&&t.delete(n)});t.set(n,c)}};bs(Z5,"_semaphores",new Map);let cQ=Z5;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const uQ="$__CKEditorReactContextMetadata";function dQ(i,t){return{...t,[uQ]:i}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const fQ=it.createContext(null),hQ=i=>!!i&&typeof i=="object"&&"status"in i&&["initializing","initialized","error"].includes(i.status),e6=i=>t=>hQ(t)&&t.status===i,qA=e6("initializing"),mQ=i=>e6("initialized")(i)&&i.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const pQ=oQ("react",{version:"11.0.0",frameworkVersion:it.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function gQ(i){return X5(i.licenseKey)?i:eQ(i,[pQ])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const sw="Lock from React integration (@ckeditor/ckeditor5-react)";class t6 extends it.Component{constructor(t){super(t),bs(this,"domContainer",it.createRef()),bs(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:t}=window;if(!t)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[e]=t.split(".").map(Number);e>=42||t.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:t}=this;return t?t.value:null}get watchdog(){const{_semaphoreValue:t}=this;return t?t.watchdog:null}get editor(){const{_semaphoreValue:t}=this;return t?t.instance:null}shouldComponentUpdate(t){const{props:e,editorSemaphore:n}=this;return t.id!==e.id||t.disableWatchdog!==e.disableWatchdog?!0:(n&&(n.runAfterMount(({instance:s})=>{this._shouldUpdateEditorData(e,t,s)&&s.data.set(t.data)}),"disabled"in t&&n.runAfterMount(({instance:s})=>{t.disabled?s.enableReadOnlyMode(sw):s.disableReadOnlyMode(sw)})),!1)}componentDidMount(){qA(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){qA(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new cQ(this.domContainer.current,{isValueValid:t=>t&&!!t.instance,mount:async()=>{var t,e;try{return await this._initializeEditor()}catch(n){throw(e=(t=this.props).onError)==null||e.call(t,n,{phase:"initialization",willEditorRestart:!1}),n}},afterMount:({mountResult:t})=>{const{onReady:e}=this.props;e&&this.domContainer.current!==null&&e(t.instance)},unmount:async({element:t,mountResult:e})=>{const{onAfterDestroy:n}=this.props;try{await this._destroyEditor(e),t.innerHTML=""}finally{n&&n(e.instance)}}})}render(){return it.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const t=mQ(this.context)?new bQ(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),e={current:0};return t.setCreator(async(n,s)=>{var r;const{editorSemaphore:o}=this,{onAfterDestroy:c}=this.props;e.current>0&&c&&((r=o==null?void 0:o.value)!=null&&r.instance)&&c(o.value.instance);const u=await this._createEditor(n,s);return o&&e.current>0&&(o.unsafeSetValue({instance:u,watchdog:t}),setTimeout(()=>{this.props.onReady&&this.props.onReady(t.editor)})),e.current++,u}),t.on("error",(n,{error:s,causesRestart:r})=>{(this.props.onError||console.error)(s,{phase:"runtime",willEditorRestart:r})}),await t.create(this.domContainer.current,this._getConfig()),{watchdog:t,instance:t.editor}}_createEditor(t,e){const{contextItemMetadata:n}=this.props;return n&&(e=dQ(n,e)),this.props.editor.create(t,gQ(e)).then(s=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&s.enableReadOnlyMode(sw)}const r=s.model.document,o=s.editing.view.document;return r.on("change:data",c=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(c,s)}),o.on("focus",c=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(c,s)}),o.on("blur",c=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(c,s)}),s})}async _destroyEditor(t){const{watchdog:e,instance:n}=t;return new Promise((s,r)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(e)return await e.destroy(),s();if(n)return await n.destroy(),s();s()}catch(o){console.error(o),r(o)}})})}_shouldUpdateEditorData(t,e,n){return!(t.data===e.data||n.data.get()===e.data)}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...t,initialData:t.initialData||this.props.data||""}}}bs(t6,"contextType",fQ);class bQ{constructor(t){bs(this,"_contextWatchdog"),bs(this,"_id"),bs(this,"_creator"),this._contextWatchdog=t,this._id=JK()}setCreator(t){this._creator=t}create(t,e){return this._contextWatchdog.add({sourceElementOrData:t,config:e,creator:this._creator,id:this._id,type:"editor"})}on(t,e){this._contextWatchdog.on("itemError",(n,{itemId:s,error:r})=>{s===this._id&&e(null,{error:r,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function n6(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}const vQ=S.memo(S.forwardRef(({id:i,semaphore:t,rootName:e},n)=>{const s=S.useRef(null);return S.useEffect(()=>{let r,o;return t.runAfterMount(({instance:c})=>{if(!s.current)return;o=c;const{ui:u,model:f}=o,p=f.document.getRoot(e);p&&o.ui.getEditableElement(e)&&o.detachEditable(p),r=u.view.createEditable(e,s.current),u.addEditable(r),c.editing.view.forceRender()}),()=>{/* istanbul ignore next -- @preserve: It depends on the version of the React and may not happen all of the times. */if(o&&o.state!=="destroyed"&&s.current){const c=o.model.document.getRoot(e);/* istanbul ignore else -- @preserve */c&&o.detachEditable(c)}}},[t.revision]),it.createElement("div",{key:t.revision,id:i,ref:n6(n,s)})}));vQ.displayName="EditorEditable";const yQ=S.forwardRef(({editor:i},t)=>{const e=S.useRef(null);return S.useEffect(()=>{const n=e.current;if(!i||!n)return;const s=i.ui.view.toolbar.element;return n.appendChild(s),()=>{n.contains(s)&&n.removeChild(s)}},[i&&i.id]),it.createElement("div",{ref:n6(e,t)})});yQ.displayName="EditorToolbarWrapper";var bh={},ju={},Lg={},oc={},ac={},rw={},HA;function i6(){return HA||(HA=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Doctype=i.CDATA=i.Tag=i.Style=i.Script=i.Comment=i.Directive=i.Text=i.Root=i.isTag=i.ElementType=void 0;var t;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(t=i.ElementType||(i.ElementType={}));function e(n){return n.type===t.Tag||n.type===t.Script||n.type===t.Style}i.isTag=e,i.Root=t.Root,i.Text=t.Text,i.Directive=t.Directive,i.Comment=t.Comment,i.Script=t.Script,i.Style=t.Style,i.Tag=t.Tag,i.CDATA=t.CDATA,i.Doctype=t.Doctype})(rw)),rw}var bt={},UA;function WA(){if(UA)return bt;UA=1;var i=bt&&bt.__extends||(function(){var I=function(M,D){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,H){F.__proto__=H}||function(F,H){for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(F[$]=H[$])},I(M,D)};return function(M,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");I(M,D);function F(){this.constructor=M}M.prototype=D===null?Object.create(D):(F.prototype=D.prototype,new F)}})(),t=bt&&bt.__assign||function(){return t=Object.assign||function(I){for(var M,D=1,F=arguments.length;D<F;D++){M=arguments[D];for(var H in M)Object.prototype.hasOwnProperty.call(M,H)&&(I[H]=M[H])}return I},t.apply(this,arguments)};Object.defineProperty(bt,"__esModule",{value:!0}),bt.cloneNode=bt.hasChildren=bt.isDocument=bt.isDirective=bt.isComment=bt.isText=bt.isCDATA=bt.isTag=bt.Element=bt.Document=bt.CDATA=bt.NodeWithChildren=bt.ProcessingInstruction=bt.Comment=bt.Text=bt.DataNode=bt.Node=void 0;var e=i6(),n=(function(){function I(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(I.prototype,"parentNode",{get:function(){return this.parent},set:function(M){this.parent=M},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"previousSibling",{get:function(){return this.prev},set:function(M){this.prev=M},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"nextSibling",{get:function(){return this.next},set:function(M){this.next=M},enumerable:!1,configurable:!0}),I.prototype.cloneNode=function(M){return M===void 0&&(M=!1),B(this,M)},I})();bt.Node=n;var s=(function(I){i(M,I);function M(D){var F=I.call(this)||this;return F.data=D,F}return Object.defineProperty(M.prototype,"nodeValue",{get:function(){return this.data},set:function(D){this.data=D},enumerable:!1,configurable:!0}),M})(n);bt.DataNode=s;var r=(function(I){i(M,I);function M(){var D=I!==null&&I.apply(this,arguments)||this;return D.type=e.ElementType.Text,D}return Object.defineProperty(M.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),M})(s);bt.Text=r;var o=(function(I){i(M,I);function M(){var D=I!==null&&I.apply(this,arguments)||this;return D.type=e.ElementType.Comment,D}return Object.defineProperty(M.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),M})(s);bt.Comment=o;var c=(function(I){i(M,I);function M(D,F){var H=I.call(this,F)||this;return H.name=D,H.type=e.ElementType.Directive,H}return Object.defineProperty(M.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),M})(s);bt.ProcessingInstruction=c;var u=(function(I){i(M,I);function M(D){var F=I.call(this)||this;return F.children=D,F}return Object.defineProperty(M.prototype,"firstChild",{get:function(){var D;return(D=this.children[0])!==null&&D!==void 0?D:null},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"childNodes",{get:function(){return this.children},set:function(D){this.children=D},enumerable:!1,configurable:!0}),M})(n);bt.NodeWithChildren=u;var f=(function(I){i(M,I);function M(){var D=I!==null&&I.apply(this,arguments)||this;return D.type=e.ElementType.CDATA,D}return Object.defineProperty(M.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),M})(u);bt.CDATA=f;var p=(function(I){i(M,I);function M(){var D=I!==null&&I.apply(this,arguments)||this;return D.type=e.ElementType.Root,D}return Object.defineProperty(M.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),M})(u);bt.Document=p;var g=(function(I){i(M,I);function M(D,F,H,$){H===void 0&&(H=[]),$===void 0&&($=D==="script"?e.ElementType.Script:D==="style"?e.ElementType.Style:e.ElementType.Tag);var J=I.call(this,H)||this;return J.name=D,J.attribs=F,J.type=$,J}return Object.defineProperty(M.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"tagName",{get:function(){return this.name},set:function(D){this.name=D},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"attributes",{get:function(){var D=this;return Object.keys(this.attribs).map(function(F){var H,$;return{name:F,value:D.attribs[F],namespace:(H=D["x-attribsNamespace"])===null||H===void 0?void 0:H[F],prefix:($=D["x-attribsPrefix"])===null||$===void 0?void 0:$[F]}})},enumerable:!1,configurable:!0}),M})(u);bt.Element=g;function v(I){return(0,e.isTag)(I)}bt.isTag=v;function _(I){return I.type===e.ElementType.CDATA}bt.isCDATA=_;function E(I){return I.type===e.ElementType.Text}bt.isText=E;function C(I){return I.type===e.ElementType.Comment}bt.isComment=C;function T(I){return I.type===e.ElementType.Directive}bt.isDirective=T;function R(I){return I.type===e.ElementType.Root}bt.isDocument=R;function P(I){return Object.prototype.hasOwnProperty.call(I,"children")}bt.hasChildren=P;function B(I,M){M===void 0&&(M=!1);var D;if(E(I))D=new r(I.data);else if(C(I))D=new o(I.data);else if(v(I)){var F=M?V(I.children):[],H=new g(I.name,t({},I.attribs),F);F.forEach(function(_e){return _e.parent=H}),I.namespace!=null&&(H.namespace=I.namespace),I["x-attribsNamespace"]&&(H["x-attribsNamespace"]=t({},I["x-attribsNamespace"])),I["x-attribsPrefix"]&&(H["x-attribsPrefix"]=t({},I["x-attribsPrefix"])),D=H}else if(_(I)){var F=M?V(I.children):[],$=new f(F);F.forEach(function(re){return re.parent=$}),D=$}else if(R(I)){var F=M?V(I.children):[],J=new p(F);F.forEach(function(re){return re.parent=J}),I["x-mode"]&&(J["x-mode"]=I["x-mode"]),D=J}else if(T(I)){var be=new c(I.name,I.data);I["x-name"]!=null&&(be["x-name"]=I["x-name"],be["x-publicId"]=I["x-publicId"],be["x-systemId"]=I["x-systemId"]),D=be}else throw new Error("Not implemented yet: ".concat(I.type));return D.startIndex=I.startIndex,D.endIndex=I.endIndex,I.sourceCodeLocation!=null&&(D.sourceCodeLocation=I.sourceCodeLocation),D}bt.cloneNode=B;function V(I){for(var M=I.map(function(F){return B(F,!0)}),D=1;D<M.length;D++)M[D].prev=M[D-1],M[D-1].next=M[D];return M}return bt}var GA;function s6(){return GA||(GA=1,(function(i){var t=ac&&ac.__createBinding||(Object.create?(function(c,u,f,p){p===void 0&&(p=f);var g=Object.getOwnPropertyDescriptor(u,f);(!g||("get"in g?!u.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(c,p,g)}):(function(c,u,f,p){p===void 0&&(p=f),c[p]=u[f]})),e=ac&&ac.__exportStar||function(c,u){for(var f in c)f!=="default"&&!Object.prototype.hasOwnProperty.call(u,f)&&t(u,c,f)};Object.defineProperty(i,"__esModule",{value:!0}),i.DomHandler=void 0;var n=i6(),s=WA();e(WA(),i);var r={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=(function(){function c(u,f,p){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof f=="function"&&(p=f,f=r),typeof u=="object"&&(f=u,u=void 0),this.callback=u??null,this.options=f??r,this.elementCB=p??null}return c.prototype.onparserinit=function(u){this.parser=u},c.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},c.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},c.prototype.onerror=function(u){this.handleCallback(u)},c.prototype.onclosetag=function(){this.lastNode=null;var u=this.tagStack.pop();this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(u)},c.prototype.onopentag=function(u,f){var p=this.options.xmlMode?n.ElementType.Tag:void 0,g=new s.Element(u,f,void 0,p);this.addNode(g),this.tagStack.push(g)},c.prototype.ontext=function(u){var f=this.lastNode;if(f&&f.type===n.ElementType.Text)f.data+=u,this.options.withEndIndices&&(f.endIndex=this.parser.endIndex);else{var p=new s.Text(u);this.addNode(p),this.lastNode=p}},c.prototype.oncomment=function(u){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=u;return}var f=new s.Comment(u);this.addNode(f),this.lastNode=f},c.prototype.oncommentend=function(){this.lastNode=null},c.prototype.oncdatastart=function(){var u=new s.Text(""),f=new s.CDATA([u]);this.addNode(f),u.parent=f,this.lastNode=u},c.prototype.oncdataend=function(){this.lastNode=null},c.prototype.onprocessinginstruction=function(u,f){var p=new s.ProcessingInstruction(u,f);this.addNode(p)},c.prototype.handleCallback=function(u){if(typeof this.callback=="function")this.callback(u,this.dom);else if(u)throw u},c.prototype.addNode=function(u){var f=this.tagStack[this.tagStack.length-1],p=f.children[f.children.length-1];this.options.withStartIndices&&(u.startIndex=this.parser.startIndex),this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),f.children.push(u),p&&(u.prev=p,p.next=u),u.parent=f,this.lastNode=null},c})();i.DomHandler=o,i.default=o})(ac)),ac}var ow={},KA;function wQ(){return KA||(KA=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.CARRIAGE_RETURN_PLACEHOLDER_REGEX=i.CARRIAGE_RETURN_PLACEHOLDER=i.CARRIAGE_RETURN_REGEX=i.CARRIAGE_RETURN=i.CASE_SENSITIVE_TAG_NAMES_MAP=i.CASE_SENSITIVE_TAG_NAMES=void 0,i.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],i.CASE_SENSITIVE_TAG_NAMES_MAP=i.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,e){return t[e.toLowerCase()]=e,t},{}),i.CARRIAGE_RETURN="\r",i.CARRIAGE_RETURN_REGEX=new RegExp(i.CARRIAGE_RETURN,"g"),i.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now(),"__"),i.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(i.CARRIAGE_RETURN_PLACEHOLDER,"g")})(ow)),ow}var QA;function r6(){if(QA)return oc;QA=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.formatAttributes=n,oc.escapeSpecialCharacters=r,oc.revertEscapedCharacters=o,oc.formatDOM=c;var i=s6(),t=wQ();function e(u){return t.CASE_SENSITIVE_TAG_NAMES_MAP[u]}function n(u){for(var f={},p=0,g=u.length;p<g;p++){var v=u[p];f[v.name]=v.value}return f}function s(u){u=u.toLowerCase();var f=e(u);return f||u}function r(u){return u.replace(t.CARRIAGE_RETURN_REGEX,t.CARRIAGE_RETURN_PLACEHOLDER)}function o(u){return u.replace(t.CARRIAGE_RETURN_PLACEHOLDER_REGEX,t.CARRIAGE_RETURN)}function c(u,f,p){f===void 0&&(f=null);for(var g=[],v,_=0,E=u.length;_<E;_++){var C=u[_];switch(C.nodeType){case 1:{var T=s(C.nodeName);v=new i.Element(T,n(C.attributes)),v.children=c(T==="template"?C.content.childNodes:C.childNodes,v);break}case 3:v=new i.Text(o(C.nodeValue));break;case 8:v=new i.Comment(C.nodeValue);break;default:continue}var R=g[_-1]||null;R&&(R.next=v),v.parent=f,v.prev=R,v.next=null,g.push(v)}return p&&(v=new i.ProcessingInstruction(p.substring(0,p.indexOf(" ")).toLowerCase(),p),v.next=g[0]||null,v.parent=f,g.unshift(v),g[1]&&(g[1].prev=g[0])),g}return oc}var YA;function xQ(){if(YA)return Lg;YA=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.default=C;var i=r6(),t="html",e="head",n="body",s=/<([a-zA-Z]+[0-9]?)/,r=/<head[^]*>/i,o=/<body[^]*>/i,c=function(T,R){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},u=function(T,R){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},f=typeof window=="object"&&window.DOMParser;if(typeof f=="function"){var p=new f,g="text/html";u=function(T,R){return R&&(T="<".concat(R,">").concat(T,"</").concat(R,">")),p.parseFromString(T,g)},c=u}if(typeof document=="object"&&document.implementation){var v=document.implementation.createHTMLDocument();c=function(T,R){if(R){var P=v.documentElement.querySelector(R);return P&&(P.innerHTML=T),v}return v.documentElement.innerHTML=T,v}}var _=typeof document=="object"&&document.createElement("template"),E;_&&_.content&&(E=function(T){return _.innerHTML=T,_.content.childNodes});function C(T){var R,P;T=(0,i.escapeSpecialCharacters)(T);var B=T.match(s),V=B&&B[1]?B[1].toLowerCase():"";switch(V){case t:{var I=u(T);if(!r.test(T)){var M=I.querySelector(e);(R=M==null?void 0:M.parentNode)===null||R===void 0||R.removeChild(M)}if(!o.test(T)){var M=I.querySelector(n);(P=M==null?void 0:M.parentNode)===null||P===void 0||P.removeChild(M)}return I.querySelectorAll(t)}case e:case n:{var D=c(T).querySelectorAll(V);return o.test(T)&&r.test(T)?D[0].parentNode.childNodes:D}default:{if(E)return E(T);var M=c(T,n).querySelector(n);return M.childNodes}}}return Lg}var $A;function _Q(){if($A)return ju;$A=1;var i=ju&&ju.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ju,"__esModule",{value:!0}),ju.default=s;var t=i(xQ()),e=r6(),n=/<(![a-zA-Z\s]+)>/;function s(r){if(typeof r!="string")throw new TypeError("First argument must be a string");if(!r)return[];var o=r.match(n),c=o?o[1]:void 0;return(0,e.formatDOM)((0,t.default)(r),null,c)}return ju}var jg={},nr={},vh={},XA;function EQ(){if(XA)return vh;XA=1;var i=0;vh.SAME=i;var t=1;return vh.CAMELCASE=t,vh.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1},vh}var ZA;function kQ(){if(ZA)return nr;ZA=1;const i=0,t=1,e=2,n=3,s=4,r=5,o=6;function c(I){return f.hasOwnProperty(I)?f[I]:null}function u(I,M,D,F,H,$,J){this.acceptsBooleans=M===e||M===n||M===s,this.attributeName=F,this.attributeNamespace=H,this.mustUseProperty=D,this.propertyName=I,this.type=M,this.sanitizeURL=$,this.removeEmptyString=J}const f={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(I=>{f[I]=new u(I,i,!1,I,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([I,M])=>{f[I]=new u(I,t,!1,M,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(I=>{f[I]=new u(I,e,!1,I.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(I=>{f[I]=new u(I,e,!1,I,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(I=>{f[I]=new u(I,n,!1,I.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(I=>{f[I]=new u(I,n,!0,I,null,!1,!1)}),["capture","download"].forEach(I=>{f[I]=new u(I,s,!1,I,null,!1,!1)}),["cols","rows","size","span"].forEach(I=>{f[I]=new u(I,o,!1,I,null,!1,!1)}),["rowSpan","start"].forEach(I=>{f[I]=new u(I,r,!1,I.toLowerCase(),null,!1,!1)});const g=/[\-\:]([a-z])/g,v=I=>I[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(I=>{const M=I.replace(g,v);f[M]=new u(M,t,!1,I,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(I=>{const M=I.replace(g,v);f[M]=new u(M,t,!1,I,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(I=>{const M=I.replace(g,v);f[M]=new u(M,t,!1,I,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(I=>{f[I]=new u(I,t,!1,I.toLowerCase(),null,!1,!1)});const _="xlinkHref";f[_]=new u("xlinkHref",t,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(I=>{f[I]=new u(I,t,!1,I.toLowerCase(),null,!0,!0)});const{CAMELCASE:E,SAME:C,possibleStandardNames:T}=EQ(),P=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD"+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",B=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+P+"]*$")),V=Object.keys(T).reduce((I,M)=>{const D=T[M];return D===C?I[M]=M:D===E?I[M.toLowerCase()]=M:I[M]=D,I},{});return nr.BOOLEAN=n,nr.BOOLEANISH_STRING=e,nr.NUMERIC=r,nr.OVERLOADED_BOOLEAN=s,nr.POSITIVE_NUMERIC=o,nr.RESERVED=i,nr.STRING=t,nr.getPropertyInfo=c,nr.isCustomAttribute=B,nr.possibleStandardNames=V,nr}var yh={},Du={},aw,JA;function CQ(){if(JA)return aw;JA=1;var i=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,r=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,c=/^\s+|\s+$/g,u=`
`,f="/",p="*",g="",v="comment",_="declaration";function E(T,R){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];R=R||{};var P=1,B=1;function V(re){var le=re.match(t);le&&(P+=le.length);var W=re.lastIndexOf(u);B=~W?re.length-W:B+re.length}function I(){var re={line:P,column:B};return function(le){return le.position=new M(re),H(),le}}function M(re){this.start=re,this.end={line:P,column:B},this.source=R.source}M.prototype.content=T;function D(re){var le=new Error(R.source+":"+P+":"+B+": "+re);if(le.reason=re,le.filename=R.source,le.line=P,le.column=B,le.source=T,!R.silent)throw le}function F(re){var le=re.exec(T);if(le){var W=le[0];return V(W),T=T.slice(W.length),le}}function H(){F(e)}function $(re){var le;for(re=re||[];le=J();)le!==!1&&re.push(le);return re}function J(){var re=I();if(!(f!=T.charAt(0)||p!=T.charAt(1))){for(var le=2;g!=T.charAt(le)&&(p!=T.charAt(le)||f!=T.charAt(le+1));)++le;if(le+=2,g===T.charAt(le-1))return D("End of comment missing");var W=T.slice(2,le-2);return B+=2,V(W),T=T.slice(le),B+=2,re({type:v,comment:W})}}function be(){var re=I(),le=F(n);if(le){if(J(),!F(s))return D("property missing ':'");var W=F(r),ae=re({type:_,property:C(le[0].replace(i,g)),value:W?C(W[0].replace(i,g)):g});return F(o),ae}}function _e(){var re=[];$(re);for(var le;le=be();)le!==!1&&(re.push(le),$(re));return re}return H(),_e()}function C(T){return T?T.replace(c,g):g}return aw=E,aw}var eT;function SQ(){if(eT)return Du;eT=1;var i=Du&&Du.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Du,"__esModule",{value:!0}),Du.default=e;const t=i(CQ());function e(n,s){let r=null;if(!n||typeof n!="string")return r;const o=(0,t.default)(n),c=typeof s=="function";return o.forEach(u=>{if(u.type!=="declaration")return;const{property:f,value:p}=u;c?s(f,p,u):p&&(r=r||{},r[f]=p)}),r}return Du}var wh={},tT;function AQ(){if(tT)return wh;tT=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.camelCase=void 0;var i=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,e=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,r=function(f){return!f||e.test(f)||i.test(f)},o=function(f,p){return p.toUpperCase()},c=function(f,p){return"".concat(p,"-")},u=function(f,p){return p===void 0&&(p={}),r(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(s,c):f=f.replace(n,c),f.replace(t,o))};return wh.camelCase=u,wh}var xh,nT;function TQ(){if(nT)return xh;nT=1;var i=xh&&xh.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=i(SQ()),e=AQ();function n(s,r){var o={};return!s||typeof s!="string"||(0,t.default)(s,function(c,u){c&&u&&(o[(0,e.camelCase)(c,r)]=u)}),o}return n.default=n,xh=n,xh}var iT;function o6(){return iT||(iT=1,(function(i){var t=yh&&yh.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(i,"__esModule",{value:!0}),i.returnFirstArg=i.canTextBeChildOfNode=i.ELEMENTS_WITH_NO_TEXT_CHILDREN=i.PRESERVE_CUSTOM_ATTRIBUTES=void 0,i.isCustomComponent=r,i.setStyleProp=c;var e=gm(),n=t(TQ()),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function r(p,g){return p.includes("-")?!s.has(p):!!(g&&typeof g.is=="string")}var o={reactCompat:!0};function c(p,g){if(typeof p=="string"){if(!p.trim()){g.style={};return}try{g.style=(0,n.default)(p,o)}catch{g.style={}}}}i.PRESERVE_CUSTOM_ATTRIBUTES=Number(e.version.split(".")[0])>=16,i.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var u=function(p){return!i.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(p.name)};i.canTextBeChildOfNode=u;var f=function(p){return p};i.returnFirstArg=f})(yh)),yh}var sT;function a6(){if(sT)return jg;sT=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.default=r;var i=kQ(),t=o6(),e=["checked","value"],n=["input","select","textarea"],s={reset:!0,submit:!0};function r(c,u){c===void 0&&(c={});var f={},p=!!(c.type&&s[c.type]);for(var g in c){var v=c[g];if((0,i.isCustomAttribute)(g)){f[g]=v;continue}var _=g.toLowerCase(),E=o(_);if(E){var C=(0,i.getPropertyInfo)(E);switch(e.includes(E)&&n.includes(u)&&!p&&(E=o("default"+_)),f[E]=v,C&&C.type){case i.BOOLEAN:f[E]=!0;break;case i.OVERLOADED_BOOLEAN:v===""&&(f[E]=!0);break}continue}t.PRESERVE_CUSTOM_ATTRIBUTES&&(f[g]=v)}return(0,t.setStyleProp)(c.style,f),f}function o(c){return i.possibleStandardNames[c]}return jg}var Mu={},rT;function NQ(){if(rT)return Mu;rT=1;var i=Mu&&Mu.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.default=r;var t=gm(),e=i(a6()),n=o6(),s={cloneElement:t.cloneElement,createElement:t.createElement,isValidElement:t.isValidElement};function r(c,u){u===void 0&&(u={});for(var f=[],p=typeof u.replace=="function",g=u.transform||n.returnFirstArg,v=u.library||s,_=v.cloneElement,E=v.createElement,C=v.isValidElement,T=c.length,R=0;R<T;R++){var P=c[R];if(p){var B=u.replace(P,R);if(C(B)){T>1&&(B=_(B,{key:B.key||R})),f.push(g(B,P,R));continue}}if(P.type==="text"){var V=!P.data.trim().length;if(V&&P.parent&&!(0,n.canTextBeChildOfNode)(P.parent)||u.trim&&V)continue;f.push(g(P.data,P,R));continue}var I=P,M={};o(I)?((0,n.setStyleProp)(I.attribs.style,I.attribs),M=I.attribs):I.attribs&&(M=(0,e.default)(I.attribs,I.name));var D=void 0;switch(P.type){case"script":case"style":P.children[0]&&(M.dangerouslySetInnerHTML={__html:P.children[0].data});break;case"tag":P.name==="textarea"&&P.children[0]?M.defaultValue=P.children[0].data:P.children&&P.children.length&&(D=r(P.children,u));break;default:continue}T>1&&(M.key=R),f.push(g(E(P.name,M,D),P,R))}return f.length===1?f[0]:f}function o(c){return n.PRESERVE_CUSTOM_ATTRIBUTES&&c.type==="tag"&&(0,n.isCustomComponent)(c.name,c.attribs)}return Mu}var oT;function RQ(){return oT||(oT=1,(function(i){var t=bh&&bh.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.htmlToDOM=i.domToReact=i.attributesToProps=i.Text=i.ProcessingInstruction=i.Element=i.Comment=void 0,i.default=c;var e=t(_Q());i.htmlToDOM=e.default;var n=t(a6());i.attributesToProps=n.default;var s=t(NQ());i.domToReact=s.default;var r=s6();Object.defineProperty(i,"Comment",{enumerable:!0,get:function(){return r.Comment}}),Object.defineProperty(i,"Element",{enumerable:!0,get:function(){return r.Element}}),Object.defineProperty(i,"ProcessingInstruction",{enumerable:!0,get:function(){return r.ProcessingInstruction}}),Object.defineProperty(i,"Text",{enumerable:!0,get:function(){return r.Text}});var o={lowerCaseAttributeNames:!1};function c(u,f){if(typeof u!="string")throw new TypeError("First argument must be a string");return u?(0,s.default)((0,e.default)(u,(f==null?void 0:f.htmlparser2)||o),f):[]}})(bh)),bh}var OQ=RQ();const aT=wl(OQ),IQ=aT.default||aT;var Gt;(function(i){i.Root="root",i.Text="text",i.Directive="directive",i.Comment="comment",i.Script="script",i.Style="style",i.Tag="tag",i.CDATA="cdata",i.Doctype="doctype"})(Gt||(Gt={}));function PQ(i){return i.type===Gt.Tag||i.type===Gt.Script||i.type===Gt.Style}const BQ=Gt.Root,LQ=Gt.Text,jQ=Gt.Directive,DQ=Gt.Comment,MQ=Gt.Script,FQ=Gt.Style,VQ=Gt.Tag,zQ=Gt.CDATA,qQ=Gt.Doctype;let l6=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return h6(this,t)}};class l_ extends l6{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}class c1 extends l_{constructor(){super(...arguments),this.type=Gt.Text}get nodeType(){return 3}}class c6 extends l_{constructor(){super(...arguments),this.type=Gt.Comment}get nodeType(){return 8}}class u6 extends l_{constructor(t,e){super(e),this.name=t,this.type=Gt.Directive}get nodeType(){return 1}}class c_ extends l6{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class d6 extends c_{constructor(){super(...arguments),this.type=Gt.CDATA}get nodeType(){return 4}}class u1 extends c_{constructor(){super(...arguments),this.type=Gt.Root}get nodeType(){return 9}}let f6=class extends c_{constructor(t,e,n=[],s=t==="script"?Gt.Script:t==="style"?Gt.Style:Gt.Tag){super(n),this.name=t,this.attribs=e,this.type=s}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var e,n;return{name:t,value:this.attribs[t],namespace:(e=this["x-attribsNamespace"])===null||e===void 0?void 0:e[t],prefix:(n=this["x-attribsPrefix"])===null||n===void 0?void 0:n[t]}})}};function u_(i){return PQ(i)}function HQ(i){return i.type===Gt.CDATA}function UQ(i){return i.type===Gt.Text}function WQ(i){return i.type===Gt.Comment}function GQ(i){return i.type===Gt.Directive}function KQ(i){return i.type===Gt.Root}function h6(i,t=!1){let e;if(UQ(i))e=new c1(i.data);else if(WQ(i))e=new c6(i.data);else if(u_(i)){const n=t?lw(i.children):[],s=new f6(i.name,{...i.attribs},n);n.forEach(r=>r.parent=s),i.namespace!=null&&(s.namespace=i.namespace),i["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...i["x-attribsNamespace"]}),i["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...i["x-attribsPrefix"]}),e=s}else if(HQ(i)){const n=t?lw(i.children):[],s=new d6(n);n.forEach(r=>r.parent=s),e=s}else if(KQ(i)){const n=t?lw(i.children):[],s=new u1(n);n.forEach(r=>r.parent=s),i["x-mode"]&&(s["x-mode"]=i["x-mode"]),e=s}else if(GQ(i)){const n=new u6(i.name,i.data);i["x-name"]!=null&&(n["x-name"]=i["x-name"],n["x-publicId"]=i["x-publicId"],n["x-systemId"]=i["x-systemId"]),e=n}else throw new Error(`Not implemented yet: ${i.type}`);return e.startIndex=i.startIndex,e.endIndex=i.endIndex,i.sourceCodeLocation!=null&&(e.sourceCodeLocation=i.sourceCodeLocation),e}function lw(i){const t=i.map(e=>h6(e,!0));for(let e=1;e<t.length;e++)t[e].prev=t[e-1],t[e-1].next=t[e];return t}const lT={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class QQ{constructor(t,e,n){this.dom=[],this.root=new u1(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof e=="function"&&(n=e,e=lT),typeof t=="object"&&(e=t,t=void 0),this.callback=t??null,this.options=e??lT,this.elementCB=n??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new u1(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,e){const n=this.options.xmlMode?Gt.Tag:void 0,s=new f6(t,e,void 0,n);this.addNode(s),this.tagStack.push(s)}ontext(t){const{lastNode:e}=this;if(e&&e.type===Gt.Text)e.data+=t,this.options.withEndIndices&&(e.endIndex=this.parser.endIndex);else{const n=new c1(t);this.addNode(n),this.lastNode=n}}oncomment(t){if(this.lastNode&&this.lastNode.type===Gt.Comment){this.lastNode.data+=t;return}const e=new c6(t);this.addNode(e),this.lastNode=e}oncommentend(){this.lastNode=null}oncdatastart(){const t=new c1(""),e=new d6([t]);this.addNode(e),t.parent=e,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,e){const n=new u6(t,e);this.addNode(n)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const e=this.tagStack[this.tagStack.length-1],n=e.children[e.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),e.children.push(t),n&&(t.prev=n,n.next=t),t.parent=e,this.lastNode=null}}const YQ=/\n/g;function $Q(i){const t=[...i.matchAll(YQ)].map((n=>n.index||0));t.unshift(-1);const e=d1(t,0,t.length);return n=>m6(e,n)}function d1(i,t,e){if(e-t==1)return{offset:i[t],index:t+1};const n=Math.ceil((t+e)/2),s=d1(i,t,n),r=d1(i,n,e);return{offset:s.offset,low:s,high:r}}function m6(i,t){return(function(e){return Object.prototype.hasOwnProperty.call(e,"index")})(i)?{line:i.index,column:t-i.offset}:m6(i.high.offset<t?i.high:i.low,t)}function p6(i,t="",e={}){const n=typeof t!="string"?t:e,s=typeof t=="string"?t:"",r=i.map(XQ),o=!!n.lineNumbers;return function(c,u=0){const f=o?$Q(c):()=>({line:0,column:0});let p=u;const g=[];e:for(;p<c.length;){let v=!1;for(const _ of r){_.regex.lastIndex=p;const E=_.regex.exec(c);if(E&&E[0].length>0){if(!_.discard){const C=f(p),T=typeof _.replace=="string"?E[0].replace(new RegExp(_.regex.source,_.regex.flags),_.replace):E[0];g.push({state:s,name:_.name,text:T,offset:p,len:E[0].length,line:C.line,column:C.column})}if(p=_.regex.lastIndex,v=!0,_.push){const C=_.push(c,p);g.push(...C.tokens),p=C.offset}if(_.pop)break e;break}}if(!v)break}return{tokens:g,offset:p,complete:c.length<=p}}}function XQ(i,t){return{...i,regex:ZQ(i,t)}}function ZQ(i,t){if(i.name.length===0)throw new Error(`Rule #${t} has empty name, which is not allowed.`);if((function(e){return Object.prototype.hasOwnProperty.call(e,"regex")})(i))return(function(e){if(e.global)throw new Error(`Regular expression /${e.source}/${e.flags} contains the global flag, which is not allowed.`);return e.sticky?e:new RegExp(e.source,e.flags+"y")})(i.regex);if((function(e){return Object.prototype.hasOwnProperty.call(e,"str")})(i)){if(i.str.length===0)throw new Error(`Rule #${t} ("${i.name}") has empty "str" property, which is not allowed.`);return new RegExp(cT(i.str),"y")}return new RegExp(cT(i.name),"y")}function cT(i){return i.replace(/[-[\]{}()*+!<=:?./\\^$|#\s,]/g,"\\$&")}function va(i,t){return(e,n)=>{let s=n,r;return n<e.tokens.length&&(r=i(e.tokens[n],e,n),r!==void 0&&s++),r===void 0?{matched:!1}:{matched:!0,position:s,value:r}}}function d_(i,t){return i.matched?{matched:!0,position:i.position,value:t(i.value,i.position)}:i}function R0(i,t){return i.matched?t(i):i}function Es(i,t){return(e,n)=>d_(i(e,n),(s,r)=>t(s,e,n,r))}function O0(i,t){return(e,n)=>{const s=i(e,n);return s.matched?s:{matched:!0,position:n,value:t}}}function kb(...i){return(t,e)=>{for(const n of i){const s=n(t,e);if(s.matched)return s}return{matched:!1}}}function Dc(i,t){return(e,n)=>{const s=i(e,n);return s.matched?s:t(e,n)}}function JQ(i,t){return(e,n)=>{const s=[];let r=!0;do{const o=i(e,n);o.matched&&t(o.value,s.length+1,e,n,o.position)?(s.push(o.value),n=o.position):r=!1}while(r);return{matched:!0,position:n,value:s}}}function f_(i){return JQ(i,()=>!0)}function eY(i){return ts(i,f_(i),(t,e)=>[t,...e])}function ts(i,t,e){return(n,s)=>R0(i(n,s),r=>d_(t(n,r.position),(o,c)=>e(r.value,o,n,s,c)))}function tY(i,t){return ts(i,t,e=>e)}function uT(i,t){return ts(i,t,(e,n)=>n)}function h_(i,t,e,n){return(s,r)=>R0(i(s,r),o=>R0(t(s,o.position),c=>d_(e(s,c.position),(u,f)=>n(o.value,c.value,u,s,r,f))))}function g6(i,t,e){return h_(i,t,e,(n,s)=>s)}function nY(...i){return(t,e)=>{const n=[];let s=e;for(const r of i){const o=r(t,s);if(o.matched)n.push(o.value),s=o.position;else return{matched:!1}}return{matched:!0,position:s,value:n}}}function iY(...i){return sY(nY(...i))}function sY(i){return Es(i,t=>t.flatMap(e=>e))}function rY(i,t){return(e,n)=>{let s=!0,r=i,o=n;do{const c=t(r,e,o)(e,o);c.matched?(r=c.value,o=c.position):s=!1}while(s);return{matched:!0,position:o,value:r}}}function oY(i,t,e){return rY(i,n=>Es(t,(s,r,o,c)=>e(n,s,r,o,c)))}function aY(i,t,e){return lY(i,n=>oY(n,ts(t,e,(s,r)=>[s,r]),(s,[r,o])=>r(s,o)))}function lY(i,t){return(e,n)=>R0(i(e,n),s=>t(s.value,e,n,s.position)(e,s.position))}const cY="(?:[ \\t\\r\\n\\f]*)",b6="(?:\\n|\\r\\n|\\r|\\f)",Cb="[^\\x00-\\x7F]",Mm="(?:\\\\[0-9a-f]{1,6}(?:\\r\\n|[ \\n\\r\\t\\f])?)",Fm="(?:\\\\[^\\n\\r\\f0-9a-f])",uY=`(?:[_a-z]|${Cb}|${Mm}|${Fm})`,v6=`(?:[_a-z0-9-]|${Cb}|${Mm}|${Fm})`,dY=`(?:${v6}+)`,fY=`(?:[-]?${uY}${v6}*)`,hY=`'([^\\n\\r\\f\\\\']|\\\\${b6}|${Cb}|${Mm}|${Fm})*'`,mY=`"([^\\n\\r\\f\\\\"]|\\\\${b6}|${Cb}|${Mm}|${Fm})*"`,pY=p6([{name:"ws",regex:new RegExp(cY)},{name:"hash",regex:new RegExp(`#${dY}`,"i")},{name:"ident",regex:new RegExp(fY,"i")},{name:"str1",regex:new RegExp(hY,"i")},{name:"str2",regex:new RegExp(mY,"i")},{name:"*"},{name:"."},{name:","},{name:"["},{name:"]"},{name:"="},{name:">"},{name:"|"},{name:"+"},{name:"~"},{name:"^"},{name:"$"}]),gY=p6([{name:"unicode",regex:new RegExp(Mm,"i")},{name:"escape",regex:new RegExp(Fm,"i")},{name:"any",regex:new RegExp("[\\s\\S]","i")}]);function y6([i,t,e],[n,s,r]){return[i+n,t+s,e+r]}function bY(i){return i.reduce(y6,[0,0,0])}const vY=va(i=>i.name==="unicode"?String.fromCodePoint(parseInt(i.text.slice(1),16)):void 0),yY=va(i=>i.name==="escape"?i.text.slice(1):void 0),wY=va(i=>i.name==="any"?i.text:void 0),xY=Es(f_(kb(vY,yY,wY)),i=>i.join(""));function m_(i){const t=gY(i);return xY({tokens:t.tokens,options:void 0},0).value}function Cn(i){return va(t=>t.name===i?!0:void 0)}const p_=va(i=>i.name==="ws"?null:void 0),f1=O0(p_,null);function fm(i){return g6(f1,i,f1)}const hm=va(i=>i.name==="ident"?m_(i.text):void 0),_Y=va(i=>i.name==="hash"?m_(i.text.slice(1)):void 0),EY=va(i=>i.name.startsWith("str")?m_(i.text.slice(1,-1)):void 0),w6=tY(O0(hm,""),Cn("|")),g_=Dc(ts(w6,hm,(i,t)=>({name:t,namespace:i})),Es(hm,i=>({name:i,namespace:null}))),kY=Dc(ts(w6,Cn("*"),i=>({type:"universal",namespace:i,specificity:[0,0,0]})),Es(Cn("*"),()=>({type:"universal",namespace:null,specificity:[0,0,0]}))),CY=Es(g_,({name:i,namespace:t})=>({type:"tag",name:i,namespace:t,specificity:[0,0,1]})),SY=ts(Cn("."),hm,(i,t)=>({type:"class",name:t,specificity:[0,1,0]})),AY=Es(_Y,i=>({type:"id",name:i,specificity:[1,0,0]})),dT=va(i=>{if(i.name==="ident"){if(i.text==="i"||i.text==="I")return"i";if(i.text==="s"||i.text==="S")return"s"}}),TY=Dc(ts(EY,O0(uT(f1,dT),null),(i,t)=>({value:i,modifier:t})),ts(hm,O0(uT(p_,dT),null),(i,t)=>({value:i,modifier:t}))),NY=kb(Es(Cn("="),()=>"="),ts(Cn("~"),Cn("="),()=>"~="),ts(Cn("|"),Cn("="),()=>"|="),ts(Cn("^"),Cn("="),()=>"^="),ts(Cn("$"),Cn("="),()=>"$="),ts(Cn("*"),Cn("="),()=>"*=")),RY=h_(Cn("["),fm(g_),Cn("]"),(i,{name:t,namespace:e})=>({type:"attrPresence",name:t,namespace:e,specificity:[0,1,0]})),OY=g6(Cn("["),h_(fm(g_),NY,fm(TY),({name:i,namespace:t},e,{value:n,modifier:s})=>({type:"attrValue",name:i,namespace:t,matcher:e,value:n,modifier:s,specificity:[0,1,0]})),Cn("]")),IY=Dc(RY,OY),PY=Dc(kY,CY),fT=kb(AY,SY,IY),hT=Es(Dc(iY(PY,f_(fT)),eY(fT)),i=>({type:"compound",list:i,specificity:bY(i.map(t=>t.specificity))})),BY=kb(Es(Cn(">"),()=>">"),Es(Cn("+"),()=>"+"),Es(Cn("~"),()=>"~"),ts(Cn("|"),Cn("|"),()=>"||")),LY=Dc(fm(BY),Es(p_,()=>" ")),jY=aY(hT,Es(LY,i=>(t,e)=>({type:"compound",list:[...e.list,{type:"combinator",combinator:i,left:t,specificity:t.specificity}],specificity:y6(t.specificity,e.specificity)})),hT);function DY(i,t){if(!(typeof t=="string"||t instanceof String))throw new Error("Expected a selector string. Actual input is not a string!");const e=pY(t);if(!e.complete)throw new Error(`The input "${t}" was only partially tokenized, stopped at offset ${e.offset}!
`+mT(t,e.offset));const n=fm(i)({tokens:e.tokens,options:void 0},0);if(!n.matched)throw new Error(`No match for "${t}" input!`);if(n.position<e.tokens.length){const s=e.tokens[n.position];throw new Error(`The input "${t}" was only partially parsed, stopped at offset ${s.offset}!
`+mT(t,s.offset,s.len))}return n.value}function mT(i,t,e=1){return`${i.replace(/(\t)|(\r)|(\n)/g,(n,s,r)=>s?"":r?"":"")}
${"".padEnd(t)}${"^".repeat(e)}`}function MY(i){return DY(jY,i)}function po(i){if(!i.type)throw new Error("This is not an AST node.");switch(i.type){case"universal":return Dg(i.namespace)+"*";case"tag":return Dg(i.namespace)+Gu(i.name);case"class":return"."+Gu(i.name);case"id":return"#"+Gu(i.name);case"attrPresence":return`[${Dg(i.namespace)}${Gu(i.name)}]`;case"attrValue":return`[${Dg(i.namespace)}${Gu(i.name)}${i.matcher}"${FY(i.value)}"${i.modifier?i.modifier:""}]`;case"combinator":return po(i.left)+i.combinator;case"compound":return i.list.reduce((t,e)=>e.type==="combinator"?po(e)+t:t+po(e),"");case"list":return i.list.map(po).join(",")}}function Dg(i){return i||i===""?Gu(i)+"|":""}function r0(i){return`\\${i.codePointAt(0).toString(16)} `}function Gu(i){return i.replace(/(^[0-9])|(^-[0-9])|(^-$)|([-0-9a-zA-Z_]|[^\x00-\x7F])|(\x00)|([\x01-\x1f]|\x7f)|([\s\S])/g,(t,e,n,s,r,o,c,u)=>e?r0(e):n?"-"+r0(n.slice(1)):s?"\\-":r||(o?"":c?r0(c):"\\"+u))}function FY(i){return i.replace(/(")|(\\)|(\x00)|([\x01-\x1f]|\x7f)/g,(t,e,n,s,r)=>e?'\\"':n?"\\\\":s?"":r0(r))}function o0(i){if(!i.type)throw new Error("This is not an AST node.");switch(i.type){case"compound":{i.list.forEach(o0),i.list.sort((t,e)=>_6(pT(t),pT(e)));break}case"combinator":{o0(i.left);break}case"list":{i.list.forEach(o0),i.list.sort((t,e)=>po(t)<po(e)?-1:1);break}}return i}function pT(i){switch(i.type){case"universal":return[1];case"tag":return[1];case"id":return[2];case"class":return[3,i.name];case"attrPresence":return[4,po(i)];case"attrValue":return[5,po(i)];case"combinator":return[15,po(i)]}}function x6(i,t){return _6(i,t)}function _6(i,t){if(!Array.isArray(i)||!Array.isArray(t))throw new Error("Arguments must be arrays.");const e=i.length<t.length?i.length:t.length;for(let n=0;n<e;n++)if(i[n]!==t[n])return i[n]<t[n]?-1:1;return i.length-t.length}class gT{constructor(t){this.branches=vd(VY(t))}build(t){return t(this.branches)}}function VY(i){const t=i.length,e=new Array(t);for(let n=0;n<t;n++){const[s,r]=i[n],o=zY(MY(s));e[n]={ast:o,terminal:{type:"terminal",valueContainer:{index:n,value:r,specificity:o.specificity}}}}return e}function zY(i){return E6(i),o0(i),i}function E6(i){const t=[];i.list.forEach(e=>{switch(e.type){case"class":t.push({matcher:"~=",modifier:null,name:"class",namespace:null,specificity:e.specificity,type:"attrValue",value:e.name});break;case"id":t.push({matcher:"=",modifier:null,name:"id",namespace:null,specificity:e.specificity,type:"attrValue",value:e.name});break;case"combinator":E6(e.left),t.push(e);break;case"universal":break;default:t.push(e);break}}),i.list=t}function vd(i){const t=[];for(;i.length;){const e=S6(i,o=>!0,k6),{matches:n,nonmatches:s,empty:r}=HY(i,e);i=s,n.length&&t.push(UY(e,n)),r.length&&t.push(...qY(r))}return t}function qY(i){const t=[];for(const e of i){const n=e.terminal;if(n.type==="terminal")t.push(n);else{const{matches:s,rest:r}=YY(n.cont,o=>o.type==="terminal");s.forEach(o=>t.push(o)),r.length&&(n.cont=r,t.push(n))}}return t}function HY(i,t){const e=[],n=[],s=[];for(const r of i){const o=r.ast.list;o.length?(o.some(u=>k6(u)===t)?e:n).push(r):s.push(r)}return{matches:e,nonmatches:n,empty:s}}function k6(i){switch(i.type){case"attrPresence":return`attrPresence ${i.name}`;case"attrValue":return`attrValue ${i.name}`;case"combinator":return`combinator ${i.combinator}`;default:return i.type}}function UY(i,t){if(i==="tag")return WY(t);if(i.startsWith("attrValue "))return KY(i.substring(10),t);if(i.startsWith("attrPresence "))return GY(i.substring(13),t);if(i==="combinator >")return bT(">",t);if(i==="combinator +")return bT("+",t);throw new Error(`Unsupported selector kind: ${i}`)}function WY(i){const t=b_(i,n=>n.type==="tag",n=>n.name);return{type:"tagName",variants:Object.entries(t).map(([n,s])=>({type:"variant",value:n,cont:vd(s.items)}))}}function GY(i,t){for(const e of t)C6(e,n=>n.type==="attrPresence"&&n.name===i);return{type:"attrPresence",name:i,cont:vd(t)}}function KY(i,t){const e=b_(t,s=>s.type==="attrValue"&&s.name===i,s=>`${s.matcher} ${s.modifier||""} ${s.value}`),n=[];for(const s of Object.values(e)){const r=s.oneSimpleSelector,o=QY(r),c=vd(s.items);n.push({type:"matcher",matcher:r.matcher,modifier:r.modifier,value:r.value,predicate:o,cont:c})}return{type:"attrValue",name:i,matchers:n}}function QY(i){if(i.modifier==="i"){const t=i.value.toLowerCase();switch(i.matcher){case"=":return e=>t===e.toLowerCase();case"~=":return e=>e.toLowerCase().split(/[ \t]+/).includes(t);case"^=":return e=>e.toLowerCase().startsWith(t);case"$=":return e=>e.toLowerCase().endsWith(t);case"*=":return e=>e.toLowerCase().includes(t);case"|=":return e=>{const n=e.toLowerCase();return t===n||n.startsWith(t)&&n[t.length]==="-"}}}else{const t=i.value;switch(i.matcher){case"=":return e=>t===e;case"~=":return e=>e.split(/[ \t]+/).includes(t);case"^=":return e=>e.startsWith(t);case"$=":return e=>e.endsWith(t);case"*=":return e=>e.includes(t);case"|=":return e=>t===e||e.startsWith(t)&&e[t.length]==="-"}}}function bT(i,t){const e=b_(t,s=>s.type==="combinator"&&s.combinator===i,s=>po(s.left)),n=[];for(const s of Object.values(e)){const r=vd(s.items),o=s.oneSimpleSelector.left;n.push({ast:o,terminal:{type:"popElement",cont:r}})}return{type:"pushElement",combinator:i,cont:vd(n)}}function b_(i,t,e){const n={};for(;i.length;){const s=S6(i,t,e),r=p=>t(p)&&e(p)===s,o=p=>p.ast.list.some(r),{matches:c,rest:u}=$Y(i,o);let f=null;for(const p of c){const g=C6(p,r);f||(f=g)}if(f==null)throw new Error("No simple selector is found.");n[s]={oneSimpleSelector:f,items:c},i=u}return n}function C6(i,t){const e=i.ast.list,n=new Array(e.length);let s=-1;for(let o=e.length;o-- >0;)t(e[o])&&(n[o]=!0,s=o);if(s==-1)throw new Error("Couldn't find the required simple selector.");const r=e[s];return i.ast.list=e.filter((o,c)=>!n[c]),r}function S6(i,t,e){const n={};for(const o of i){const c={};for(const u of o.ast.list.filter(t))c[e(u)]=!0;for(const u of Object.keys(c))n[u]?n[u]++:n[u]=1}let s="",r=0;for(const o of Object.entries(n))o[1]>r&&(s=o[0],r=o[1]);return s}function YY(i,t){const e=[],n=[];for(const s of i)t(s)?e.push(s):n.push(s);return{matches:e,rest:n}}function $Y(i,t){const e=[],n=[];for(const s of i)t(s)?e.push(s):n.push(s);return{matches:e,rest:n}}class XY{constructor(t){this.f=t}pickAll(t){return this.f(t)}pick1(t,e=!1){const n=this.f(t),s=n.length;if(s===0)return null;if(s===1)return n[0].value;const r=e?ZY:JY;let o=n[0];for(let c=1;c<s;c++){const u=n[c];r(o,u)&&(o=u)}return o.value}}function ZY(i,t){const e=x6(t.specificity,i.specificity);return e>0||e===0&&t.index<i.index}function JY(i,t){const e=x6(t.specificity,i.specificity);return e>0||e===0&&t.index>i.index}function vT(i){return new XY(Dd(i))}function Dd(i){const t=i.map(e$);return(e,...n)=>t.flatMap(s=>s(e,...n))}function e$(i){switch(i.type){case"terminal":{const t=[i.valueContainer];return(e,...n)=>t}case"tagName":return t$(i);case"attrValue":return i$(i);case"attrPresence":return n$(i);case"pushElement":return s$(i);case"popElement":return o$(i)}}function t$(i){const t={};for(const e of i.variants)t[e.value]=Dd(e.cont);return(e,...n)=>{const s=t[e.name];return s?s(e,...n):[]}}function n$(i){const t=i.name,e=Dd(i.cont);return(n,...s)=>Object.prototype.hasOwnProperty.call(n.attribs,t)?e(n,...s):[]}function i$(i){const t=[];for(const n of i.matchers){const s=n.predicate,r=Dd(n.cont);t.push((o,c,...u)=>s(o)?r(c,...u):[])}const e=i.name;return(n,...s)=>{const r=n.attribs[e];return r||r===""?t.flatMap(o=>o(r,n,...s)):[]}}function s$(i){const t=Dd(i.cont),e=i.combinator==="+"?A6:r$;return(n,...s)=>{const r=e(n);return r===null?[]:t(r,n,...s)}}const A6=i=>{const t=i.prev;return t===null?null:u_(t)?t:A6(t)},r$=i=>{const t=i.parent;return t&&u_(t)?t:null};function o$(i){const t=Dd(i.cont);return(e,n,...s)=>t(n,...s)}const T6=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(i=>i.charCodeAt(0))),N6=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(i=>i.charCodeAt(0)));var cw;const a$=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),h1=(cw=String.fromCodePoint)!==null&&cw!==void 0?cw:function(i){let t="";return i>65535&&(i-=65536,t+=String.fromCharCode(i>>>10&1023|55296),i=56320|i&1023),t+=String.fromCharCode(i),t};function R6(i){var t;return i>=55296&&i<=57343||i>1114111?65533:(t=a$.get(i))!==null&&t!==void 0?t:i}var wi;(function(i){i[i.NUM=35]="NUM",i[i.SEMI=59]="SEMI",i[i.EQUALS=61]="EQUALS",i[i.ZERO=48]="ZERO",i[i.NINE=57]="NINE",i[i.LOWER_A=97]="LOWER_A",i[i.LOWER_F=102]="LOWER_F",i[i.LOWER_X=120]="LOWER_X",i[i.LOWER_Z=122]="LOWER_Z",i[i.UPPER_A=65]="UPPER_A",i[i.UPPER_F=70]="UPPER_F",i[i.UPPER_Z=90]="UPPER_Z"})(wi||(wi={}));const l$=32;var Br;(function(i){i[i.VALUE_LENGTH=49152]="VALUE_LENGTH",i[i.BRANCH_LENGTH=16256]="BRANCH_LENGTH",i[i.JUMP_TABLE=127]="JUMP_TABLE"})(Br||(Br={}));function m1(i){return i>=wi.ZERO&&i<=wi.NINE}function c$(i){return i>=wi.UPPER_A&&i<=wi.UPPER_F||i>=wi.LOWER_A&&i<=wi.LOWER_F}function u$(i){return i>=wi.UPPER_A&&i<=wi.UPPER_Z||i>=wi.LOWER_A&&i<=wi.LOWER_Z||m1(i)}function d$(i){return i===wi.EQUALS||u$(i)}var bi;(function(i){i[i.EntityStart=0]="EntityStart",i[i.NumericStart=1]="NumericStart",i[i.NumericDecimal=2]="NumericDecimal",i[i.NumericHex=3]="NumericHex",i[i.NamedEntity=4]="NamedEntity"})(bi||(bi={}));var dc;(function(i){i[i.Legacy=0]="Legacy",i[i.Strict=1]="Strict",i[i.Attribute=2]="Attribute"})(dc||(dc={}));class f${constructor(t,e,n){this.decodeTree=t,this.emitCodePoint=e,this.errors=n,this.state=bi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=dc.Strict}startEntity(t){this.decodeMode=t,this.state=bi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case bi.EntityStart:return t.charCodeAt(e)===wi.NUM?(this.state=bi.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=bi.NamedEntity,this.stateNamedEntity(t,e));case bi.NumericStart:return this.stateNumericStart(t,e);case bi.NumericDecimal:return this.stateNumericDecimal(t,e);case bi.NumericHex:return this.stateNumericHex(t,e);case bi.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(t.charCodeAt(e)|l$)===wi.LOWER_X?(this.state=bi.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=bi.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,n,s){if(e!==n){const r=n-e;this.result=this.result*Math.pow(s,r)+parseInt(t.substr(e,r),s),this.consumed+=r}}stateNumericHex(t,e){const n=e;for(;e<t.length;){const s=t.charCodeAt(e);if(m1(s)||c$(s))e+=1;else return this.addToNumericResult(t,n,e,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,n,e,16),-1}stateNumericDecimal(t,e){const n=e;for(;e<t.length;){const s=t.charCodeAt(e);if(m1(s))e+=1;else return this.addToNumericResult(t,n,e,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,n,e,10),-1}emitNumericEntity(t,e){var n;if(this.consumed<=e)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===wi.SEMI)this.consumed+=1;else if(this.decodeMode===dc.Strict)return 0;return this.emitCodePoint(R6(this.result),this.consumed),this.errors&&(t!==wi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:n}=this;let s=n[this.treeIndex],r=(s&Br.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const o=t.charCodeAt(e);if(this.treeIndex=I6(n,s,this.treeIndex+Math.max(1,r),o),this.treeIndex<0)return this.result===0||this.decodeMode===dc.Attribute&&(r===0||d$(o))?0:this.emitNotTerminatedNamedEntity();if(s=n[this.treeIndex],r=(s&Br.VALUE_LENGTH)>>14,r!==0){if(o===wi.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==dc.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:n}=this,s=(n[e]&Br.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,n){const{decodeTree:s}=this;return this.emitCodePoint(e===1?s[t]&~Br.VALUE_LENGTH:s[t+1],n),e===3&&this.emitCodePoint(s[t+2],n),n}end(){var t;switch(this.state){case bi.NamedEntity:return this.result!==0&&(this.decodeMode!==dc.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case bi.NumericDecimal:return this.emitNumericEntity(0,2);case bi.NumericHex:return this.emitNumericEntity(0,3);case bi.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case bi.EntityStart:return 0}}}function O6(i){let t="";const e=new f$(i,n=>t+=h1(n));return function(s,r){let o=0,c=0;for(;(c=s.indexOf("&",c))>=0;){t+=s.slice(o,c),e.startEntity(r);const f=e.write(s,c+1);if(f<0){o=c+e.end();break}o=c+f,c=f===0?o+1:o}const u=t+s.slice(o);return t="",u}}function I6(i,t,e,n){const s=(t&Br.BRANCH_LENGTH)>>7,r=t&Br.JUMP_TABLE;if(s===0)return r!==0&&n===r?e:-1;if(r){const u=n-r;return u<0||u>=s?-1:i[e+u]-1}let o=e,c=o+s-1;for(;o<=c;){const u=o+c>>>1,f=i[u];if(f<n)o=u+1;else if(f>n)c=u-1;else return i[u+s]}return-1}O6(T6);O6(N6);var Fe;(function(i){i[i.Tab=9]="Tab",i[i.NewLine=10]="NewLine",i[i.FormFeed=12]="FormFeed",i[i.CarriageReturn=13]="CarriageReturn",i[i.Space=32]="Space",i[i.ExclamationMark=33]="ExclamationMark",i[i.Number=35]="Number",i[i.Amp=38]="Amp",i[i.SingleQuote=39]="SingleQuote",i[i.DoubleQuote=34]="DoubleQuote",i[i.Dash=45]="Dash",i[i.Slash=47]="Slash",i[i.Zero=48]="Zero",i[i.Nine=57]="Nine",i[i.Semi=59]="Semi",i[i.Lt=60]="Lt",i[i.Eq=61]="Eq",i[i.Gt=62]="Gt",i[i.Questionmark=63]="Questionmark",i[i.UpperA=65]="UpperA",i[i.LowerA=97]="LowerA",i[i.UpperF=70]="UpperF",i[i.LowerF=102]="LowerF",i[i.UpperZ=90]="UpperZ",i[i.LowerZ=122]="LowerZ",i[i.LowerX=120]="LowerX",i[i.OpeningSquareBracket=91]="OpeningSquareBracket"})(Fe||(Fe={}));var he;(function(i){i[i.Text=1]="Text",i[i.BeforeTagName=2]="BeforeTagName",i[i.InTagName=3]="InTagName",i[i.InSelfClosingTag=4]="InSelfClosingTag",i[i.BeforeClosingTagName=5]="BeforeClosingTagName",i[i.InClosingTagName=6]="InClosingTagName",i[i.AfterClosingTagName=7]="AfterClosingTagName",i[i.BeforeAttributeName=8]="BeforeAttributeName",i[i.InAttributeName=9]="InAttributeName",i[i.AfterAttributeName=10]="AfterAttributeName",i[i.BeforeAttributeValue=11]="BeforeAttributeValue",i[i.InAttributeValueDq=12]="InAttributeValueDq",i[i.InAttributeValueSq=13]="InAttributeValueSq",i[i.InAttributeValueNq=14]="InAttributeValueNq",i[i.BeforeDeclaration=15]="BeforeDeclaration",i[i.InDeclaration=16]="InDeclaration",i[i.InProcessingInstruction=17]="InProcessingInstruction",i[i.BeforeComment=18]="BeforeComment",i[i.CDATASequence=19]="CDATASequence",i[i.InSpecialComment=20]="InSpecialComment",i[i.InCommentLike=21]="InCommentLike",i[i.BeforeSpecialS=22]="BeforeSpecialS",i[i.SpecialStartSequence=23]="SpecialStartSequence",i[i.InSpecialTag=24]="InSpecialTag",i[i.BeforeEntity=25]="BeforeEntity",i[i.BeforeNumericEntity=26]="BeforeNumericEntity",i[i.InNamedEntity=27]="InNamedEntity",i[i.InNumericEntity=28]="InNumericEntity",i[i.InHexEntity=29]="InHexEntity"})(he||(he={}));function Qo(i){return i===Fe.Space||i===Fe.NewLine||i===Fe.Tab||i===Fe.FormFeed||i===Fe.CarriageReturn}function Mg(i){return i===Fe.Slash||i===Fe.Gt||Qo(i)}function yT(i){return i>=Fe.Zero&&i<=Fe.Nine}function h$(i){return i>=Fe.LowerA&&i<=Fe.LowerZ||i>=Fe.UpperA&&i<=Fe.UpperZ}function m$(i){return i>=Fe.UpperA&&i<=Fe.UpperF||i>=Fe.LowerA&&i<=Fe.LowerF}var mo;(function(i){i[i.NoValue=0]="NoValue",i[i.Unquoted=1]="Unquoted",i[i.Single=2]="Single",i[i.Double=3]="Double"})(mo||(mo={}));const gs={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])};class p${constructor({xmlMode:t=!1,decodeEntities:e=!0},n){this.cbs=n,this.state=he.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=he.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=t,this.decodeEntities=e,this.entityTrie=t?N6:T6}reset(){this.state=he.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=he.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}getIndex(){return this.index}getSectionStart(){return this.sectionStart}stateText(t){t===Fe.Lt||!this.decodeEntities&&this.fastForwardTo(Fe.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=he.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===Fe.Amp&&(this.state=he.BeforeEntity)}stateSpecialStartSequence(t){const e=this.sequenceIndex===this.currentSequence.length;if(!(e?Mg(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!e){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=he.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===Fe.Gt||Qo(t)){const e=this.index-this.currentSequence.length;if(this.sectionStart<e){const n=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=n}this.isSpecial=!1,this.sectionStart=e+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===gs.TitleEnd?this.decodeEntities&&t===Fe.Amp&&(this.state=he.BeforeEntity):this.fastForwardTo(Fe.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===Fe.Lt)}stateCDATASequence(t){t===gs.Cdata[this.sequenceIndex]?++this.sequenceIndex===gs.Cdata.length&&(this.state=he.InCommentLike,this.currentSequence=gs.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=he.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===gs.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=he.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!Mg(t):h$(t)}startSpecial(t,e){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=e,this.state=he.SpecialStartSequence}stateBeforeTagName(t){if(t===Fe.ExclamationMark)this.state=he.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===Fe.Questionmark)this.state=he.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const e=t|32;this.sectionStart=this.index,!this.xmlMode&&e===gs.TitleEnd[2]?this.startSpecial(gs.TitleEnd,3):this.state=!this.xmlMode&&e===gs.ScriptEnd[2]?he.BeforeSpecialS:he.InTagName}else t===Fe.Slash?this.state=he.BeforeClosingTagName:(this.state=he.Text,this.stateText(t))}stateInTagName(t){Mg(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=he.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){Qo(t)||(t===Fe.Gt?this.state=he.Text:(this.state=this.isTagStartChar(t)?he.InClosingTagName:he.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===Fe.Gt||Qo(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=he.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===Fe.Gt||this.fastForwardTo(Fe.Gt))&&(this.state=he.Text,this.baseState=he.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===Fe.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=he.InSpecialTag,this.sequenceIndex=0):this.state=he.Text,this.baseState=this.state,this.sectionStart=this.index+1):t===Fe.Slash?this.state=he.InSelfClosingTag:Qo(t)||(this.state=he.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===Fe.Gt?(this.cbs.onselfclosingtag(this.index),this.state=he.Text,this.baseState=he.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Qo(t)||(this.state=he.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===Fe.Eq||Mg(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=he.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===Fe.Eq?this.state=he.BeforeAttributeValue:t===Fe.Slash||t===Fe.Gt?(this.cbs.onattribend(mo.NoValue,this.index),this.state=he.BeforeAttributeName,this.stateBeforeAttributeName(t)):Qo(t)||(this.cbs.onattribend(mo.NoValue,this.index),this.state=he.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===Fe.DoubleQuote?(this.state=he.InAttributeValueDq,this.sectionStart=this.index+1):t===Fe.SingleQuote?(this.state=he.InAttributeValueSq,this.sectionStart=this.index+1):Qo(t)||(this.sectionStart=this.index,this.state=he.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,e){t===e||!this.decodeEntities&&this.fastForwardTo(e)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===Fe.DoubleQuote?mo.Double:mo.Single,this.index),this.state=he.BeforeAttributeName):this.decodeEntities&&t===Fe.Amp&&(this.baseState=this.state,this.state=he.BeforeEntity)}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,Fe.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,Fe.SingleQuote)}stateInAttributeValueNoQuotes(t){Qo(t)||t===Fe.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(mo.Unquoted,this.index),this.state=he.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===Fe.Amp&&(this.baseState=this.state,this.state=he.BeforeEntity)}stateBeforeDeclaration(t){t===Fe.OpeningSquareBracket?(this.state=he.CDATASequence,this.sequenceIndex=0):this.state=t===Fe.Dash?he.BeforeComment:he.InDeclaration}stateInDeclaration(t){(t===Fe.Gt||this.fastForwardTo(Fe.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=he.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===Fe.Gt||this.fastForwardTo(Fe.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=he.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===Fe.Dash?(this.state=he.InCommentLike,this.currentSequence=gs.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=he.InDeclaration}stateInSpecialComment(t){(t===Fe.Gt||this.fastForwardTo(Fe.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=he.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const e=t|32;e===gs.ScriptEnd[3]?this.startSpecial(gs.ScriptEnd,4):e===gs.StyleEnd[3]?this.startSpecial(gs.StyleEnd,4):(this.state=he.InTagName,this.stateInTagName(t))}stateBeforeEntity(t){this.entityExcess=1,this.entityResult=0,t===Fe.Number?this.state=he.BeforeNumericEntity:t===Fe.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=he.InNamedEntity,this.stateInNamedEntity(t))}stateInNamedEntity(t){if(this.entityExcess+=1,this.trieIndex=I6(this.entityTrie,this.trieCurrent,this.trieIndex+1,t),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];const e=this.trieCurrent&Br.VALUE_LENGTH;if(e){const n=(e>>14)-1;if(!this.allowLegacyEntity()&&t!==Fe.Semi)this.trieIndex+=n;else{const s=this.index-this.entityExcess+1;s>this.sectionStart&&this.emitPartial(this.sectionStart,s),this.entityResult=this.trieIndex,this.trieIndex+=n,this.entityExcess=0,this.sectionStart=this.index+1,n===0&&this.emitNamedEntity()}}}emitNamedEntity(){if(this.state=this.baseState,this.entityResult===0)return;switch((this.entityTrie[this.entityResult]&Br.VALUE_LENGTH)>>14){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~Br.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}stateBeforeNumericEntity(t){(t|32)===Fe.LowerX?(this.entityExcess++,this.state=he.InHexEntity):(this.state=he.InNumericEntity,this.stateInNumericEntity(t))}emitNumericEntity(t){const e=this.index-this.entityExcess-1;e+2+ +(this.state===he.InHexEntity)!==this.index&&(e>this.sectionStart&&this.emitPartial(this.sectionStart,e),this.sectionStart=this.index+Number(t),this.emitCodePoint(R6(this.entityResult))),this.state=this.baseState}stateInNumericEntity(t){t===Fe.Semi?this.emitNumericEntity(!0):yT(t)?(this.entityResult=this.entityResult*10+(t-Fe.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}stateInHexEntity(t){t===Fe.Semi?this.emitNumericEntity(!0):yT(t)?(this.entityResult=this.entityResult*16+(t-Fe.Zero),this.entityExcess++):m$(t)?(this.entityResult=this.entityResult*16+((t|32)-Fe.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}allowLegacyEntity(){return!this.xmlMode&&(this.baseState===he.Text||this.baseState===he.InSpecialTag)}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===he.Text||this.state===he.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===he.InAttributeValueDq||this.state===he.InAttributeValueSq||this.state===he.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case he.Text:{this.stateText(t);break}case he.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case he.InSpecialTag:{this.stateInSpecialTag(t);break}case he.CDATASequence:{this.stateCDATASequence(t);break}case he.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case he.InAttributeName:{this.stateInAttributeName(t);break}case he.InCommentLike:{this.stateInCommentLike(t);break}case he.InSpecialComment:{this.stateInSpecialComment(t);break}case he.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case he.InTagName:{this.stateInTagName(t);break}case he.InClosingTagName:{this.stateInClosingTagName(t);break}case he.BeforeTagName:{this.stateBeforeTagName(t);break}case he.AfterAttributeName:{this.stateAfterAttributeName(t);break}case he.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case he.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case he.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case he.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case he.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case he.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case he.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case he.InDeclaration:{this.stateInDeclaration(t);break}case he.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case he.BeforeComment:{this.stateBeforeComment(t);break}case he.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case he.InNamedEntity:{this.stateInNamedEntity(t);break}case he.BeforeEntity:{this.stateBeforeEntity(t);break}case he.InHexEntity:{this.stateInHexEntity(t);break}case he.InNumericEntity:{this.stateInNumericEntity(t);break}default:this.stateBeforeNumericEntity(t)}this.index++}this.cleanup()}finish(){this.state===he.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.state===he.InCommentLike?this.currentSequence===gs.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===he.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===he.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===he.InTagName||this.state===he.BeforeAttributeName||this.state===he.BeforeAttributeValue||this.state===he.AfterAttributeName||this.state===he.InAttributeName||this.state===he.InAttributeValueSq||this.state===he.InAttributeValueDq||this.state===he.InAttributeValueNq||this.state===he.InClosingTagName||this.cbs.ontext(this.sectionStart,t)}emitPartial(t,e){this.baseState!==he.Text&&this.baseState!==he.InSpecialTag?this.cbs.onattribdata(t,e):this.cbs.ontext(t,e)}emitCodePoint(t){this.baseState!==he.Text&&this.baseState!==he.InSpecialTag?this.cbs.onattribentity(t):this.cbs.ontextentity(t)}}const Fu=new Set(["input","option","optgroup","select","button","datalist","textarea"]),en=new Set(["p"]),wT=new Set(["thead","tbody"]),xT=new Set(["dd","dt"]),_T=new Set(["rt","rp"]),g$=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",en],["h1",en],["h2",en],["h3",en],["h4",en],["h5",en],["h6",en],["select",Fu],["input",Fu],["output",Fu],["button",Fu],["datalist",Fu],["textarea",Fu],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",xT],["dt",xT],["address",en],["article",en],["aside",en],["blockquote",en],["details",en],["div",en],["dl",en],["fieldset",en],["figcaption",en],["figure",en],["footer",en],["form",en],["header",en],["hr",en],["main",en],["nav",en],["ol",en],["pre",en],["section",en],["table",en],["ul",en],["rt",_T],["rp",_T],["tbody",wT],["tfoot",wT]]),b$=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),ET=new Set(["math","svg"]),kT=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),v$=/\s|\//;class y${constructor(t,e={}){var n,s,r,o,c;this.options=e,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.lowerCaseTagNames=(n=e.lowerCaseTags)!==null&&n!==void 0?n:!e.xmlMode,this.lowerCaseAttributeNames=(s=e.lowerCaseAttributeNames)!==null&&s!==void 0?s:!e.xmlMode,this.tokenizer=new((r=e.Tokenizer)!==null&&r!==void 0?r:p$)(this.options,this),(c=(o=this.cbs).onparserinit)===null||c===void 0||c.call(o,this)}ontext(t,e){var n,s;const r=this.getSlice(t,e);this.endIndex=e-1,(s=(n=this.cbs).ontext)===null||s===void 0||s.call(n,r),this.startIndex=e}ontextentity(t){var e,n;const s=this.tokenizer.getSectionStart();this.endIndex=s-1,(n=(e=this.cbs).ontext)===null||n===void 0||n.call(e,h1(t)),this.startIndex=s}isVoidElement(t){return!this.options.xmlMode&&b$.has(t)}onopentagname(t,e){this.endIndex=e;let n=this.getSlice(t,e);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)}emitOpenTag(t){var e,n,s,r;this.openTagStart=this.startIndex,this.tagname=t;const o=!this.options.xmlMode&&g$.get(t);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){const c=this.stack.pop();(n=(e=this.cbs).onclosetag)===null||n===void 0||n.call(e,c,!0)}this.isVoidElement(t)||(this.stack.push(t),ET.has(t)?this.foreignContext.push(!0):kT.has(t)&&this.foreignContext.push(!1)),(r=(s=this.cbs).onopentagname)===null||r===void 0||r.call(s,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var e,n;this.startIndex=this.openTagStart,this.attribs&&((n=(e=this.cbs).onopentag)===null||n===void 0||n.call(e,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,e){var n,s,r,o,c,u;this.endIndex=e;let f=this.getSlice(t,e);if(this.lowerCaseTagNames&&(f=f.toLowerCase()),(ET.has(f)||kT.has(f))&&this.foreignContext.pop(),this.isVoidElement(f))!this.options.xmlMode&&f==="br"&&((s=(n=this.cbs).onopentagname)===null||s===void 0||s.call(n,"br"),(o=(r=this.cbs).onopentag)===null||o===void 0||o.call(r,"br",{},!0),(u=(c=this.cbs).onclosetag)===null||u===void 0||u.call(c,"br",!1));else{const p=this.stack.lastIndexOf(f);if(p!==-1)if(this.cbs.onclosetag){let g=this.stack.length-p;for(;g--;)this.cbs.onclosetag(this.stack.pop(),g!==0)}else this.stack.length=p;else!this.options.xmlMode&&f==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=e+1}onselfclosingtag(t){this.endIndex=t,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var e,n;const s=this.tagname;this.endOpenTag(t),this.stack[this.stack.length-1]===s&&((n=(e=this.cbs).onclosetag)===null||n===void 0||n.call(e,s,!t),this.stack.pop())}onattribname(t,e){this.startIndex=t;const n=this.getSlice(t,e);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n}onattribdata(t,e){this.attribvalue+=this.getSlice(t,e)}onattribentity(t){this.attribvalue+=h1(t)}onattribend(t,e){var n,s;this.endIndex=e,(s=(n=this.cbs).onattribute)===null||s===void 0||s.call(n,this.attribname,this.attribvalue,t===mo.Double?'"':t===mo.Single?"'":t===mo.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const e=t.search(v$);let n=e<0?t:t.substr(0,e);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n}ondeclaration(t,e){this.endIndex=e;const n=this.getSlice(t,e);if(this.cbs.onprocessinginstruction){const s=this.getInstructionName(n);this.cbs.onprocessinginstruction(`!${s}`,`!${n}`)}this.startIndex=e+1}onprocessinginstruction(t,e){this.endIndex=e;const n=this.getSlice(t,e);if(this.cbs.onprocessinginstruction){const s=this.getInstructionName(n);this.cbs.onprocessinginstruction(`?${s}`,`?${n}`)}this.startIndex=e+1}oncomment(t,e,n){var s,r,o,c;this.endIndex=e,(r=(s=this.cbs).oncomment)===null||r===void 0||r.call(s,this.getSlice(t,e-n)),(c=(o=this.cbs).oncommentend)===null||c===void 0||c.call(o),this.startIndex=e+1}oncdata(t,e,n){var s,r,o,c,u,f,p,g,v,_;this.endIndex=e;const E=this.getSlice(t,e-n);this.options.xmlMode||this.options.recognizeCDATA?((r=(s=this.cbs).oncdatastart)===null||r===void 0||r.call(s),(c=(o=this.cbs).ontext)===null||c===void 0||c.call(o,E),(f=(u=this.cbs).oncdataend)===null||f===void 0||f.call(u)):((g=(p=this.cbs).oncomment)===null||g===void 0||g.call(p,`[CDATA[${E}]]`),(_=(v=this.cbs).oncommentend)===null||_===void 0||_.call(v)),this.startIndex=e+1}onend(){var t,e;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}(e=(t=this.cbs).onend)===null||e===void 0||e.call(t)}reset(){var t,e,n,s;(e=(t=this.cbs).onreset)===null||e===void 0||e.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(s=(n=this.cbs).onparserinit)===null||s===void 0||s.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,e){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let n=this.buffers[0].slice(t-this.bufferOffset,e-this.bufferOffset);for(;e-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,e-this.bufferOffset);return n}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var e,n;if(this.ended){(n=(e=this.cbs).onerror)===null||n===void 0||n.call(e,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var e,n;if(this.ended){(n=(e=this.cbs).onerror)===null||n===void 0||n.call(e,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}}const CT=/["&'<>$\x80-\uFFFF]/g,w$=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),x$=String.prototype.codePointAt!=null?(i,t)=>i.codePointAt(t):(i,t)=>(i.charCodeAt(t)&64512)===55296?(i.charCodeAt(t)-55296)*1024+i.charCodeAt(t+1)-56320+65536:i.charCodeAt(t);function P6(i){let t="",e=0,n;for(;(n=CT.exec(i))!==null;){const s=n.index,r=i.charCodeAt(s),o=w$.get(r);o!==void 0?(t+=i.substring(e,s)+o,e=s+1):(t+=`${i.substring(e,s)}&#x${x$(i,s).toString(16)};`,e=CT.lastIndex+=+((r&64512)===55296))}return t+i.substr(e)}function B6(i,t){return function(n){let s,r=0,o="";for(;s=i.exec(n);)r!==s.index&&(o+=n.substring(r,s.index)),o+=t.get(s[0].charCodeAt(0)),r=s.index+1;return o+n.substring(r)}}const _$=B6(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),E$=B6(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),k$=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(i=>[i.toLowerCase(),i])),C$=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(i=>[i.toLowerCase(),i])),S$=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function A$(i){return i.replace(/"/g,"&quot;")}function T$(i,t){var e;if(!i)return;const n=((e=t.encodeEntities)!==null&&e!==void 0?e:t.decodeEntities)===!1?A$:t.xmlMode||t.encodeEntities!=="utf8"?P6:_$;return Object.keys(i).map(s=>{var r,o;const c=(r=i[s])!==null&&r!==void 0?r:"";return t.xmlMode==="foreign"&&(s=(o=C$.get(s))!==null&&o!==void 0?o:s),!t.emptyAttrs&&!t.xmlMode&&c===""?s:`${s}="${n(c)}"`}).join(" ")}const ST=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Sb(i,t={}){const e="length"in i?i:[i];let n="";for(let s=0;s<e.length;s++)n+=N$(e[s],t);return n}function N$(i,t){switch(i.type){case BQ:return Sb(i.children,t);case qQ:case jQ:return P$(i);case DQ:return j$(i);case zQ:return L$(i);case MQ:case FQ:case VQ:return I$(i,t);case LQ:return B$(i,t)}}const R$=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),O$=new Set(["svg","math"]);function I$(i,t){var e;t.xmlMode==="foreign"&&(i.name=(e=k$.get(i.name))!==null&&e!==void 0?e:i.name,i.parent&&R$.has(i.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&O$.has(i.name)&&(t={...t,xmlMode:"foreign"});let n=`<${i.name}`;const s=T$(i.attribs,t);return s&&(n+=` ${s}`),i.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&ST.has(i.name))?(t.xmlMode||(n+=" "),n+="/>"):(n+=">",i.children.length>0&&(n+=Sb(i.children,t)),(t.xmlMode||!ST.has(i.name))&&(n+=`</${i.name}>`)),n}function P$(i){return`<${i.data}>`}function B$(i,t){var e;let n=i.data||"";return((e=t.encodeEntities)!==null&&e!==void 0?e:t.decodeEntities)!==!1&&!(!t.xmlMode&&i.parent&&S$.has(i.parent.name))&&(n=t.xmlMode||t.encodeEntities!=="utf8"?P6(n):E$(n)),n}function L$(i){return`<![CDATA[${i.children[0].data}]]>`}function j$(i){return`<!--${i.data}-->`}function D$(i,t){const e=new QQ(void 0,t);return new y$(e,t).end(i),e.root}var uw,AT;function M$(){if(AT)return uw;AT=1;var i=function(P){return t(P)&&!e(P)};function t(R){return!!R&&typeof R=="object"}function e(R){var P=Object.prototype.toString.call(R);return P==="[object RegExp]"||P==="[object Date]"||r(R)}var n=typeof Symbol=="function"&&Symbol.for,s=n?Symbol.for("react.element"):60103;function r(R){return R.$$typeof===s}function o(R){return Array.isArray(R)?[]:{}}function c(R,P){return P.clone!==!1&&P.isMergeableObject(R)?C(o(R),R,P):R}function u(R,P,B){return R.concat(P).map(function(V){return c(V,B)})}function f(R,P){if(!P.customMerge)return C;var B=P.customMerge(R);return typeof B=="function"?B:C}function p(R){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(R).filter(function(P){return Object.propertyIsEnumerable.call(R,P)}):[]}function g(R){return Object.keys(R).concat(p(R))}function v(R,P){try{return P in R}catch{return!1}}function _(R,P){return v(R,P)&&!(Object.hasOwnProperty.call(R,P)&&Object.propertyIsEnumerable.call(R,P))}function E(R,P,B){var V={};return B.isMergeableObject(R)&&g(R).forEach(function(I){V[I]=c(R[I],B)}),g(P).forEach(function(I){_(R,I)||(v(R,I)&&B.isMergeableObject(P[I])?V[I]=f(I,B)(R[I],P[I],B):V[I]=c(P[I],B))}),V}function C(R,P,B){B=B||{},B.arrayMerge=B.arrayMerge||u,B.isMergeableObject=B.isMergeableObject||i,B.cloneUnlessOtherwiseSpecified=c;var V=Array.isArray(P),I=Array.isArray(R),M=V===I;return M?V?B.arrayMerge(R,P,B):E(R,P,B):c(P,B)}C.all=function(P,B){if(!Array.isArray(P))throw new Error("first argument should be an array");return P.reduce(function(V,I){return C(V,I,B)},{})};var T=C;return uw=T,uw}var F$=M$();const L6=wl(F$);function v_(i,t,e=()=>{}){if(i===void 0){const n=function(...s){return t(n,...s)};return n}return i>=0?function(...n){return t(v_(i-1,t,e),...n)}:e}function j6(i,t){let e=0,n=i.length;for(;e<n&&i[e]===t;)++e;for(;n>e&&i[n-1]===t;)--n;return e>0||n<i.length?i.substring(e,n):i}function V$(i,t){let e=i.length;for(;e>0&&i[e-1]===t;)--e;return e<i.length?i.substring(0,e):i}function z$(i){return i.replace(/[\s\S]/g,t=>"\\u"+t.charCodeAt().toString(16).padStart(4,"0"))}function D6(i,t){const e=new Map;for(let n=i.length;n-- >0;){const s=i[n],r=t(s);e.set(r,e.has(r)?L6(s,e.get(r),{arrayMerge:q$}):s)}return[...e.values()].reverse()}const q$=(i,t,e)=>[...t];function yd(i,t){for(const e of t){if(!i)return;i=i[e]}return i}function TT(i,t="a",e=26){const n=[];do i-=1,n.push(i%e),i=i/e>>0;while(i>0);const s=t.charCodeAt(0);return n.reverse().map(r=>String.fromCharCode(s+r)).join("")}const dw=["I","X","C","M"],NT=["V","L","D"];function RT(i){return[...i+""].map(t=>+t).reverse().map((t,e)=>t%5<4?(t<5?"":NT[e])+dw[e].repeat(t%5):dw[e]+(t<5?NT[e]:dw[e+1])).reverse().join("")}class M6{constructor(t,e=void 0){this.lines=[],this.nextLineWords=[],this.maxLineLength=e||t.wordwrap||Number.MAX_VALUE,this.nextLineAvailableChars=this.maxLineLength,this.wrapCharacters=yd(t,["longWordSplit","wrapCharacters"])||[],this.forceWrapOnLimit=yd(t,["longWordSplit","forceWrapOnLimit"])||!1,this.stashedSpace=!1,this.wordBreakOpportunity=!1}pushWord(t,e=!1){this.nextLineAvailableChars<=0&&!e&&this.startNewLine();const n=this.nextLineWords.length===0,s=t.length+(n?0:1);if(s<=this.nextLineAvailableChars||e)this.nextLineWords.push(t),this.nextLineAvailableChars-=s;else{const[r,...o]=this.splitLongWord(t);n||this.startNewLine(),this.nextLineWords.push(r),this.nextLineAvailableChars-=r.length;for(const c of o)this.startNewLine(),this.nextLineWords.push(c),this.nextLineAvailableChars-=c.length}}popWord(){const t=this.nextLineWords.pop();if(t!==void 0){const e=this.nextLineWords.length===0,n=t.length+(e?0:1);this.nextLineAvailableChars+=n}return t}concatWord(t,e=!1){if(this.wordBreakOpportunity&&t.length>this.nextLineAvailableChars)this.pushWord(t,e),this.wordBreakOpportunity=!1;else{const n=this.popWord();this.pushWord(n?n.concat(t):t,e)}}startNewLine(t=1){this.lines.push(this.nextLineWords),t>1&&this.lines.push(...Array.from({length:t-1},()=>[])),this.nextLineWords=[],this.nextLineAvailableChars=this.maxLineLength}isEmpty(){return this.lines.length===0&&this.nextLineWords.length===0}clear(){this.lines.length=0,this.nextLineWords.length=0,this.nextLineAvailableChars=this.maxLineLength}toString(){return[...this.lines,this.nextLineWords].map(t=>t.join(" ")).join(`
`)}splitLongWord(t){const e=[];let n=0;for(;t.length>this.maxLineLength;){const s=t.substring(0,this.maxLineLength),r=t.substring(this.maxLineLength),o=s.lastIndexOf(this.wrapCharacters[n]);if(o>-1)t=s.substring(o+1)+r,e.push(s.substring(0,o+1));else if(n++,n<this.wrapCharacters.length)t=s+r;else{if(this.forceWrapOnLimit){if(e.push(s),t=r,t.length>this.maxLineLength)continue}else t=s+r;break}}return e.push(t),e}}class Vm{constructor(t=null){this.next=t}getRoot(){return this.next?this.next:this}}class ho extends Vm{constructor(t,e=null,n=1,s=void 0){super(e),this.leadingLineBreaks=n,this.inlineTextBuilder=new M6(t,s),this.rawText="",this.stashedLineBreaks=0,this.isPre=e&&e.isPre,this.isNoWrap=e&&e.isNoWrap}}class OT extends ho{constructor(t,e=null,{interRowLineBreaks:n=1,leadingLineBreaks:s=2,maxLineLength:r=void 0,maxPrefixLength:o=0,prefixAlign:c="left"}={}){super(t,e,s,r),this.maxPrefixLength=o,this.prefixAlign=c,this.interRowLineBreaks=n}}class fc extends ho{constructor(t,e=null,{leadingLineBreaks:n=1,maxLineLength:s=void 0,prefix:r=""}={}){super(t,e,n,s),this.prefix=r}}class IT extends Vm{constructor(t=null){super(t),this.rows=[],this.isPre=t&&t.isPre,this.isNoWrap=t&&t.isNoWrap}}class PT extends Vm{constructor(t=null){super(t),this.cells=[],this.isPre=t&&t.isPre,this.isNoWrap=t&&t.isNoWrap}}class hc extends Vm{constructor(t,e=null,n=void 0){super(e),this.inlineTextBuilder=new M6(t,n),this.rawText="",this.stashedLineBreaks=0,this.isPre=e&&e.isPre,this.isNoWrap=e&&e.isNoWrap}}class H$ extends Vm{constructor(t=null,e){super(t),this.transform=e}}function U$(i){return[...i].map(t=>"\\u"+t.charCodeAt(0).toString(16).padStart(4,"0")).join("")}class W${constructor(t){this.whitespaceChars=t.preserveNewlines?t.whitespaceCharacters.replace(/\n/g,""):t.whitespaceCharacters;const e=U$(this.whitespaceChars);if(this.leadingWhitespaceRe=new RegExp(`^[${e}]`),this.trailingWhitespaceRe=new RegExp(`[${e}]$`),this.allWhitespaceOrEmptyRe=new RegExp(`^[${e}]*$`),this.newlineOrNonWhitespaceRe=new RegExp(`(\\n|[^\\n${e}])`,"g"),this.newlineOrNonNewlineStringRe=new RegExp("(\\n|[^\\n]+)","g"),t.preserveNewlines){const n=new RegExp(`\\n|[^\\n${e}]+`,"gm");this.shrinkWrapAdd=function(s,r,o=(u=>u),c=!1){if(!s)return;const u=r.stashedSpace;let f=!1,p=n.exec(s);if(p)for(f=!0,p[0]===`
`?r.startNewLine():u||this.testLeadingWhitespace(s)?r.pushWord(o(p[0]),c):r.concatWord(o(p[0]),c);(p=n.exec(s))!==null;)p[0]===`
`?r.startNewLine():r.pushWord(o(p[0]),c);r.stashedSpace=u&&!f||this.testTrailingWhitespace(s)}}else{const n=new RegExp(`[^${e}]+`,"g");this.shrinkWrapAdd=function(s,r,o=(u=>u),c=!1){if(!s)return;const u=r.stashedSpace;let f=!1,p=n.exec(s);if(p)for(f=!0,u||this.testLeadingWhitespace(s)?r.pushWord(o(p[0]),c):r.concatWord(o(p[0]),c);(p=n.exec(s))!==null;)r.pushWord(o(p[0]),c);r.stashedSpace=u&&!f||this.testTrailingWhitespace(s)}}}addLiteral(t,e,n=!0){if(!t)return;const s=e.stashedSpace;let r=!1,o=this.newlineOrNonNewlineStringRe.exec(t);if(o)for(r=!0,o[0]===`
`?e.startNewLine():s?e.pushWord(o[0],n):e.concatWord(o[0],n);(o=this.newlineOrNonNewlineStringRe.exec(t))!==null;)o[0]===`
`?e.startNewLine():e.pushWord(o[0],n);e.stashedSpace=s&&!r}testLeadingWhitespace(t){return this.leadingWhitespaceRe.test(t)}testTrailingWhitespace(t){return this.trailingWhitespaceRe.test(t)}testContainsWords(t){return!this.allWhitespaceOrEmptyRe.test(t)}countNewlinesNoWords(t){this.newlineOrNonWhitespaceRe.lastIndex=0;let e=0,n;for(;(n=this.newlineOrNonWhitespaceRe.exec(t))!==null;)if(n[0]===`
`)e++;else return 0;return e}}class G${constructor(t,e,n=void 0){this.options=t,this.picker=e,this.metadata=n,this.whitespaceProcessor=new W$(t),this._stackItem=new ho(t),this._wordTransformer=void 0}pushWordTransform(t){this._wordTransformer=new H$(this._wordTransformer,t)}popWordTransform(){if(!this._wordTransformer)return;const t=this._wordTransformer.transform;return this._wordTransformer=this._wordTransformer.next,t}startNoWrap(){this._stackItem.isNoWrap=!0}stopNoWrap(){this._stackItem.isNoWrap=!1}_getCombinedWordTransformer(){const t=this._wordTransformer?(n=>F6(n,this._wordTransformer)):void 0,e=this.options.encodeCharacters;return t?e?n=>e(t(n)):t:e}_popStackItem(){const t=this._stackItem;return this._stackItem=t.next,t}addLineBreak(){(this._stackItem instanceof ho||this._stackItem instanceof fc||this._stackItem instanceof hc)&&(this._stackItem.isPre?this._stackItem.rawText+=`
`:this._stackItem.inlineTextBuilder.startNewLine())}addWordBreakOpportunity(){(this._stackItem instanceof ho||this._stackItem instanceof fc||this._stackItem instanceof hc)&&(this._stackItem.inlineTextBuilder.wordBreakOpportunity=!0)}addInline(t,{noWordTransform:e=!1}={}){if(this._stackItem instanceof ho||this._stackItem instanceof fc||this._stackItem instanceof hc){if(this._stackItem.isPre){this._stackItem.rawText+=t;return}if(!(t.length===0||this._stackItem.stashedLineBreaks&&!this.whitespaceProcessor.testContainsWords(t))){if(this.options.preserveNewlines){const n=this.whitespaceProcessor.countNewlinesNoWords(t);if(n>0){this._stackItem.inlineTextBuilder.startNewLine(n);return}}this._stackItem.stashedLineBreaks&&this._stackItem.inlineTextBuilder.startNewLine(this._stackItem.stashedLineBreaks),this.whitespaceProcessor.shrinkWrapAdd(t,this._stackItem.inlineTextBuilder,e?void 0:this._getCombinedWordTransformer(),this._stackItem.isNoWrap),this._stackItem.stashedLineBreaks=0}}}addLiteral(t){if((this._stackItem instanceof ho||this._stackItem instanceof fc||this._stackItem instanceof hc)&&t.length!==0){if(this._stackItem.isPre){this._stackItem.rawText+=t;return}this._stackItem.stashedLineBreaks&&this._stackItem.inlineTextBuilder.startNewLine(this._stackItem.stashedLineBreaks),this.whitespaceProcessor.addLiteral(t,this._stackItem.inlineTextBuilder,this._stackItem.isNoWrap),this._stackItem.stashedLineBreaks=0}}openBlock({leadingLineBreaks:t=1,reservedLineLength:e=0,isPre:n=!1}={}){const s=Math.max(20,this._stackItem.inlineTextBuilder.maxLineLength-e);this._stackItem=new ho(this.options,this._stackItem,t,s),n&&(this._stackItem.isPre=!0)}closeBlock({trailingLineBreaks:t=1,blockTransform:e=void 0}={}){const n=this._popStackItem(),s=e?e(cc(n)):cc(n);Fg(this._stackItem,s,n.leadingLineBreaks,Math.max(n.stashedLineBreaks,t))}openList({maxPrefixLength:t=0,prefixAlign:e="left",interRowLineBreaks:n=1,leadingLineBreaks:s=2}={}){this._stackItem=new OT(this.options,this._stackItem,{interRowLineBreaks:n,leadingLineBreaks:s,maxLineLength:this._stackItem.inlineTextBuilder.maxLineLength,maxPrefixLength:t,prefixAlign:e})}openListItem({prefix:t=""}={}){if(!(this._stackItem instanceof OT))throw new Error("Can't add a list item to something that is not a list! Check the formatter.");const e=this._stackItem,n=Math.max(t.length,e.maxPrefixLength),s=Math.max(20,e.inlineTextBuilder.maxLineLength-n);this._stackItem=new fc(this.options,e,{prefix:t,maxLineLength:s,leadingLineBreaks:e.interRowLineBreaks})}closeListItem(){const t=this._popStackItem(),e=t.next,n=Math.max(t.prefix.length,e.maxPrefixLength),s=`
`+" ".repeat(n),o=(e.prefixAlign==="right"?t.prefix.padStart(n):t.prefix.padEnd(n))+cc(t).replace(/\n/g,s);Fg(e,o,t.leadingLineBreaks,Math.max(t.stashedLineBreaks,e.interRowLineBreaks))}closeList({trailingLineBreaks:t=2}={}){const e=this._popStackItem(),n=cc(e);n&&Fg(this._stackItem,n,e.leadingLineBreaks,t)}openTable(){this._stackItem=new IT(this._stackItem)}openTableRow(){if(!(this._stackItem instanceof IT))throw new Error("Can't add a table row to something that is not a table! Check the formatter.");this._stackItem=new PT(this._stackItem)}openTableCell({maxColumnWidth:t=void 0}={}){if(!(this._stackItem instanceof PT))throw new Error("Can't add a table cell to something that is not a table row! Check the formatter.");this._stackItem=new hc(this.options,this._stackItem,t)}closeTableCell({colspan:t=1,rowspan:e=1}={}){const n=this._popStackItem(),s=j6(cc(n),`
`);n.next.cells.push({colspan:t,rowspan:e,text:s})}closeTableRow(){const t=this._popStackItem();t.next.rows.push(t.cells)}closeTable({tableToString:t,leadingLineBreaks:e=2,trailingLineBreaks:n=2}){const s=this._popStackItem(),r=t(s.rows);r&&Fg(this._stackItem,r,e,n)}toString(){return cc(this._stackItem.getRoot())}}function cc(i){if(!(i instanceof ho||i instanceof fc||i instanceof hc))throw new Error("Only blocks, list items and table cells can be requested for text contents.");return i.inlineTextBuilder.isEmpty()?i.rawText:i.rawText+i.inlineTextBuilder.toString()}function Fg(i,t,e,n){if(!(i instanceof ho||i instanceof fc||i instanceof hc))throw new Error("Only blocks, list items and table cells can contain text.");const s=cc(i),r=Math.max(i.stashedLineBreaks,e);i.inlineTextBuilder.clear(),s?i.rawText=s+`
`.repeat(r)+t:(i.rawText=t,i.leadingLineBreaks=r),i.stashedLineBreaks=n}function F6(i,t){return t?F6(t.transform(i),t.next):i}function K$(i={}){const t=i.selectors.filter(o=>!o.format);if(t.length)throw new Error("Following selectors have no specified format: "+t.map(o=>`\`${o.selector}\``).join(", "));const e=new gT(i.selectors.map(o=>[o.selector,o])).build(vT);typeof i.encodeCharacters!="function"&&(i.encodeCharacters=X$(i.encodeCharacters));const n=new gT(i.baseElements.selectors.map((o,c)=>[o,c+1])).build(vT);function s(o){return Y$(o,i,n)}const r=v_(i.limits.maxDepth,$$,function(o,c){c.addInline(i.limits.ellipsis||"")});return function(o,c=void 0){return Q$(o,c,i,e,s,r)}}function Q$(i,t,e,n,s,r){const o=e.limits.maxInputLength;o&&i&&i.length>o&&(console.warn(`Input length ${i.length} is above allowed limit of ${o}. Truncating without ellipsis.`),i=i.substring(0,o));const c=D$(i,{decodeEntities:e.decodeEntities}),u=s(c.children),f=new G$(e,n,t);return r(u,f),f.toString()}function Y$(i,t,e){const n=[];function s(o,c){c=c.slice(0,t.limits.maxChildNodes);for(const u of c){if(u.type!=="tag")continue;const f=e.pick1(u);if(f>0?n.push({selectorIndex:f,element:u}):u.children&&o(u.children),n.length>=t.limits.maxBaseElements)return}}return v_(t.limits.maxDepth,s)(i),t.baseElements.orderBy!=="occurrence"&&n.sort((o,c)=>o.selectorIndex-c.selectorIndex),t.baseElements.returnDomByDefault&&n.length===0?i:n.map(o=>o.element)}function $$(i,t,e){if(!t)return;const n=e.options;t.length>n.limits.maxChildNodes&&(t=t.slice(0,n.limits.maxChildNodes),t.push({data:n.limits.ellipsis,type:"text"}));for(const r of t)switch(r.type){case"text":{e.addInline(r.data);break}case"tag":{const o=e.picker.pick1(r),c=n.formatters[o.format];c(r,i,e,o.options||{});break}}}function X$(i){if(!i||Object.keys(i).length===0)return;const t=Object.entries(i).filter(([,r])=>r!==!1),e=new RegExp(t.map(([r])=>`(${z$([...r][0])})`).join("|"),"g"),n=t.map(([,r])=>r),s=(r,...o)=>n[o.findIndex(c=>c)];return r=>r.replace(e,s)}function Z$(i,t,e,n){}function J$(i,t,e,n){e.addLiteral(n.string||"")}function eX(i,t,e,n){e.openBlock({leadingLineBreaks:n.leadingLineBreaks||2}),e.addLiteral(n.string||""),e.closeBlock({trailingLineBreaks:n.trailingLineBreaks||2})}function tX(i,t,e,n){t(i.children,e)}function nX(i,t,e,n){e.openBlock({leadingLineBreaks:n.leadingLineBreaks||2}),t(i.children,e),e.closeBlock({trailingLineBreaks:n.trailingLineBreaks||2})}function V6(i){const t=i.attribs&&i.attribs.length?" "+Object.entries(i.attribs).map(([e,n])=>n===""?e:`${e}=${n.replace(/"/g,"&quot;")}`).join(" "):"";return`<${i.name}${t}>`}function z6(i){return`</${i.name}>`}function iX(i,t,e,n){e.startNoWrap(),e.addLiteral(V6(i)),e.stopNoWrap(),t(i.children,e),e.startNoWrap(),e.addLiteral(z6(i)),e.stopNoWrap()}function sX(i,t,e,n){e.openBlock({leadingLineBreaks:n.leadingLineBreaks||2}),e.startNoWrap(),e.addLiteral(V6(i)),e.stopNoWrap(),t(i.children,e),e.startNoWrap(),e.addLiteral(z6(i)),e.stopNoWrap(),e.closeBlock({trailingLineBreaks:n.trailingLineBreaks||2})}function rX(i,t,e,n){e.startNoWrap(),e.addLiteral(Sb(i,{decodeEntities:e.options.decodeEntities})),e.stopNoWrap()}function oX(i,t,e,n){e.openBlock({leadingLineBreaks:n.leadingLineBreaks||2}),e.startNoWrap(),e.addLiteral(Sb(i,{decodeEntities:e.options.decodeEntities})),e.stopNoWrap(),e.closeBlock({trailingLineBreaks:n.trailingLineBreaks||2})}function aX(i,t,e,n){e.addLiteral(n.prefix||""),t(i.children,e),e.addLiteral(n.suffix||"")}var lX=Object.freeze({__proto__:null,block:nX,blockHtml:oX,blockString:eX,blockTag:sX,inline:tX,inlineHtml:rX,inlineString:J$,inlineSurround:aX,inlineTag:iX,skip:Z$});function I0(i,t){return i[t]||(i[t]=[]),i[t]}function cX(i,t=0){for(;i[t];)t++;return t}function uX(i,t){for(let e=0;e<t;e++){const n=I0(i,e);for(let s=0;s<e;s++){const r=I0(i,s);if(n[s]||r[e]){const o=n[s];n[s]=r[e],r[e]=o}}}}function dX(i,t,e,n){for(let s=0;s<i.rowspan;s++){const r=I0(t,e+s);for(let o=0;o<i.colspan;o++)r[n+o]=i}}function p1(i,t){return i[t]===void 0&&(i[t]=t===0?0:1+p1(i,t-1)),i[t]}function BT(i,t,e,n){i[t+e]=Math.max(p1(i,t+e),p1(i,t)+n)}function fX(i,t,e){const n=[];let s=0;const r=i.length,o=[0];for(let f=0;f<r;f++){const p=I0(n,f),g=i[f];let v=0;for(let _=0;_<g.length;_++){const E=g[_];v=cX(p,v),dX(E,n,f,v),v+=E.colspan,E.lines=E.text.split(`
`);const C=E.lines.length;BT(o,f,E.rowspan,C+t)}s=p.length>s?p.length:s}uX(n,r>s?r:s);const c=[],u=[0];for(let f=0;f<s;f++){let p=0,g;const v=Math.min(r,n[f].length);for(;p<v;)if(g=n[f][p],g){if(!g.rendered){let _=0;for(let E=0;E<g.lines.length;E++){const C=g.lines[E],T=o[p]+E;c[T]=(c[T]||"").padEnd(u[f])+C,_=C.length>_?C.length:_}BT(u,f,g.colspan,_+e),g.rendered=!0}p+=g.rowspan}else{const _=o[p];c[_]=c[_]||"",p++}}return c.join(`
`)}function hX(i,t,e,n){e.addLineBreak()}function mX(i,t,e,n){e.addWordBreakOpportunity()}function pX(i,t,e,n){e.openBlock({leadingLineBreaks:n.leadingLineBreaks||2}),e.addInline("-".repeat(n.length||e.options.wordwrap||40)),e.closeBlock({trailingLineBreaks:n.trailingLineBreaks||2})}function gX(i,t,e,n){e.openBlock({leadingLineBreaks:n.leadingLineBreaks||2}),t(i.children,e),e.closeBlock({trailingLineBreaks:n.trailingLineBreaks||2})}function bX(i,t,e,n){e.openBlock({isPre:!0,leadingLineBreaks:n.leadingLineBreaks||2}),t(i.children,e),e.closeBlock({trailingLineBreaks:n.trailingLineBreaks||2})}function vX(i,t,e,n){e.openBlock({leadingLineBreaks:n.leadingLineBreaks||2}),n.uppercase!==!1?(e.pushWordTransform(s=>s.toUpperCase()),t(i.children,e),e.popWordTransform()):t(i.children,e),e.closeBlock({trailingLineBreaks:n.trailingLineBreaks||2})}function yX(i,t,e,n){e.openBlock({leadingLineBreaks:n.leadingLineBreaks||2,reservedLineLength:2}),t(i.children,e),e.closeBlock({trailingLineBreaks:n.trailingLineBreaks||2,blockTransform:s=>(n.trimEmptyLines!==!1?j6(s,`
`):s).split(`
`).map(r=>"> "+r).join(`
`)})}function g1(i,t){if(!t)return i;const e=typeof t[0]=="string"?t[0]:"[",n=typeof t[1]=="string"?t[1]:"]";return e+i+n}function q6(i,t,e,n,s){const r=typeof t=="function"?t(i,n,s):i;return r[0]==="/"&&e?V$(e,"/")+r:r}function wX(i,t,e,n){const s=i.attribs||{},r=s.alt?s.alt:"",o=s.src?q6(s.src,n.pathRewrite,n.baseUrl,e.metadata,i):"",c=o?r?r+" "+g1(o,n.linkBrackets):g1(o,n.linkBrackets):r;e.addInline(c,{noWordTransform:!0})}function xX(i,t,e,n){function s(){if(n.ignoreHref||!i.attribs||!i.attribs.href)return"";let o=i.attribs.href.replace(/^mailto:/,"");return n.noAnchorUrl&&o[0]==="#"?"":(o=q6(o,n.pathRewrite,n.baseUrl,e.metadata,i),o)}const r=s();if(!r)t(i.children,e);else{let o="";e.pushWordTransform(u=>(u&&(o+=u),u)),t(i.children,e),e.popWordTransform(),n.hideLinkHrefIfSameAsText&&r===o||e.addInline(o?" "+g1(r,n.linkBrackets):r,{noWordTransform:!0})}}function H6(i,t,e,n,s){const r=yd(i,["parent","name"])==="li";let o=0;const c=(i.children||[]).filter(u=>u.type!=="text"||!/^\s*$/.test(u.data)).map(function(u){if(u.name!=="li")return{node:u,prefix:""};const f=r?s().trimStart():s();return f.length>o&&(o=f.length),{node:u,prefix:f}});if(c.length){e.openList({interRowLineBreaks:1,leadingLineBreaks:r?1:n.leadingLineBreaks||2,maxPrefixLength:o,prefixAlign:"left"});for(const{node:u,prefix:f}of c)e.openListItem({prefix:f}),t([u],e),e.closeListItem();e.closeList({trailingLineBreaks:r?1:n.trailingLineBreaks||2})}}function _X(i,t,e,n){const s=n.itemPrefix||" * ";return H6(i,t,e,n,()=>s)}function EX(i,t,e,n){let s=Number(i.attribs.start||"1");const r=kX(i.attribs.type);return H6(i,t,e,n,()=>" "+r(s++)+". ")}function kX(i="1"){switch(i){case"a":return t=>TT(t,"a");case"A":return t=>TT(t,"A");case"i":return t=>RT(t).toLowerCase();case"I":return t=>RT(t);case"1":default:return t=>t.toString()}}function CX(i){const t=[],e=[];for(const n of i)n.startsWith(".")?t.push(n.substring(1)):n.startsWith("#")&&e.push(n.substring(1));return{classes:t,ids:e}}function SX(i,t){if(t===!0)return!0;if(!i)return!1;const{classes:e,ids:n}=CX(t),s=(i.class||"").split(" "),r=(i.id||"").split(" ");return s.some(o=>e.includes(o))||r.some(o=>n.includes(o))}function AX(i,t,e,n){return SX(i.attribs,e.options.tables)?U6(i,t,e,n):TX(i,t,e,n)}function TX(i,t,e,n){e.openBlock({leadingLineBreaks:n.leadingLineBreaks}),t(i.children,e),e.closeBlock({trailingLineBreaks:n.trailingLineBreaks})}function U6(i,t,e,n){e.openTable(),i.children.forEach(r),e.closeTable({tableToString:o=>fX(o,n.rowSpacing??0,n.colSpacing??3),leadingLineBreaks:n.leadingLineBreaks,trailingLineBreaks:n.trailingLineBreaks});function s(o){const c=+yd(o,["attribs","colspan"])||1,u=+yd(o,["attribs","rowspan"])||1;e.openTableCell({maxColumnWidth:n.maxColumnWidth}),t(o.children,e),e.closeTableCell({colspan:c,rowspan:u})}function r(o){if(o.type!=="tag")return;const c=n.uppercaseHeaderCells!==!1?u=>{e.pushWordTransform(f=>f.toUpperCase()),s(u),e.popWordTransform()}:s;switch(o.name){case"thead":case"tbody":case"tfoot":case"center":o.children.forEach(r);return;case"tr":{e.openTableRow();for(const u of o.children)if(u.type==="tag")switch(u.name){case"th":{c(u);break}case"td":{s(u);break}}e.closeTableRow();break}}}}var NX=Object.freeze({__proto__:null,anchor:xX,blockquote:yX,dataTable:U6,heading:vX,horizontalLine:pX,image:wX,lineBreak:hX,orderedList:EX,paragraph:gX,pre:bX,table:AX,unorderedList:_X,wbr:mX});const RX={baseElements:{selectors:["body"],orderBy:"selectors",returnDomByDefault:!0},decodeEntities:!0,encodeCharacters:{},formatters:{},limits:{ellipsis:"...",maxBaseElements:void 0,maxChildNodes:void 0,maxDepth:void 0,maxInputLength:1<<24},longWordSplit:{forceWrapOnLimit:!1,wrapCharacters:[]},preserveNewlines:!1,selectors:[{selector:"*",format:"inline"},{selector:"a",format:"anchor",options:{baseUrl:null,hideLinkHrefIfSameAsText:!1,ignoreHref:!1,linkBrackets:["[","]"],noAnchorUrl:!0}},{selector:"article",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"aside",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"blockquote",format:"blockquote",options:{leadingLineBreaks:2,trailingLineBreaks:2,trimEmptyLines:!0}},{selector:"br",format:"lineBreak"},{selector:"div",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"footer",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"form",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"h1",format:"heading",options:{leadingLineBreaks:3,trailingLineBreaks:2,uppercase:!0}},{selector:"h2",format:"heading",options:{leadingLineBreaks:3,trailingLineBreaks:2,uppercase:!0}},{selector:"h3",format:"heading",options:{leadingLineBreaks:3,trailingLineBreaks:2,uppercase:!0}},{selector:"h4",format:"heading",options:{leadingLineBreaks:2,trailingLineBreaks:2,uppercase:!0}},{selector:"h5",format:"heading",options:{leadingLineBreaks:2,trailingLineBreaks:2,uppercase:!0}},{selector:"h6",format:"heading",options:{leadingLineBreaks:2,trailingLineBreaks:2,uppercase:!0}},{selector:"header",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"hr",format:"horizontalLine",options:{leadingLineBreaks:2,length:void 0,trailingLineBreaks:2}},{selector:"img",format:"image",options:{baseUrl:null,linkBrackets:["[","]"]}},{selector:"main",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"nav",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"ol",format:"orderedList",options:{leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"p",format:"paragraph",options:{leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"pre",format:"pre",options:{leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"section",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"table",format:"table",options:{colSpacing:3,leadingLineBreaks:2,maxColumnWidth:60,rowSpacing:0,trailingLineBreaks:2,uppercaseHeaderCells:!0}},{selector:"ul",format:"unorderedList",options:{itemPrefix:" * ",leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"wbr",format:"wbr"}],tables:[],whitespaceCharacters:` 	\r
\f`,wordwrap:80},OX=(i,t,e)=>[...i,...t],W6=(i,t,e)=>[...t],IX=(i,t,e)=>i.some(n=>typeof n=="object")?OX(i,t):W6(i,t);function PX(i={}){return i=L6(RX,i,{arrayMerge:W6,customMerge:t=>t==="selectors"?IX:void 0}),i.formatters=Object.assign({},lX,NX,i.formatters),i.selectors=D6(i.selectors,(t=>t.selector)),LX(i),K$(i)}function BX(i,t={},e=void 0){return PX(t)(i,e)}function LX(i){if(i.tags){const e=Object.entries(i.tags).map(([n,s])=>({...s,selector:n||"*"}));i.selectors.push(...e),i.selectors=D6(i.selectors,(n=>n.selector))}function t(e,n,s){const r=n.pop();for(const o of n){let c=e[o];c||(c={},e[o]=c),e=c}e[r]=s}if(i.baseElement){const e=i.baseElement;t(i,["baseElements","selectors"],Array.isArray(e)?e:[e])}i.returnDomByDefault!==void 0&&t(i,["baseElements","returnDomByDefault"],i.returnDomByDefault);for(const e of i.selectors)e.format==="anchor"&&yd(e,["options","noLinkBrackets"])&&t(e,["options","linkBrackets"],!1)}function Fh({onChange:i,data:t}){return m.jsx(t6,{editor:sG,config:{licenseKey:"GPL",plugins:[RG,EW,vG,aW,uW,T0,hW,fK,YK],toolbar:["heading","|","underline","bold","italic","link","|","bulletedList","numberedList","|","blockQuote","undo","redo"]},data:t,onReady:e=>{e.editing.view.change(n=>{n.setStyle("height","200px",e.editing.view.document.getRoot())})},onChange:(e,n)=>{const s=n.getData();i&&i(s)}})}function _c({children:i}){return(!i||typeof i!="string")&&(i=""),IQ(i)}function y_({children:i}){return(!i||typeof i!="string")&&(i=""),BX(i)}function jX({resourceId:i,roadmapId:t,selected:e,toggle:n}){const{getResource:s}=bn(),{getRoadmap:r}=Jn(),o=s({resourceId:i}),c=r({roadmapId:t});if(c)return m.jsx("div",{className:"w-100 h-100 p-4 pt-5",children:m.jsxs("div",{className:"w-100 h-100 d-flex flex-column rounded-3 border-gray-200 border border-1 position-relative roadmap-card",children:[m.jsx("div",{className:"w-100 position-absolute text-center roadmap-card-icon-row",children:m.jsx("div",{className:"rounded-circle p-3 border d-inline-block bg-white",children:m.jsx("div",{className:"background-image-center-no-repeat roadmap-card-icon",style:{backgroundImage:`url(${c.graphic})`}})})}),m.jsx("h3",{className:"w-100 ps-5 pe-5 pt-2 pb-2 text-center",children:c.name}),m.jsx("p",{className:"col-sm-12 ps-5 pe-5 pt-2 pb-4 flex-fill pre-wrap-text text-break",children:m.jsx(y_,{children:c.executive_summary})}),e&&m.jsxs("div",{className:"w-100 p-3 text-center",children:[m.jsx(je,{to:`/resources/${o.info_resourceid}/roadmaps/${t}`,className:"btn btn-link m-2",children:"View"}),m.jsx(je,{to:`/resources/${o.info_resourceid}/roadmaps/${t}/edit`,className:"btn btn-link m-2",children:"Edit"})]}),m.jsx("button",{className:`btn btn-link w-100 p-3 text-center rounded-bottom-3 text-decoration-none ${e?"bg-dark":"bg-light"}`,role:"button",onClick:n,children:e?m.jsxs("span",{children:[m.jsx("i",{className:"bi bi-check-circle-fill"}),"Selected"]}):"Select the Roadmap"})]})})}function w_({resourceId:i,roadmapId:t,badgeId:e,selected:n,required:s,toggle:r,toggleComponent:o,actions:c,body:u}){const{getResource:f}=bn(),{getRoadmap:p}=Jn(),{getBadge:g}=qi();f({resourceId:i});const v=g({badgeId:e});if(p({roadmapId:t}),v)return m.jsx("div",{className:"w-100 p-1",children:m.jsxs("div",{className:"row rounded-3 border-gray-200 border border-1 badge-card-row",children:[m.jsxs("div",{className:"col ps-0 d-flex flex-row align-items-center",children:[o&&o,m.jsx("div",{className:"pt-3 pb-3 ps-2 pe-2",children:m.jsx(ob,{badgeId:e})}),m.jsx("div",{className:"flex-fill p-2 badge-card-row-header",children:m.jsx("h4",{className:"m-0 align-content-center fs-6",children:v.name})})]}),u?m.jsx("div",{className:"col-sm-3 pt-2 pb-2 badge-card-row-description align-content-center",children:u}):m.jsx("div",{className:"col pt-2 pb-2 badge-card-row-description align-content-center",children:m.jsx("p",{className:"m-0 align-content-center",children:m.jsx(y_,{children:v.resource_provider_summary})})}),m.jsx("div",{className:"col-sm-3 pt-2 pb-2 align-content-center",children:c||m.jsx(je,{to:`${on.BADGES}?badgeId=${e}`,target:"_blank",className:"w-100 btn btn-secondary rounded-1 btn-sm",children:"View Additional Badge Details"})})]})})}function LT({resourceId:i,roadmapId:t,badgeId:e,selected:n,required:s,toggle:r}){const o=m.jsx(MX,{required:!!s,children:m.jsx("div",{className:"p-3 h-100 rounded-start-3 border-gray-200 border-end border-1 align-content-center text-center bg-gray-100 fs-4",role:"button",onClick:s?null:r,children:s?m.jsx("i",{className:"bi bi-slash-circle text-gray-200"}):n?m.jsx("i",{className:"bi bi-dash"}):m.jsx("i",{className:"bi bi-plus"})})});return m.jsx(w_,{resourceId:i,roadmapId:t,badgeId:e,selected:n,required:s,toggle:r,toggleComponent:o})}function DX({resourceId:i,roadmapId:t,badgeId:e,selected:n,required:s,toggle:r}){const o=m.jsx("div",{className:"p-3 h-100 bg-gray-100 rounded-start-3 border-gray-200 border-end border-1 align-content-center text-center",role:"button"}),c=m.jsx("div",{className:"text-center",children:s?m.jsx("small",{className:"ps-2 pe-2 pt-1 pb-1 rounded-1 text-nowrap bg-dark-subtle text-black",children:"Required"}):m.jsx("small",{className:"ps-2 pe-2 pt-1 pb-1 rounded-1 text-nowrap bg-secondary-subtle text-white",children:"Not Required"})});return m.jsx(w_,{resourceId:i,roadmapId:t,badgeId:e,selected:n,required:s,toggle:r,toggleComponent:o,body:c})}function MX({children:i,required:t}){const e=m.jsxs(Tc,{children:[m.jsx("i",{className:"bi bi-exclamation-triangle-fill text-yellow"})," This is a required badge"]});return t?m.jsx(ud,{placement:"right",overlay:e,children:i}):i}function FX(){const i=zs(),t=ai();let n=new URLSearchParams(t.search).get("roadmapId");const{fetchBadges:s,getBadges:r}=qi(),{fetchRoadmaps:o,getRoadmaps:c,getRoadmap:u,getRoadmapBadges:f}=Jn(),p=c(),g=r(),v=u({roadmapId:n}),_=f({roadmapId:n});if(S.useEffect(()=>{o(),s()},[]),S.useEffect(()=>{Nm()},[n]),S.useEffect(()=>{!n&&p&&p.length>0&&i(on.ROADMAPS+`?roadmapId=${p[0].roadmap_id}`)},[n,p]),p&&g){const E=p.map(T=>({title:T.name,link:on.ROADMAPS+`?roadmapId=${T.roadmap_id}`}));let C=on.ROADMAPS;return n&&(C+=`?roadmapId=${n}`),m.jsxs("div",{className:"container",children:[m.jsx("div",{className:"row pt-4",children:m.jsx("h1",{children:"Available Roadmaps"})}),m.jsxs("div",{className:"w-100 pt-4 d-flex flex-row",children:[m.jsx("div",{style:{minWidth:"250px",maxWidth:"250px"},className:"pe-3",children:m.jsx(Ds,{variant:"pills",activeKey:C,className:"d-flex flex-column",children:E.map((T,R)=>m.jsx(Ds.Item,{children:m.jsx(G0,{eventKey:T.link,to:T.link,as:je,className:()=>{let P="mb-2 p-2 d-block border-4 border-start rounded-start-0 text-decoration-none";return C===T.link?P+=" bg-light text-dark border-medium":P+=" bg-gray-100 text-secondary border-gray-300",P},children:T.title})},R))})}),m.jsx("div",{className:"flex-fill ps-4",children:v&&m.jsxs("div",{className:"w-100",children:[m.jsxs("div",{className:"w-100 d-flex flex-row",children:[m.jsx("div",{className:"p-2",children:m.jsx("div",{style:{width:"150px",height:"150px"},className:"overflow-hidden",children:v.graphic?m.jsx("img",{alt:"Roadmap graphic",src:v.graphic,className:"w-100"}):m.jsx("div",{className:"w-100 h-100 p-2 text-secondary bg-gray-200 text-center align-content-center",children:"No Roadmap Graphic Available to Display"})})}),m.jsx("div",{className:"flex-fill align-content-center ps-3",children:m.jsx("h2",{children:v.name})})]}),m.jsxs("div",{className:"w-100 pb-5",children:[m.jsxs("div",{className:"row pb-3",children:[m.jsx("h4",{className:"col-sm-3 fs-6",style:{minWidth:"200px"},children:"Infrastructure Type(s):"}),m.jsx("div",{className:"col-sm-9",children:v.infrastructure_types})]}),m.jsxs("div",{className:"row pb-3",children:[m.jsx("h4",{className:"col-sm-3 fs-6",style:{minWidth:"200px"},children:"Roadmap RP Summary:"}),m.jsx("div",{className:"col-sm-9",children:m.jsx(_c,{children:v.executive_summary})})]}),m.jsxs("div",{className:"row pb-3",children:[m.jsx("h4",{className:"col-sm-3 fs-6",style:{minWidth:"200px"},children:"Integration Concierge:"}),m.jsx("div",{className:"col-sm-9",children:v.integration_coordinators})]}),m.jsxs("div",{className:"row pb-3",children:[m.jsx("h4",{className:"col-sm-3 fs-6",style:{minWidth:"200px"},children:"Roadmap Status:"}),m.jsx("div",{className:"col-sm-9",children:v.status})]})]}),m.jsxs("div",{className:"w-100",children:[m.jsx("h3",{className:"text-black",children:"Badges"}),m.jsxs("div",{className:"w-100",children:[_&&_.length===0&&m.jsx("div",{className:"w-100 p-3 text-center lead",children:"No Badges Available to Display"}),_.map((T,R)=>m.jsx(DX,{badgeId:T.badge_id,required:T.required},R))]})]})]})})]})]})}else return m.jsx("div",{className:"container",children:m.jsx(Xn,{processing:!0})})}const VX=(i,t,e,n)=>{var r,o,c,u;const s=[e,{code:t,...n||{}}];if((o=(r=i==null?void 0:i.services)==null?void 0:r.logger)!=null&&o.forward)return i.services.logger.forward(s,"warn","react-i18next::",!0);Ec(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(u=(c=i==null?void 0:i.services)==null?void 0:c.logger)!=null&&u.warn?i.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},jT={},b1=(i,t,e,n)=>{Ec(e)&&jT[e]||(Ec(e)&&(jT[e]=new Date),VX(i,t,e,n))},G6=(i,t)=>()=>{if(i.isInitialized)t();else{const e=()=>{setTimeout(()=>{i.off("initialized",e)},0),t()};i.on("initialized",e)}},v1=(i,t,e)=>{i.loadNamespaces(t,G6(i,e))},DT=(i,t,e,n)=>{if(Ec(e)&&(e=[e]),i.options.preload&&i.options.preload.indexOf(t)>-1)return v1(i,e,n);e.forEach(s=>{i.options.ns.indexOf(s)<0&&i.options.ns.push(s)}),i.loadLanguages(t,G6(i,n))},zX=(i,t,e={})=>!t.languages||!t.languages.length?(b1(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(i,{lng:e.lng,precheck:(n,s)=>{if(e.bindI18n&&e.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,i))return!1}}),Ec=i=>typeof i=="string",qX=i=>typeof i=="object"&&i!==null,HX=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,UX={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},WX=i=>UX[i],GX=i=>i.replace(HX,WX);let y1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:GX};const KX=(i={})=>{y1={...y1,...i}},QX=()=>y1;let K6;const YX=i=>{K6=i},$X=()=>K6,XX={type:"3rdParty",init(i){KX(i.options.react),YX(i)}},Q6=S.createContext();class ZX{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const JX=(i,t)=>{const e=S.useRef();return S.useEffect(()=>{e.current=i},[i,t]),e.current},Y6=(i,t,e,n)=>i.getFixedT(t,e,n),eZ=(i,t,e,n)=>S.useCallback(Y6(i,t,e,n),[i,t,e,n]),tZ=(i,t={})=>{var V,I,M,D;const{i18n:e}=t,{i18n:n,defaultNS:s}=S.useContext(Q6)||{},r=e||n||$X();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new ZX),!r){b1(r,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const F=($,J)=>Ec(J)?J:qX(J)&&Ec(J.defaultValue)?J.defaultValue:Array.isArray($)?$[$.length-1]:$,H=[F,{},!1];return H.t=F,H.i18n={},H.ready=!1,H}(V=r.options.react)!=null&&V.wait&&b1(r,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...QX(),...r.options.react,...t},{useSuspense:c,keyPrefix:u}=o;let f=s||((I=r.options)==null?void 0:I.defaultNS);f=Ec(f)?[f]:f||["translation"],(D=(M=r.reportNamespaces).addUsedNamespaces)==null||D.call(M,f);const p=(r.isInitialized||r.initializedStoreOnce)&&f.every(F=>zX(F,r,o)),g=eZ(r,t.lng||null,o.nsMode==="fallback"?f:f[0],u),v=()=>g,_=()=>Y6(r,t.lng||null,o.nsMode==="fallback"?f:f[0],u),[E,C]=S.useState(v);let T=f.join();t.lng&&(T=`${t.lng}${T}`);const R=JX(T),P=S.useRef(!0);S.useEffect(()=>{const{bindI18n:F,bindI18nStore:H}=o;P.current=!0,!p&&!c&&(t.lng?DT(r,t.lng,f,()=>{P.current&&C(_)}):v1(r,f,()=>{P.current&&C(_)})),p&&R&&R!==T&&P.current&&C(_);const $=()=>{P.current&&C(_)};return F&&(r==null||r.on(F,$)),H&&(r==null||r.store.on(H,$)),()=>{P.current=!1,r&&F&&(F==null||F.split(" ").forEach(J=>r.off(J,$))),H&&r&&H.split(" ").forEach(J=>r.store.off(J,$))}},[r,T]),S.useEffect(()=>{P.current&&p&&C(v)},[r,u,p]);const B=[E,r,p];if(B.t=E,B.i18n=r,B.ready=p,p||!p&&!c)return B;throw new Promise(F=>{t.lng?DT(r,t.lng,f,()=>F()):v1(r,f,()=>F())})};function nZ({i18n:i,defaultNS:t,children:e}){const n=S.useMemo(()=>({i18n:i,defaultNS:t}),[i,t]);return S.createElement(Q6.Provider,{value:n},e)}function fa({children:i}){const{t}=tZ();return i&&Array.isArray(i)&&i.length>0?t(i.join("")):t(i)}const iZ={"":"bi-info-circle-fill",undefined:"bi-info-circle-fill",[Qe.NOT_PLANNED]:"bi-info-circle-fill",[Qe.PLANNED]:"bi-layers",[Qe.TASK_COMPLETED]:"bi-layers",[Qe.VERIFICATION_FAILED]:"bi-layers",[Qe.VERIFIED]:"bi-check-circle-fill",[Qe.DEPRECATED]:"bi-info-circle-fill"};function $6({resourceId:i,roadmapId:t,badgeId:e}){const{getResourceRoadmapBadgePrerequisites:n}=bn();let s=n({resourceId:i,roadmapId:t,badgeId:e});if(s){const r=m.jsx("div",{className:"p-4 h-100 bg-warning-subtle rounded-start-3 border-gray-200 border-end border-1 align-content-center text-center",role:"button"});return m.jsxs("div",{className:"w-100 pb-3",children:[s&&s.length===0&&m.jsx("div",{className:"w-100 p-3 text-center lead",children:"No Prerequisites"}),s&&s.map((o,c)=>{let u=null;return i&&t&&(u=m.jsxs(je,{to:`/resources/${i}/roadmaps/${t}/badges/${o.badge_id}`,className:"w-100 btn btn-outline-dark btn-sm rounded-3 d-flex flex-row",children:[m.jsxs("span",{className:"flex-fill text-start",children:[m.jsx("i",{className:`bi ${iZ[o.status]}`}),m.jsx("span",{className:"ps-3 pe-3",children:m.jsxs(fa,{children:["badgePrerequisiteActionLabel.",o.status]})})]}),m.jsx("span",{className:"",children:m.jsx("i",{className:"bi bi-chevron-right"})})]})),m.jsx(w_,{resourceId:i,roadmapId:t,badgeId:o.badge_id,toggleComponent:r,actions:u},c)})]})}}function a0(i){const t=ai();if(new URLSearchParams(t.search).get("concierge"))return i.children}function sZ(i){const t=zs(),e=ai(),s=new URLSearchParams(e.search).get("concierge"),r=o=>{t(e.pathname+(s?"":"?concierge=true"),{replace:!0})};return m.jsxs("nav",{className:"navbar fixed-bottom navbar-light bg-light border-top border-3 border-dark p-2 d-flex",children:[m.jsx("div",{className:"flex-wrap"}),m.jsx("div",{className:"ps-5 pe-5",children:m.jsx(et.Check,{type:"switch",checked:!!s,id:"concierge-switch",label:"Concierge Mode",onChange:r})})]})}function rZ({resourceId:i,roadmapId:t,badgeId:e,badge:n,task:s,eventKey:r}){const{activeEventKey:o}=S.useContext(hl),c=W1(r),{setResourceRoadmapBadgeTaskWorkflowStatus:u}=bn(),[f,p]=S.useState({}),[g,v]=S.useState(!1),[_,E]=S.useState(!1),C=s.task_id,T=async(B,V,I=!1)=>{if(V!==Ar.ACTION_NEEDED&&(n.status===Qe.VERIFIED||n.status===Qe.TASK_COMPLETED)&&!I)v({taskId:B,status:V});else{v(!1),p({...f,[B]:!0});try{await u({resourceId:i,roadmapId:t,badgeId:e,taskId:B,status:V})}catch{E(!0)}p({...f,[B]:!1})}},R=o.indexOf(r)>=0,P={undefined:"bi bi-layers",[Ar.NOT_COMPLETED]:"bi bi-layers",[Ar.NOT_APPLICABLE]:"bi bi-eye-slash-fill",[Ar.COMPLETED]:"bi bi-check-circle-fill",[Ar.ACTION_NEEDED]:"bi bi-exclamation-triangle-fill"};return m.jsxs("div",{className:`row border-gray-200 border border-1 ${R?"rounded-top-3":"rounded-3"}`,children:[m.jsxs("div",{className:"col ps-0 d-flex flex-row align-items-center",children:[m.jsx("div",{className:"p-4 ps-3 pe-3 h-100 bg-gray-100 rounded-start-3 border-gray-200 border-end border-1 align-content-center text-center",role:"button",onClick:c,children:R?m.jsx("i",{className:"bi bi-caret-down-fill"}):m.jsx("i",{className:"bi bi-caret-right-fill"})}),m.jsx("h4",{className:"flex-fill p-2 ps-3 m-0 fs-6",children:s.name})]}),m.jsx("div",{className:"col-sm-3 align-content-center text-center",children:s.required?m.jsx("small",{className:"ps-2 pe-2 pt-1 pb-1 rounded-1 text-nowrap bg-dark-subtle text-black",children:"Required"}):m.jsx("small",{className:"ps-2 pe-2 pt-1 pb-1 rounded-1 text-nowrap bg-secondary-subtle text-white",children:"Not Required"})}),n.status?m.jsx("div",{className:"col-sm-3 pt-2 pb-2 align-content-center",children:m.jsxs(uo,{children:[m.jsxs(uo.Toggle,{variant:s.status===Ar.ACTION_NEEDED?"danger":s.status?"outline-dark":"dark",id:"dropdown-basic",bsPrefix:"w-100 btn-sm rounded-3 d-flex flex-row",children:[m.jsxs("span",{className:"flex-fill text-start",children:[m.jsx("i",{className:P[s.status]}),m.jsx("span",{className:"ps-3 pe-3",children:m.jsxs(fa,{children:["badgeTaskWorkflowStatus.",s.status]})})]}),m.jsx("span",{children:m.jsx("i",{className:"bi bi-chevron-down"})})]}),m.jsxs(uo.Menu,{children:[m.jsx(uo.Item,{onClick:T.bind(this,C,Ar.COMPLETED,!1),children:"Completed"}),m.jsx(uo.Item,{onClick:T.bind(this,C,Ar.NOT_COMPLETED,!1),children:"Incomplete"}),!s.required&&m.jsx(uo.Item,{onClick:T.bind(this,C,Ar.NOT_APPLICABLE,!1),children:"Not Applicable"}),m.jsx(a0,{children:m.jsx(uo.Item,{className:"bg-danger-subtle",onClick:T.bind(this,C,Ar.ACTION_NEEDED,!1),children:"Action Needed"})})]})]})}):null,m.jsxs(He,{show:g,onHide:v.bind(this,!1),children:[m.jsx(He.Header,{closeButton:!0,className:"bg-light",children:m.jsx(He.Title,{children:m.jsx("i",{className:"bi bi-question-octagon-fill"})})}),m.jsxs(He.Body,{children:[`You're about to make changes to a "`,m.jsxs(fa,{children:["badgeWorkflowStatus.",n.status]}),'" badge. These changes may require the badge to be re-verified by a concierge. Do you want to continue?']}),m.jsxs(He.Footer,{children:[m.jsx("button",{className:"btn btn-outline-dark rounded-1",onClick:v.bind(this,!1),children:"No"}),m.jsx("button",{className:"btn btn-dark rounded-1",onClick:T.bind(this,g.taskId,g.status,!0),children:"Yes"})]})]}),m.jsxs(He,{show:_,onHide:E.bind(this,!1),children:[m.jsx(He.Header,{closeButton:!0,className:"bg-danger-subtle",children:m.jsx(He.Title,{children:m.jsx("i",{className:"bi bi-exclamation-triangle-fill"})})}),m.jsxs(He.Body,{children:[m.jsx("p",{children:"You don't have permissions to make this change. If you should have it, please submit an ACCESS ticket requesting:"}),m.jsxs("p",{children:["Integration Dashboard ",m.jsx("strong",{children:"implementor"})," permission for the resource ",m.jsx("strong",{children:i})]})]}),m.jsx(He.Footer,{children:m.jsx("button",{className:"btn btn-outline-dark rounded-1",onClick:E.bind(this,!1),children:"Cancel"})})]})]})}function X6({resourceId:i,roadmapId:t,badgeId:e}){const{getResourceRoadmapBadgeTasks:n,getResourceRoadmapBadge:s}=bn(),r=s({resourceId:i,roadmapId:t,badgeId:e});let o=n({resourceId:i,roadmapId:t,badgeId:e});if(r&&o)return m.jsxs("div",{className:"w-100",children:[o&&o.length===0&&m.jsx("div",{className:"w-100 p-3 text-center lead",children:"No Tasks Available"}),m.jsx(Vt,{defaultActiveKey:["0"],alwaysOpen:!0,children:o&&o.map((c,u)=>m.jsxs("div",{className:"w-100 p-1",children:[m.jsx(rZ,{resourceId:i,roadmapId:t,badgeId:e,eventKey:u,badge:r,task:c,children:c.name}),m.jsx(Vt.Collapse,{eventKey:u,bsPrefix:"row",children:m.jsxs("div",{className:"p-3 rounded-bottom-3 border-gray-200 border-start border-end border-bottom border-1",children:[m.jsx(_c,{children:c.technical_summary}),m.jsx("a",{className:"btn btn-link",href:c.detailed_instructions_url,target:"_blank",children:"View Details"})]})})]},u))})]})}function oZ(){const i=zs(),t=ai();let n=new URLSearchParams(t.search).get("badgeId");const{fetchRoadmaps:s,getRoadmaps:r,getRoadmap:o,getRoadmapBadges:c}=Jn(),{fetchBadges:u,getBadges:f,getBadge:p}=qi(),{fetchTasks:g,getTasks:v}=Em(),_=f(),E=v(),C=p({badgeId:n});if(S.useEffect(()=>{u(),g()},[]),S.useEffect(()=>{Nm()},[n]),S.useEffect(()=>{!n&&_&&_.length>0&&i(on.BADGES+`?badgeId=${_[0].badge_id}`)},[n,_]),_&&E){const T=_.map(P=>({title:P.name,link:on.BADGES+`?badgeId=${P.badge_id}`}));let R=on.BADGES;return n&&(R+=`?badgeId=${n}`),m.jsxs("div",{className:"container",children:[m.jsx("div",{className:"row pt-4",children:m.jsx("h1",{children:"Available Badges"})}),m.jsxs("div",{className:"w-100 pt-4 d-flex flex-row",children:[m.jsx("div",{style:{minWidth:"250px",maxWidth:"250px"},className:"pe-3",children:m.jsx(Ds,{variant:"pills",activeKey:R,className:"d-flex flex-column",children:T.map((P,B)=>m.jsx(Ds.Item,{children:m.jsx(G0,{eventKey:P.link,to:P.link,as:je,className:()=>{let V="mb-2 p-2 d-block border-4 border-start rounded-start-0 text-decoration-none";return R===P.link?V+=" bg-light text-dark border-medium":V+=" bg-gray-100 text-secondary border-gray-300",V},children:P.title})},B))})}),m.jsx("div",{className:"flex-fill ps-4",children:C&&m.jsxs("div",{className:"w-100",children:[m.jsxs("div",{className:"w-100 pb-5 d-flex flex-row",children:[m.jsx("div",{className:"p-2",children:m.jsx("div",{style:{width:"100px",height:"125px"},className:"overflow-hidden",children:C.graphic?m.jsx("img",{alt:"Roadmap graphic",src:C.graphic,className:"w-100"}):m.jsx("div",{className:"w-100 h-100 p-2 text-secondary bg-gray-200 text-center align-content-center",children:"No Badge Graphic Available to Display"})})}),m.jsx("div",{className:"flex-fill align-content-center ps-3",children:m.jsx("h2",{children:C.name})})]}),m.jsxs("div",{className:"w-100 pb-5",children:[m.jsxs("div",{className:"row pb-3",children:[m.jsx("h4",{className:"col-sm-3 fs-6",children:"Researcher Summary:"}),m.jsx("div",{className:"col-sm-9",children:m.jsx(_c,{children:C.researcher_summary})})]}),m.jsxs("div",{className:"row pb-3",children:[m.jsx("h4",{className:"col-sm-3 fs-6",children:"Resource Provider Summary:"}),m.jsx("div",{className:"col-sm-9",children:m.jsx(_c,{children:C.resource_provider_summary})})]}),m.jsxs("div",{className:"row pb-3",children:[m.jsx("h4",{className:"col-sm-3 fs-6",children:"Verification:"}),m.jsxs("div",{className:"col-sm-9",children:[m.jsx("div",{children:m.jsxs("strong",{children:["[",C.verification_method,"]"]})}),m.jsx(_c,{children:C.verification_summary})]})]}),m.jsxs("div",{className:"row pb-3",children:[m.jsx("h4",{className:"fs-6 col-sm-3 align-content-center",children:"Default Badge Access:"}),m.jsx("div",{className:"col-sm-9 align-content-center",children:m.jsx(je,{to:C.default_badge_access_url,className:"btn btn-outline-dark btn-sm",children:C.default_badge_access_url_label})})]})]}),m.jsxs("div",{className:"row",children:[m.jsxs("div",{className:"w-100 text-start pb-2",children:[m.jsx("h3",{className:"d-inline me-4 text-black",children:"Pre-Requisite Badges"}),m.jsx(ud,{placement:"right",delayShow:300,delayHide:150,overlay:m.jsx(Tc,{id:"tooltip-tasks",children:"Prerequisite badges must be completed before submitting this badge for concierge verification. Click badge details to view and complete the required tasks."}),children:m.jsx("button",{className:"btn btn-link text-yellow d-inline",children:m.jsx("i",{className:"bi bi-question-square-fill"})})})]}),m.jsx($6,{badgeId:n})]}),m.jsxs("div",{className:"row pt-4",children:[m.jsxs("div",{className:"w-100 text-start pb-2",children:[m.jsx("h3",{className:"d-inline me-4 text-black",children:"Key Tasks & Tips"}),m.jsx(ud,{placement:"right",delayShow:300,delayHide:150,overlay:m.jsx(Tc,{id:"tooltip-tasks",children:"Some tasks are informational, while others require action. Review them, return here, and mark each as Complete or N/A."}),children:m.jsx("button",{className:"btn btn-link text-yellow d-inline",children:m.jsx("i",{className:"bi bi-question-square-fill"})})})]}),m.jsx(X6,{badgeId:n})]})]})})]})]})}else return m.jsx("div",{className:"container",children:m.jsx(Xn,{processing:!0})})}function Z6(i){const t=ai();if(new URLSearchParams(t.search).get("debug"))return i.children}const on={INDEX:"/docs",WHY_BECOME_AN_RP:"/docs/why-become-an-rp",HOW_TO_INTEGRATE_RESOURCE:"/docs/how-to-integrate-resource",HOW_TO_CHOOSE_ROADMAP:"/docs/how-to-choose-roadmap",ROADMAPS:"/docs/roadmaps",BADGES:"/docs/badges"},aZ=()=>m.jsxs("div",{className:"row",children:[m.jsx(Z6,{children:m.jsx("div",{className:"col-md-2 bg-white",style:{fontSize:11},children:m.jsxs("ul",{className:"m-0 p-0",children:[m.jsx("li",{className:"d-inline-block p-2",children:m.jsx(je,{className:"btn btn-link border-3 border-start ps-1",to:"/",children:"Integration Dashboard"})}),m.jsxs("li",{className:"d-inline-block p-2",children:[m.jsx(je,{className:"btn btn-link border-3 border-start ps-1",to:on.INDEX,children:"Documentation"}),m.jsxs("ul",{className:"m-0 p-0 ps-2",children:[m.jsx("li",{className:"d-inline-block p-2",children:m.jsx(je,{className:"btn btn-link border-3 border-start ps-1",to:on.WHY_BECOME_AN_RP,children:"Why become an RP"})}),m.jsx("li",{className:"d-inline-block p-2",children:m.jsx(je,{className:"btn btn-link border-3 border-start ps-1",to:on.HOW_TO_INTEGRATE_RESOURCE,children:"How Do I Integrate My Resource into ACCESS"})}),m.jsx("li",{className:"d-inline-block p-2",children:m.jsx(je,{className:"btn btn-link border-3 border-start ps-1",to:on.HOW_TO_CHOOSE_ROADMAP,children:"What is an Integration Roadmap and how do I choose the right one"})}),m.jsx("li",{className:"d-inline-block p-2",children:m.jsx(je,{className:"btn btn-link border-3 border-start ps-1",to:on.ROADMAPS,children:"Roadmaps"})}),m.jsx("li",{className:"d-inline-block p-2",children:m.jsx(je,{className:"btn btn-link border-3 border-start ps-1",to:on.BADGES,children:"Badges"})})]})]})]})})}),m.jsx("div",{className:"col",children:m.jsx(c0,{})})]}),lZ=m.jsxs($t,{path:"/docs",element:m.jsx(aZ,{}),children:[m.jsx($t,{path:on.INDEX,element:m.jsx(sj,{})}),m.jsx($t,{path:on.WHY_BECOME_AN_RP,element:m.jsx(Bj,{})}),m.jsx($t,{path:on.HOW_TO_INTEGRATE_RESOURCE,element:m.jsx(Lj,{})}),m.jsx($t,{path:on.HOW_TO_CHOOSE_ROADMAP,element:m.jsx(jj,{})}),m.jsx($t,{path:on.ROADMAPS,element:m.jsx(FX,{})}),m.jsx($t,{path:on.BADGES,element:m.jsx(oZ,{})})]});function Ab({state:i="grid"}){return m.jsxs("div",{className:"d-flex flex-row",children:[m.jsx("div",{className:"p-1",children:m.jsx("button",{type:"button",className:`btn btn-sm rounded-1 btn-${i==="grid"?"light":"dark"}`,children:m.jsx("i",{className:"bi bi-list"})})}),m.jsx("div",{className:"p-1 ps-0",children:m.jsx("button",{type:"button",className:`btn btn-sm rounded-1 btn-${i==="list"?"light":"dark"}`,children:m.jsx("i",{className:"bi bi-grid-3x3-gap-fill"})})})]})}function J6(i,t){return i=[...i],i.sort((e,n)=>{const s=e[t].toLowerCase(),r=n[t].toLowerCase();return s<r?-1:s>r?1:0}),i}function cZ(){const{getOrganizations:i}=Sd(),[t,e]=S.useState(""),n=i();let s;return n&&n.length>0&&(s=n.filter(r=>r.organization_name.toLowerCase().indexOf(t.toLowerCase())>=0)),s=J6(s,"organization_name"),m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"row",children:[m.jsx("h1",{children:"Integration Dashboard"}),m.jsxs("p",{className:"mt-3",children:["Welcome to the ACCESS Integration Dashboard.",m.jsx("br",{}),m.jsx("br",{}),m.jsx("strong",{className:"text-medium",children:"Click on a Resource Provider (RP)"})," to view their resources and integration statuses. You can explore and manage the resources provided by various RPs. Each RPs integration progress is tracked in real-time, so you can monitor your active and pending integrations as you continue your work."]})]}),m.jsx("div",{className:"row mt-2",children:m.jsx("input",{className:"form-control",type:"text",placeholder:"Search Resource Provider by Organization Name","aria-label":"default input example",onChange:r=>e(r.target.value)})}),m.jsxs("div",{className:"w-100 d-flex mt-5",children:[m.jsx("div",{className:"flex-fill bd-highlight",children:m.jsxs("h2",{children:["Resource Providers ",s&&`(${s.length})`]})}),m.jsx(Ab,{})]}),m.jsxs(Xn,{processing:!s,className:"pt-4 pb-5",children:[s&&s.length===0&&m.jsx("div",{className:"w-100 p-3 text-center lead",children:"No organisations available"}),m.jsxs("div",{className:"row mt-2 row-cols-xl-5 row-cols-lg-4 row-cols-md-3 row-cols-sm-2 row-cols-1",children:[s&&s.map((r,o)=>m.jsx("div",{className:"col p-3",children:m.jsxs(je,{className:"organization-card rounded-3 w-100 h-100",to:"/organizations/"+r.organization_id,children:[m.jsx("div",{className:"w-100 p-3"}),m.jsx("div",{className:"w-100 p-5 bg-light",style:{backgroundImage:`url(${r.other_attributes.organization_logo_url})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"}}),m.jsx("div",{className:"w-100 p-3 text-center",children:m.jsx(je,{className:"btn btn-link",to:"/organizations/"+r.organization_id,children:r.organization_name})})]})},o)),m.jsx("div",{className:"col p-3",children:m.jsx("div",{className:"organization-card rounded-3 w-100 h-100",children:m.jsxs(je,{to:on.INDEX,className:"btn btn-link w-100 p-5 text-center",children:[m.jsx("i",{className:"bi bi-plus-lg fs-1"}),m.jsx("div",{className:"pb-5",children:"Register New Organization"})]})})})]})]})]})}function e4({organization:i,resource:t,inProgress:e=!1,showViewButton:n=!0}){return t===null?m.jsx("div",{className:"w-100 h-100 resource-card rounded-4 p-2 d-flex flex-column bg-gray-200",children:m.jsxs(je,{to:on.INDEX,className:"btn btn-link w-100 p-5 text-center text-secondary",children:[m.jsx("i",{className:"bi bi-plus-lg fs-1"}),m.jsx("div",{className:"pb-5",children:"Register New Resource"})]})}):m.jsxs("div",{className:"w-100 h-100 resource-card rounded-4 p-2 d-flex flex-column",children:[m.jsxs("div",{className:"w-100 bg-light p-1 resource-card-header rounded-3",children:[m.jsx("div",{className:"w-100 ps-2 resource-card-header-actions",children:!e&&m.jsx(je,{to:`/resources/${t.info_resourceid}/edit`,className:"btn btn-link text-medium",children:"Edit"})}),m.jsx("h3",{className:"w-100 text-black",children:t.short_name})]}),m.jsxs("div",{className:"w-100 p-1 resource-card-sub-header",children:[m.jsx("strong",{className:"text-medium",children:t.cider_type}),m.jsx("div",{className:"resource-card-header-thumbnail",children:m.jsx("div",{className:"bg-white background-image-center-no-repeat resource-icon-circle-small",style:{backgroundImage:`url(${i.other_attributes.organization_logo_url})`}})})]}),m.jsx("div",{className:"w-100 p-1 pt-4 flex-fill resource-card-body",children:m.jsx("p",{className:"w-100",children:t.resource_description})}),m.jsxs("div",{className:"w-100",children:[n&&!!e&&m.jsx("div",{className:"p-1",children:m.jsx(je,{to:`/resources/${t.info_resourceid}/edit`,className:"btn btn-dark rounded-5 w-100",children:"Continue Setup"})}),n&&!e&&t.roadmaps&&t.roadmaps.map((s,r)=>m.jsx("div",{className:"p-1",children:m.jsx(je,{to:`/resources/${t.info_resourceid}/roadmaps/${s.roadmap.roadmap_id}`,className:`btn ${r===0?"btn-dark":"btn-outline-dark"} rounded-5 w-100`,children:s.roadmap.name})},r))]})]})}function uZ({organizationId:i,badgeWorkflowStatus:t}){const{fetchResourceRoadmapBadgeStatusSummary:e,getResourceRoadmapBadgeStatusSummary:n}=bn(),s=n({organizationId:i});S.useEffect(()=>{e({organizationId:i})},[]);let r=0;s&&(r=s[t]||0);const o={"tasks-completed":"bg-light","verification-failed":"bg-danger-subtle"};return m.jsxs(je,{to:`/organizations/${i}/badge-review/${t}`,style:{fontWeight:400},className:`btn btn-link text-decoration-none m-1 w-100 ps-2 pe-2 pt-1 pb-1 rounded-1 d-flex flex-row ${o[t]}`,children:[m.jsx("small",{className:"w-100 text-nowrap flex-fill",children:m.jsxs(fa,{children:["badgeWorkflowVerificationStatus.",t]})}),m.jsx("small",{children:r})]})}function dZ(){const{organizationId:i}=xl(),{organizationMap:t,fetchOrganization:e}=Sd(),{fetchResources:n,getResources:s,getResourceRoadmaps:r}=bn(),[o,c]=S.useState(""),u=t[i];let f=s({organizationId:i,full:!0});f&&(f=J6(f,"short_name")),S.useEffect(()=>{e({organizationId:i}),n({organizationId:i,full:!0})},[i]);let p=[{title:"New Integrations",description:"Resources described in the CiDeR databased that haven't selected an integration roadmap or badges",showContinueSetup:!0,condition:(v,_)=>_.length===0,resources:[]},{title:"In-Progress Integrations",description:"Resources that have selected an integration roadmaps and are working on badges but haven't reached their production start date",showContinueSetup:!1,condition:(v,_)=>v.latest_status===vg.ANNOUNCEMENT||v.latest_status===vg.PRE_PRODUCTION,resources:[]},{title:"Production Integrations",description:"Resources that have reached their production start date, that may continue to add or remove badges as appropriate",showContinueSetup:!1,condition:(v,_)=>v.latest_status===vg.PRODUCTION,resources:[]},{title:"Post-Production Integrations",description:"Resources that have passed their production end date, but continue to offer some service and may be partially available for post production use",showContinueSetup:!1,condition:(v,_)=>v.latest_status===vg.POST_PRODUCTION,resources:[]}],g=f&&f.length>0;for(let v=0;f&&v<f.length;v++){let _=f[v],E=_.info_resourceid,C=r({resourceId:E});for(let T=0;T<p.length;T++){const R=p[T];if(_&&C&&(g=!1,fZ(u,_,o)&&R.condition(_,C))){R.resources.push(_);break}}}return p[0].resources.push(null),p=p.filter(v=>v.resources.length>0),m.jsx("div",{className:"container",children:m.jsxs("div",{className:"row",children:[m.jsx("div",{className:"col-sm-2 col-m-3 col-lg-4 p-3",children:u&&m.jsx("div",{className:"w-100 bg-white",style:{backgroundImage:`url(${u.other_attributes.organization_logo_url})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",height:"200px"}})}),m.jsxs("div",{className:"col d-flex flex-row",children:[m.jsx("div",{className:"flex-fill align-content-center",children:u&&m.jsx("h1",{style:{margin:"0px",textAlign:"start"},children:u.organization_name})}),m.jsx("div",{className:"align-content-center",children:m.jsxs("div",{className:"border-start ps-5 pe-3",children:[m.jsxs("h2",{children:["Badge Verification ",m.jsx("br",{}),"Status"]}),m.jsx(uZ,{organizationId:i,badgeWorkflowStatus:Qe.VERIFICATION_FAILED})]})})]}),m.jsx("div",{className:"col-12",children:m.jsxs("div",{className:"input-group mb-3 search-input",children:[m.jsx("span",{className:"input-group-text",children:m.jsx("i",{className:"bi bi-search"})}),m.jsx("input",{type:"text",className:"form-control",placeholder:"Search Resource by Name, Type, ResourceBadge, etc","aria-label":"Search keywords",onChange:v=>c(v.target.value)})]})}),m.jsxs("div",{className:"w-100",children:[g&&m.jsx(Xn,{}),!g&&p.length===0&&m.jsx("div",{className:"w-100 p-3 text-center lead",children:"There are no resource in this organization"}),!g&&p.map((v,_)=>{const E=m.jsx(Tc,{id:"tooltip",children:v.description});return m.jsxs("div",{className:"w-100 pt-5 pb-2",children:[m.jsxs("div",{className:"w-100 text-start pb-2",children:[m.jsxs("h2",{className:"d-inline me-4",children:[v.title," (",v.resources.filter(C=>!!C).length,")"]}),m.jsx(ud,{overlay:E,placement:"right",delayShow:300,delayHide:150,children:m.jsx("button",{className:"btn btn-link text-yellow d-inline",children:m.jsx("i",{className:"bi bi-question-square-fill"})})})]}),m.jsx("div",{className:"w-100 row row-cols-lg-3 row-cols-md-2 row-cols-1",children:v.resources.map((C,T)=>m.jsx("div",{className:"col p-3",children:m.jsx(e4,{organization:u,resource:C,inProgress:v.showContinueSetup})},T))})]},_)})]})]})})}function fZ(i,t,e){e=e.toLowerCase();let n=!1;return t&&(n=n||t.resource_descriptive_name.toLowerCase().indexOf(e)>=0,n=n||t.resource_description&&t.resource_description.toLowerCase().indexOf(e)>=0,n=n||t.cider_type.toLowerCase().indexOf(e)>=0),n}const Ps={className:"btn btn-link text-medium"};function hZ(){const i=ai(),t=i.pathname.replace(/\/$/,""),e=i.search;new URLSearchParams(e);const n=t.split("/"),s=[],{organizationMap:r,organizationMapByName:o}=Sd(),{getResource:c}=bn(),{getRoadmap:u}=Jn();let f=1;if(n[1]&&n[1].length>0&&s.push(m.jsx(ps.Item,{linkAs:je,linkProps:{...Ps,to:"https://access-ci.org/get-started/for-resource-providers/"},children:"RP Home"},f++)),n[1]==="about"&&(s.push(m.jsx(ps.Item,{linkAs:je,linkProps:{...Ps,to:"/organizations"},children:"Dashboard"},f++)),s.push(m.jsx(ps.Item,{linkAs:je,linkProps:{...Ps,to:"/about"},children:"About"},f++))),n[1]==="docs"){const p={[on.INDEX]:"Integration Process is Simple and Intuitive",[on.WHY_BECOME_AN_RP]:"How & Why Become an RP",[on.HOW_TO_INTEGRATE_RESOURCE]:"How Do I Integrate My Resource into ACCESS",[on.HOW_TO_CHOOSE_ROADMAP]:"What is an Integration Roadmap and How do I Choose the Right One",[on.ROADMAPS]:"Available Roadmaps for Integration",[on.BADGES]:"Available Badges for Integration"};s.push(m.jsx(ps.Item,{linkAs:je,linkProps:{...Ps,to:t},children:p[t]},f++))}if(n[1]==="organizations"&&(s.push(m.jsx(ps.Item,{linkAs:je,linkProps:{...Ps,to:"/organizations"},children:"Dashboard"},f++)),n[2])){const p=r[n[2]];s.push(m.jsx(ps.Item,{linkAs:je,linkProps:{...Ps,to:`/organizations/${n[2]}`},children:p?p.organization_name:m.jsx(Xn,{processing:!0})},f++)),n[3]==="badge-review"&&n[4]&&s.push(m.jsxs(ps.Item,{linkAs:je,linkProps:{...Ps,to:`/organizations/${n[2]}/badge-review/${n[4]}`},children:["Review ",m.jsxs(fa,{children:["badgeWorkflowVerificationStatus.",n[4]]})," Badges"]},f++))}if(n[1]==="resources"&&(s.push(m.jsx(ps.Item,{linkAs:je,linkProps:{...Ps,to:"/organizations"},children:"Dashboard"},f++)),n[2])){const p=c({resourceId:n[2]});if(p){const g=o[p.organization_name];g&&s.push(m.jsx(ps.Item,{linkAs:je,linkProps:{...Ps,to:`/organizations/${g.organization_id}`},children:g.organization_name},f++))}if(s.push(m.jsx(ps.Item,{linkAs:je,linkProps:{...Ps,to:`/resources/${n[2]}`},children:p?p.resource_descriptive_name:m.jsx(Xn,{processing:!0})},f++)),n[3]==="edit"&&s.push(m.jsx(ps.Item,{linkAs:je,linkProps:{...Ps,to:`/resources/${n[2]}/edit`},children:"Edit"},f++)),n[3]==="roadmaps"&&n[4]){const g=u({roadmapId:n[4]});s.push(m.jsx(ps.Item,{linkAs:je,linkProps:{...Ps,to:`/resources/${n[2]}/roadmaps/${n[4]}`},children:g?g.name:m.jsx(Xn,{processing:!0})},f++)),n[5]==="edit"&&s.push(m.jsx(ps.Item,{linkAs:je,linkProps:{...Ps,to:`/resources/${n[2]}/roadmaps/${n[4]}/edit`},children:"Edit"},f++))}}return m.jsx(ps,{children:s})}function mZ(i){const t=i.children,e={undefined:"bg-secondary-subtle","not-planned":"bg-secondary-subtle",planned:"bg-warning-subtle","tasks-completed":"bg-warning-subtle","verification-failed":"bg-danger-subtle",verified:"bg-light",deprecated:"bg-secondary-subtle"};return m.jsx("small",{className:`ps-2 pe-2 pt-1 pb-1 rounded-1 text-nowrap ${e[t]}`,children:m.jsxs(fa,{children:["badgeWorkflowStatus.",t]})})}function t4({resourceId:i,roadmapId:t,badgeId:e}){const{getResourceRoadmapBadge:n}=bn(),s=n({resourceId:i,roadmapId:t,badgeId:e});return m.jsx(mZ,{children:s.status})}function pZ({resourceId:i,roadmapId:t,badgeId:e}){const{getResource:n,getResourceOrganization:s,getResourceRoadmapBadge:r}=bn(),o=n({resourceId:i}),c=s({resourceId:i}),u=r({resourceId:i,roadmapId:t,badgeId:e});if(c&&o&&u)return m.jsxs("div",{className:"w-100 badge-card rounded-4 p-3",children:[m.jsxs("div",{className:"w-100 p-1 badge-card-header",children:[m.jsx("div",{className:"w-100 badge-card-header-thumbnail",children:m.jsx(ob,{resourceId:i,roadmapId:t,badgeId:e})}),m.jsx("h3",{className:"w-100",children:u.name})]}),m.jsxs("div",{className:"w-100 badge-card-body",children:[m.jsx("p",{className:"w-100",children:m.jsx(y_,{children:u.resource_provider_summary})}),m.jsx("div",{className:"w-100 text-center",children:m.jsx(t4,{resourceId:i,roadmapId:t,badgeId:e})})]}),m.jsx(je,{to:`/resources/${o.info_resourceid}/roadmaps/${t}/badges/${u.badge_id}`,className:"btn btn-dark rounded-5 w-100",children:"View"})]})}function MT(){const i=zs(),{resourceId:t,roadmapId:e}=xl(),{fetchRoadmap:n,getRoadmap:s}=Jn(),{fetchResource:r,fetchResourceRoadmapBadges:o,getResource:c,getResourceRoadmapBadges:u,getResourceOrganization:f}=bn(),[p,g]=S.useState(1),v=c({resourceId:t});let _=f({resourceId:t}),E=u({resourceId:t,roadmapId:e}),C=s({roadmapId:e});S.useEffect(()=>{r({resourceId:t})},[t]),S.useEffect(()=>{t&&e&&o({resourceId:t,roadmapId:e})},[t,e]),S.useEffect(()=>{v&&v.roadmaps&&!e&&(v.roadmaps.length>0?i(`/resources/${t}/roadmaps/${v.roadmaps[0].roadmap.roadmap_id}`,{replace:!0}):i(`/resources/${v.info_resourceid}/edit`,{replace:!0}))},[v,e]),S.useEffect(()=>{e&&n({roadmapId:e})},[e]);let T={[Qe.NOT_PLANNED]:[],[Qe.PLANNED]:[],[Qe.TASK_COMPLETED]:[],[Qe.VERIFICATION_FAILED]:[],[Qe.VERIFIED]:[],[Qe.DEPRECATED]:[]};if(E&&E.length>0)for(let P=0;P<E.length;P++){const B=E[P];B.status&&T[B.status].push(B)}const R=[{title:"Verification Approved",badges:T[Qe.VERIFIED]},{title:"All",badges:E||[]},{title:"Verification Pending",badges:T[Qe.TASK_COMPLETED]},{title:"Verification Failed",badges:T[Qe.VERIFICATION_FAILED]}];return v&&C&&_?m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"row",children:[m.jsx("h1",{children:v.resource_descriptive_name}),m.jsxs("div",{children:["By",m.jsx(je,{to:`/organizations/${_.organization_id}`,className:"btn btn-link text-dark",children:_.organization_name})]})]}),m.jsxs("div",{className:"row pt-5",children:[m.jsx("h2",{children:"Overview"}),m.jsxs("div",{className:"row",children:[m.jsxs("div",{className:"col",children:[m.jsx("label",{className:"text-secondary",children:"Resource Type"}),m.jsx("div",{children:v.cider_type})]}),m.jsxs("div",{className:"col",children:[m.jsx("label",{className:"text-secondary",children:"Latest Status"}),m.jsx("div",{children:v.latest_status})]}),m.jsxs("div",{className:"col",children:[m.jsx("label",{className:"text-secondary",children:"Global Resource ID"}),m.jsx("div",{children:v.info_resourceid})]}),m.jsxs("div",{className:"col",children:[m.jsx("label",{className:"text-secondary",children:"Roadmap"}),m.jsx("div",{children:C.name})]})]})]}),m.jsx("div",{className:"w-100 pt-3 pb-3",children:m.jsx("p",{children:v.resource_description})}),m.jsx("div",{className:" w-100 pt-5 pb-5 text-medium lead fst-italic",children:"Review the list of badges waiting for completion and start completing tasks to earn badges and track your progress!"}),m.jsxs("div",{className:"row",children:[m.jsx("h2",{className:"pb-4",children:"Badges"}),m.jsxs("div",{className:"w-100 d-flex flex-row",children:[m.jsx("div",{className:"flex-fill",children:m.jsx(Ds,{variant:"underline",defaultActiveKey:"1",className:"pe-3 border-bottom border-1 border-gray-200",onSelect:g,children:R.map((P,B)=>m.jsx(Ds.Item,{children:m.jsxs(Ds.Link,{eventKey:B,children:[P.title," (",P.badges.length,")"]})},B))})}),m.jsx(Ab,{})]}),R.map((P,B)=>m.jsx(H1,{in:B==p,children:m.jsxs("div",{className:"w-100 pt-2 pb-5 row row-cols-lg-3 row-cols-md-2 row-cols-1",children:[P.badges&&P.badges.map(V=>m.jsx("div",{className:"col p-3",children:m.jsx(pZ,{resourceId:t,roadmapId:e,badgeId:V.badge_id})},V.badge_id)),P.badges&&P.badges.length===0&&m.jsx("div",{className:"w-100 p-3 text-center lead",children:"No badges available"})]})},B))]})]}):m.jsx(Xn,{processing:!0})}function gZ({resourceId:i,roadmapId:t,badgeId:e}){const{fetchResourceRoadmapBadgeLogs:n,getResourceRoadmapBadgeLogs:s}=bn();let r=s({resourceId:i,roadmapId:t,badgeId:e});return S.useEffect(()=>{n({resourceId:i,roadmapId:t,badgeId:e})},[i,e]),m.jsxs("div",{className:"w-100",children:[m.jsxs("div",{className:"row",children:[m.jsx("div",{className:"col fw-bold",children:"Ref"}),m.jsx("div",{className:"col fw-bold",children:"Status"}),m.jsx("div",{className:"col fw-bold",children:"Comment"}),m.jsx("div",{className:"col fw-bold",children:"Time stamp and user"})]}),r&&r.map((o,c)=>{const u=o.id,f=o.comment,p=o.status,g=new Date(Date.parse(o.status_updated_at)),v=o.status_updated_by;return m.jsxs("div",{className:"row border-bottom",children:[m.jsx("div",{className:"col",children:u}),m.jsx("div",{className:"col",children:p}),m.jsx("div",{className:"col pre-wrap-text text-break",children:f}),m.jsxs("div",{className:"col",children:[g.toLocaleString()," by ",v]})]},c)})]})}function bZ(){let{resourceId:i,roadmapId:t,badgeId:e}=xl();t=parseInt(t),e=parseInt(e);const{fetchResource:n,fetchResourceRoadmapBadges:s,fetchResourceRoadmapBadgeTasks:r,fetchResourceRoadmapBadgeLogs:o,getResource:c,getResourceRoadmapBadge:u,getResourceRoadmapBadgePrerequisites:f,getResourceOrganization:p,getResourceRoadmapBadgeTasks:g,setResourceRoadmapBadgeWorkflowStatus:v}=bn(),{fetchBadge:_}=qi(),[E,C]=S.useState(""),[T,R]=S.useState(!1),[P,B]=S.useState(!1),[V,I]=S.useState(!1),[M,D]=S.useState(!1),F=c({resourceId:i}),H=p({resourceId:i});let $=u({resourceId:i,roadmapId:t,badgeId:e}),J=g({resourceId:i,roadmapId:t,badgeId:e}),be=f({resourceId:i,roadmapId:t,badgeId:e});S.useEffect(()=>{n({resourceId:i}),s({resourceIds:[i],roadmapId:t}),r({resourceId:i,roadmapId:t,badgeId:e}),_({badgeId:e})},[i,e]);const _e=async re=>{B(!1),R(!0);try{await v({resourceId:i,roadmapId:t,badgeId:e,status:re,comment:E}),await o({resourceId:i,roadmapId:t,badgeId:e}),C(""),re===Qe.TASK_COMPLETED&&I(!0)}catch{D(!0)}R(!1)};if(F&&H&&$&&J&&be){const re=J.filter(fe=>fe.required),le=re.filter(fe=>[Ar.COMPLETED].indexOf(fe.status)>=0).length===re.length&&be.filter(fe=>fe.status!==Qe.VERIFIED).length===0,W=new Date(Date.parse($.status_updated_at)),ae=$.status_updated_by;return m.jsxs("div",{className:"container",children:[$.status===Qe.VERIFICATION_FAILED&&m.jsx("div",{className:"w-100 d-flex flex-row pb-3 pt-3",children:m.jsxs("div",{className:"flex-fill bg-warning rounded-2 p-3 bg-opacity-10",children:[m.jsx("h3",{children:"Badge Returned"}),m.jsxs("div",{className:"text-secondary pb-4 small",children:[W.toLocaleString()," by ",ae]}),m.jsx("p",{className:"pre-wrap-text text-break m-0",children:$.comment})]})}),m.jsx("div",{className:"row",children:m.jsxs("div",{className:"col-sm-12",children:[m.jsxs("div",{className:"row",children:[m.jsx("h1",{children:F.resource_descriptive_name}),m.jsxs("div",{children:["By",m.jsx(je,{to:`/organizations/${H.organization_id}`,className:"btn btn-link text-dark",children:H.organization_name})]})]}),m.jsxs("div",{className:"row pt-5",children:[m.jsx("div",{className:"col-sm-2 mb-3",style:{minHeight:100},children:m.jsx(ob,{resourceId:i,roadmapId:t,badgeId:e})}),m.jsxs("div",{className:"col mb-3",children:[m.jsx("h2",{children:$.name}),m.jsxs("div",{className:"row",children:[m.jsx("label",{className:"text-secondary",children:"RP Roles"}),m.jsx("div",{children:vZ(J).join(", ")})]})]}),m.jsxs("div",{className:"col-sm-3 ps-1 mb-3",children:[m.jsx(sZ,{}),m.jsxs("div",{className:"border-2 border rounded-3 pt-4 pb-4 ps-2 pe-2 text-center",children:[m.jsx("label",{className:"text-black d-inline fw-bold",children:"Badge Status : "}),m.jsx("div",{className:"ps-2 d-inline",children:m.jsx(t4,{resourceId:i,roadmapId:t,badgeId:e})})]})]})]}),m.jsx("div",{className:"w-100 pt-5 pb-3",children:m.jsx(_c,{children:$.resource_provider_summary})})]})}),m.jsxs("div",{className:"w-100 d-flex flex-row pt-3 pb-4",children:[m.jsx("div",{className:"ps-3 pe-3  text-yellow fs-3",children:m.jsx("i",{className:"bi bi-megaphone-fill"})}),m.jsx("p",{className:"text-medium flex-fill fs-5",children:"We recommend completing any prerequisite badges before starting the tasks for this badge. Please note that some tasks may be informationalreview the details, complete them as needed, and update the status to 'Completed' or 'Not Applicable' based on your situation."})]}),m.jsxs("div",{className:"row",children:[m.jsxs("div",{className:"w-100 text-start pb-2",children:[m.jsx("h3",{className:"d-inline me-4 text-black",children:"Pre-Requisite Badges"}),m.jsx(ud,{placement:"right",delayShow:300,delayHide:150,overlay:m.jsx(Tc,{id:"tooltip-tasks",children:"Prerequisite badges must be completed before submitting this badge for concierge verification. Click badge details to view and complete the required tasks."}),children:m.jsx("button",{className:"btn btn-link text-yellow d-inline",children:m.jsx("i",{className:"bi bi-question-square-fill"})})})]}),m.jsx($6,{resourceId:i,roadmapId:t,badgeId:e})]}),m.jsxs("div",{className:"row pt-4",children:[m.jsxs("div",{className:"w-100 text-start pb-2",children:[m.jsx("h3",{className:"d-inline me-4 text-black",children:"Key Tasks & Tips"}),m.jsx(ud,{placement:"right",delayShow:300,delayHide:150,overlay:m.jsx(Tc,{id:"tooltip-tasks",children:"Some tasks are informational, while others require action. Review them, return here, and mark each as Complete or N/A."}),children:m.jsx("button",{className:"btn btn-link text-yellow d-inline",children:m.jsx("i",{className:"bi bi-question-square-fill"})})})]}),m.jsx(X6,{resourceId:i,roadmapId:t,badgeId:e})]}),m.jsx(a0,{children:m.jsxs("div",{className:"w-100 pt-4",children:[m.jsx("h3",{className:"text-black",children:"Reviewer Notes Section"}),m.jsx("p",{children:"Please review each task to see if its complete. If a task is complete, mark it as Approve. If its not complete or needs corrections, mark it as Needs Action and send a message to the resource provider for guidance."}),m.jsxs("p",{className:"pt-2 pb-2",children:[m.jsx("strong",{className:"text-medium",children:"Verification Method : "})," ",$.verification_method]}),m.jsxs("p",{children:[m.jsx("strong",{className:"text-medium",children:"Verification Summary : "}),$.verification_summary]})]})}),m.jsxs("div",{className:"w-100 pt-5 pb-5",children:[m.jsx("div",{className:"w-100",children:m.jsxs(et.Group,{className:"mb-3",controlId:"resource.roadmap.badge.workflow.comment",children:[m.jsx(et.Label,{children:"Comment / Question"}),m.jsx(et.Control,{as:"textarea",rows:3,value:E,onChange:fe=>C(fe.target.value)})]})}),m.jsxs("div",{className:"w-100 d-flex flex-row",children:[m.jsx("div",{className:"flex-fill"}),m.jsxs("div",{style:{maxWidth:600},className:"text-end",children:[(()=>{if(T)return m.jsxs("button",{className:"btn btn-dark rounded-3 ps-3 pe-3 m-1",children:[m.jsx("span",{className:"spinner-border spinner-border-sm me-3",role:"status","aria-hidden":"true"}),"Loading..."]});if(!$.status||$.status===Qe.NOT_PLANNED)return m.jsx("button",{className:"btn btn-outline-dark rounded-3 ps-3 pe-3 m-1",onClick:_e.bind(this,Qe.PLANNED),children:"Add this badge to the resource"});if($.status===Qe.PLANNED||$.status===Qe.VERIFICATION_FAILED)return m.jsx("button",{className:"btn btn-outline-dark rounded-3 ps-3 pe-3 m-1",disabled:!le,onClick:B.bind(this,!0),children:"Submit for Verification"});if($.status===Qe.TASK_COMPLETED||$.status===Qe.VERIFIED)return m.jsx("button",{className:"btn btn-outline-dark rounded-3 ps-3 pe-3 m-1",onClick:_e.bind(this,Qe.PLANNED),children:"Reopen"})})(),!T&&$.status===Qe.TASK_COMPLETED&&m.jsxs(a0,{children:[m.jsx("button",{className:"btn btn-outline-dark rounded-3 ps-3 pe-3 m-1",onClick:_e.bind(this,Qe.VERIFIED),children:"Mark as Verified"}),m.jsx("button",{className:"btn btn-outline-dark rounded-3 ps-3 pe-3 m-1",onClick:_e.bind(this,Qe.VERIFICATION_FAILED),children:"Mark as Verification Failed"})]}),m.jsxs(He,{show:P,onHide:B.bind(this,!1),children:[m.jsx(He.Header,{closeButton:!0,className:"bg-light",children:m.jsx(He.Title,{children:m.jsx("i",{className:"bi bi-question-octagon-fill"})})}),m.jsx(He.Body,{children:"Are you sure that you want to submit this badge for verification?"}),m.jsxs(He.Footer,{children:[m.jsx("button",{className:"btn btn-outline-dark rounded-1",onClick:B.bind(this,!1),children:"No"}),m.jsx("button",{className:"btn btn-dark rounded-1",onClick:_e.bind(this,Qe.TASK_COMPLETED),children:"Yes"})]})]}),m.jsxs(He,{show:V,onHide:I.bind(this,!1),children:[m.jsx(He.Header,{closeButton:!0,className:"bg-light",children:m.jsx(He.Title,{children:m.jsx("i",{className:"bi bi-floppy-fill"})})}),m.jsx(He.Body,{children:"Badge completion has been sent to a concierge for verification."}),m.jsx(He.Footer,{children:m.jsx("button",{className:"btn btn-dark rounded-1",onClick:I.bind(this,!1),children:"Exit"})})]}),m.jsxs(He,{show:M,onHide:D.bind(this,!1),children:[m.jsx(He.Header,{closeButton:!0,className:"bg-danger-subtle",children:m.jsx(He.Title,{children:m.jsx("i",{className:"bi bi-exclamation-triangle-fill"})})}),m.jsxs(He.Body,{children:[m.jsx("p",{children:"You don't have permissions to make this change. If you should have it, please submit an ACCESS ticket requesting:"}),m.jsxs("p",{children:["Integration Dashboard ",m.jsx("strong",{children:"implementor"})," permission for the resource ",m.jsx("strong",{children:i})]})]}),m.jsx(He.Footer,{children:m.jsx("button",{className:"btn btn-outline-dark rounded-1",onClick:D.bind(this,!1),children:"Cancel"})})]}),m.jsxs("div",{className:"pt-3 d-flex flex-row",children:[m.jsx("div",{className:"text-yellow fs-4 p-2",children:m.jsx("i",{className:"bi bi-megaphone-fill"})}),m.jsx("p",{className:"flex-fill ps-1 text-medium",children:"Once youve completed the tasks, please submit them for concierge approval. A concierge will review the completed tasks, and youll receive a follow-up email with next steps."})]})]})]})]}),m.jsx(a0,{children:m.jsx(gZ,{resourceId:i,roadmapId:t,badgeId:e})})]})}}function vZ(i){let t=[];for(let e=0;e<i.length;e++)t=[...t,...i[e].implementor_roles.split(/ *, */ig)];return Array.from(new Set(t))}const ft=i=>typeof i=="string",_h=()=>{let i,t;const e=new Promise((n,s)=>{i=n,t=s});return e.resolve=i,e.reject=t,e},FT=i=>i==null?"":""+i,yZ=(i,t,e)=>{i.forEach(n=>{t[n]&&(e[n]=t[n])})},wZ=/###/g,VT=i=>i&&i.indexOf("###")>-1?i.replace(wZ,"."):i,zT=i=>!i||ft(i),Vh=(i,t,e)=>{const n=ft(t)?t.split("."):t;let s=0;for(;s<n.length-1;){if(zT(i))return{};const r=VT(n[s]);!i[r]&&e&&(i[r]=new e),Object.prototype.hasOwnProperty.call(i,r)?i=i[r]:i={},++s}return zT(i)?{}:{obj:i,k:VT(n[s])}},qT=(i,t,e)=>{const{obj:n,k:s}=Vh(i,t,Object);if(n!==void 0||t.length===1){n[s]=e;return}let r=t[t.length-1],o=t.slice(0,t.length-1),c=Vh(i,o,Object);for(;c.obj===void 0&&o.length;)r=`${o[o.length-1]}.${r}`,o=o.slice(0,o.length-1),c=Vh(i,o,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${r}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${r}`]=e},xZ=(i,t,e,n)=>{const{obj:s,k:r}=Vh(i,t,Object);s[r]=s[r]||[],s[r].push(e)},P0=(i,t)=>{const{obj:e,k:n}=Vh(i,t);if(e&&Object.prototype.hasOwnProperty.call(e,n))return e[n]},_Z=(i,t,e)=>{const n=P0(i,e);return n!==void 0?n:P0(t,e)},n4=(i,t,e)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in i?ft(i[n])||i[n]instanceof String||ft(t[n])||t[n]instanceof String?e&&(i[n]=t[n]):n4(i[n],t[n],e):i[n]=t[n]);return i},Vu=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var EZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const kZ=i=>ft(i)?i.replace(/[&<>"'\/]/g,t=>EZ[t]):i;class CZ{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const e=this.regExpMap.get(t);if(e!==void 0)return e;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const SZ=[" ",",","?","!",";"],AZ=new CZ(20),TZ=(i,t,e)=>{t=t||"",e=e||"";const n=SZ.filter(o=>t.indexOf(o)<0&&e.indexOf(o)<0);if(n.length===0)return!0;const s=AZ.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let r=!s.test(i);if(!r){const o=i.indexOf(e);o>0&&!s.test(i.substring(0,o))&&(r=!0)}return r},w1=function(i,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!i)return;if(i[t])return Object.prototype.hasOwnProperty.call(i,t)?i[t]:void 0;const n=t.split(e);let s=i;for(let r=0;r<n.length;){if(!s||typeof s!="object")return;let o,c="";for(let u=r;u<n.length;++u)if(u!==r&&(c+=e),c+=n[u],o=s[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<n.length-1)continue;r+=u-r+1;break}s=o}return s},B0=i=>i==null?void 0:i.replace("_","-"),NZ={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,t){var e,n;(n=(e=console==null?void 0:console[i])==null?void 0:e.apply)==null||n.call(e,console,t)}};class L0{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||NZ,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,n,s){return s&&!this.debug?null:(ft(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new L0(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new L0(this.logger,t)}}var go=new L0;class Tb{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(e)||0;this.observers[n].set(e,s+1)}),this}off(t,e){if(this.observers[t]){if(!e){delete this.observers[t];return}this.observers[t].delete(e)}}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[c,u]=o;for(let f=0;f<u;f++)c(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[c,u]=o;for(let f=0;f<u;f++)c.apply(c,[t,...n])})}}class HT extends Tb{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,n){var f,p;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,e],n&&(Array.isArray(n)?c.push(...n):ft(n)&&r?c.push(...n.split(r)):c.push(n)));const u=P0(this.data,c);return!u&&!e&&!n&&t.indexOf(".")>-1&&(t=c[0],e=c[1],n=c.slice(2).join(".")),u||!o||!ft(n)?u:w1((p=(f=this.data)==null?void 0:f[t])==null?void 0:p[e],n,r)}addResource(t,e,n,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let c=[t,e];n&&(c=c.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(c=t.split("."),s=e,e=c[1]),this.addNamespaces(e),qT(this.data,c,s),r.silent||this.emit("added",t,e,n,s)}addResources(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const r in n)(ft(n[r])||Array.isArray(n[r]))&&this.addResource(t,e,r,n[r],{silent:!0});s.silent||this.emit("added",t,e,n)}addResourceBundle(t,e,n,s,r){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},c=[t,e];t.indexOf(".")>-1&&(c=t.split("."),s=n,n=e,e=c[1]),this.addNamespaces(e);let u=P0(this.data,c)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?n4(u,n,r):u={...u,...n},qT(this.data,c,u),o.silent||this.emit("added",t,e,n)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return this.getResource(t,e)!==void 0}getResourceBundle(t,e){return e||(e=this.options.defaultNS),this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find(s=>e[s]&&Object.keys(e[s]).length>0)}toJSON(){return this.data}}var i4={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,t,e,n,s){return i.forEach(r=>{var o;t=((o=this.processors[r])==null?void 0:o.process(t,e,n,s))??t}),t}};const UT={},WT=i=>!ft(i)&&typeof i!="boolean"&&typeof i!="number";class j0 extends Tb{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),yZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=go.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,e);return(n==null?void 0:n.res)!==void 0}extractFromKey(t,e){let n=e.nsSeparator!==void 0?e.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator;let r=e.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,c=!this.options.userDefinedKeySeparator&&!e.keySeparator&&!this.options.userDefinedNsSeparator&&!e.nsSeparator&&!TZ(t,n,s);if(o&&!c){const u=t.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:t,namespaces:ft(r)?[r]:r};const f=t.split(n);(n!==s||n===s&&this.options.ns.indexOf(f[0])>-1)&&(r=f.shift()),t=f.join(s)}return{key:t,namespaces:ft(r)?[r]:r}}translate(t,e,n){if(typeof e!="object"&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),typeof e=="object"&&(e={...e}),e||(e={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=e.returnDetails!==void 0?e.returnDetails:this.options.returnDetails,r=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(t[t.length-1],e),u=c[c.length-1],f=e.lng||this.language,p=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode"){if(p){const J=e.nsSeparator||this.options.nsSeparator;return s?{res:`${u}${J}${o}`,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(e)}:`${u}${J}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(e)}:o}const g=this.resolve(t,e);let v=g==null?void 0:g.res;const _=(g==null?void 0:g.usedKey)||o,E=(g==null?void 0:g.exactUsedKey)||o,C=["[object Number]","[object Function]","[object RegExp]"],T=e.joinArrays!==void 0?e.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,P=e.count!==void 0&&!ft(e.count),B=j0.hasDefaultValue(e),V=P?this.pluralResolver.getSuffix(f,e.count,e):"",I=e.ordinal&&P?this.pluralResolver.getSuffix(f,e.count,{ordinal:!1}):"",M=P&&!e.ordinal&&e.count===0,D=M&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${V}`]||e[`defaultValue${I}`]||e.defaultValue;let F=v;R&&!v&&B&&(F=D);const H=WT(F),$=Object.prototype.toString.apply(F);if(R&&F&&H&&C.indexOf($)<0&&!(ft(T)&&Array.isArray(F))){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const J=this.options.returnedObjectHandler?this.options.returnedObjectHandler(_,F,{...e,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(g.res=J,g.usedParams=this.getUsedParamsDetails(e),g):J}if(r){const J=Array.isArray(F),be=J?[]:{},_e=J?E:_;for(const re in F)if(Object.prototype.hasOwnProperty.call(F,re)){const le=`${_e}${r}${re}`;B&&!v?be[re]=this.translate(le,{...e,defaultValue:WT(D)?D[re]:void 0,joinArrays:!1,ns:c}):be[re]=this.translate(le,{...e,joinArrays:!1,ns:c}),be[re]===le&&(be[re]=F[re])}v=be}}else if(R&&ft(T)&&Array.isArray(v))v=v.join(T),v&&(v=this.extendTranslation(v,t,e,n));else{let J=!1,be=!1;!this.isValidLookup(v)&&B&&(J=!0,v=D),this.isValidLookup(v)||(be=!0,v=o);const re=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&be?void 0:v,le=B&&D!==v&&this.options.updateMissing;if(be||J||le){if(this.logger.log(le?"updateKey":"missingKey",f,u,o,le?D:v),r){const Se=this.resolve(o,{...e,keySeparator:!1});Se&&Se.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const ae=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ae&&ae[0])for(let Se=0;Se<ae.length;Se++)W.push(ae[Se]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(e.lng||this.language):W.push(e.lng||this.language);const fe=(Se,Me,O)=>{var ce;const Q=B&&O!==v?O:re;this.options.missingKeyHandler?this.options.missingKeyHandler(Se,u,Me,Q,le,e):(ce=this.backendConnector)!=null&&ce.saveMissing&&this.backendConnector.saveMissing(Se,u,Me,Q,le,e),this.emit("missingKey",Se,u,Me,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?W.forEach(Se=>{const Me=this.pluralResolver.getSuffixes(Se,e);M&&e[`defaultValue${this.options.pluralSeparator}zero`]&&Me.indexOf(`${this.options.pluralSeparator}zero`)<0&&Me.push(`${this.options.pluralSeparator}zero`),Me.forEach(O=>{fe([Se],o+O,e[`defaultValue${O}`]||D)})}):fe(W,o,D))}v=this.extendTranslation(v,t,e,g,n),be&&v===o&&this.options.appendNamespaceToMissingKey&&(v=`${u}:${o}`),(be||J)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${o}`:o,J?v:void 0))}return s?(g.res=v,g.usedParams=this.getUsedParamsDetails(e),g):v}extendTranslation(t,e,n,s,r){var f,p;var o=this;if((f=this.i18nFormat)!=null&&f.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const g=ft(t)&&(((p=n==null?void 0:n.interpolation)==null?void 0:p.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(g){const E=t.match(this.interpolator.nestingRegexp);v=E&&E.length}let _=n.replace&&!ft(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),t=this.interpolator.interpolate(t,_,n.lng||this.language||s.usedLng,n),g){const E=t.match(this.interpolator.nestingRegexp),C=E&&E.length;v<C&&(n.nest=!1)}!n.lng&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var E=arguments.length,C=new Array(E),T=0;T<E;T++)C[T]=arguments[T];return(r==null?void 0:r[0])===C[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${C[0]} in key: ${e[0]}`),null):o.translate(...C,e)},n)),n.interpolation&&this.interpolator.reset()}const c=n.postProcess||this.options.postProcess,u=ft(c)?[c]:c;return t!=null&&(u!=null&&u.length)&&n.applyPostProcessor!==!1&&(t=i4.handle(u,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,s,r,o,c;return ft(t)&&(t=[t]),t.forEach(u=>{if(this.isValidLookup(n))return;const f=this.extractFromKey(u,e),p=f.key;s=p;let g=f.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const v=e.count!==void 0&&!ft(e.count),_=v&&!e.ordinal&&e.count===0,E=e.context!==void 0&&(ft(e.context)||typeof e.context=="number")&&e.context!=="",C=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);g.forEach(T=>{var R,P;this.isValidLookup(n)||(c=T,!UT[`${C[0]}-${T}`]&&((R=this.utils)!=null&&R.hasLoadedNamespace)&&!((P=this.utils)!=null&&P.hasLoadedNamespace(c))&&(UT[`${C[0]}-${T}`]=!0,this.logger.warn(`key "${s}" for languages "${C.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(B=>{var M;if(this.isValidLookup(n))return;o=B;const V=[p];if((M=this.i18nFormat)!=null&&M.addLookupKeys)this.i18nFormat.addLookupKeys(V,p,B,T,e);else{let D;v&&(D=this.pluralResolver.getSuffix(B,e.count,e));const F=`${this.options.pluralSeparator}zero`,H=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(V.push(p+D),e.ordinal&&D.indexOf(H)===0&&V.push(p+D.replace(H,this.options.pluralSeparator)),_&&V.push(p+F)),E){const $=`${p}${this.options.contextSeparator}${e.context}`;V.push($),v&&(V.push($+D),e.ordinal&&D.indexOf(H)===0&&V.push($+D.replace(H,this.options.pluralSeparator)),_&&V.push($+F))}}let I;for(;I=V.pop();)this.isValidLookup(n)||(r=I,n=this.getResource(B,T,I,e))}))})}),{res:n,usedKey:s,exactUsedKey:r,usedLng:o,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,e,n){var r;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(r=this.i18nFormat)!=null&&r.getResource?this.i18nFormat.getResource(t,e,n,s):this.resourceStore.getResource(t,e,n,s)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!ft(t.replace);let s=n?t.replace:t;if(n&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const r of e)delete s[r]}return s}static hasDefaultValue(t){const e="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,e.length)&&t[n]!==void 0)return!0;return!1}}class GT{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=go.create("languageUtils")}getScriptPartFromCode(t){if(t=B0(t),!t||t.indexOf("-")<0)return null;const e=t.split("-");return e.length===2||(e.pop(),e[e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(t){if(t=B0(t),!t||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(ft(t)&&t.indexOf("-")>-1){let e;try{e=Intl.getCanonicalLocales(t)[0]}catch{}return e&&this.options.lowerCaseLng&&(e=e.toLowerCase()),e||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach(n=>{if(e)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(e=s)}),!e&&this.options.supportedLngs&&t.forEach(n=>{if(e)return;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return e=s;e=this.options.supportedLngs.find(r=>{if(r===s)return r;if(!(r.indexOf("-")<0&&s.indexOf("-")<0)&&(r.indexOf("-")>0&&s.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===s||r.indexOf(s)===0&&s.length>1))return r})}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if(typeof t=="function"&&(t=t(e)),ft(t)&&(t=[t]),Array.isArray(t))return t;if(!e)return t.default||[];let n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}toResolveHierarchy(t,e){const n=this.getFallbackCodes(e||this.options.fallbackLng||[],t),s=[],r=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ft(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(t))):ft(t)&&r(this.formatLanguageCode(t)),n.forEach(o=>{s.indexOf(o)<0&&r(this.formatLanguageCode(o))}),s}}const KT={zero:0,one:1,two:2,few:3,many:4,other:5},QT={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class RZ{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=go.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,e){this.rules[t]=e}clearCache(){this.pluralRulesCache={}}getRule(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=B0(t==="dev"?"en":t),s=e.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:s});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let o;try{o=new Intl.PluralRules(n,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),QT;if(!t.match(/-|_/))return QT;const u=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(u,e)}return this.pluralRulesCache[r]=o,o}needsPlural(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(t,e);return n||(n=this.getRule("dev",e)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(s=>`${e}${s}`)}getSuffixes(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(t,e);return n||(n=this.getRule("dev",e)),n?n.resolvedOptions().pluralCategories.sort((s,r)=>KT[s]-KT[r]).map(s=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(t,n);return s?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(e)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",e,n))}}const YT=function(i,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=_Z(i,t,e);return!r&&s&&ft(e)&&(r=w1(i,e,n),r===void 0&&(r=w1(t,e,n))),r},fw=i=>i.replace(/\$/g,"$$$$");class OZ{constructor(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=go.create("interpolator"),this.options=t,this.format=((e=t==null?void 0:t.interpolation)==null?void 0:e.format)||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:e,escapeValue:n,useRawValueToEscape:s,prefix:r,prefixEscaped:o,suffix:c,suffixEscaped:u,formatSeparator:f,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:v,nestingPrefixEscaped:_,nestingSuffix:E,nestingSuffixEscaped:C,nestingOptionsSeparator:T,maxReplaces:R,alwaysFormat:P}=t.interpolation;this.escape=e!==void 0?e:kZ,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=r?Vu(r):o||"{{",this.suffix=c?Vu(c):u||"}}",this.formatSeparator=f||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=v?Vu(v):_||Vu("$t("),this.nestingSuffix=E?Vu(E):C||Vu(")"),this.nestingOptionsSeparator=T||",",this.maxReplaces=R||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(e,n)=>(e==null?void 0:e.source)===n?(e.lastIndex=0,e):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,n,s){var _;let r,o,c;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=E=>{if(E.indexOf(this.formatSeparator)<0){const P=YT(e,u,E,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(P,void 0,n,{...s,...e,interpolationkey:E}):P}const C=E.split(this.formatSeparator),T=C.shift().trim(),R=C.join(this.formatSeparator).trim();return this.format(YT(e,u,T,this.options.keySeparator,this.options.ignoreJSONStructure),R,n,{...s,...e,interpolationkey:T})};this.resetRegExp();const p=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((_=s==null?void 0:s.interpolation)==null?void 0:_.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:E=>fw(E)},{regex:this.regexp,safeValue:E=>this.escapeValue?fw(this.escape(E)):fw(E)}].forEach(E=>{for(c=0;r=E.regex.exec(t);){const C=r[1].trim();if(o=f(C),o===void 0)if(typeof p=="function"){const R=p(t,r,s);o=ft(R)?R:""}else if(s&&Object.prototype.hasOwnProperty.call(s,C))o="";else if(g){o=r[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${t}`),o="";else!ft(o)&&!this.useRawValueToEscape&&(o=FT(o));const T=E.safeValue(o);if(t=t.replace(r[0],T),g?(E.regex.lastIndex+=o.length,E.regex.lastIndex-=r[0].length):E.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,r,o;const c=(u,f)=>{const p=this.nestingOptionsSeparator;if(u.indexOf(p)<0)return u;const g=u.split(new RegExp(`${p}[ ]*{`));let v=`{${g[1]}`;u=g[0],v=this.interpolate(v,o);const _=v.match(/'/g),E=v.match(/"/g);(((_==null?void 0:_.length)??0)%2===0&&!E||E.length%2!==0)&&(v=v.replace(/'/g,'"'));try{o=JSON.parse(v),f&&(o={...f,...o})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,C),`${u}${p}${v}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;s=this.nestingRegexp.exec(t);){let u=[];o={...n},o=o.replace&&!ft(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let f=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const p=s[1].split(this.formatSeparator).map(g=>g.trim());s[1]=p.shift(),u=p,f=!0}if(r=e(c.call(this,s[1].trim(),o),o),r&&s[0]===t&&!ft(r))return r;ft(r)||(r=FT(r)),r||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),r=""),f&&(r=u.reduce((p,g)=>this.format(p,g,n.lng,{...n,interpolationkey:s[1].trim()}),r.trim())),t=t.replace(s[0],r),this.regexp.lastIndex=0}return t}}const IZ=i=>{let t=i.toLowerCase().trim();const e={};if(i.indexOf("(")>-1){const n=i.split("(");t=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);t==="currency"&&s.indexOf(":")<0?e.currency||(e.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?e.range||(e.range=s.trim()):s.split(";").forEach(o=>{if(o){const[c,...u]=o.split(":"),f=u.join(":").trim().replace(/^'+|'+$/g,""),p=c.trim();e[p]||(e[p]=f),f==="false"&&(e[p]=!1),f==="true"&&(e[p]=!0),isNaN(f)||(e[p]=parseInt(f,10))}})}return{formatName:t,formatOptions:e}},zu=i=>{const t={};return(e,n,s)=>{let r=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(r={...r,[s.interpolationkey]:void 0});const o=n+JSON.stringify(r);let c=t[o];return c||(c=i(B0(n),s),t[o]=c),c(e)}};class PZ{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=go.create("formatter"),this.options=t,this.formats={number:zu((e,n)=>{const s=new Intl.NumberFormat(e,{...n});return r=>s.format(r)}),currency:zu((e,n)=>{const s=new Intl.NumberFormat(e,{...n,style:"currency"});return r=>s.format(r)}),datetime:zu((e,n)=>{const s=new Intl.DateTimeFormat(e,{...n});return r=>s.format(r)}),relativetime:zu((e,n)=>{const s=new Intl.RelativeTimeFormat(e,{...n});return r=>s.format(r,n.range||"day")}),list:zu((e,n)=>{const s=new Intl.ListFormat(e,{...n});return r=>s.format(r)})},this.init(t)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=e.interpolation.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=zu(e)}format(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=e.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(c=>c.indexOf(")")>-1)){const c=r.findIndex(u=>u.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,c)].join(this.formatSeparator)}return r.reduce((c,u)=>{var g;const{formatName:f,formatOptions:p}=IZ(u);if(this.formats[f]){let v=c;try{const _=((g=s==null?void 0:s.formatParams)==null?void 0:g[s.interpolationkey])||{},E=_.locale||_.lng||s.locale||s.lng||n;v=this.formats[f](c,E,{...p,...s,..._})}catch(_){this.logger.warn(_)}return v}else this.logger.warn(`there was no format function for ${f}`);return c},t)}}const BZ=(i,t)=>{i.pending[t]!==void 0&&(delete i.pending[t],i.pendingCount--)};class LZ extends Tb{constructor(t,e,n){var r,o;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=go.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(r=this.backend)==null?void 0:r.init)==null||o.call(r,n,s.backend,s)}queueLoad(t,e,n,s){const r={},o={},c={},u={};return t.forEach(f=>{let p=!0;e.forEach(g=>{const v=`${f}|${g}`;!n.reload&&this.store.hasResourceBundle(f,g)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?o[v]===void 0&&(o[v]=!0):(this.state[v]=1,p=!1,o[v]===void 0&&(o[v]=!0),r[v]===void 0&&(r[v]=!0),u[g]===void 0&&(u[g]=!0)))}),p||(c[f]=!0)}),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(u)}}loaded(t,e,n){const s=t.split("|"),r=s[0],o=s[1];e&&this.emit("failedLoading",r,o,e),!e&&n&&this.store.addResourceBundle(r,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2,e&&n&&(this.state[t]=0);const c={};this.queue.forEach(u=>{xZ(u.loaded,[r],o),BZ(u,t),e&&u.errors.push(e),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(f=>{c[f]||(c[f]={});const p=u.loaded[f];p.length&&p.forEach(g=>{c[f][g]===void 0&&(c[f][g]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(u=>!u.done)}read(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:e,fcName:n,tried:s,wait:r,callback:o});return}this.readingCalls++;const c=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(f&&p&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,e,n,s+1,r*2,o)},r);return}o(f,p)},u=this.backend[n].bind(this.backend);if(u.length===2){try{const f=u(t,e);f&&typeof f.then=="function"?f.then(p=>c(null,p)).catch(c):c(null,f)}catch(f){c(f)}return}return u(t,e,c)}prepareLoading(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ft(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ft(e)&&(e=[e]);const r=this.queueLoad(t,e,n,s);if(!r.toLoad.length)return r.pending.length||s(),null;r.toLoad.forEach(o=>{this.loadOne(o)})}load(t,e,n){this.prepareLoading(t,e,{},n)}reload(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}loadOne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),s=n[0],r=n[1];this.read(s,r,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${e}loading namespace ${r} for language ${s} failed`,o),!o&&c&&this.logger.log(`${e}loaded namespace ${r} for language ${s}`,c),this.loaded(t,o,c)})}saveMissing(t,e,n,s,r){var u,f,p,g,v;let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((f=(u=this.services)==null?void 0:u.utils)!=null&&f.hasLoadedNamespace&&!((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace(e))){this.logger.warn(`did not save key "${n}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((v=this.backend)!=null&&v.create){const _={...o,isUpdate:r},E=this.backend.create.bind(this.backend);if(E.length<6)try{let C;E.length===5?C=E(t,e,n,s,_):C=E(t,e,n,s),C&&typeof C.then=="function"?C.then(T=>c(null,T)).catch(c):c(null,C)}catch(C){c(C)}else E(t,e,n,s,c,_)}!t||!t[0]||this.store.addResource(t[0],e,n,s)}}}const $T=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let t={};if(typeof i[1]=="object"&&(t=i[1]),ft(i[1])&&(t.defaultValue=i[1]),ft(i[2])&&(t.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const e=i[3]||i[2];Object.keys(e).forEach(n=>{t[n]=e[n]})}return t},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),XT=i=>{var t,e;return ft(i.ns)&&(i.ns=[i.ns]),ft(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),ft(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),((e=(t=i.supportedLngs)==null?void 0:t.indexOf)==null?void 0:e.call(t,"cimode"))<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i},Vg=()=>{},jZ=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(e=>{typeof i[e]=="function"&&(i[e]=i[e].bind(i))})};class mm extends Tb{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(super(),this.options=XT(t),this.services={},this.logger=go,this.modules={external:[]},jZ(this),e&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,e),this;setTimeout(()=>{this.init(t,e)},0)}}init(){var t=this;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(ft(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=$T();this.options={...s,...this.options,...XT(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?go.init(r(this.modules.logger),this.options):go.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=PZ;const g=new GT(this.options);this.store=new HT(this.options.resources,this.options);const v=this.services;v.logger=go,v.resourceStore=this.store,v.languageUtils=g,v.pluralResolver=new RZ(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(v.formatter=r(p),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new OZ(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new LZ(r(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",function(_){for(var E=arguments.length,C=new Array(E>1?E-1:0),T=1;T<E;T++)C[T-1]=arguments[T];t.emit(_,...C)}),this.modules.languageDetector&&(v.languageDetector=r(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=r(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new j0(this.services,this.options),this.translator.on("*",function(_){for(var E=arguments.length,C=new Array(E>1?E-1:0),T=1;T<E;T++)C[T-1]=arguments[T];t.emit(_,...C)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Vg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=function(){return t.store[p](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=function(){return t.store[p](...arguments),t}});const u=_h(),f=()=>{const p=(g,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(v),n(g,v)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),u}loadResources(t){var r,o;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vg;const s=ft(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const c=[],u=f=>{if(!f||f==="cimode")return;this.services.languageUtils.toResolveHierarchy(f).forEach(g=>{g!=="cimode"&&c.indexOf(g)<0&&c.push(g)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>u(p)),(o=(r=this.options.preload)==null?void 0:r.forEach)==null||o.call(r,f=>u(f)),this.services.backendConnector.load(c,this.options.ns,f=>{!f&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(f)})}else n(null)}reloadResources(t,e,n){const s=_h();return typeof t=="function"&&(n=t,t=void 0),typeof e=="function"&&(n=e,e=void 0),t||(t=this.languages),e||(e=this.options.ns),n||(n=Vg),this.services.backendConnector.reload(t,e,r=>{s.resolve(),n(r)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&i4.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let e=0;e<this.languages.length;e++){const n=this.languages[e];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,e){var n=this;this.isLanguageChangingTo=t;const s=_h();this.emit("languageChanging",t);const r=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},o=(u,f)=>{f?(r(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,s.resolve(function(){return n.t(...arguments)}),e&&e(u,function(){return n.t(...arguments)})},c=u=>{var p,g;!t&&!u&&this.services.languageDetector&&(u=[]);const f=ft(u)?u:this.services.languageUtils.getBestMatchFromCodes(u);f&&(this.language||r(f),this.translator.language||this.translator.changeLanguage(f),(g=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||g.call(p,f)),this.loadResources(f,v=>{o(v,f)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(t),s}getFixedT(t,e,n){var s=this;const r=function(o,c){let u;if(typeof c!="object"){for(var f=arguments.length,p=new Array(f>2?f-2:0),g=2;g<f;g++)p[g-2]=arguments[g];u=s.options.overloadTranslationOptionHandler([o,c].concat(p))}else u={...c};u.lng=u.lng||r.lng,u.lngs=u.lngs||r.lngs,u.ns=u.ns||r.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||n||r.keyPrefix);const v=s.options.keySeparator||".";let _;return u.keyPrefix&&Array.isArray(o)?_=o.map(E=>`${u.keyPrefix}${v}${E}`):_=u.keyPrefix?`${u.keyPrefix}${v}${o}`:o,s.t(_,u)};return ft(t)?r.lng=t:r.lngs=t,r.ns=e,r.keyPrefix=n,r}t(){var s;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(s=this.translator)==null?void 0:s.translate(...e)}exists(){var s;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(s=this.translator)==null?void 0:s.exists(...e)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=e.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(c,u)=>{const f=this.services.backendConnector.state[`${c}|${u}`];return f===-1||f===0||f===2};if(e.precheck){const c=e.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!s||o(r,t)))}loadNamespaces(t,e){const n=_h();return this.options.ns?(ft(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),e&&e(s)}),n):(e&&e(),Promise.resolve())}loadLanguages(t,e){const n=_h();ft(t)&&(t=[t]);const s=this.options.preload||[],r=t.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return r.length?(this.options.preload=s.concat(r),this.loadResources(o=>{n.resolve(),e&&e(o)}),n):(e&&e(),Promise.resolve())}dir(t){var s,r;if(t||(t=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!t)return"rtl";const e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((r=this.services)==null?void 0:r.languageUtils)||new GT($T());return e.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new mm(t,e)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vg;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},r=new mm(s);if((t.debug!==void 0||t.prefix!==void 0)&&(r.logger=r.logger.clone(t)),["store","services","language"].forEach(c=>{r[c]=this[c]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n){const c=Object.keys(this.store.data).reduce((u,f)=>(u[f]={...this.store.data[f]},Object.keys(u[f]).reduce((p,g)=>(p[g]={...u[f][g]},p),{})),{});r.store=new HT(c,s),r.services.resourceStore=r.store}return r.translator=new j0(r.services,s),r.translator.on("*",function(c){for(var u=arguments.length,f=new Array(u>1?u-1:0),p=1;p<u;p++)f[p-1]=arguments[p];r.emit(c,...f)}),r.init(s,e),r.translator.options=s,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Oi=mm.createInstance();Oi.createInstance=mm.createInstance;Oi.createInstance;Oi.dir;Oi.init;Oi.loadResources;Oi.reloadResources;Oi.use;Oi.changeLanguage;Oi.getFixedT;Oi.t;Oi.exists;Oi.setDefaultNamespace;Oi.hasLoadedNamespace;Oi.loadNamespaces;Oi.loadLanguages;const DZ={badgeWorkflowStatus:{"":"Not Started",undefined:"Not Started","not-planned":"Not Started",planned:"In Progress","tasks-completed":"Pending Verification","verification-failed":"RP Attention Required",verified:"Available",deprecated:"Deprecated"},badgeWorkflowVerificationStatus:{"":"Not Started",undefined:"Not Started","not-planned":"Not Started",planned:"In Progress","tasks-completed":"Pending Verifications","verification-failed":"RP Attention Required",verified:"Available",deprecated:"Deprecated"},badgePrerequisiteActionLabel:{"":"Not Planned",undefined:"Not Planned","not-planned":"Not Planned",planned:"Incomplete - Take Action","tasks-completed":"Pending Verification","verification-failed":"RP attention needed",verified:"Available",deprecated:"Deprecated"},badgeTaskWorkflowStatus:{"":"Incomplete",completed:"Completed","not-completed":"Incomplete","not-applicable":"Not Applicable","action-needed":"Action Needed"},"dialog.roadmapEnrollments.success.body":"","dialog.roadmapEnrollments.error_401.body":"","dialog.roadmapEnrollments.error_403.body":["You don't have permissions to make this change. If you should have it, please submit an ACCESS ticket requesting","Integration Dashboard {{role}} permission for the resource {{resourceId}}"]},MZ={en:{translation:DZ}};Oi.use(XX).init({resources:MZ,lng:"en",interpolation:{escapeValue:!1}});function FZ({resourceId:i,selected:t,toggle:e,prev:n,next:s}){const r=zs(),{getResource:o,isResourceRoadmapSelected:c}=bn(),{getRoadmaps:u}=Jn();let f=o({resourceId:i}),p=u().filter(({infrastructure_types:v})=>v===f.cider_type);const g=v=>{r(`/resources/${i}/roadmaps/${v}/edit`,{replace:!0})};if(f&&p)return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"row pt-4",children:[m.jsx("h1",{children:"Welcome to the ACCESS Integration Roadmaps."}),m.jsx("p",{children:m.jsx("em",{children:"Discover how to integrate your infrastructure into the ACCESS environment."})}),m.jsx("p",{children:"Select the roadmap that best aligns with your operational goals under the infrastructure class you wish to integrate. Lets help you achieve the ACCESS allocated status and beyond."})]}),m.jsxs("div",{className:"row pt-5",children:[m.jsx("h2",{className:"visually-hidden",children:"Select the appropriate Roadmap"}),m.jsxs("div",{className:"row pt-2 pb-5 row-cols-2",children:[p&&p.map(v=>{const _=v.roadmap_id;return m.jsx("div",{className:"col pt-2",children:m.jsx(jX,{resourceId:i,roadmapId:_,selected:c({resourceId:i,roadmapId:_}),toggle:g.bind(this,_)})},_)}),p&&p.length===0&&m.jsxs("div",{className:"w-100 p-3 text-center lead",children:['No roadmaps available for the infrastructure type "',f.cider_type,'"']})]})]}),m.jsx("div",{className:"row pt-5",children:m.jsxs("p",{children:[m.jsx("strong",{children:"Explore the Future of Infrastructure Integration: "}),"Interested in contributing to the development of new infrastructure roadmaps? We invite you to explore the possibilities of integrating new and novel infrastructure types. Open an ACCESS Integration and Operation Support Request to start a conversation. Together, we can advance research and innovation in cyberinfrastructure."]})}),m.jsxs("div",{className:"row pt-5",children:[m.jsx("h5",{children:"Integration Roadmaps Framework Participation"}),m.jsx("p",{children:"ACCESS projects contribute to the Integration Roadmaps Framework by participating in the ACCESS Integration Roadmaps Working Group where they develop, document, review, and release tasks and emerging roadmaps."})]})]})}function VZ({resourceId:i,roadmapId:t}){const e=zs(),{getResource:n,getResourceOrganization:s,getResourceRoadmaps:r,isResourceRoadmapSelected:o}=bn(),{getRoadmap:c}=Jn(),u=n({resourceId:i}),f=r({resourceId:i}),p=s({resourceId:i}),g=c({roadmapId:t}),v=!o({resourceId:i,roadmapId:t}),_=E=>{e(`/resources/${i}/roadmaps/${E}/edit`)};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-100 border-gray-200 border-top",children:m.jsxs("div",{className:"row bg-gray-100 rounded-3 mt-4 p-2",children:[m.jsxs("div",{className:"col p-2",children:[m.jsx("div",{children:m.jsx("strong",{children:u.resource_descriptive_name})}),m.jsx("div",{children:m.jsx("strong",{className:"text-medium",children:p.organization_name})})]}),m.jsxs("div",{className:"col p-2",children:[m.jsx("label",{className:"text-secondary",children:"Resource Type"}),m.jsx("div",{children:u.cider_type})]}),m.jsxs("div",{className:"col p-2",children:[m.jsx("label",{className:"text-secondary",children:"Global Resource ID"}),m.jsx("div",{children:u.info_resourceid})]}),m.jsxs("div",{className:"col p-2",children:[m.jsx("label",{className:"text-secondary",children:"Latest Status"}),m.jsx("div",{children:u.latest_status})]})]})}),m.jsxs("div",{className:"w-100 pt-5",children:[m.jsx("h2",{children:"Selected Roadmap:"}),m.jsx("p",{children:"If youd like to change your selection or associate your resource with a different roadmap, please visit the Roadmaps page and update it there. For any other questions or assistance, feel free to contact the concierge team."}),f?m.jsxs(lx,{size:"lg",title:g.name,bsPrefix:"w-100 text-start btn btn-lg btn-outline-dark rounded-2 p-4",onSelect:_,children:[f.map(E=>m.jsx(uo.Item,{eventKey:E.roadmap_id,children:E.name},E.roadmap_id)),!!v&&m.jsx(uo.Item,{eventKey:g.roadmap_id,children:g.name},g.roadmap_id)]}):m.jsx(Xn,{})]})]})}function zZ({resourceId:i,roadmapId:t,selected:e,next:n,prev:s,showSave:r}){const o=zs(),{getResource:c,setResourceRoadmap:u}=bn(),{getRoadmapBadges:f}=Jn(),[p,g]=S.useState(!1),[v,_]=S.useState(!1),[E,C]=S.useState(!1),T=c({resourceId:i}),R=f({roadmapId:t}),P=[],B=async()=>{g(!0);try{await u({resourceId:i,roadmapId:t,badgeIds:P}),_(!0)}catch{C(!0)}g(!1)},V=()=>{o(`/resources/${i}/roadmaps/${t}`)},I=()=>{o("/organizations")};if(T&&R){for(let M=0;M<R.length;M++){const F=R[M].badge_id;e(F)&&P.push(F)}return m.jsxs("div",{className:"w-100 text-end pt-3 pb-5",children:[m.jsx("button",{className:"btn btn-outline-dark rounded-1 m-1",onClick:s,children:"Cancel"}),r?p?m.jsxs("button",{className:"btn btn-dark rounded-1 m-1",children:[m.jsx("span",{className:"spinner-border spinner-border-sm me-3",role:"status","aria-hidden":"true"}),"Loading..."]}):m.jsx("button",{className:"btn btn-dark rounded-1 m-1",disabled:P.length===0,onClick:B,children:"Save Selection"}):m.jsxs("button",{className:"btn btn-dark rounded-1 m-1 ${}",disabled:P.length===0,onClick:n,children:["Continue with ",P.length," Selected Badges"]}),m.jsxs(He,{show:v,onHide:_.bind(this,!1),children:[m.jsx(He.Header,{closeButton:!0,className:"bg-light",children:m.jsx(He.Title,{children:m.jsx("i",{className:"bi bi-floppy-fill"})})}),m.jsx(He.Body,{children:"Changes Have Been Successfully Saved"}),m.jsxs(He.Footer,{children:[m.jsx("button",{className:"btn btn-outline-dark rounded-1",onClick:I,children:"Go to Dashboard"}),m.jsx("button",{className:"btn btn-dark rounded-1",onClick:V,children:"Resource Overview"})]})]}),m.jsxs(He,{show:E,onHide:C.bind(this,!1),children:[m.jsx(He.Header,{closeButton:!0,className:"bg-danger-subtle",children:m.jsx(He.Title,{children:m.jsx("i",{className:"bi bi-exclamation-triangle-fill"})})}),m.jsxs(He.Body,{children:[m.jsx("p",{children:"You don't have permissions to make this change. If you should have it, please submit an ACCESS ticket requesting:"}),m.jsxs("p",{children:["Integration Dashboard ",m.jsx("strong",{children:"coordinator"})," permission for the resource ",m.jsx("strong",{children:i})]})]}),m.jsx(He.Footer,{children:m.jsx("button",{className:"btn btn-outline-dark rounded-1",onClick:C.bind(this,!1),children:"Cancel"})})]})]})}else return m.jsx(Xn,{})}function qZ({resourceId:i,roadmapId:t,selected:e,toggle:n,next:s,prev:r}){const{getResource:o}=bn(),{getRoadmapBadges:c}=Jn(),u=o({resourceId:i}),f=c({roadmapId:t}),p=[],g=[];if(u&&f){for(let v=0;v<f.length;v++){const _=f[v],E=_.badge_id;e(E)?p.push(_):g.push(_)}return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"row pt-5",children:[m.jsx("h1",{children:"Review & Approve Resource Badge Selections"}),m.jsx("p",{children:"In this step, review and confirm your selections. Once you submit your selections your roadmap will switch to the in progress stage, and any team members assigned will see badges/tasks in their ACCESS Dashboard."})]}),m.jsx(VZ,{resourceId:i,roadmapId:t}),m.jsxs("div",{className:"row pt-5",children:[m.jsxs("div",{className:"col-lg-12",children:[m.jsxs("h2",{children:["Selected Badges (",p.length,")"]}),m.jsxs("div",{className:"w-100 pt-2 pb-5",children:[p&&p.map(v=>{const _=v.badge_id;return m.jsx(LT,{resourceId:i,badgeId:_,selected:e(_),required:v.required,toggle:n.bind(null,_)},_)}),p&&p.length===0&&m.jsx("div",{className:"w-100 p-3 ps-0 lead",children:"No badges selected for integration"})]})]}),m.jsxs("div",{className:"col-lg-12",children:[m.jsxs("h2",{children:["Recommended Skipped Badges (",g.length,")"]}),m.jsxs("div",{className:"w-100 pt-2 pb-5",children:[g&&g.map(v=>{const _=v.badge_id;return m.jsx("div",{className:"w-100 pt-2",children:m.jsx(LT,{resourceId:i,roadmapId:t,badgeId:_,selected:e(_),toggle:n.bind(null,_)})},_)}),g&&g.length===0&&m.jsx("div",{className:"w-100 p-3 ps-0 lead",children:"All the recommended badges have been selected for integration"})]})]})]}),m.jsx(zZ,{resourceId:i,roadmapId:t,selected:e,next:s,prev:r,showSave:!0})]})}else return m.jsx(Xn,{})}function HZ({resourceId:i,roadmapId:t,prev:e,next:n}){const{getResource:s,getResourceOrganization:r}=bn(),{getRoadmap:o}=Jn();let c=s({resourceId:i}),u=o({roadmapId:t}),f=r({resourceId:i});if(c&&u&&f)return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"row pt-4",children:[m.jsxs("div",{className:"col-lg-8 d-flex flex-column pe-5",children:[m.jsx("h1",{children:u.name}),m.jsx("div",{className:"flex-fill",children:m.jsx(_c,{children:u.executive_summary})}),m.jsx("div",{children:m.jsx("button",{className:"btn btn-dark rounded-1",onClick:n,children:"Select Your Resource-Specific Badges"})})]}),m.jsx("div",{className:"col-lg-4 p-5",children:m.jsx(e4,{organization:f,resource:c,inProgress:!0,showViewButton:!1})})]}),m.jsxs("div",{className:"w-100 pt-5",children:[m.jsx("h2",{children:"Need More Information? "}),m.jsx("p",{children:"View Additional Information"})]})]})}function ZT(){const i=zs();let{resourceId:t,roadmapId:e}=xl();e=parseInt(e);const{fetchResource:n,fetchResourceRoadmapBadges:s,getResource:r,getResourceRoadmapBadges:o,getResourceOrganization:c,isResourceRoadmapSelected:u}=bn(),{fetchRoadmap:f,getRoadmapBadges:p}=Jn(),[g,v]=S.useState({}),[_,E]=S.useState(0),C=r({resourceId:t}),T=c({resourceId:t}),R=p({roadmapId:e}),P=o({resourceId:t,roadmapId:e}),B=!u({resourceId:t,roadmapId:e});S.useEffect(()=>{n({resourceId:t})},[t]),S.useEffect(()=>{t&&e&&!B&&s({resourceId:t,roadmapId:e})},[t,e,B]),S.useEffect(()=>{E(t&&e?B?1:2:0)},[t,e,B]),S.useEffect(()=>{e&&f({roadmapId:e})},[e]),S.useEffect(()=>{const D={};if(P)for(let F=0;F<P.length;F++)D[P[F].badge_id]=!0;if(R)for(let F=0;F<R.length;F++)R[F].required&&(D[R[F].badge_id]=!0);v(D)},[e,t,!!P,!!R]),S.useEffect(()=>{C&&C.roadmaps&&!e&&(C.roadmaps.length>0?i(`/resources/${t}/roadmaps/${C.roadmaps[0].roadmap.roadmap_id}/edit`,{replace:!0}):i(`/resources/${C.info_resourceid}/edit`,{replace:!0}))},[C,e]);const V=({badgeId:D})=>{v({...g,[D]:!g[D]})},I=()=>{B?E(_-1):i("/organizations")},M=async()=>{_===2?await handleSave():E(_+1)};return C&&T?m.jsxs("div",{className:"container",children:[_===0&&m.jsx(FZ,{resourceId:t,prev:I,next:M}),_===1&&m.jsx(HZ,{resourceId:t,roadmapId:e,prev:I,next:M}),_===2&&m.jsx(qZ,{resourceId:t,roadmapId:e,selected:D=>g[D],toggle:D=>V({badgeId:D}),prev:I,next:M})]}):m.jsx(Xn,{processing:!0})}function UZ({resourceId:i,roadmapId:t,badgeId:e}){const{getRoadmap:n}=Jn(),{getResource:s,getResourceOrganization:r,getResourceRoadmapBadge:o}=bn(),c=s({resourceId:i}),u=n({roadmapId:t}),f=r({resourceId:i}),p=o({resourceId:i,roadmapId:t,badgeId:e}),g={"tasks-completed":"bg-light","verification-failed":"bg-danger-subtle"};if(f&&c&&p)return m.jsx("div",{className:"w-100 shadow-sm border border-1 rounded-1 ps-4",children:m.jsxs("div",{className:"w-100 border-start border-1 ps-4 pe-4 pt-3 pb-3",children:[m.jsxs("div",{className:"w-100 d-flex flex-row",children:[m.jsx("div",{className:"ps-2 pe-4",children:m.jsx(ob,{resourceId:i,roadmapId:t,badgeId:e})}),m.jsxs("div",{className:"flex-fill",children:[m.jsx("h4",{className:"w-100",children:p.name}),m.jsx("div",{className:"w-100 fst-italic",children:u.name})]})]}),m.jsxs("div",{className:"w-100 d-flex flex-row mt-2 mb-4",children:[m.jsx("div",{className:`ps-4 border border-1 border-end-0 rounded-start-1  ${g[p.status]}`}),m.jsxs("div",{className:"flex-fill p-3 border border-1 border-start-0 rounded-end-1",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Resource Type : "})," ",c.cider_type]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Resource Name : "})," ",c.resource_descriptive_name]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Roadmap : "})," ",u.name]})]})]}),m.jsx("div",{className:"w-100 text-end",children:m.jsx(je,{to:`/resources/${c.info_resourceid}/roadmaps/${t}/badges/${p.badge_id}`,className:"btn btn-outline-dark",children:"VIEW DETAILS"})})]})})}function WZ(){let{organizationId:i,badgeWorkflowStatus:t}=xl();const{organizationMap:e,fetchOrganization:n}=Sd(),{fetchResourceRoadmapBadges:s,getResourceRoadmapBadges:r}=bn(),o=e[i];t=t.toLowerCase(),Object.values(Qe).indexOf(t)<0&&(t=null),S.useEffect(()=>{n({organizationId:i}),s({organizationId:i,badgeWorkflowStatus:t})},[i,t]);const c=r({organizationId:i,badgeWorkflowStatus:t});return o&&c?m.jsxs("div",{className:"container",children:[m.jsx("div",{className:"row",children:m.jsx("h1",{children:m.jsxs(fa,{children:["badgeWorkflowVerificationStatus.",t]})})}),m.jsxs("div",{className:"w-100 d-flex flex-row pb-3 pt-3",children:[m.jsx("div",{className:"bg-warning bg-opacity-25 p-2 pt-3 rounded-start-2",children:m.jsx("i",{className:"bi bi-info-circle"})}),m.jsxs("div",{className:"flex-fill bg-warning rounded-end-2 p-3 bg-opacity-10",children:[m.jsx("h3",{children:"COMMENTS:"}),m.jsx("p",{children:"These badges were returned with feedback. Please click and view details for each and revise the highlighted tasks and resubmit for validation."})]})]}),m.jsx("div",{className:"row",children:c.map((u,f)=>m.jsx("div",{className:"w-100 p-3",children:m.jsx(UZ,{resourceId:u.info_resourceid,roadmapId:u.roadmap_id,badgeId:u.badge_id})},f))})]}):m.jsx("div",{className:"container",children:m.jsx(Xn,{processing:!0})})}function GZ(){const i=zs(),t=ai();let n=new URLSearchParams(t.search).get("badgeWorkflowStatus");const{fetchResourceRoadmapBadges:s,fetchResourceRoadmapBadgeStatusSummary:r,getResourceRoadmapBadges:o,getResourceRoadmapBadgeStatusSummary:c,getResource:u}=bn(),{getBadge:f}=qi(),{getRoadmap:p}=Jn();[Qe.PLANNED,Qe.TASK_COMPLETED,Qe.VERIFICATION_FAILED,Qe.VERIFIED,Qe.DEPRECATED,"*"].indexOf(n)<0&&(n=null);const g=o({badgeWorkflowStatus:n==="*"?null:n}),v=c();S.useEffect(()=>{n&&s({badgeWorkflowStatus:n==="*"?null:n})},[n]),S.useEffect(()=>{r()},[]);const _=[{title:"Pending Verification",count:()=>v[Qe.TASK_COMPLETED],link:Rt.BADGE_STATUS+`?badgeWorkflowStatus=${Qe.TASK_COMPLETED}`},{title:"RP Attention Needed",count:()=>v[Qe.VERIFICATION_FAILED],link:Rt.BADGE_STATUS+`?badgeWorkflowStatus=${Qe.VERIFICATION_FAILED}`},{title:"In Progress",count:()=>v[Qe.PLANNED],link:Rt.BADGE_STATUS+`?badgeWorkflowStatus=${Qe.PLANNED}`},{title:"Deprecated",count:()=>v[Qe.DEPRECATED],link:Rt.BADGE_STATUS+`?badgeWorkflowStatus=${Qe.DEPRECATED}`},{title:"Available",count:()=>v[Qe.VERIFIED],link:Rt.BADGE_STATUS+`?badgeWorkflowStatus=${Qe.VERIFIED}`},{title:"View All",count:()=>v.total,link:Rt.BADGE_STATUS+"?badgeWorkflowStatus=*"}];let E=Rt.BADGE_STATUS;if(n&&(E+=`?badgeWorkflowStatus=${n}`),v){if(!n){for(let C of _)if(console.log("tab",[C.title,C.count()]),C.count()>0)return i(C.link)}return m.jsx("div",{className:"container",children:m.jsx("div",{className:"row mt-2 p-3",children:m.jsxs("div",{className:"w-100 bg-white border-3 rounded-2 p-4 ps-5 pe-5",children:[m.jsx("div",{className:"w-100 ",style:{borderBottom:"1px dashed"},children:m.jsx("h2",{className:"text-medium",children:"Badge Verification Status"})}),m.jsxs("div",{className:"w-100 pt-4",children:[m.jsxs("div",{className:"w-100 d-flex flex-row",children:[m.jsx("div",{className:"flex-fill",children:m.jsx(Ds,{variant:"underline",activeKey:E,className:"pe-3 border-bottom border-1 border-gray-200",children:_.map((C,T)=>m.jsx(Ds.Item,{children:m.jsxs(Ds.Link,{eventKey:C.link,to:C.link,as:je,children:[C.title," (",C.count(),")"]})},T))})}),m.jsx(Ab,{state:"list"})]}),m.jsx("div",{className:"w-100 pt-4",children:m.jsxs("table",{className:"table",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"table-dark",children:[m.jsx("th",{scope:"col",children:m.jsx("div",{className:"fs-7 pt-2 pb-2",children:"Resource ID"})}),m.jsx("th",{scope:"col",children:m.jsx("div",{className:"fs-7 pt-2 pb-2",children:"Badge"})}),m.jsx("th",{scope:"col",children:m.jsx("div",{className:"fs-7 pt-2 pb-2",children:"Roadmap"})}),m.jsx("th",{scope:"col",children:m.jsx("div",{className:"fs-7 pt-2 pb-2",children:"Status"})}),m.jsx("th",{scope:"col",children:m.jsx("div",{className:"fs-7 pt-2 pb-2",children:"Action"})})]})}),m.jsxs("tbody",{children:[g&&g.length===0&&m.jsx("tr",{className:"pt-2 pb-2",children:m.jsx("td",{colSpan:5,children:m.jsx("div",{className:"w-100 p-3 text-center lead",children:"No resource badge integrations available to display"})})}),g&&g.map((C,T)=>{const R=C.info_resourceid,P=C.badge_id,B=C.roadmap_id,V=f({badgeId:P}),I=p({roadmapId:B});return m.jsxs("tr",{className:"pt-2 pb-2",children:[m.jsx("td",{children:m.jsx("div",{className:"fs-7 pt-2 pb-2",children:R})}),m.jsx("td",{children:m.jsx("div",{className:"fs-7 pt-2 pb-2",children:V.name})}),m.jsx("td",{children:m.jsx("div",{className:"fs-7 pt-2 pb-2",children:I.name})}),m.jsx("td",{children:m.jsx("div",{className:"fs-7 pt-2 pb-2",children:m.jsx("small",{className:"ps-2 pe-2 pt-1 pb-1 rounded-1 text-nowrap bg-secondary-subtle",children:m.jsxs(fa,{children:["badgeWorkflowStatus.",C.status]})})})}),m.jsx("td",{children:m.jsxs(je,{style:{minWidth:"175px"},to:`/resources/${R}/roadmaps/${B}/badges/${P}?concierge=true`,className:"btn btn-link text-medium text-decoration-none fw-normal fs-7 pt-2 pb-2",target:"_blank",children:["BADGE ACTION",m.jsx("i",{className:"bi bi-box-arrow-up-right ps-2"})]})})]},T)})]})]})})]})]})})})}else return m.jsx("div",{className:"container",children:m.jsx(Xn,{processing:!0})})}function x1({roadmapId:i}){const{getRoadmap:t}=Jn();if(i===null)return m.jsx("div",{className:"w-100 h-100 p-2 pt-4",children:m.jsx("div",{className:"w-100 h-100 rounded-4 p-2 d-flex flex-column bg-gray-200 border-black border border-1",children:m.jsx(je,{to:Rt.ROADMAP_NEW,className:"btn btn-link w-100 h-100 text-center align-content-center fw-normal text-secondary",children:"+ Create New"})})});const e=t({roadmapId:i}),n=/(ACCESS Allocated|ACCESS Affiliated|ACCESS)? *(.*)/.exec(e.name);if(e)return m.jsx("div",{className:"w-100 h-100 p-2 pt-4",children:m.jsxs("div",{className:"w-100 h-100 d-flex flex-column rounded-3 border-black border border-1 position-relative staff-roadmap-card bg-white",children:[m.jsx("div",{className:"w-100 position-absolute text-center roadmap-card-icon-row",children:m.jsx("div",{className:"rounded-circle p-3 border d-inline-block bg-white",children:m.jsx("div",{className:"background-image-center-no-repeat roadmap-card-icon",style:{backgroundImage:`url(${e.graphic})`}})})}),m.jsxs("div",{className:"w-100 p-2 text-center",children:[m.jsx("div",{className:"w-100 text-end",style:{height:"70px"},children:e.status==="Draft"&&m.jsx("span",{className:"bg-gray-300 p-1 rounded-1 fs-9 coming-soon-regular",children:"Draft"})}),m.jsx("h3",{className:"w-100 text-center text-black fs-6",children:n[1]}),m.jsx("strong",{className:"w-100 text-center text-medium fs-6",children:n[2]})]}),m.jsxs("div",{className:"w-100 text-end p-1",children:[m.jsx(je,{className:"btn btn-link p-2",to:Rt.ROADMAP_EDIT.replace(":roadmapId",i),children:m.jsx("i",{className:"bi bi-pencil-fill"})}),m.jsx(je,{className:"btn btn-link p-2",to:"",children:m.jsx("i",{className:"bi bi-trash-fill"})})]})]})})}function KZ({badgeId:i}){const{getBadge:t}=qi();let e=t({badgeId:i});return m.jsx("div",{className:"w-100 background-image-center-no-repeat badge-icon-border",style:{backgroundImage:`url(${e.graphic})`}})}function QZ(){const{fetchResourceRoadmapBadgeStatusSummary:i,getResourceRoadmapBadgeStatusSummary:t}=bn(),{getRoadmaps:e}=Jn(),{getBadges:n}=qi(),s=t(),r=e(),o=n();S.useEffect(()=>{i()},[]);const c=[Qe.VERIFICATION_FAILED,Qe.TASK_COMPLETED,Qe.PLANNED,Qe.VERIFIED,Qe.DEPRECATED],[u,f]=S.useState(0),p=u-4,g=u+4;if(r&&o&&s){const v=p<0,_=g>=r.length;return m.jsxs("div",{className:"container",children:[m.jsx("div",{className:"row visually-hidden",children:m.jsx("h1",{children:"Staff Dashboard"})}),m.jsxs("div",{className:"row mt-2 p-3",children:[m.jsx("div",{className:"col-12 p-0 pb-4",children:m.jsxs("div",{className:"w-100 bg-white border-3 rounded-2 p-4 ps-5 pe-5",children:[m.jsxs("div",{className:"w-100 d-flex flex-row p-0",children:[m.jsx("h2",{className:"text-medium",children:"Roadmaps"}),m.jsx("div",{className:"flex-fill border-dark border-bottom border-1 ms-3 me-3 mb-4"}),m.jsxs("div",{children:[m.jsx(je,{className:"btn btn-sm btn-dark rounded-2",to:Rt.ROADMAP_NEW,children:"Create New"}),m.jsx(je,{className:"btn btn-link ms-3 me-3 fw-light",to:Rt.ROADMAPS,children:"View All"}),m.jsxs("div",{className:"btn-group",children:[m.jsx("button",{className:"btn btn-sm btn-outline-gray-500 rounded-start",onClick:f.bind(null,p),disabled:v,children:m.jsx("i",{className:`bi bi-chevron-left ${!v&&"text-black"}`})}),m.jsx("button",{className:"btn btn-sm btn-outline-gray-500 rounded-end",onClick:f.bind(null,g),disabled:_,children:m.jsx("i",{className:`bi bi-chevron-right ${!_&&"text-black"}`})})]})]})]}),m.jsx("div",{className:"row",children:r&&r.map((E,C)=>{let T=u<=C&&u+3>=C;return m.jsx(sd,{in:T,timeout:"2000",children:m.jsx("div",{className:`col-lg-3 col-md-4 col-sm-6 p-2 ${T?"":"visually-hidden"}`,children:m.jsx(x1,{roadmapId:E.roadmap_id})})},C)})})]})}),m.jsx("div",{className:"col-md-8 col-sm-6 p-0 pe-md-3 pe-sm-1",children:m.jsxs("div",{className:"w-100 bg-white border-3 rounded-2 p-4 ps-5 pe-5",children:[m.jsxs("div",{className:"w-100 d-flex flex-row pb-4",children:[m.jsx("h2",{className:"text-medium",children:"Badges"}),m.jsx("div",{className:"flex-fill border-dark border-bottom border-1 ms-3 me-3 mb-4"}),m.jsxs("div",{children:[m.jsx(je,{className:"btn btn-sm btn-dark rounded-2",to:Rt.BADGE_NEW,children:"Create New"}),m.jsx(je,{className:"btn btn-link ms-3 me-3 fw-light",to:Rt.BADGES,children:"View All"})]})]}),m.jsx("ul",{className:"p-0",children:o&&o.map((E,C)=>m.jsxs("li",{className:"d-flex flex-row pb-2",children:[m.jsx("div",{children:m.jsx(KZ,{badgeId:E.badge_id})}),m.jsx("div",{className:"flex-fill ps-4 align-content-center",children:E.name}),m.jsx("div",{className:"align-content-center",children:m.jsxs(je,{to:Rt.BADGE_EDIT.replace(":badgeId",E.badge_id),className:"btn btn-sm btn-link text-center",style:{width:80},children:[m.jsx("i",{className:"bi bi-pencil-square pe-2"}),"Edit"]})})]},C))})]})}),m.jsx("div",{className:"col-md-4 col-sm-6 p-0 ps-sm-1",children:m.jsxs("div",{className:"w-100 bg-white border-3 rounded-2 p-4 ps-5 pe-5",children:[m.jsxs("div",{className:"w-100 d-flex flex-row pb-4",children:[m.jsx("h2",{className:"text-medium",children:"Badge Status"}),m.jsx("div",{className:"flex-fill border-dark border-bottom border-1 ms-3 me-3 mb-4"}),m.jsx("div",{children:m.jsx(je,{className:"btn btn-link ms-3 me-1 fw-light",to:Rt.BADGE_STATUS,children:"View All"})})]}),m.jsx("ul",{className:"p-0",children:c.map(E=>m.jsxs("li",{className:"d-flex flex-row pb-2",children:[m.jsx("div",{className:"flex-fill",children:m.jsx(je,{to:`/staff/badge-status/?badgeWorkflowStatus=${E}`,className:"btn btn-sm btn-link text-center fw-normal",children:m.jsxs(fa,{children:["badgeWorkflowStatus.",E]})})}),m.jsx("div",{className:"text-center",style:{width:60},children:s[E]?s[E]:0})]},E))})]})})]})]})}else return m.jsx("div",{className:"container",children:m.jsx(Xn,{processing:!0})})}function YZ(){const{getRoadmaps:i}=Jn(),t=i();return t?m.jsxs("div",{className:"container",children:[m.jsx("div",{className:"row visually-hidden",children:m.jsx("h1",{children:"Staff Dashboard - Roadmaps"})}),m.jsx("div",{className:"row mt-2 p-3",children:m.jsx("div",{className:"col-12 p-0 pb-4",children:m.jsxs("div",{className:"w-100 bg-white border-3 rounded-2 pt-4 ps-5 pe-5",style:{paddingBottom:300},children:[m.jsxs("div",{className:"w-100 d-flex flex-row p-0",style:{borderBottom:"1px dashed"},children:[m.jsx("h2",{className:"text-medium",children:"Roadmaps"}),m.jsx("div",{className:"flex-fill"}),m.jsx(Ab,{})]}),m.jsxs("div",{className:"w-100 text-end pt-4",children:["Sort By:",m.jsx("button",{className:"btn btn-link ms-3 me-3 fw-light",children:m.jsx("span",{className:"text-black",children:"Roadmap Name"})})]}),m.jsxs("div",{className:"row",children:[m.jsx("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:m.jsx(x1,{roadmapId:null})}),t&&t.map((e,n)=>m.jsx("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:m.jsx(x1,{roadmapId:e.roadmap_id})},n))]})]})})})]}):m.jsx("div",{className:"container",children:m.jsx(Xn,{processing:!0})})}function s4(i){return new Promise((t,e)=>{const n=new FileReader;n.readAsDataURL(i),n.onload=()=>t(n.result),n.onerror=s=>e(s)})}function Mc(i,t,e,n){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function c(p){try{f(n.next(p))}catch(g){o(g)}}function u(p){try{f(n.throw(p))}catch(g){o(g)}}function f(p){p.done?r(p.value):s(p.value).then(c,u)}f((n=n.apply(i,t||[])).next())})}const $Z=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function wd(i,t,e){const n=XZ(i),{webkitRelativePath:s}=i,r=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${i.name}`;return typeof n.path!="string"&&JT(n,"path",r),JT(n,"relativePath",r),n}function XZ(i){const{name:t}=i;if(t&&t.lastIndexOf(".")!==-1&&!i.type){const n=t.split(".").pop().toLowerCase(),s=$Z.get(n);s&&Object.defineProperty(i,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return i}function JT(i,t,e){Object.defineProperty(i,t,{value:e,writable:!1,configurable:!1,enumerable:!0})}const ZZ=[".DS_Store","Thumbs.db"];function JZ(i){return Mc(this,void 0,void 0,function*(){return D0(i)&&eJ(i.dataTransfer)?sJ(i.dataTransfer,i.type):tJ(i)?nJ(i):Array.isArray(i)&&i.every(t=>"getFile"in t&&typeof t.getFile=="function")?iJ(i):[]})}function eJ(i){return D0(i)}function tJ(i){return D0(i)&&D0(i.target)}function D0(i){return typeof i=="object"&&i!==null}function nJ(i){return _1(i.target.files).map(t=>wd(t))}function iJ(i){return Mc(this,void 0,void 0,function*(){return(yield Promise.all(i.map(e=>e.getFile()))).map(e=>wd(e))})}function sJ(i,t){return Mc(this,void 0,void 0,function*(){if(i.items){const e=_1(i.items).filter(s=>s.kind==="file");if(t!=="drop")return e;const n=yield Promise.all(e.map(rJ));return e3(r4(n))}return e3(_1(i.files).map(e=>wd(e)))})}function e3(i){return i.filter(t=>ZZ.indexOf(t.name)===-1)}function _1(i){if(i===null)return[];const t=[];for(let e=0;e<i.length;e++){const n=i[e];t.push(n)}return t}function rJ(i){if(typeof i.webkitGetAsEntry!="function")return t3(i);const t=i.webkitGetAsEntry();return t&&t.isDirectory?o4(t):t3(i,t)}function r4(i){return i.reduce((t,e)=>[...t,...Array.isArray(e)?r4(e):[e]],[])}function t3(i,t){return Mc(this,void 0,void 0,function*(){var e;if(globalThis.isSecureContext&&typeof i.getAsFileSystemHandle=="function"){const r=yield i.getAsFileSystemHandle();if(r===null)throw new Error(`${i} is not a File`);if(r!==void 0){const o=yield r.getFile();return o.handle=r,wd(o)}}const n=i.getAsFile();if(!n)throw new Error(`${i} is not a File`);return wd(n,(e=t==null?void 0:t.fullPath)!==null&&e!==void 0?e:void 0)})}function oJ(i){return Mc(this,void 0,void 0,function*(){return i.isDirectory?o4(i):aJ(i)})}function o4(i){const t=i.createReader();return new Promise((e,n)=>{const s=[];function r(){t.readEntries(o=>Mc(this,void 0,void 0,function*(){if(o.length){const c=Promise.all(o.map(oJ));s.push(c),r()}else try{const c=yield Promise.all(s);e(c)}catch(c){n(c)}}),o=>{n(o)})}r()})}function aJ(i){return Mc(this,void 0,void 0,function*(){return new Promise((t,e)=>{i.file(n=>{const s=wd(n,i.fullPath);t(s)},n=>{e(n)})})})}var zg={},n3;function lJ(){return n3||(n3=1,zg.__esModule=!0,zg.default=function(i,t){if(i&&t){var e=Array.isArray(t)?t:t.split(",");if(e.length===0)return!0;var n=i.name||"",s=(i.type||"").toLowerCase(),r=s.replace(/\/.*$/,"");return e.some(function(o){var c=o.trim().toLowerCase();return c.charAt(0)==="."?n.toLowerCase().endsWith(c):c.endsWith("/*")?r===c.replace(/\/.*$/,""):s===c})}return!0}),zg}var cJ=lJ();const hw=wl(cJ);function i3(i){return fJ(i)||dJ(i)||l4(i)||uJ()}function uJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dJ(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function fJ(i){if(Array.isArray(i))return E1(i)}function s3(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),e.push.apply(e,n)}return e}function r3(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(e),!0).forEach(function(n){a4(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):s3(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function a4(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function pm(i,t){return pJ(i)||mJ(i,t)||l4(i,t)||hJ()}function hJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l4(i,t){if(i){if(typeof i=="string")return E1(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return E1(i,t)}}function E1(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=i[e];return n}function mJ(i,t){var e=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e!=null){var n=[],s=!0,r=!1,o,c;try{for(e=e.call(i);!(s=(o=e.next()).done)&&(n.push(o.value),!(t&&n.length===t));s=!0);}catch(u){r=!0,c=u}finally{try{!s&&e.return!=null&&e.return()}finally{if(r)throw c}}return n}}function pJ(i){if(Array.isArray(i))return i}var gJ=typeof hw=="function"?hw:hw.default,bJ="file-invalid-type",vJ="file-too-large",yJ="file-too-small",wJ="too-many-files",xJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=t.split(","),n=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:bJ,message:"File type must be ".concat(n)}},o3=function(t){return{code:vJ,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},a3=function(t){return{code:yJ,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},_J={code:wJ,message:"Too many files"};function c4(i,t){var e=i.type==="application/x-moz-file"||gJ(i,t);return[e,e?null:xJ(t)]}function u4(i,t,e){if(mc(i.size))if(mc(t)&&mc(e)){if(i.size>e)return[!1,o3(e)];if(i.size<t)return[!1,a3(t)]}else{if(mc(t)&&i.size<t)return[!1,a3(t)];if(mc(e)&&i.size>e)return[!1,o3(e)]}return[!0,null]}function mc(i){return i!=null}function EJ(i){var t=i.files,e=i.accept,n=i.minSize,s=i.maxSize,r=i.multiple,o=i.maxFiles,c=i.validator;return!r&&t.length>1||r&&o>=1&&t.length>o?!1:t.every(function(u){var f=c4(u,e),p=pm(f,1),g=p[0],v=u4(u,n,s),_=pm(v,1),E=_[0],C=c?c(u):null;return g&&E&&!C})}function M0(i){return typeof i.isPropagationStopped=="function"?i.isPropagationStopped():typeof i.cancelBubble<"u"?i.cancelBubble:!1}function qg(i){return i.dataTransfer?Array.prototype.some.call(i.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!i.target&&!!i.target.files}function l3(i){i.preventDefault()}function kJ(i){return i.indexOf("MSIE")!==-1||i.indexOf("Trident/")!==-1}function CJ(i){return i.indexOf("Edge/")!==-1}function SJ(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return kJ(i)||CJ(i)}function co(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return function(n){for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];return t.some(function(c){return!M0(n)&&c&&c.apply(void 0,[n].concat(r)),M0(n)})}}function AJ(){return"showOpenFilePicker"in window}function TJ(i){if(mc(i)){var t=Object.entries(i).filter(function(e){var n=pm(e,2),s=n[0],r=n[1],o=!0;return d4(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(r)||!r.every(f4))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(e,n){var s=pm(n,2),r=s[0],o=s[1];return r3(r3({},e),{},a4({},r,o))},{});return[{description:"Files",accept:t}]}return i}function NJ(i){if(mc(i))return Object.entries(i).reduce(function(t,e){var n=pm(e,2),s=n[0],r=n[1];return[].concat(i3(t),[s],i3(r))},[]).filter(function(t){return d4(t)||f4(t)}).join(",")}function RJ(i){return i instanceof DOMException&&(i.name==="AbortError"||i.code===i.ABORT_ERR)}function OJ(i){return i instanceof DOMException&&(i.name==="SecurityError"||i.code===i.SECURITY_ERR)}function d4(i){return i==="audio/*"||i==="video/*"||i==="image/*"||i==="text/*"||i==="application/*"||/\w+\/[-+.\w]+/g.test(i)}function f4(i){return/^.*\.[\w]+$/.test(i)}var IJ=["children"],PJ=["open"],BJ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],LJ=["refKey","onChange","onClick"];function jJ(i){return FJ(i)||MJ(i)||h4(i)||DJ()}function DJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MJ(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function FJ(i){if(Array.isArray(i))return k1(i)}function mw(i,t){return qJ(i)||zJ(i,t)||h4(i,t)||VJ()}function VJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h4(i,t){if(i){if(typeof i=="string")return k1(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return k1(i,t)}}function k1(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=i[e];return n}function zJ(i,t){var e=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e!=null){var n=[],s=!0,r=!1,o,c;try{for(e=e.call(i);!(s=(o=e.next()).done)&&(n.push(o.value),!(t&&n.length===t));s=!0);}catch(u){r=!0,c=u}finally{try{!s&&e.return!=null&&e.return()}finally{if(r)throw c}}return n}}function qJ(i){if(Array.isArray(i))return i}function c3(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),e.push.apply(e,n)}return e}function In(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(e),!0).forEach(function(n){C1(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):c3(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function C1(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function F0(i,t){if(i==null)return{};var e=HJ(i,t),n,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);for(s=0;s<r.length;s++)n=r[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(e[n]=i[n])}return e}function HJ(i,t){if(i==null)return{};var e={},n=Object.keys(i),s,r;for(r=0;r<n.length;r++)s=n[r],!(t.indexOf(s)>=0)&&(e[s]=i[s]);return e}var x_=S.forwardRef(function(i,t){var e=i.children,n=F0(i,IJ),s=__(n),r=s.open,o=F0(s,PJ);return S.useImperativeHandle(t,function(){return{open:r}},[r]),it.createElement(S.Fragment,null,e(In(In({},o),{},{open:r})))});x_.displayName="Dropzone";var m4={disabled:!1,getFilesFromEvent:JZ,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};x_.defaultProps=m4;x_.propTypes={children:We.func,accept:We.objectOf(We.arrayOf(We.string)),multiple:We.bool,preventDropOnDocument:We.bool,noClick:We.bool,noKeyboard:We.bool,noDrag:We.bool,noDragEventsBubbling:We.bool,minSize:We.number,maxSize:We.number,maxFiles:We.number,disabled:We.bool,getFilesFromEvent:We.func,onFileDialogCancel:We.func,onFileDialogOpen:We.func,useFsAccessApi:We.bool,autoFocus:We.bool,onDragEnter:We.func,onDragLeave:We.func,onDragOver:We.func,onDrop:We.func,onDropAccepted:We.func,onDropRejected:We.func,onError:We.func,validator:We.func};var S1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function __(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=In(In({},m4),i),e=t.accept,n=t.disabled,s=t.getFilesFromEvent,r=t.maxSize,o=t.minSize,c=t.multiple,u=t.maxFiles,f=t.onDragEnter,p=t.onDragLeave,g=t.onDragOver,v=t.onDrop,_=t.onDropAccepted,E=t.onDropRejected,C=t.onFileDialogCancel,T=t.onFileDialogOpen,R=t.useFsAccessApi,P=t.autoFocus,B=t.preventDropOnDocument,V=t.noClick,I=t.noKeyboard,M=t.noDrag,D=t.noDragEventsBubbling,F=t.onError,H=t.validator,$=S.useMemo(function(){return NJ(e)},[e]),J=S.useMemo(function(){return TJ(e)},[e]),be=S.useMemo(function(){return typeof T=="function"?T:u3},[T]),_e=S.useMemo(function(){return typeof C=="function"?C:u3},[C]),re=S.useRef(null),le=S.useRef(null),W=S.useReducer(UJ,S1),ae=mw(W,2),fe=ae[0],Se=ae[1],Me=fe.isFocused,O=fe.isFileDialogActive,Q=S.useRef(typeof window<"u"&&window.isSecureContext&&R&&AJ()),ce=function(){!Q.current&&O&&setTimeout(function(){if(le.current){var Re=le.current.files;Re.length||(Se({type:"closeDialog"}),_e())}},300)};S.useEffect(function(){return window.addEventListener("focus",ce,!1),function(){window.removeEventListener("focus",ce,!1)}},[le,O,_e,Q]);var ve=S.useRef([]),Ne=function(Re){re.current&&re.current.contains(Re.target)||(Re.preventDefault(),ve.current=[])};S.useEffect(function(){return B&&(document.addEventListener("dragover",l3,!1),document.addEventListener("drop",Ne,!1)),function(){B&&(document.removeEventListener("dragover",l3),document.removeEventListener("drop",Ne))}},[re,B]),S.useEffect(function(){return!n&&P&&re.current&&re.current.focus(),function(){}},[re,P,n]);var De=S.useCallback(function(pe){F?F(pe):console.error(pe)},[F]),Ue=S.useCallback(function(pe){pe.preventDefault(),pe.persist(),ot(pe),ve.current=[].concat(jJ(ve.current),[pe.target]),qg(pe)&&Promise.resolve(s(pe)).then(function(Re){if(!(M0(pe)&&!D)){var Ae=Re.length,xt=Ae>0&&EJ({files:Re,accept:$,minSize:o,maxSize:r,multiple:c,maxFiles:u,validator:H}),cn=Ae>0&&!xt;Se({isDragAccept:xt,isDragReject:cn,isDragActive:!0,type:"setDraggedFiles"}),f&&f(pe)}}).catch(function(Re){return De(Re)})},[s,f,De,D,$,o,r,c,u,H]),kt=S.useCallback(function(pe){pe.preventDefault(),pe.persist(),ot(pe);var Re=qg(pe);if(Re&&pe.dataTransfer)try{pe.dataTransfer.dropEffect="copy"}catch{}return Re&&g&&g(pe),!1},[g,D]),Ee=S.useCallback(function(pe){pe.preventDefault(),pe.persist(),ot(pe);var Re=ve.current.filter(function(xt){return re.current&&re.current.contains(xt)}),Ae=Re.indexOf(pe.target);Ae!==-1&&Re.splice(Ae,1),ve.current=Re,!(Re.length>0)&&(Se({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),qg(pe)&&p&&p(pe))},[re,p,D]),ln=S.useCallback(function(pe,Re){var Ae=[],xt=[];pe.forEach(function(cn){var Eo=c4(cn,$),Hi=mw(Eo,2),qs=Hi[0],Hs=Hi[1],is=u4(cn,o,r),Un=mw(is,2),Ii=Un[0],ei=Un[1],Cl=H?H(cn):null;if(qs&&Ii&&!Cl)Ae.push(cn);else{var Sl=[Hs,ei];Cl&&(Sl=Sl.concat(Cl)),xt.push({file:cn,errors:Sl.filter(function(Md){return Md})})}}),(!c&&Ae.length>1||c&&u>=1&&Ae.length>u)&&(Ae.forEach(function(cn){xt.push({file:cn,errors:[_J]})}),Ae.splice(0)),Se({acceptedFiles:Ae,fileRejections:xt,isDragReject:xt.length>0,type:"setFiles"}),v&&v(Ae,xt,Re),xt.length>0&&E&&E(xt,Re),Ae.length>0&&_&&_(Ae,Re)},[Se,c,$,o,r,u,v,_,E,H]),Nn=S.useCallback(function(pe){pe.preventDefault(),pe.persist(),ot(pe),ve.current=[],qg(pe)&&Promise.resolve(s(pe)).then(function(Re){M0(pe)&&!D||ln(Re,pe)}).catch(function(Re){return De(Re)}),Se({type:"reset"})},[s,ln,De,D]),Rn=S.useCallback(function(){if(Q.current){Se({type:"openDialog"}),be();var pe={multiple:c,types:J};window.showOpenFilePicker(pe).then(function(Re){return s(Re)}).then(function(Re){ln(Re,null),Se({type:"closeDialog"})}).catch(function(Re){RJ(Re)?(_e(Re),Se({type:"closeDialog"})):OJ(Re)?(Q.current=!1,le.current?(le.current.value=null,le.current.click()):De(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):De(Re)});return}le.current&&(Se({type:"openDialog"}),be(),le.current.value=null,le.current.click())},[Se,be,_e,R,ln,De,J,c]),li=S.useCallback(function(pe){!re.current||!re.current.isEqualNode(pe.target)||(pe.key===" "||pe.key==="Enter"||pe.keyCode===32||pe.keyCode===13)&&(pe.preventDefault(),Rn())},[re,Rn]),we=S.useCallback(function(){Se({type:"focus"})},[]),ye=S.useCallback(function(){Se({type:"blur"})},[]),Ie=S.useCallback(function(){V||(SJ()?setTimeout(Rn,0):Rn())},[V,Rn]),xe=function(Re){return n?null:Re},qe=function(Re){return I?null:xe(Re)},$e=function(Re){return M?null:xe(Re)},ot=function(Re){D&&Re.stopPropagation()},Ct=S.useMemo(function(){return function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=pe.refKey,Ae=Re===void 0?"ref":Re,xt=pe.role,cn=pe.onKeyDown,Eo=pe.onFocus,Hi=pe.onBlur,qs=pe.onClick,Hs=pe.onDragEnter,is=pe.onDragOver,Un=pe.onDragLeave,Ii=pe.onDrop,ei=F0(pe,BJ);return In(In(C1({onKeyDown:qe(co(cn,li)),onFocus:qe(co(Eo,we)),onBlur:qe(co(Hi,ye)),onClick:xe(co(qs,Ie)),onDragEnter:$e(co(Hs,Ue)),onDragOver:$e(co(is,kt)),onDragLeave:$e(co(Un,Ee)),onDrop:$e(co(Ii,Nn)),role:typeof xt=="string"&&xt!==""?xt:"presentation"},Ae,re),!n&&!I?{tabIndex:0}:{}),ei)}},[re,li,we,ye,Ie,Ue,kt,Ee,Nn,I,M,n]),Kt=S.useCallback(function(pe){pe.stopPropagation()},[]),Xt=S.useMemo(function(){return function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=pe.refKey,Ae=Re===void 0?"ref":Re,xt=pe.onChange,cn=pe.onClick,Eo=F0(pe,LJ),Hi=C1({accept:$,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:xe(co(xt,Nn)),onClick:xe(co(cn,Kt)),tabIndex:-1},Ae,le);return In(In({},Hi),Eo)}},[le,e,c,Nn,n]);return In(In({},fe),{},{isFocused:Me&&!n,getRootProps:Ct,getInputProps:Xt,rootRef:re,inputRef:le,open:xe(Rn)})}function UJ(i,t){switch(t.type){case"focus":return In(In({},i),{},{isFocused:!0});case"blur":return In(In({},i),{},{isFocused:!1});case"openDialog":return In(In({},S1),{},{isFileDialogActive:!0});case"closeDialog":return In(In({},i),{},{isFileDialogActive:!1});case"setDraggedFiles":return In(In({},i),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return In(In({},i),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return In({},S1);default:return i}}function u3(){}function p4({roadmapData:i,setRoadmapData:t}){const e=r=>o=>{t({...i,[r]:o.target.value})},n=r=>o=>{t({...i,[r]:o})},s=async r=>{console.log("onGraphicInputValueChange",r),r&&r.length>0&&t({...i,graphic:await s4(r[0])})};return{name:m.jsx(et.Control,{type:"text",value:i.name,onChange:e("name")}),graphic:r=>{const c={"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/svg+xml":[".svg"]},{getRootProps:u,getInputProps:f,isFocused:p,isDragAccept:g,isDragReject:v,open:_}=__({noClick:!0,onDrop:s,accept:c,maxSize:5242880,multiple:!1});return m.jsxs("div",{...u(),children:[m.jsx("input",{...f()}),r(_,g)]})},executive_summary:m.jsx(Fh,{data:i.executive_summary,onChange:n("executive_summary")}),infrastructure_types:m.jsxs(et.Select,{"aria-label":"Default select example",value:i.infrastructure_types,onChange:e("infrastructure_types"),children:[m.jsx("option",{value:"",disabled:!0}),m.jsx("option",{value:"Network",children:"Network"}),m.jsx("option",{value:"Compute",children:"Compute"}),m.jsx("option",{value:"Storage",children:"Storage"}),m.jsx("option",{value:"Online Service",children:"Online Service"}),m.jsx("option",{value:"Science Gateway",children:"Science Gateway"})]}),integration_coordinators:m.jsx(et.Control,{type:"text",value:i.integration_coordinators,onChange:e("integration_coordinators")}),status:m.jsxs(et.Select,{"aria-label":"Default select example",value:i.status,onChange:e("status"),children:[m.jsx("option",{value:"1",children:"Draft"}),m.jsx("option",{value:"2",children:"Production"})]})}}function WJ({roadmapData:i,setRoadmapData:t}){return m.jsx(GJ,{roadmapData:i,setRoadmapData:t})}function GJ({roadmapData:i,setRoadmapData:t}){const e=p4({roadmapData:i,setRoadmapData:t});return m.jsxs("div",{className:"w-100 d-inline-block text-start",children:[m.jsxs("div",{className:"mb-3",children:[m.jsx(et.Label,{children:"Name"}),e.name]}),m.jsxs("div",{className:"mb-3",children:[m.jsx(et.Label,{children:"Roadmap Image"}),e.graphic((n,s)=>m.jsxs("div",{className:`w-100 border border-1 p-4 rounded text-center ${s&&"border-style-dashed bg-light"}`,children:[m.jsx("div",{className:"overflow-hidden d-inline-block",style:{width:"44px",height:"44px"},children:!i.graphic||i.graphic.length===0?m.jsx("i",{className:"bi bi-image fs-1"}):m.jsx("div",{className:"w-100 h-100 border border-1 border-gray-200",children:m.jsx("img",{className:"w-100",src:i.graphic,alt:"Roadmap graphic preview"})})}),m.jsxs("p",{className:"w-100 text-center",children:["Drag and Drop to Upload Image ",m.jsx("br",{}),m.jsx("br",{}),"or",m.jsx("br",{})]}),m.jsx("button",{className:"btn btn-gray-200",children:"Browse Device"})]}))]}),m.jsxs("div",{className:"mb-3",children:[m.jsx(et.Label,{children:"Executive Summary"}),e.executive_summary]}),m.jsxs("div",{className:"mb-3",style:{maxWidth:"500px"},children:[m.jsx(et.Label,{children:"Infrastructure Type"}),e.infrastructure_types]}),m.jsxs("div",{className:"mb-3",style:{maxWidth:"500px"},children:[m.jsx(et.Label,{children:"Integration Coordinators"}),e.integration_coordinators]}),m.jsxs("div",{className:"mb-3",style:{maxWidth:"500px"},children:[m.jsx(et.Label,{children:"Status"}),e.status]})]})}function KJ({roadmapData:i,setRoadmapData:t}){const{roadmapId:e}=xl(),n=p4({roadmapData:i,setRoadmapData:t});return m.jsxs("div",{className:"w-100 d-inline-block text-start",children:[m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Roadmap id"}),m.jsx("div",{className:"col-sm-7",children:m.jsx(et.Control,{type:"text",value:e,disabled:!0})})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Name"}),m.jsx("div",{className:"col-sm-7",children:n.name})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Executive Summary"}),m.jsx("div",{className:"col-sm-7",children:n.executive_summary})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Image"}),m.jsx("div",{className:"col-sm-7 d-flex flex-row",children:n.graphic((s,r)=>m.jsxs("div",{className:`w-100 d-flex flex-row p-2 rounded-2 border border-1 border-style-dashed ${r?"bg-light":"border-white"}`,children:[m.jsx("div",{className:"align-content-start pe-3",children:m.jsx("div",{className:"overflow-hidden",style:{width:"100px",height:"100px"},children:!i.graphic||i.graphic.length===0?m.jsx("i",{className:"bi bi-image text-medium d-inline-flex",style:{fontSize:"90px"}}):m.jsx("div",{className:"w-100 h-100 border border-1 border-gray-200",children:m.jsx("img",{className:"w-100",src:i.graphic,alt:"Roadmap graphic preview"})})})}),m.jsxs("div",{className:"flex-fill text-center",style:{maxWidth:"250px"},children:[m.jsxs("p",{className:"w-100 text-center mb-0",children:["Drag and Drop to Upload Image ",m.jsx("br",{}),"or"]}),m.jsx("button",{className:"btn btn-gray-200 text-decoration-underline",onClick:s,children:"Browse Device"})]})]}))})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Infrastructure Type"}),m.jsx("div",{className:"col-sm-7",children:n.infrastructure_types})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Integration Coordinators"}),m.jsx("div",{className:"col-sm-7",children:n.integration_coordinators})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Status"}),m.jsx("div",{className:"col-sm-7",children:n.status})]})]})}function kc({showIcon:i=!0,title:t="WARNING",description:e=""}){return m.jsxs("p",{className:"bg-warning-subtle border-start border-4 border-warning ps-2",children:[!!i&&m.jsx("i",{className:"bi bi-exclamation-triangle-fill pe-2 text-warning"}),!!t&&t+": ",e]})}function E_({items:i,value:t=[],onChange:e,onItemExpand:n,filterLabel:s="Filter",addedItemsLabel:r="Added Items",icon:o=m.jsx("i",{className:"bi bi-circle-fill fs-3"}),allowAdd:c=!0,allowRemove:u=!0,allowEdit:f=!1,allowRequiredSwitch:p=!0,rightPanelStyles:g={paddingTop:"0px"},leftPanelStyles:v={paddingTop:"0px"},showRightPanelIcon:_=!0,showLeftPanelIcon:E=!0,enableOrdering:C=!1,enableViewMoreDetails:T=!1,getMoreDetailsComponent:R=B=>null,onEditClick:P=B=>null}){const[B,V]=S.useState(""),I=S.useRef(null),M=S.useRef(null),D=(O,Q)=>{I.current=Q},F=(O,Q)=>{M.current=Q},H=()=>{const O=[...t],Q=O[I.current];O.splice(I.current,1),O.splice(M.current,0,Q),I.current=null,M.current=null,e(O)},$={},J={},be={};for(let O=0;O<i.length;O++){const Q=i[O];be[Q.id]=Q}for(let O=0;O<t.length;O++){const{id:Q,required:ce}=t[O];$[Q]=!0,J[Q]=ce}const _e=i.filter(O=>!$[O.id]).filter(O=>O.label.toLowerCase().includes(B)),re=t.map(({id:O})=>be[O]),le=({id:O,required:Q=!1,sequenceNo:ce=re.length})=>{const ve=[...t];ve.splice(ce,0,{id:O,required:Q}),e&&e(ve)},W=({sequenceNo:O})=>{const Q=[...t];Q.splice(O,1),e(Q)},ae=({sequenceNo:O})=>{const Q=[...t];Q[O].required=!Q[O].required,e(Q)};function fe(O){return m.jsx("div",{className:"flex-fill align-content-center ps-2 pe-2 text-gray-800 text-one-line-overflow-ellipsis",children:O.label})}function Se({item:O,sequenceNo:Q,showIcon:ce=!0,enableOrdering:ve=!1,enableViewMoreDetails:Ne=!1}={}){const De=O.id,Ue=S.useContext(hl).activeEventKey,kt=W1(De,()=>console.log("totally custom!",[De]));return m.jsxs("div",{className:"text-gray-400 align-content-center ps-1 pe-1 d-flex flex-row",children:[!!ve&&m.jsx("button",{className:"btn btn-link ps-1 pe-1",children:m.jsx("i",{className:"bi bi-grip-vertical fs-5"})}),!!Ne&&m.jsx("button",{type:"button",className:"btn btn-link text-medium ps-1 pe-1",onClick:kt,children:Ue===De?m.jsx("i",{className:"bi bi-caret-down-fill"}):m.jsx("i",{className:"bi bi-caret-up-fill"})}),!!ce&&m.jsx("div",{style:{lineHeight:"20px",height:"20px"},className:"ps-1 pe-1",children:o})]})}function Me({item:O,sequenceNo:Q}){const ce=S.useContext(hl).activeEventKey;return m.jsxs(m.Fragment,{children:[!!p&&ce!==O.id&&m.jsx("div",{className:"align-content-center ps-2 pe-2",children:m.jsx(et.Check,{type:"switch",id:`item-required-switch-${O.id}`,label:"",checked:!!J[O.id],onChange:ae.bind(this,{sequenceNo:Q})})}),!!f&&m.jsx("div",{style:{minWidth:"50px"},className:"pe-2 text-end",children:m.jsx("button",{className:"btn btn-link fw-normal",onClick:P.bind(this,O),children:"Edit"})}),!!u&&m.jsx("button",{className:"btn btn-link",onClick:W.bind(this,{sequenceNo:Q}),children:m.jsx("i",{className:"bi bi-dash-square fs-5 text-gray-700"})})]})}return m.jsxs("div",{className:"row pb-5",style:{height:"500px"},children:[m.jsx("div",{className:"col-sm-6 pe-sm-5 h-100",children:m.jsxs("div",{className:"w-100 h-100 d-flex flex-column",style:v,children:[m.jsx("div",{className:"w-100 pe-5",style:{minHeight:"60px"},children:m.jsxs("div",{className:"input-group search-input input-group-sm",children:[m.jsx("span",{className:"input-group-text rounded-start-5",children:m.jsx("i",{className:"bi bi-search"})}),m.jsx("input",{type:"text",className:"form-control rounded-end-5",placeholder:s,value:B,"aria-label":s,onChange:O=>V(O.target.value.toLowerCase())})]})}),m.jsxs("div",{className:"flex-fill overflow-auto",children:[_e.length===0&&m.jsx(kc,{description:"There's nothing available to display",title:""}),m.jsx("ul",{className:"list-unstyled ",children:_e.map((O,Q)=>m.jsx("li",{className:"p-0",children:m.jsxs("div",{className:"d-flex flex-row rounded-1 border border-1 border-gray-300 pt-2 pb-2 ps-2 pe-3",children:[m.jsx(Se,{item:O,sequenceNo:Q,showIcon:!!E}),fe(O),c&&m.jsx("button",{className:"btn btn-link",onClick:le.bind(this,{id:O.id}),children:m.jsx("i",{className:"bi bi-plus-square fs-5 text-gray-700"})})]})},Q))})]})]})}),m.jsx("div",{className:"col-sm-6 ps-sm-5 h-100 border-start border-1 border-black",children:m.jsxs("div",{className:"w-100 h-100 d-flex flex-column",style:g,children:[m.jsxs("div",{className:"w-100 d-flex flex-row p-3",style:{minHeight:"60px"},children:[m.jsx("h3",{className:"flex-fill coming-soon-regular text-black",children:r}),p&&m.jsx("div",{style:{paddingRight:5+(u?20:0)+(f?50:0)},children:m.jsx("small",{className:"coming-soon-regular",children:"Required?"})})]}),m.jsxs(Vt,{defaultActiveKey:"",className:"flex-fill overflow-auto",children:[re.length===0&&m.jsx(kc,{description:"There's nothing available to display",title:""}),m.jsx("ul",{className:"list-unstyled",children:re.map((O,Q)=>m.jsx("li",{className:"p-0",draggable:C,onDragStart:ce=>D(ce,Q),onDragEnter:ce=>F(ce,Q),onDragEnd:H,onDragOver:ce=>ce.preventDefault(),children:m.jsxs("div",{className:"rounded-1 border border-1 border-gray-300 pt-2 pb-2 ps-2 pe-3",children:[m.jsxs("div",{className:"w-100 d-flex flex-row",children:[m.jsx(Se,{item:O,sequenceNo:Q,showIcon:!!_,enableOrdering:!!C,enableViewMoreDetails:!!T}),fe(O),m.jsx(Me,{item:O,sequenceNo:Q})]}),m.jsx(Vt.Collapse,{eventKey:O.id,children:m.jsx("div",{className:"w-100 p-3 mt-3 border-top border-1",children:R(O)})})]})},Q))})]})]})})]})}function QJ({roadmapData:i,setRoadmapData:t}){const{getBadges:e}=qi(),n=e().map(r=>({id:r.badge_id,label:r.name})),s=i.badges.map(({badge_id:r,required:o})=>({id:r,required:o}));return m.jsxs("div",{className:"w-100 d-inline-block text-start",children:[m.jsx(E_,{items:n,value:s,onChange:r=>{t({...i,badges:r.map((o,c)=>({badge_id:o.id,required:o.required,sequence_no:c}))})},filterLabel:"Filter badges",addedItemsLabel:"Added Badges",enableOrdering:!0}),m.jsxs("div",{className:"w-100 pt-4",children:[m.jsx("h3",{children:"Need to create a new badge?"}),m.jsx("p",{style:{maxWidth:400},children:"Once the roadmap is complete, please navigate to the Create New Badges section on the Home page to add new badges. In that section, you can also link each new badge to an existing roadmap."})]})]})}function YJ({roadmapData:i,setRoadmapData:t,onClickEditBadges:e}){const{getBadge:n}=qi(),s=[],r=[];for(let o=0;o<i.badges.length;o++){const{badge_id:c,required:u}=i.badges[o];u?s.push(n({badgeId:c})):r.push(n({badgeId:c}))}return m.jsxs("div",{className:"w-100 d-inline-block text-start",children:[m.jsx("h3",{className:"text-black pb-4 fw-medium",children:"Roadmap Description"}),m.jsx(KJ,{roadmapData:i,setRoadmapData:t}),m.jsxs("div",{className:"d-flex flex-row pb-4 pt-5",children:[m.jsx("h3",{className:"text-black fw-medium flex-fill",children:"Associated Badges"}),m.jsx("button",{className:"btn btn-link",onClick:e,children:"Edit"})]}),m.jsxs("div",{className:"row pb-5",children:[m.jsx("div",{className:"col-sm-6 pe-3",children:"Required Badges"}),m.jsxs("div",{className:"col-sm-6",children:[s.length===0&&m.jsx(kc,{description:"No associated required badges"}),s.map((o,c)=>m.jsx("div",{children:o.name},c))]})]}),m.jsxs("div",{className:"row pt-3",children:[m.jsx("div",{className:"col-sm-6 pe-3",children:"Recommended Badges"}),m.jsxs("div",{className:"col-sm-6",children:[r.length===0&&m.jsx(kc,{description:"No associated recommended badges"}),r.map((o,c)=>m.jsx("div",{children:o.name},c))]})]})]})}const $J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMHSURBVHgBzZm/j9JgGMe/b2Wo0/X8AwzGPwBcPLwYqZOO5+rkeBtgHHS6Eh0cTA7+AydXddDoZBmMJC41YdDERLjExEnLZF2uPk9puQKl7Qul9JO8By1vyfeeH+/7vA8CK6I9MHSculVA1OGiyrf8wdg0hhA0gC9QYNrPDBMrIGQma01DgyIacN1mSExaWLCJU7TtjjFM+1AqgRNhOCJLNZEFAs/TCj2XNEFrtRv0ha/orY7sqNJ3Hqj7+tj5ZFpxE2MFaveNY3oxaKjIHg4RFqmRyPfLJkW62HOpwEtka7U4LAqfm+Rye/4DJXK6wAfkJ46p+gZZYMHFvlsPkD/lKHfPCCRx98jUT7E9aup+nRKn1w9uTGOQ4q7su7aM7WKTkS4F8XgWg7zObV8co/laPDwL+tb7gSLhYpetWPIuJrvEyuyoKnbOJy+VJ39spEbxdi1jItBdb0k5rO/h4S09cV7lSRcnv1OKdNGgv4ZC7tVRjNibR+OKSSFT6igqVM5xFldQVFyhl8jXZZlnOBkOb+xNrwc/f2GDVDhJyjJPsMBwQrz4bKUPfHk0drFsZZwnmoKCwwI35p8M8HYSFriWmz9+H1EJZCbOG/91IMmwRHuwJZvJYa5fLiNqm3wz+Iq3g29Yk1GJFsMehFi5QL14QcPdq9WF+7zvri2QjEcxKCwUFTrwK1TSmChmogy5GxFUM10y51Gap3hRrjzuJs4bO9IJMYuYZF3Jv+zQSCWQkarrVoU6D/ziLdR+/Z9slryg1kjQFjnbSVyvg1CEWBwG1mOmx06nbzpqrf6Plpzb2CYuWn7iesyci51+r69e03fpbQ3boUviZs7l0b2ZlpF364Ox7GPjyvzN6GrGxR1+APlhcvMo6oPYBiZZkpefBjZLlyy3tDEa2x+kxHmn1vQR/RtBDzpLqMXhPrI7bSNuUmKHlURaJPI1ieTkqSIbuhxGJM5MmijbROcWiUFv65A/S9velkq7VlSjchlSAsN4B/7Jmbri15M8wj9D2F6tyeUcVUzhtU2G/x2i+YGjfTEbAAAAAElFTkSuQmCC",XJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMoSURBVHgBzZldTttAEMdn1gmpAhWhHw99KDgvFYEi4ASkN2hP0PYEgRMQTtBwgnKDHoFwgqZCJYhKjYGHvlRqUMtHGrzTGRuHJjiJ7YTEPylR7N1V/ppZz86MESJSrZ7mbdQrCnANgFY0YgYJMjJGCHUkshDQIqIvClQ5l3tehghgmMm1Wi1z9TdRsIHWPTEhsPjfykont3K5Z1bQRYEEirDLprFJGtZhGCDsBBXaV+DB0WlBExUjWKwfFhBsLeZmd3pN6inw4Ojkw9Cs1k2AgtLCi9mNruN+Nx2XNoxPBJCHkUCVdEq/ymaz9c4R5Tf9oqF2RydOwBUxiN/IHYHiVlkAI0YM4v53O20u/lo9ecd3PsIYQaCNhfm50u31DdVqzdSodvmWCeOEg3x6ws56+7HlYq2MzbGLEzicScz1Lh0LutYzahAj0il7RqzoWNC1XnSUQkgmE30/Ybi4Uk78dVcR5UMey208nnkIT59M95337fsPaDavIRAKC/xdVJKVxGLvdcJ7cZ+1KQ06DzHFcNM5XIaYwnlAPuG6lwIvMpSCRzNTreurRhPuDYXLCUIyMbg+UIZqeyDqZ+fBN35YEDLqHvK84cHaFMQcJQUOxBXWluDqiwXiQG4+v2wA/DzrO8+2bQiDVIbyFFf4twkRmUynfO///nPpfAaBw8xxgoD2uH59DRGRMzYzffeclSd7UIHs4ooiUhWIKZoLfrXEFX8cHxROXSzR5vgGNW3zkRco5RLXSVbSD9vWMAhstDLATY71mcvMiYbxC2KEomRWOg9OoF7lzFUDWzEucGvEa4u0TpLrlC7GYS/K3pO+jXfdEihW5Mx6C8YMcb/m/6ZS21n8kuvRcbqaY/J2ZzPJtxA5ODwZcetDoMri/Nxq513fbKaRst/IAhgRbKWyNI+6jHVn//C4xDVBAe4RcStvra4tvp754JIsJHjP/RILhg1HDBa30UucOy0A0nmwQRUR8S0MAbHaJIc1v35gJ6GqdU8oNxLWCNAMs1YspvlInXqgS0GE3S6LiFNUS03NlRcHL5PPchO8+sZ9DVEnxAq/htiTjGkp4muIfx3qQkq3HbxAAAAAAElFTkSuQmCC";function g4({steps:i,current:t}){return m.jsx("div",{className:"w-100 d-flex flex-row",children:i.map((e,n)=>{const s=m.jsx("img",{src:n<=t?$J:XJ,alt:"badge creation progress check",style:{width:30},className:""},n);return n===i.length-1?s:m.jsxs("div",{className:"d-flex flex-row flex-fill",children:[s,n!==i.length-1&&m.jsx("div",{className:"flex-fill align-content-center",children:m.jsx("div",{className:"border-gray-500",style:{borderBottom:"1px dashed"}})})]},n)})})}function d3(){const{roadmapId:i}=xl();zs();const{fetchRoadmap:t,setRoadmap:e,getRoadmap:n}=Jn(),s=n({roadmapId:i}),[r,o]=S.useState(i?2:0),[c,u]=S.useState({name:"",executive_summary:"",infrastructure_types:"",integration_coordinators:"",status:"Draft",graphic:"",badges:[]}),[f,p]=S.useState(!1),[g,v]=S.useState(!1),_=c.name.trim().length>0&&c.executive_summary.trim().length>0&&c.infrastructure_types.trim().length>0&&c.integration_coordinators.trim().length>0&&c.status.trim().length>0;S.useEffect(()=>{Nm()},[r]),S.useEffect(()=>{u({...c,...s})},[i,!!s]),S.useEffect(()=>{i&&t({roadmapId:i})},[i]);const E=[{title:"Lets Describe the New Roadmap",component:m.jsx(WJ,{roadmapData:c,setRoadmapData:u})},{title:"Associate Badges",component:m.jsx(QJ,{roadmapData:c,setRoadmapData:u})},{title:"Review & Edit",component:m.jsx(YJ,{roadmapData:c,setRoadmapData:u,onClickEditBadges:o.bind(this,1)})}],C=E[r],T=async()=>{try{await e({roadmapId:i,roadmapData:c}),p(!0)}catch{v(!0)}};return!s||s?m.jsxs("div",{className:"container",children:[m.jsx("div",{className:"row mt-2 p-3",children:m.jsxs("div",{className:"w-100 bg-white border-3 rounded-2 pt-4 ps-5 pe-5",style:{paddingBottom:300},children:[m.jsx("h1",{className:"w-100 text-center text-dark fw-normal pt-5 pb-3",children:C.title}),m.jsxs("div",{className:"w-100 text-center position-relative pt-5 pb-5",children:[m.jsx("div",{className:"d-inline-block w-100",style:{maxWidth:500,minWidth:300},children:m.jsx(g4,{steps:E,current:r})}),m.jsx(je,{to:Rt.ROADMAPS,className:"btn btn-outline-secondary position-absolute",style:{right:0},children:"Cancel/Discard"})]}),m.jsx("div",{className:"w-100 text-center",children:m.jsx("div",{className:"w-100 d-inline-block text-start",style:{maxWidth:800,minWidth:300},children:C.component})}),m.jsxs("div",{className:"w-100 text-end pt-5 pb-5",children:[r===0?m.jsx(je,{className:"btn btn-outline-dark ps-3 pe-3 m-1",to:Rt.ROADMAPS,children:"Back"}):m.jsx("button",{className:"btn btn-outline-dark ps-3 pe-3 m-1",onClick:o.bind(this,r-1),children:"Back"}),r===E.length-1?m.jsx("button",{className:"btn btn-dark ps-3 pe-3 m-1",onClick:T,disabled:!_,children:"Publish"}):m.jsx("button",{className:"btn btn-dark ps-3 pe-3 m-1",onClick:o.bind(this,r+1),disabled:!_,children:"Continue"})]})]})}),m.jsxs(He,{show:f,children:[m.jsx(He.Header,{className:"bg-light",children:m.jsx(He.Title,{children:m.jsx("i",{className:"bi bi-check-circle"})})}),m.jsxs(He.Body,{children:["The Roadmap ",c.name," is Successfully Published."]}),m.jsxs(He.Footer,{children:[m.jsx(je,{className:"btn btn-outline-dark rounded-1",to:Rt.INDEX,children:"Go to Home Page"}),m.jsx(je,{className:"btn btn-dark rounded-1",to:Rt.ROADMAPS,children:"Go to Roadmaps"})]})]}),m.jsxs(He,{show:g,onHide:v.bind(this,!1),children:[m.jsx(He.Header,{closeButton:!0,className:"bg-danger-subtle",children:m.jsx(He.Title,{children:m.jsx("i",{className:"bi bi-exclamation-triangle-fill"})})}),m.jsxs(He.Body,{children:[m.jsx("p",{children:"You don't have permissions to make this change. If you should have it, please submit an ACCESS ticket requesting:"}),m.jsxs("p",{children:["Integration Dashboard ",m.jsx("strong",{children:"roadmap.maintainer"})," permission"]})]}),m.jsx(He.Footer,{children:m.jsx("button",{className:"btn btn-outline-dark rounded-1",onClick:v.bind(this,!1),children:"Cancel"})})]})]}):m.jsx("div",{className:"container",children:m.jsx(Xn,{processing:!0})})}function b4({badgeData:i,setBadgeData:t}){const e=r=>o=>{t({...i,[r]:o.target.value})},n=r=>o=>{t({...i,[r]:o})},s=async r=>{console.log("onGraphicInputValueChange",r),r&&r.length>0&&t({...i,graphic:await s4(r[0])})};return{name:m.jsx(et.Control,{type:"text",value:i.name,onChange:e("name")}),researcher_summary:m.jsx(Fh,{data:i.researcher_summary,onChange:n("researcher_summary")}),resource_provider_summary:m.jsx(Fh,{data:i.resource_provider_summary,onChange:n("resource_provider_summary")}),graphic:r=>{const c={"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/svg+xml":[".svg"]},{getRootProps:u,getInputProps:f,isFocused:p,isDragAccept:g,isDragReject:v,open:_}=__({noClick:!0,onDrop:s,accept:c,maxSize:5242880,multiple:!1});return m.jsxs("div",{...u(),children:[m.jsx("input",{...f()}),r(_,g)]})},verification_method:m.jsxs(et.Select,{"aria-label":"Default select example",value:i.verification_method,onChange:e("verification_method"),children:[m.jsx("option",{value:"",disabled:!0}),m.jsx("option",{value:"Automated",children:"Automated"}),m.jsx("option",{value:"Manual",children:"Manual"})]}),verification_summary:m.jsx(Fh,{data:i.verification_summary,onChange:n("verification_summary")}),default_badge_access_url_label:m.jsx(et.Control,{type:"text",value:i.default_badge_access_url_label,onChange:e("default_badge_access_url_label")}),default_badge_access_url:m.jsx(et.Control,{type:"text",value:i.default_badge_access_url,onChange:e("default_badge_access_url")})}}function ZJ({badgeData:i,setBadgeData:t}){return m.jsx(JJ,{badgeData:i,setBadgeData:t})}function JJ({badgeData:i,setBadgeData:t}){const e=b4({badgeData:i,setBadgeData:t});return m.jsxs("div",{className:"w-100 d-inline-block text-start",children:[m.jsxs("div",{className:"mb-3",children:[m.jsx(et.Label,{children:"Badge Name"}),e.name]}),m.jsxs("div",{className:"mb-3",children:[m.jsx(et.Label,{children:"Researcher Summary"}),e.researcher_summary]}),m.jsxs("div",{className:"mb-3",children:[m.jsx(et.Label,{children:"Resource Provider Summary"}),e.resource_provider_summary]}),m.jsxs("div",{className:"mb-3",style:{maxWidth:"500px"},children:[m.jsx(et.Label,{children:"Badge Image"}),e.graphic((n,s)=>m.jsxs("div",{className:`w-100 border border-1 p-4 rounded text-center ${s&&"border-style-dashed bg-light"}`,children:[m.jsx("div",{className:"overflow-hidden d-inline-block",style:{width:"44px",height:"44px"},children:!i.graphic||i.graphic.length===0?m.jsx("i",{className:"bi bi-image fs-1"}):m.jsx("div",{className:"w-100 h-100 border border-1 border-gray-200",children:m.jsx("img",{className:"w-100",src:i.graphic,alt:"Roadmap graphic preview"})})}),m.jsxs("p",{className:"w-100 text-center",children:["Drag and Drop to Upload Image ",m.jsx("br",{}),m.jsx("br",{}),"or",m.jsx("br",{})]}),m.jsx("button",{className:"btn btn-gray-200",onClick:n,children:"Browse Device"})]}))]}),m.jsxs("div",{className:"mb-3",style:{maxWidth:"500px"},children:[m.jsx(et.Label,{children:"Verification Method"}),e.verification_method]}),m.jsxs("div",{className:"mb-3",children:[m.jsx(et.Label,{children:"Verification Summary"}),e.verification_summary]}),m.jsxs("div",{className:"mb-3",style:{maxWidth:"500px"},children:[m.jsx(et.Label,{children:"Badge URL Label"}),e.default_badge_access_url_label]}),m.jsxs("div",{className:"mb-3",style:{maxWidth:"500px"},children:[m.jsx(et.Label,{children:"Badge URL"}),e.default_badge_access_url]})]})}function eee({badgeData:i,setBadgeData:t}){const e=b4({badgeData:i,setBadgeData:t});return m.jsxs("div",{className:"w-100 d-inline-block text-start",children:[m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Name"}),m.jsx("div",{className:"col-sm-7",children:e.name})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Researcher Summary"}),m.jsx("div",{className:"col-sm-7",children:e.researcher_summary})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Resource Provider Summary"}),m.jsx("div",{className:"col-sm-7",children:e.resource_provider_summary})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Image"}),m.jsx("div",{className:"col-sm-7 d-flex flex-row",children:e.graphic((n,s)=>m.jsxs("div",{className:`w-100 d-flex flex-row p-2 rounded-2 border border-1 border-style-dashed ${s?"bg-light":"border-white"}`,children:[m.jsx("div",{className:"align-content-start pe-3",children:m.jsx("div",{className:"overflow-hidden",style:{width:"100px",height:"100px"},children:!i.graphic||i.graphic.length===0?m.jsx("i",{className:"bi bi-image text-medium d-inline-flex",style:{fontSize:"90px"}}):m.jsx("div",{className:"w-100 h-100 border border-1 border-gray-200",children:m.jsx("img",{className:"w-100",src:i.graphic,alt:"Roadmap graphic preview"})})})}),m.jsxs("div",{className:"flex-fill text-center",style:{maxWidth:"250px"},children:[m.jsxs("p",{className:"w-100 text-center mb-0",children:["Drag and Drop to Upload Image ",m.jsx("br",{}),"or"]}),m.jsx("button",{className:"btn btn-gray-200 text-decoration-underline",onClick:n,children:"Browse Device"})]})]}))})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Verification Method"}),m.jsx("div",{className:"col-sm-7",children:e.verification_method})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Verification Summary"}),m.jsx("div",{className:"col-sm-7",children:e.verification_summary})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Badge Label"}),m.jsx("div",{className:"col-sm-7",children:e.default_badge_access_url_label})]}),m.jsxs("div",{className:"mb-3 row",children:[m.jsx(et.Label,{className:"col-sm-5",children:"Badge URL "}),m.jsx("div",{className:"col-sm-7",children:e.default_badge_access_url})]})]})}function tee({badgeData:i,setBadgeData:t}){const{getBadges:e,getBadge:n}=qi(),s=e().map(o=>({id:o.badge_id,label:o.name})),r=i.prerequisites.map(({badge_id:o,required:c})=>({id:n({badgeId:o}).badge_id,required:c}));return m.jsx("div",{className:"w-100 d-inline-block text-start",children:m.jsx(E_,{items:s,value:r,onChange:o=>{const c={...i,prerequisites:o.map((u,f)=>({badge_id:u.id,required:u.required,sequence_no:f}))};t(c)},filterLabel:"Filter badges",addedItemsLabel:"Added Badges",allowRequiredSwitch:!1,enableOrdering:!0})})}function nee({badgeData:i,setBadgeData:t,onClickEditTasks:e,onClickEditPrerequisiteBadges:n}){const{getBadge:s}=qi(),{getTask:r}=Em(),o=[],c=[];for(let p=0;p<i.prerequisites.length;p++){const{badge_id:g,required:v}=i.prerequisites[p];v?o.push(s({badgeId:g})):c.push(s({badgeId:g}))}const u=[],f=[];for(let p=0;p<i.tasks.length;p++){const{task_id:g,required:v}=i.tasks[p];v?u.push(r({taskId:g})):f.push(r({taskId:g}))}return m.jsxs("div",{className:"w-100 d-inline-block text-start",children:[m.jsx("h3",{className:"text-black pb-4 fw-medium",children:"Badge Description"}),m.jsx(eee,{badgeData:i,setBadgeData:t}),m.jsxs("div",{className:"d-flex flex-row pb-4 pt-5",children:[m.jsx("h3",{className:"text-black fw-medium flex-fill",children:"Associated Tasks"}),m.jsx("button",{className:"btn btn-link",onClick:e,children:"Edit"})]}),m.jsxs("div",{className:"row pb-5",children:[m.jsx("div",{className:"col-sm-6 pe-3",children:"Required Tasks"}),m.jsxs("div",{className:"col-sm-6",children:[u.length===0&&m.jsx(kc,{description:"No associated required tasks"}),u.map((p,g)=>m.jsx("div",{children:p.name},g))]})]}),m.jsxs("div",{className:"row pt-3",children:[m.jsx("div",{className:"col-sm-6 pe-3",children:"Optional Tasks"}),m.jsxs("div",{className:"col-sm-6",children:[f.length===0&&m.jsx(kc,{description:"No associated recommended tasks"}),f.map((p,g)=>m.jsx("div",{children:p.name},g))]})]}),m.jsxs("div",{className:"d-flex flex-row pb-4 pt-5",children:[m.jsx("h3",{className:"text-black fw-medium flex-fill",children:"Prerequisite Badges"}),m.jsx("button",{className:"btn btn-link",onClick:n,children:"Edit"})]}),m.jsxs("div",{className:"row pt-3",children:[m.jsx("div",{className:"col-sm-6 pe-3",children:"Required Badges"}),m.jsxs("div",{className:"col-sm-6",children:[c.length===0&&m.jsx(kc,{description:"No associated prerequisite recommended badges"}),c.map((p,g)=>m.jsx("div",{children:p.name},g))]})]})]})}const iee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAYAAACMo1E1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHySURBVHgB7ZhNTsJAFMf/b2iMO1kacVFv4A3EG7g0YqJeQDgCngDUC3ShiVtPIN7AG9iFEnbiFkufbygolIF+CKHE/pKm8/Fe88/M65sPIMNQEuPd01qZCTZSQgz37a7ZimtvIQE+++dgnCElDHLk1Yprr5BhjCNnH9dsU7tHvOUzD8pE6DJTFxEQcVFcioOKvGd9231oulO+4YZtcVYF/xWRkNO+v76IstqpXDryigwFv6/2OiGBmZ7W9Yu5cRSpQ8uDq8s9ixtgPtJliaWjnUq1HOU/jLkAxuOGr2q66Fmw5e9/wl/EeSLsbRgLEj+fo/YgyLkY5f8jLFD6MQp8iW2ownzf9Z7WcXxSToHiJ9EwfQ7CIy6JxHUSLD2LIE8lacnFpSUXl5ZEqWSRbG6i2/NwNV4P26xMnOs0tZj6PJt8WsOUTmr7pILdsWXBlVF0TXarGTnFDb1d0k/Pk0PTLDNkmFxcWnJxaVlaKtHpQi5HGuZe3v8t4qxUqR6YrJYmTucxuR0oGzt5omYz2DaZ/c9p1Zl/fGGfgEmuJ4LRIlCLiZ+N38CSGC5JdVNf6bR6IOdZW5e1sPbdTT2VOFXgJznZIw4E//r9/raJBRFj5MzBarQkirwBSMJ6/RB6R/rVV5H3bkb6eMECmRI33KE6yADf9hSpUKyevOUAAAAASUVORK5CYII=";function see({taskData:i,setTaskData:t}){const e=s=>r=>{t({...i,[s]:r.target.value})},n=s=>r=>{t(o=>({...o,[s]:r}))};return{name:m.jsx(et.Control,{type:"text",value:i.name,onChange:e("name")}),technical_summary:m.jsx(Fh,{data:i.technical_summary,onChange:n("technical_summary")}),task_experts:m.jsx(et.Control,{type:"text",value:i.task_experts,onChange:e("task_experts")}),implementor_roles:m.jsx(et.Control,{type:"text",value:i.implementor_roles,onChange:e("implementor_roles")}),detailed_instructions_url:m.jsx(et.Control,{type:"text",value:i.detailed_instructions_url,onChange:e("detailed_instructions_url")})}}function ree({taskData:i,setTaskData:t}){return m.jsx(oee,{taskData:i,setTaskData:t})}function oee({taskData:i,setTaskData:t}){const e=see({taskData:i,setTaskData:t});return m.jsxs("div",{className:"w-100 row",children:[m.jsxs("div",{className:"col-sm-12",children:[m.jsx(et.Label,{children:"Task Name"}),e.name]}),m.jsxs("div",{className:"mb-3 col-sm-12",children:[m.jsx(et.Label,{children:"Technical Summary"}),e.technical_summary]}),m.jsxs("div",{className:"mb-3 col-sm-6",children:[m.jsx(et.Label,{children:"Task Experts"}),e.task_experts]}),m.jsxs("div",{className:"mb-3 col-sm-6",children:[m.jsx(et.Label,{children:"Implementor Roles"}),e.implementor_roles]}),m.jsxs("div",{className:"mb-3 col-sm-6",children:[m.jsx(et.Label,{children:"Instructions URL "}),e.detailed_instructions_url]})]})}function aee({badgeData:i,setBadgeData:t}){const{setTask:e,getTasks:n,getTask:s}=Em(),[r,o]=S.useState({task_id:null,name:"",technical_summary:"",implementor_roles:"",task_experts:"",detailed_instructions_url:""}),[c,u]=S.useState(!1),f=n().map(E=>({id:E.task_id,label:E.name})),p=i.tasks.map(({task_id:E,required:C})=>({id:s({taskId:E}).task_id,required:C})),g=()=>o({task_id:null,name:"",technical_summary:"",implementor_roles:"",task_experts:"",detailed_instructions_url:""}),v=r.name&&r.name.trim().length>0&&r.technical_summary&&r.technical_summary.trim().length>0&&r.implementor_roles&&r.implementor_roles.trim().length>0&&r.task_experts&&r.task_experts.trim().length>0&&r.detailed_instructions_url&&r.detailed_instructions_url.trim().length>0,_=async()=>{try{const E=await e({taskId:r.task_id,taskData:r});g(),r.task_id||t({...i,tasks:[...i.tasks,{task_id:E.task_id,required:!1,sequence_no:i.tasks.length}]})}catch{u(!0)}};return m.jsxs("div",{className:"w-100 d-inline-block text-start",children:[m.jsx(E_,{items:f,value:p,onChange:E=>{const C={...i,tasks:E.map((T,R)=>({task_id:T.id,required:T.required,sequence_no:R}))};t(C)},filterLabel:"Filter tasks",addedItemsLabel:"Added Tasks",icon:m.jsx("img",{src:iee,alt:"Add task Icon",className:"h-100 m-1"}),rightPanelStyles:{paddingTop:"60px"},showRightPanelIcon:!1,allowEdit:!0,enableOrdering:!0,enableViewMoreDetails:!0,onEditClick:E=>{const C=s({taskId:E.id});o(C)},getMoreDetailsComponent:E=>{const C=s({taskId:E.id});return m.jsxs("div",{className:"row d-flex",children:[m.jsxs("div",{className:"col-sm-6 ps-3 pe-3 pt-3",children:[m.jsx("div",{className:"mb-2 fs-7",children:"Technical Summary"}),m.jsx("p",{className:"mb-0 fs-8 word-break-break-all",children:C.technical_summary})]}),m.jsxs("div",{className:"col-sm-6 ps-3 pe-3 pt-3",children:[m.jsx("div",{className:"mb-2 fs-7",children:"Implementer Roles"}),m.jsx("p",{className:"mb-0 fs-8 word-break-break-all",children:C.implementor_roles})]}),m.jsxs("div",{className:"col-sm-6 ps-3 pe-3 pt-3",children:[m.jsx("div",{className:"mb-2 fs-7",children:"Task Experts"}),m.jsx("p",{className:"mb-0 fs-8 word-break-break-all",children:C.task_experts})]}),m.jsxs("div",{className:"col-sm-6 ps-3 pe-3 pt-3",children:[m.jsx("div",{className:"mb-2 fs-7",children:"Instructions URL"}),m.jsx("p",{className:"w-100 mb-0 fs-8 word-break-break-all",children:C.detailed_instructions_url})]})]})}}),m.jsxs("div",{className:"w-100 border border-black border-1 rounded-2 p-3",children:[m.jsxs("div",{className:"w-100 d-flex flex-row p-3 border-bottom border-1",children:[m.jsxs("div",{className:"flex-fill align-content-center p-3",children:[r.task_id?"EDIT ":"NEW ","TASK for ",i.name]}),m.jsxs("div",{children:[m.jsx("button",{className:"btn btn-secondary ps-3 pe-3 m-1",onClick:g,children:"Cancel"}),m.jsx("button",{className:"btn btn-dark ps-3 pe-3 m-1",onClick:_,disabled:!v,children:"Save"})]})]}),m.jsx("div",{className:"w-100 p-3",children:m.jsx(ree,{taskData:r,setTaskData:o})})]}),m.jsxs(He,{show:c,onHide:u.bind(this,!1),children:[m.jsx(He.Header,{closeButton:!0,className:"bg-danger-subtle",children:m.jsx(He.Title,{children:m.jsx("i",{className:"bi bi-exclamation-triangle-fill"})})}),m.jsxs(He.Body,{children:[m.jsx("p",{children:"You don't have permissions to make this change. If you should have it, please submit an ACCESS ticket requesting:"}),m.jsxs("p",{children:["Integration Dashboard ",m.jsx("strong",{children:"badge.maintainer"})," permission"]})]}),m.jsx(He.Footer,{children:m.jsx("button",{className:"btn btn-outline-dark rounded-1",onClick:u.bind(this,!1),children:"Cancel"})})]})]})}function f3(){const{badgeId:i}=xl();zs();const{fetchBadge:t,setBadge:e,getBadge:n}=qi(),s=n({badgeId:i}),[r,o]=S.useState(i?3:0),[c,u]=S.useState({badge_id:null,name:"",researcher_summary:"",resource_provider_summary:"",verification_summary:"",verification_method:"Manual",default_badge_access_url:"",default_badge_access_url_label:"",graphic:"",prerequisites:[],tasks:[]}),[f,p]=S.useState(!1),[g,v]=S.useState(!1),_=c.name.trim().length>0&&c.researcher_summary.trim().length>0&&c.resource_provider_summary.trim().length>0&&c.default_badge_access_url.trim().length>0&&c.default_badge_access_url_label.trim().length>0;S.useEffect(()=>{Nm()},[r]),S.useEffect(()=>{u({...c,...s})},[i,!!s]),S.useEffect(()=>{i&&t({badgeId:i})},[i]);const E=[{title:"Describe A New Badge",component:m.jsx(ZJ,{badgeData:c,setBadgeData:u})},{title:"Associate Tasks",component:m.jsx(aee,{badgeData:c,setBadgeData:u})},{title:"Select Prerequisite Badges",component:m.jsx(tee,{badgeData:c,setBadgeData:u})},{title:"Review & Edit",component:m.jsx(nee,{badgeData:c,setBadgeData:u,onClickEditTasks:o.bind(this,1),onClickEditPrerequisiteBadges:o.bind(this,2)})}],C=E[r],T=async()=>{try{await e({badgeId:i,badgeData:c}),p(!0)}catch{v(!0)}};return!s||s?m.jsxs("div",{className:"container",children:[m.jsx("div",{className:"row mt-2 p-3",children:m.jsxs("div",{className:"w-100 bg-white border-3 rounded-2 pt-4 ps-5 pe-5",style:{paddingBottom:300},children:[m.jsx("h1",{className:"w-100 text-center text-dark fw-normal pt-5 pb-3",children:C.title}),m.jsxs("div",{className:"w-100 text-center position-relative pt-5 pb-5",children:[m.jsx("div",{className:"d-inline-block w-100",style:{maxWidth:500,minWidth:300},children:m.jsx(g4,{steps:E,current:r})}),m.jsx(je,{to:Rt.BADGES,className:"btn btn-outline-secondary position-absolute",style:{right:0},children:"Cancel/Discard"})]}),m.jsx("div",{className:"w-100 text-center",children:m.jsx("div",{className:"w-100 d-inline-block text-start",style:{maxWidth:900,minWidth:300},children:C.component})}),m.jsxs("div",{className:"w-100 text-end pt-5 pb-5",children:[r===0?m.jsx(je,{className:"btn btn-outline-dark ps-3 pe-3 m-1",to:Rt.ROADMAPS,children:"Back"}):m.jsx("button",{className:"btn btn-outline-dark ps-3 pe-3 m-1",onClick:o.bind(this,r-1),children:"Back"}),r===E.length-1?m.jsx("button",{className:"btn btn-dark ps-3 pe-3 m-1",onClick:T,disabled:!_,children:"Publish"}):m.jsx("button",{className:"btn btn-dark ps-3 pe-3 m-1",onClick:o.bind(this,r+1),disabled:!_,children:"Continue"})]})]})}),m.jsxs(He,{show:f,children:[m.jsx(He.Header,{className:"bg-light",children:m.jsx(He.Title,{children:m.jsx("i",{className:"bi bi-check-circle"})})}),m.jsxs(He.Body,{children:["The Badge ",c.name," is Successfully Published."]}),m.jsxs(He.Footer,{children:[m.jsx(je,{className:"btn btn-outline-dark rounded-1",to:Rt.INDEX,children:"Go to Home Page"}),m.jsx(je,{className:"btn btn-dark rounded-1",to:Rt.BADGES,children:"Go to Badges"})]})]}),m.jsxs(He,{show:g,onHide:v.bind(this,!1),children:[m.jsx(He.Header,{closeButton:!0,className:"bg-danger-subtle",children:m.jsx(He.Title,{children:m.jsx("i",{className:"bi bi-exclamation-triangle-fill"})})}),m.jsxs(He.Body,{children:[m.jsx("p",{children:"You don't have permissions to make this change. If you should have it, please submit an ACCESS ticket requesting:"}),m.jsxs("p",{children:["Integration Dashboard ",m.jsx("strong",{children:"badge.maintainer"})," permission"]})]}),m.jsx(He.Footer,{children:m.jsx("button",{className:"btn btn-outline-dark rounded-1",onClick:v.bind(this,!1),children:"Cancel"})})]})]}):m.jsx("div",{className:"container",children:m.jsx(Xn,{processing:!0})})}const Rt={INDEX:"/staff/dashboard",ROADMAPS:"/staff/roadmaps",ROADMAP_NEW:"/staff/roadmaps/new",ROADMAP_EDIT:"/staff/roadmaps/:roadmapId/edit",BADGES:"/staff/badges",BADGE_NEW:"/staff/badges/new",BADGE_EDIT:"/staff/badges/:badgeId/edit",BADGE_STATUS:"/staff/badge-status"},lee=()=>m.jsxs("div",{className:"row",children:[m.jsx(Z6,{children:m.jsx("div",{className:"col-md-2 bg-white",style:{fontSize:11},children:m.jsxs("ul",{className:"m-0 p-0",children:[m.jsx("li",{className:"d-inline-block p-2",children:m.jsx(je,{className:"btn btn-link border-3 border-start ps-1",to:"/",children:"Integration Dashboard"})}),m.jsx("li",{className:"d-inline-block p-2",children:m.jsx(je,{className:"btn btn-link border-3 border-start ps-1",to:Rt.INDEX,children:"Staff"})})]})})}),m.jsx("div",{className:"col",children:m.jsx(c0,{})})]}),cee=m.jsxs($t,{path:"/staff",element:m.jsx(lee,{}),children:[m.jsx($t,{path:Rt.INDEX,element:m.jsx(QZ,{})}),m.jsx($t,{path:Rt.ROADMAPS,element:m.jsx(YZ,{})}),m.jsx($t,{path:Rt.ROADMAP_EDIT,element:m.jsx(d3,{})}),m.jsx($t,{path:Rt.ROADMAP_NEW,element:m.jsx(d3,{})}),m.jsx($t,{path:Rt.BADGE_EDIT,element:m.jsx(f3,{})}),m.jsx($t,{path:Rt.BADGE_NEW,element:m.jsx(f3,{})}),m.jsx($t,{path:Rt.BADGE_STATUS,element:m.jsx(GZ,{})}),m.jsx($t,{path:"/staff/*?",element:m.jsx(k3,{to:Rt.INDEX,replace:!0})})]});function uee(){ai().pathname;const t=[{name:"Home",link:Rt.INDEX},{name:"Roadmaps",link:Rt.ROADMAPS},{name:"Badges",link:Rt.BADGES},{name:"Badge Status",link:Rt.BADGE_STATUS}],e=n=>{const{isActive:s}=n;return s?"text-decoration-none pb-2 bt-2 text-gray-900 border-bottom border-3 border-gray-900":"text-decoration-none pb-2 bt-2 text-gray-600"};return m.jsx("div",{className:"w-100",children:m.jsx("ul",{className:"list-unstyled list-inline m-0 w-100 bg-white border-3 rounded-2 p-1 ps-5 pe-5",children:t.map((n,s)=>m.jsx("li",{className:"list-inline-item p-3",children:m.jsx(G0,{to:n.link,className:e,end:!1,children:n.name})},s))})})}function dee(i,t){t===void 0&&(t={});var e=t.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i))}}var fee=`.json-grid-container {
  --jg-bg-color: #222;
  --jg-border-color: #b5b5b5;
  --jg-cell-border-color: #474747;
  --jg-key-color: #ffffff;
  --jg-index-color: #949494;
  --jg-number-color: #6c99bb;
  --jg-boolean-color: #6c99bb;
  --jg-string-color: #a5c261;
  --jg-object-color: #ffffff;
  --jg-table-header-bg-color: #444;
  --jg-table-icon-color: #ffffff;
  --jg-select-highlight-bg-color: #3b3b3b;
  --jg-search-highlight-bg-color: #565a36;
  display: inline-block;
  margin: 0;
  font-family: "Segoe UI", Roboto, Arial, sans-serif;
  line-height: 1.5;
  text-align: left;
  background-color: var(--jg-bg-color);
}
.json-grid-container,
.json-grid-container .json-grid-table {
  border-radius: 3px;
  overflow: hidden;
}
.json-grid-container .json-grid-table {
  border-collapse: separate;
  border-spacing: 0;
  border: solid var(--jg-table-border-color) 1px;
}
.json-grid-container .json-grid-table .json-grid-table {
  margin: 3px 0px;
}
.json-grid-container .json-grid-table .glyphicon {
  position: relative;
  top: 3px;
  display: inline-block;
  color: var(--jg-table-icon-color);
}
.json-grid-container .highlight {
  background-color: var(--jg-select-highlight-bg-color);
}
.json-grid-container .obj {
  border: 1px solid var(--jg-cell-border-color);
  padding: 3px 10px;
  padding-bottom: 4px;
  cursor: pointer;
  white-space: nowrap;
}
.json-grid-container .obj,
.json-grid-container .obj .name {
  color: var(--jg-key-color);
}
.json-grid-container .obj .index {
  color: var(--jg-index-color);
}
.json-grid-container .obj .number {
  color: var(--jg-number-color);
}
.json-grid-container .obj .boolean {
  color: var(--jg-boolean-color);
}
.json-grid-container .obj .string {
  color: var(--jg-string-color);
}
.json-grid-container .obj .undefined {
  color: var(--jg-object-color);
}
.json-grid-container .obj .object {
  color: var(--jg-object-color);
}
.json-grid-container .order {
  background-color: var(--jg-table-header-bg-color);
  font-weight: normal !important;
}
.json-grid-container .key {
  vertical-align: top;
}
.json-grid-container .title {
  font-weight: bold;
}
.json-grid-container .plusminus {
  font-size: 15px;
  font-weight: bold;
  cursor: pointer;
  margin-right: 2px;
}
.json-grid-container .search-highlight {
  background-color: var(--jg-search-highlight-bg-color);
  padding: 1px 5px;
  padding-top: 0;
  border-radius: 2px;
}`,tn={"json-grid-container":"json-grid-container","json-grid-table":"json-grid-table",glyphicon:"glyphicon",highlight:"highlight",obj:"obj",name:"name",index:"index",number:"number",boolean:"boolean",string:"string",undefined:"undefined",object:"object",order:"order",key:"key",title:"title",plusminus:"plusminus","search-highlight":"search-highlight"};dee(fee);const A1={default:{bgColor:"#222",borderColor:"#b5b5b5",selectHighlightBgColor:"#3b3b3b",cellBorderColor:"#474747",keyColor:"#ffffff",indexColor:"#949494",numberColor:"#6c99bb",booleanColor:"#6c99bb",stringColor:"#a5c261",objectColor:"#ffffff",tableHeaderBgColor:"#444",tableIconColor:"#ffffff",searchHighlightBgColor:"#565a36"},dracula:{bgColor:"#2b2e3b",borderColor:"#44475a",selectHighlightBgColor:"#363949",cellBorderColor:"#44475a",keyColor:"#F8F8F2",indexColor:"#6272a4",numberColor:"#f1fa8c",booleanColor:"#ff79c6",stringColor:"#50FA7B",objectColor:"#ff79c6",tableHeaderBgColor:"#363949",tableIconColor:"#f8f8f2",searchHighlightBgColor:"#4c4f67"},monokai:{bgColor:"#272822",borderColor:"#49483e",selectHighlightBgColor:"#49483e",cellBorderColor:"#373a2c",keyColor:"#c1c1bd",indexColor:"#75715e",numberColor:"#a3e8f5",booleanColor:"#ae81ff",stringColor:"#ece393",objectColor:"#a6e22e",tableHeaderBgColor:"#414434",tableIconColor:"#f8f8f2",searchHighlightBgColor:"#72705a"},oceanicPark:{bgColor:"#17242B",borderColor:"#2c3e50",selectHighlightBgColor:"#345365",cellBorderColor:"#2b4554",keyColor:"#89adc2",indexColor:"#546e7a",numberColor:"#89ddff",booleanColor:"#35A6B3",stringColor:"#c3e88d",objectColor:"#ffcb6b",tableHeaderBgColor:"#2c3e50",tableIconColor:"#ffffff",searchHighlightBgColor:"#185e70"},panda:{bgColor:"#292A2B",borderColor:"#4d4e50",selectHighlightBgColor:"#3e4042",cellBorderColor:"#4c4c4d",keyColor:"#b4fdf2",indexColor:"#9aedfe",numberColor:"#35dcfd",booleanColor:"#FF9AA4",stringColor:"#FFB857",objectColor:"#ff6b72",tableHeaderBgColor:"#3b3c3d",tableIconColor:"#ffffff",searchHighlightBgColor:"#4a4d4f"},gruvboxMaterial:{bgColor:"#282828",borderColor:"#3c3836",selectHighlightBgColor:"#3c3836",cellBorderColor:"#504945",keyColor:"#d3869b",indexColor:"#bdae93",numberColor:"#8ec07c",booleanColor:"#8ec07c",stringColor:"#ebdbb2",objectColor:"#d3869b",tableHeaderBgColor:"#3c3836",tableIconColor:"#ebdbb2",searchHighlightBgColor:"#62564f"},tokyoNight:{bgColor:"#1A1B26",borderColor:"#272a36",selectHighlightBgColor:"#34374c",cellBorderColor:"#272a36",keyColor:"#C0CAF5",indexColor:"#89b8ff",numberColor:"#7CCE6A",booleanColor:"#7AA2F7",stringColor:"#AC94F7",objectColor:"#9d88f5",tableHeaderBgColor:"#363a4a",tableIconColor:"#f3f3f3",searchHighlightBgColor:"#53577b"},remedy:{bgColor:"#ffffff",borderColor:"#d3d3d3",selectHighlightBgColor:"#f5f5f5",cellBorderColor:"#eaeaea",keyColor:"#6e5494",indexColor:"#4d4d4d",numberColor:"#007acc",booleanColor:"#007acc",stringColor:"#2c8ebb",objectColor:"#6e5494",tableHeaderBgColor:"#f5f5f5",tableIconColor:"#6e5494",searchHighlightBgColor:"#FCEED1"},atlanticNight:{bgColor:"#000720",borderColor:"#000b33",selectHighlightBgColor:"#1f2647",cellBorderColor:"#00114d",keyColor:"#6cb6ff",indexColor:"#6cb6ff",numberColor:"#a2d6ff",booleanColor:"#a2d6ff",stringColor:"#BF90C9",objectColor:"#6cb6ff",tableHeaderBgColor:"#001666",tableIconColor:"#ffffff",searchHighlightBgColor:"#1C2341"},defaultLight:{bgColor:"#f5f5f5",borderColor:"#d3d3d3",selectHighlightBgColor:"#e0e0e0",cellBorderColor:"#c0c0c0",keyColor:"#333333",indexColor:"#666666",numberColor:"#007acc",booleanColor:"#007acc",stringColor:"#2ca22c",objectColor:"#333333",tableHeaderBgColor:"#dddddd",tableIconColor:"#333333",searchHighlightBgColor:"#cccccc"},defaultLight2:{bgColor:"#fafafa",borderColor:"#e0e0e0",selectHighlightBgColor:"#e6e6e6",cellBorderColor:"#c7c7c7",keyColor:"#4caf50",indexColor:"#757575",numberColor:"#2196f3",booleanColor:"#2196f3",stringColor:"#ff9800",objectColor:"#4caf50",tableHeaderBgColor:"#e0e0e0",tableIconColor:"#333333",searchHighlightBgColor:"#cccccc"},slime:{bgColor:"#1E2324",borderColor:"#333333",selectHighlightBgColor:"#333333",cellBorderColor:"#444444",keyColor:"#8EC199",indexColor:"#999999",numberColor:"#BE9287",booleanColor:"#B081B9",stringColor:"#D88F56",objectColor:"#dcdcaa",tableHeaderBgColor:"#333333",tableIconColor:"#cccccc",searchHighlightBgColor:"#404040"},spacegray:{bgColor:"#212835",borderColor:"#2c313a",selectHighlightBgColor:"#2c313a",cellBorderColor:"#394147",keyColor:"#9ec7fa",indexColor:"#768390",numberColor:"#E9B672",booleanColor:"#D49FF4",stringColor:"#63F49C",objectColor:"#61afef",tableHeaderBgColor:"#2c313a",tableIconColor:"#e0e0e0",searchHighlightBgColor:"#303b4f"},blueberryDark:{bgColor:"#242938",borderColor:"#343d4a",selectHighlightBgColor:"#343d4a",cellBorderColor:"#444f5c",keyColor:"#ADD7FF",indexColor:"#8c98a6",numberColor:"#38B0B2",booleanColor:"#c3e88d",stringColor:"#27E8A7",objectColor:"#c792ea",tableHeaderBgColor:"#343d4a",tableIconColor:"#ffffff",searchHighlightBgColor:"#30435a"},nord:{bgColor:"#2e3440",borderColor:"#3b4252",selectHighlightBgColor:"#363c4a",cellBorderColor:"#434c5e",keyColor:"#81a1c1",indexColor:"#D8DEE9",numberColor:"#88C0D0",booleanColor:"#8fbcbb",stringColor:"#A3BE8C",objectColor:"#b48ead",tableHeaderBgColor:"#3b4252",tableIconColor:"#e5e9f0",searchHighlightBgColor:"#404859"},nightOwl:{bgColor:"#011627",borderColor:"#02233d",selectHighlightBgColor:"#02233d",cellBorderColor:"#03314b",keyColor:"#dbb8e0",indexColor:"#dcdcaa",numberColor:"#F77D48",booleanColor:"#82aaff",stringColor:"#ECC48D",objectColor:"#ffcb6b",tableHeaderBgColor:"#02233d",tableIconColor:"#e0e0e0",searchHighlightBgColor:"#033963"},oneMonokai:{bgColor:"#282c34",borderColor:"#2c313a",selectHighlightBgColor:"#2c313a",cellBorderColor:"#3e4451",keyColor:"#abb2bf",indexColor:"#5c6370",numberColor:"#d19a66",booleanColor:"#61AFEF",stringColor:"#98c379",objectColor:"#61afef",tableHeaderBgColor:"#2c313a",tableIconColor:"#ffffff",searchHighlightBgColor:"#383E4A"},cobaltNext:{bgColor:"#1B2B34",borderColor:"#234666",selectHighlightBgColor:"#2b333b",cellBorderColor:"#29546a",keyColor:"#dcd0e2",indexColor:"#dcd0e2",numberColor:"#5A9BCF",booleanColor:"#ce9178",stringColor:"#89C794",objectColor:"#d1d2d3",tableHeaderBgColor:"#234666",tableIconColor:"#ffffff",searchHighlightBgColor:"#343D46"},shadesOfPurple:{bgColor:"#2d2b55",borderColor:"#463d69",selectHighlightBgColor:"#463d69",cellBorderColor:"#54496b",keyColor:"#fad000",indexColor:"#a599e9",numberColor:"#ff6188",booleanColor:"#ff6188",stringColor:"#A5FF90",objectColor:"#fad000",tableHeaderBgColor:"#463d69",tableIconColor:"#ffffff",searchHighlightBgColor:"#554a82"},codeBlue:{bgColor:"#081620",borderColor:"#233544",selectHighlightBgColor:"#233544",cellBorderColor:"#194666",keyColor:"#B2A8B4",indexColor:"#96b5b4",numberColor:"#99cc99",booleanColor:"#99cc99",stringColor:"#d2cd87",objectColor:"#ff8d00",tableHeaderBgColor:"#233544",tableIconColor:"#fff",searchHighlightBgColor:"#233544"},softEra:{bgColor:"#F9F5F5",borderColor:"#d3d3d3",selectHighlightBgColor:"#E3E6ED",cellBorderColor:"#c0c0c0",keyColor:"#696462",indexColor:"#888888",numberColor:"#82B4E3",booleanColor:"#DA8FBD",stringColor:"#87B6BE",objectColor:"#C1AFDF",tableHeaderBgColor:"#E3E6ED",tableIconColor:"#333333",searchHighlightBgColor:"#d0d5e1"},atomMaterial:{bgColor:"#263238",borderColor:"#37474f",selectHighlightBgColor:"#37474f",cellBorderColor:"#546e7a",keyColor:"#EEFFFF",indexColor:"#90a4ae",numberColor:"#F78150",booleanColor:"#82b1ff",stringColor:"#C3E88D",objectColor:"#ffcb6b",tableHeaderBgColor:"#455a64",tableIconColor:"#ffffff",searchHighlightBgColor:"#4F6875"},evaDark:{bgColor:"#282C34",borderColor:"#343c47",selectHighlightBgColor:"#343c47",cellBorderColor:"#3d4752",keyColor:"#B0B7C3",indexColor:"#5c6773",numberColor:"#FF9070",booleanColor:"#56B7C3",stringColor:"#82BE79",objectColor:"#b4be82",tableHeaderBgColor:"#343c47",tableIconColor:"#ffffff",searchHighlightBgColor:"#4e5765"},moonLight:{bgColor:"#222436",borderColor:"#343c47",selectHighlightBgColor:"#31344e",cellBorderColor:"#3d4752",keyColor:"#C8D3F5",indexColor:"#C8D3F5",numberColor:"#7CAFFF",booleanColor:"#FF6F78",stringColor:"#7AF8CA",objectColor:"#ff9e64",tableHeaderBgColor:"#31344e",tableIconColor:"#C8D3F5",searchHighlightBgColor:"#4e5765"}};function nd(i){return typeof i=="object"&&!Array.isArray(i)&&i!==null}function lc(...i){return i.filter(Boolean).join(" ")}function v4(i,t){const e={};let n=!1;if(!nd(i)&&!Array.isArray(i))return null;for(const s in i)if(nd(i)&&zh(s,t)&&(n=!0),nd(i[s])||Array.isArray(i[s])){const r=v4(i[s],t);r!=null&&(e[s]=r)}else zh(i[s],t)&&(e[s]=!0);return Object.keys(e).length!==0?e:n?!0:null}function zh(i,t){return t==null?!1:String(i).toLowerCase().includes(t.toLowerCase())}function y4(i,t){if(i==null)return t;if(t==null)return i;if(i===!0)return t;if(t===!0)return i;const e={};for(const n in i)e[n]=y4(i[n],t[n]);for(const n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e}function hee(i){let t=!1,e=[],n=Array.isArray(i);if(Array.isArray(i)){t=i.length>0;let s=new Set;for(let r=0;r<i.length;r++){if(!nd(i[r])){t=!1;break}Object.keys(i[r]).forEach(o=>s.add(o))}t?e=Array.from(s):e=Object.keys(i)}else nd(i)&&(e=Object.keys(i));return{allObjects:t,keys:e,isArray:n}}function mee({data:i,defaultExpandDepth:t,defaultExpandKeyTree:e,onSelect:n,highlightSelected:s,searchText:r,theme:o}){if(!i)throw new Error("JSONGrid: data prop cannot be null or undefined");if(!Array.isArray(i)&&typeof i!="object")throw new Error("JSONGrid: data prop must be an object or an array");if(t&&t<0)throw new Error("JSONGrid: defaultExpandDepth prop must not be a negative number");if(e&&!nd(e))throw new Error("JSONGrid: defaultExpandKeyTree prop must be an object");if(n&&typeof n!="function")throw new Error("JSONGrid: onSelect prop must be a function");if(s&&typeof s!="boolean")throw new Error("JSONGrid: highlightSelected prop must be a boolean");if(r&&typeof r!="string")throw new Error("JSONGrid: searchText prop must be a string");if(o&&!A1[o])throw new Error(`JSONGrid: theme prop must be one of ${Object.keys(A1).join(", ")}`)}function pee(i,t){const e=A1[t];return{"--jg-bg-color":i.bgColor||e.bgColor,"--jg-border-color":i.borderColor||e.borderColor,"--jg-cell-border-color":i.cellBorderColor||e.cellBorderColor,"--jg-key-color":i.keyColor||e.keyColor,"--jg-index-color":i.indexColor||e.indexColor,"--jg-number-color":i.numberColor||e.numberColor,"--jg-boolean-color":i.booleanColor||e.booleanColor,"--jg-string-color":i.stringColor||e.stringColor,"--jg-object-color":i.objectColor||e.objectColor,"--jg-table-header-bg-color":i.tableHeaderBgColor||e.tableHeaderBgColor,"--jg-table-icon-color":i.tableIconColor||e.tableIconColor,"--jg-select-highlight-bg-color":i.selectHighlightBgColor||e.selectHighlightBgColor,"--jg-search-highlight-bg-color":i.searchHighlightBgColor||e.searchHighlightBgColor}}const w4=i=>{const{level:t,keyPath:e,data:n,dataKey:s,highlightedElement:r,highlightSelected:o,onSelect:c,setHighlightedElement:u,defaultExpandDepth:f,defaultExpandKeyTree:p,searchText:g}=i,v=P=>{var D,F,H,$,J,be,_e,re,le;P.stopPropagation();const B=P.target,V=P.currentTarget;if(B!==V&&B.hasAttribute("data-clickable")||B.parentElement!==V&&((D=B.parentElement)!=null&&D.hasAttribute("data-clickable")))return;let I=[],M=V;if(r!=null&&r.classList.remove(tn.highlight),V.hasAttribute("data-rowhighlight")){M=V.parentElement;const W=Array.prototype.indexOf.call((F=M==null?void 0:M.parentElement)==null?void 0:F.children,M);I=[R&&!C?[W]:W]}else if(V.hasAttribute("data-colhighlight")){const W=Array.prototype.indexOf.call((H=V.parentElement)==null?void 0:H.children,V);M=(be=(J=($=V.parentElement)==null?void 0:$.parentElement)==null?void 0:J.previousElementSibling)==null?void 0:be.children[W],I=[[T[W-1]]]}else{const W=Array.prototype.indexOf.call((re=(_e=M==null?void 0:M.parentElement)==null?void 0:_e.parentElement)==null?void 0:re.children,M.parentElement),ae=Array.prototype.indexOf.call((le=M==null?void 0:M.parentElement)==null?void 0:le.children,M);if(C)I=[W,T[ae-1]];else{const fe=T[W];ae===0?I=[[fe]]:I=[R?parseInt(fe):fe]}}o&&(M==null||M.classList.add(tn.highlight)),u(M),c(e.concat(I))},_=(P,B,V,I,M)=>B&&typeof B=="object"?it.createElement("td",{className:lc(tn.obj,tn.value),onClick:v,"data-clickable":"true",key:P},it.createElement(w4,{level:V+1,keyPath:e.concat(M),dataKey:P,data:B,highlightedElement:r,highlightSelected:o,onSelect:c,setHighlightedElement:u,defaultExpandDepth:f,defaultExpandKeyTree:I&&I[P],searchText:g})):it.createElement("td",{className:lc(tn.obj,tn.value),onClick:v,"data-clickable":"true",key:P},it.createElement("span",{className:lc(tn[typeof B],zh(B,g)&&tn["search-highlight"])},String(B))),E=(P,B,V,I)=>it.createElement("table",{className:tn["json-grid-table"]},V&&it.createElement(S.Fragment,null,it.createElement("colgroup",null,it.createElement("col",null),I.map(M=>it.createElement("col",{key:M}))),it.createElement("thead",null,it.createElement("tr",null,it.createElement("th",{className:lc(tn.obj,tn.order),"data-clickable":"true"},it.createElement("svg",{className:tn.glyphicon,"data-clickable":"true",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},it.createElement("path",{fill:"currentColor",d:"M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"}))),I.map(M=>it.createElement("th",{className:lc(tn.obj,tn.order,tn.name),key:M,onClick:v,"data-clickable":"true","data-colhighlight":"true"},it.createElement("span",{className:zh(M,g)?tn["search-highlight"]:void 0},M)))))),it.createElement("tbody",null,Object.keys(P).map(M=>it.createElement("tr",{key:M},Array.isArray(P)?it.createElement("td",{className:lc(tn.obj,tn.order,tn.index),onClick:v,"data-clickable":"true","data-rowhighlight":"true"},parseInt(M)+1):it.createElement("td",{className:lc(tn.obj,tn.key,tn.name),onClick:v,"data-clickable":"true"},it.createElement("span",{className:zh(M,g)?tn["search-highlight"]:void 0},M)),V?I.map(D=>_(D,P[M][D],B,p&&p[M],[parseInt(M),D])):_(M,P[M],B,p,[M]))))),{allObjects:C,keys:T,isArray:R}=hee(n);if(t!==0){const[P,B]=S.useState(!!(t<=f||p));return it.createElement("div",{className:tn.box},it.createElement("span",{className:tn.plusminus,onClick:()=>B(!P),"data-clickable":"true"},P?"[-]":"[+]"),it.createElement("span",{className:tn.title},s,"",Array.isArray(n)?`[${n.length}]`:"{}"),P&&E(n,t,C,T))}return E(n,t,C,T)},gee=({data:i,defaultExpandDepth:t=0,defaultExpandKeyTree:e={},onSelect:n=u=>{},highlightSelected:s=!0,searchText:r=null,theme:o="default",customTheme:c={}})=>{const[u,f]=S.useState(null),p=S.useRef(null);S.useEffect(()=>{function _(E){p.current&&!p.current.contains(E.target)&&(u!==null&&u.classList.remove(tn.highlight),f(null))}return document.addEventListener("click",_),()=>document.removeEventListener("click",_)},[u]),S.useEffect(()=>{mee({data:i,defaultExpandDepth:t,defaultExpandKeyTree:e,onSelect:n,highlightSelected:s,searchText:r,theme:o})},[i,t,n,s,r,o]);const g=pee(c,o),v=r?y4(e,v4(i,r)):e;return it.createElement("div",{className:tn["json-grid-container"],style:g,ref:p},it.createElement(w4,{level:0,keyPath:[],data:i,highlightedElement:u,highlightSelected:s,onSelect:n,setHighlightedElement:f,defaultExpandDepth:t,defaultExpandKeyTree:v,searchText:r}))};function bee(){const i=ai();let e=new URLSearchParams(i.search).get("display-format");const[n,s]=S.useState("remedy");e&&(e=e.toLowerCase()),["json","html"].indexOf(e)<0&&(e="html");const r="/about"+(e?`?display-format=${e}`:""),o={"Settings Variables":window.SETTINGS,"Webapp NPM Package":h3},c=[{title:"HTML",link:"/about?display-format=html"},{title:"JSON",link:"/about?display-format=json"}];return m.jsxs("div",{className:"container",children:[m.jsx("div",{className:"row",children:m.jsx("h1",{children:"About"})}),m.jsxs("div",{className:"row",children:[m.jsx("div",{className:"w-100 d-flex flex-row pt-2 pb-4",children:m.jsx("div",{className:"flex-fill",children:m.jsx(Ds,{variant:"underline",activeKey:r,className:"pe-3 border-bottom border-1 border-gray-200",children:c.map((u,f)=>m.jsx(Ds.Item,{children:m.jsx(Ds.Link,{eventKey:u.link,to:u.link,as:je,children:u.title})},f))})})}),e==="html"&&m.jsx(gee,{data:o,defaultExpandDepth:100,theme:n}),e==="json"&&m.jsx("pre",{children:JSON.stringify(o,null,2)})]})]})}const vee=()=>{const t=ai().pathname,e=!/^\/(docs|about)/i.exec(t),n=!!/^\/staff/i.exec(t),{fetchOrganizations:s,getOrganizations:r}=Sd(),{fetchResources:o,getResources:c}=bn(),{fetchRoadmaps:u,getRoadmaps:f}=Jn(),{fetchBadges:p,getBadges:g}=qi(),{fetchTasks:v,getTasks:_}=Em(),E=r(),C=c(),T=f(),R=g(),P=_();S.useEffect(()=>{e&&(s(),o(),u(),p(),v())},[e]);let B=E&&E.length>0&&C&&C.length>0&&T&&T.length>0&&R&&R.length>0&&P&&P.length>0;return n?m.jsxs("div",{className:"w-100 pt-3 pb-5 bg-gray-200",children:[m.jsx("div",{className:"container",children:m.jsx(uee,{})}),!e||B?m.jsx(c0,{}):m.jsx(Xn,{processing:!0})]}):m.jsxs("div",{className:"w-100 pt-3 pb-5",children:[m.jsx("div",{className:"container",children:m.jsx(hZ,{})}),!e||B?m.jsx(c0,{}):m.jsx(Xn,{processing:!0})]})};function yee(){return m.jsx(JL,{children:m.jsx(ej,{children:m.jsx(ZL,{children:m.jsx(tj,{children:m.jsx(nj,{children:m.jsx(nZ,{i18n:Oi,children:m.jsx("div",{className:"w-100",children:m.jsx("div",{className:"w-100",children:m.jsxs(dB,{basename:window.SETTINGS.APP_BASENAME,children:[m.jsx(AM,{}),m.jsx(qP,{children:m.jsxs($t,{path:"/",element:m.jsx(vee,{}),children:[m.jsx($t,{path:"/about",element:m.jsx(bee,{})}),m.jsx($t,{path:"/organizations",element:m.jsx(cZ,{})}),m.jsx($t,{path:"/organizations/:organizationId",element:m.jsx(dZ,{})}),m.jsx($t,{path:"/organizations/:organizationId/badge-review/:badgeWorkflowStatus",element:m.jsx(WZ,{})}),m.jsx($t,{path:"/resources/new",element:m.jsx(ij,{})}),m.jsx($t,{path:"/resources/:resourceId",element:m.jsx(MT,{})}),m.jsx($t,{path:"/resources/:resourceId/roadmaps/:roadmapId",element:m.jsx(MT,{})}),m.jsx($t,{path:"/resources/:resourceId/edit",element:m.jsx(ZT,{})}),m.jsx($t,{path:"/resources/:resourceId/roadmaps/:roadmapId/edit",element:m.jsx(ZT,{})}),m.jsx($t,{path:"/resources/:resourceId/roadmaps/:roadmapId/badges/:badgeId",element:m.jsx(bZ,{})}),lZ,cee,m.jsx($t,{path:"/*?",element:m.jsx(k3,{to:"/organizations",replace:!0})})]})})]})})})})})})})})})}KI.createRoot(document.getElementById("Operations_WebApp_IntegrationBadges")).render(m.jsx(S.StrictMode,{children:m.jsx(yee,{})}));
